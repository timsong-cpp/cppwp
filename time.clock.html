<!DOCTYPE html><html lang='en'><head><title>[time.clock]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>25</a> Time library <a class='abbr_ref' href='./#time'>[time]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>25.7</a> Clocks <a class='abbr_ref'>[time.clock]</a></h2><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2551'>#</a></div><div id='1.sentence-1' class='sentence'>The types defined in this subclause shall satisfy the
<span class='textit'>Cpp17TrivialClock</span>
requirements (<a href='time.clock.req'>[time.clock.req]</a>)
unless otherwise specified<a class='hidden_link' href='#1.sentence-1'>.</a></div></div><div id='system' class='section'><h3 ><a class='secnum' href='#system' style='min-width:103pt'>25.7.1</a> Class <span class='texttt'>system_&shy;clock</span> <a class='abbr_ref' href='time.clock.system'>[time.clock.system]</a></h3><div id='system.overview' class='section'><h4 ><a class='secnum' href='#system.overview' style='min-width:118pt'>25.7.1.1</a> Overview <a class='abbr_ref' href='time.clock.system.overview'>[time.clock.system.overview]</a></h4><span class='indexparent'><a class='index' id='lib:system_clock'></a></span>
<pre class='codeblock'>
namespace std::chrono {
  class system_clock {
  public:
    using rep        = <span class='textit'><span class='texttt'>see below</span></span>;
    using period     = ratio&lt;<span class='textit'><span class='texttt'>unspecified</span></span>, <span class='textit'><span class='texttt'>unspecified</span></span>&gt;;
    using duration   = chrono::duration&lt;rep, period&gt;;
    using time_point = chrono::time_point&lt;system_clock&gt;;
    static constexpr bool is_steady = <span class='textit'><span class='texttt'>unspecified</span></span>;

    static time_point now() noexcept;

    <span class='comment'>// mapping to/from C type <span class='tcode_in_codeblock'>time_&shy;t</span>
</span>    static time_t      to_time_t  (const time_point&amp; t) noexcept;
    static time_point  from_time_t(time_t t) noexcept;
  };
}</pre><div class='para' id='system.overview-1'><div class='marginalizedparent'><a class='marginalized' href='#system.overview-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2581'>#</a></div><div id='system.overview-1.sentence-1' class='sentence'>Objects of type <span class='texttt'>system_&shy;clock</span> represent wall clock time from the system-wide
realtime clock<a class='hidden_link' href='#system.overview-1.sentence-1'>.</a></div> <div id='system.overview-1.sentence-2' class='sentence'>Objects of type <span class='texttt'>sys_&shy;time&lt;Duration&gt;</span> measure time since (and before)
1970-01-01 00:00:00 UTC excluding leap seconds<a class='hidden_link' href='#system.overview-1.sentence-2'>.</a></div> <div id='system.overview-1.sentence-3' class='sentence'>This measure is commonly referred to as <a class='hidden_link' href='#def:Unix_time' id='def:Unix_time'><i >Unix time</i></a><a class='hidden_link' href='#system.overview-1.sentence-3'>.</a></div> <div id='system.overview-1.sentence-4' class='sentence'>This measure facilitates an efficient mapping between
<span class='texttt'>sys_&shy;time</span> and calendar types (<a href='time.cal'>[time.cal]</a>)<a class='hidden_link' href='#system.overview-1.sentence-4'>.</a></div> <div id='system.overview-1.example-1' class='example'>[<span style='white-space:nowrap'>â€‰</span><a class='example_link' href='#system.overview-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='system.overview-1.sentence-5' class='sentence'><br/>
<span class='texttt'>sys_&shy;seconds{sys_&shy;days{1970y/January/1}}.time_&shy;since_&shy;epoch()</span> is <span class='texttt'>0s</span><a class='hidden_link' href='#system.overview-1.sentence-5'>.</a></div> <div id='system.overview-1.sentence-6' class='sentence'><br/>
<span class='texttt'>sys_&shy;seconds{sys_&shy;days{2000y/January/1}}.time_&shy;since_&shy;epoch()</span> is <span class='texttt'>946'684'800s</span>,
which is <span class='texttt'>10'957 * 86'400s</span><a class='hidden_link' href='#system.overview-1.sentence-6'>.</a></div> <br/> â€”<span style='white-space:nowrap'>â€‰</span><i>end example</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div><div id='system.members' class='section'><h4 ><a class='secnum' href='#system.members' style='min-width:118pt'>25.7.1.2</a> Members <a class='abbr_ref' href='time.clock.system.members'>[time.clock.system.members]</a></h4><span class='indexparent'><a class='index' id='lib:rep,system_clock'></a></span><span class='indexparent'><a class='index' id='lib:system_clock,rep'></a></span><div class='itemdecl' id='system.members-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#system.members-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>using system_clock::rep = <span class='textit'><span class='texttt'>unspecified</span></span>;
</code></div><div class='itemdescr'></div><div class='para' id='system.members-1'><div class='marginalizedparent'><a class='marginalized' href='#system.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2603'>#</a></div><div id='system.members-1.sentence-1' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>system_&shy;clock&#x200b;::&#x200b;duration&#x200b;::&#x200b;min() &lt; system_&shy;clock&#x200b;::&#x200b;duration&#x200b;::&#x200b;zero()</span> shall
be <span class='texttt'>true</span><a class='hidden_link' href='#system.members-1.sentence-1'>.</a></div> <br/>
<div id='system.members-1.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#system.members-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='system.members-1.sentence-2' class='sentence'>This implies that <span class='texttt'>rep</span> is a signed type<a class='hidden_link' href='#system.members-1.sentence-2'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:to_time_t,system_clock'></a></span><span class='indexparent'><a class='index' id='lib:system_clock,to_time_t'></a></span><div class='itemdecl' id='system.members-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#system.members-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>static time_t to_time_t(const time_point&amp; t) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='system.members-2'><div class='marginalizedparent'><a class='marginalized' href='#system.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2615'>#</a></div><div id='system.members-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> A <span class='texttt'>time_&shy;t</span> object that represents the same point in time as <span class='texttt'>t</span>
when both values are restricted to the coarser of the precisions of <span class='texttt'>time_&shy;t</span> and
<span class='texttt'>time_&shy;point</span><a class='hidden_link' href='#system.members-2.sentence-1'>.</a></div> <div id='system.members-2.sentence-2' class='sentence'>It is <span class='indexparent'><a class='index' id=':whether_values_are_rounded_or_truncated_to_the_required_precision_when_converting_between_time_t_values_and_time_point_objects'></a></span>implementation-defined
whether values are rounded or truncated to the required precision<a class='hidden_link' href='#system.members-2.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:from_time_t,system_clock'></a></span><span class='indexparent'><a class='index' id='lib:system_clock,from_time_t'></a></span><div class='itemdecl' id='system.members-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#system.members-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>static time_point from_time_t(time_t t) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='system.members-3'><div class='marginalizedparent'><a class='marginalized' href='#system.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2630'>#</a></div><div id='system.members-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> A <span class='texttt'>time_&shy;point</span> object that represents the same point in time as <span class='texttt'>t</span>
when both values are restricted to the coarser of the precisions of <span class='texttt'>time_&shy;t</span> and
<span class='texttt'>time_&shy;point</span><a class='hidden_link' href='#system.members-3.sentence-1'>.</a></div> <div id='system.members-3.sentence-2' class='sentence'>It is <span class='indexparent'><a class='index' id=':whether_values_are_rounded_or_truncated_to_the_required_precision_when_converting_between_time_t_values_and_time_point_objects_'></a></span>implementation-defined
whether values are rounded or truncated to the required precision<a class='hidden_link' href='#system.members-3.sentence-2'>.</a></div></div></div></div><div id='system.nonmembers' class='section'><h4 ><a class='secnum' href='#system.nonmembers' style='min-width:118pt'>25.7.1.3</a> Non-member functions <a class='abbr_ref' href='time.clock.system.nonmembers'>[time.clock.system.nonmembers]</a></h4><span class='indexparent'><a class='index' id='lib:operator<<,sys_time'></a></span><span class='indexparent'><a class='index' id='lib:sys_time,operator<<'></a></span><div class='itemdecl' id='system.nonmembers-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#system.nonmembers-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class charT, class traits, class Duration&gt;
  basic_ostream&lt;charT, traits&gt;&amp;
    operator&lt;&lt;(basic_ostream&lt;charT, traits&gt;&amp; os, const sys_time&lt;Duration&gt;&amp; tp);
</code></div><div class='itemdescr'></div><div class='para' id='system.nonmembers-1'><div class='marginalizedparent'><a class='marginalized' href='#system.nonmembers-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2649'>#</a></div><div id='system.nonmembers-1.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This operator shall not participate in overload resolution if
<span class='texttt'>treat_&shy;as_&shy;floating_&shy;point_&shy;v&lt;typename Duration&#x200b;::&#x200b;rep&gt;</span> is <span class='texttt'>true</span>,
or if <span class='texttt'>Duration{1} &gt;= days{1}</span><a class='hidden_link' href='#system.nonmembers-1.sentence-1'>.</a></div></div></div><div class='para' id='system.nonmembers-2'><div class='marginalizedparent'><a class='marginalized' href='#system.nonmembers-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2655'>#</a></div><div id='system.nonmembers-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
<pre class='codeblock'>
auto const dp = floor&lt;days&gt;(tp);
os &lt;&lt; year_month_day{dp} &lt;&lt; ' ' &lt;&lt; time_of_day{tp-dp};</pre></div></div></div><div class='para' id='system.nonmembers-3'><div class='marginalizedparent'><a class='marginalized' href='#system.nonmembers-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2662'>#</a></div><div id='system.nonmembers-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>os</span><a class='hidden_link' href='#system.nonmembers-3.sentence-1'>.</a></div></div></div><div class='para' id='system.nonmembers-4'><div class='marginalizedparent'><a class='marginalized' href='#system.nonmembers-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2665'>#</a></div><div id='system.nonmembers-4.example-1' class='example'>[<span style='white-space:nowrap'>â€‰</span><a class='example_link' href='#system.nonmembers-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
cout &lt;&lt; sys_seconds{0s} &lt;&lt; '\n';                <span class='comment'>// 1970-01-01 00:00:00
</span>cout &lt;&lt; sys_seconds{946'684'800s} &lt;&lt; '\n';      <span class='comment'>// 2000-01-01 00:00:00
</span>cout &lt;&lt; sys_seconds{946'688'523s} &lt;&lt; '\n';      <span class='comment'>// 2000-01-01 01:02:03
</span></pre> â€”<span style='white-space:nowrap'>â€‰</span><i>end example</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:operator<<,sys_days'></a></span><span class='indexparent'><a class='index' id='lib:sys_days,operator<<'></a></span><div class='itemdecl' id='system.nonmembers-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#system.nonmembers-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class charT, class traits&gt;
  basic_ostream&lt;charT, traits&gt;&amp;
    operator&lt;&lt;(basic_ostream&lt;charT, traits&gt;&amp; os, const sys_days&amp; dp);
</code></div><div class='itemdescr'></div><div class='para' id='system.nonmembers-5'><div class='marginalizedparent'><a class='marginalized' href='#system.nonmembers-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2683'>#</a></div><div id='system.nonmembers-5.sentence-1' class='sentence'><span class='textit'>Effects:</span> <span class='texttt'>os &lt;&lt; year_&shy;month_&shy;day{dp}</span><a class='hidden_link' href='#system.nonmembers-5.sentence-1'>.</a></div></div></div><div class='para' id='system.nonmembers-6'><div class='marginalizedparent'><a class='marginalized' href='#system.nonmembers-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2686'>#</a></div><div id='system.nonmembers-6.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>os</span><a class='hidden_link' href='#system.nonmembers-6.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:to_stream,sys_time'></a></span><span class='indexparent'><a class='index' id='lib:sys_time,to_stream'></a></span><div class='itemdecl' id='system.nonmembers-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#system.nonmembers-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class charT, class traits, class Duration&gt;
  basic_ostream&lt;charT, traits&gt;&amp;
    to_stream(basic_ostream&lt;charT, traits&gt;&amp; os, const charT* fmt, const sys_time&lt;Duration&gt;&amp; tp);
</code></div><div class='itemdescr'></div><div class='para' id='system.nonmembers-7'><div class='marginalizedparent'><a class='marginalized' href='#system.nonmembers-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2698'>#</a></div><div id='system.nonmembers-7.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Streams <span class='texttt'>tp</span> into <span class='texttt'>os</span> using
the format specified by the NTCTS <span class='texttt'>fmt</span><a class='hidden_link' href='#system.nonmembers-7.sentence-1'>.</a></div> <div id='system.nonmembers-7.sentence-2' class='sentence'><span class='texttt'>fmt</span> encoding follows the rules specified in <a href='time.format'>[time.format]</a><a class='hidden_link' href='#system.nonmembers-7.sentence-2'>.</a></div> <div id='system.nonmembers-7.sentence-3' class='sentence'>If <span class='texttt'>%Z</span> is used, it will be replaced with
<span class='texttt'>"UTC"</span> widened to <span class='texttt'>charT</span><a class='hidden_link' href='#system.nonmembers-7.sentence-3'>.</a></div> <div id='system.nonmembers-7.sentence-4' class='sentence'>If <span class='texttt'>%z</span> is used (or a modified variant of <span class='texttt'>%z</span>),
an offset of <span class='texttt'>0min</span> will be formatted<a class='hidden_link' href='#system.nonmembers-7.sentence-4'>.</a></div></div></div><div class='para' id='system.nonmembers-8'><div class='marginalizedparent'><a class='marginalized' href='#system.nonmembers-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2708'>#</a></div><div id='system.nonmembers-8.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>os</span><a class='hidden_link' href='#system.nonmembers-8.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:from_stream,sys_time'></a></span><span class='indexparent'><a class='index' id='lib:sys_time,from_stream'></a></span><div class='itemdecl' id='system.nonmembers-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#system.nonmembers-itemdecl:4'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class charT, class traits, class Duration, class Alloc = allocator&lt;charT&gt;&gt;
  basic_istream&lt;charT, traits&gt;&amp;
    from_stream(basic_istream&lt;charT, traits&gt;&amp; is, const charT* fmt,
                sys_time&lt;Duration&gt;&amp; tp, basic_string&lt;charT, traits, Alloc&gt;* abbrev = nullptr,
                minutes* offset = nullptr);
</code></div><div class='itemdescr'></div><div class='para' id='system.nonmembers-9'><div class='marginalizedparent'><a class='marginalized' href='#system.nonmembers-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2722'>#</a></div><div id='system.nonmembers-9.sentence-1' class='sentence'><span class='textit'>Effects:</span> Attempts to parse the input stream <span class='texttt'>is</span>
into the <span class='texttt'>sys_&shy;time</span> <span class='texttt'>tp</span> using
the format flags given in the NTCTS <span class='texttt'>fmt</span>
as specified in <a href='time.parse'>[time.parse]</a><a class='hidden_link' href='#system.nonmembers-9.sentence-1'>.</a></div> <div id='system.nonmembers-9.sentence-2' class='sentence'>If the parse fails to decode a valid date,
<span class='texttt'>is.setstate(ios_&shy;base&#x200b;::&#x200b;failbit)</span>
shall be called and <span class='texttt'>tp</span> shall not be modified<a class='hidden_link' href='#system.nonmembers-9.sentence-2'>.</a></div> <div id='system.nonmembers-9.sentence-3' class='sentence'>If <span class='texttt'>%Z</span> is used and successfully parsed,
that value will be assigned to <span class='texttt'>*abbrev</span> if <span class='texttt'>abbrev</span> is non-null<a class='hidden_link' href='#system.nonmembers-9.sentence-3'>.</a></div> <div id='system.nonmembers-9.sentence-4' class='sentence'>If <span class='texttt'>%z</span> (or a modified variant) is used and successfully parsed,
that value will be assigned to <span class='texttt'>*offset</span> if <span class='texttt'>offset</span> is non-null<a class='hidden_link' href='#system.nonmembers-9.sentence-4'>.</a></div> <div id='system.nonmembers-9.sentence-5' class='sentence'>Additionally, the parsed offset will be subtracted
from the successfully parsed timestamp
prior to assigning that difference to <span class='texttt'>tp</span><a class='hidden_link' href='#system.nonmembers-9.sentence-5'>.</a></div></div></div><div class='para' id='system.nonmembers-10'><div class='marginalizedparent'><a class='marginalized' href='#system.nonmembers-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2738'>#</a></div><div id='system.nonmembers-10.sentence-1' class='sentence'><span class='textit'>Returns:</span> is<a class='hidden_link' href='#system.nonmembers-10.sentence-1'>.</a></div></div></div></div></div><div id='utc' class='section'><h3 ><a class='secnum' href='#utc' style='min-width:103pt'>25.7.2</a> Class <span class='texttt'>utc_&shy;clock</span> <a class='abbr_ref' href='time.clock.utc'>[time.clock.utc]</a></h3><div id='utc.overview' class='section'><h4 ><a class='secnum' href='#utc.overview' style='min-width:118pt'>25.7.2.1</a> Overview <a class='abbr_ref' href='time.clock.utc.overview'>[time.clock.utc.overview]</a></h4><span class='indexparent'><a class='index' id='lib:utc_clock'></a></span>
<pre class='codeblock'>
namespace std::chrono {
  class utc_clock {
  public:
    using rep                       = <span class='textit'>a signed arithmetic type</span>;
    using period                    = ratio&lt;<span class='textit'><span class='texttt'>unspecified</span></span>, <span class='textit'><span class='texttt'>unspecified</span></span>&gt;;
    using duration                  = chrono::duration&lt;rep, period&gt;;
    using time_point                = chrono::time_point&lt;utc_clock&gt;;
    static constexpr bool is_steady = <span class='textit'><span class='texttt'>unspecified</span></span>;

    static time_point now();

    template&lt;class Duration&gt;
      static sys_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;
        to_sys(const utc_time&lt;Duration&gt;&amp; t);
    template&lt;class Duration&gt;
      static utc_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;
        from_sys(const sys_time&lt;Duration&gt;&amp; t);
  };
}</pre><div class='para' id='utc.overview-1'><div class='marginalizedparent'><a class='marginalized' href='#utc.overview-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2769'>#</a></div><div id='utc.overview-1.sentence-1' class='sentence'>In contrast to <span class='texttt'>sys_&shy;time</span>,
which does not take leap seconds into account,
<span class='texttt'>utc_&shy;clock</span> and its associated <span class='texttt'>time_&shy;point</span>, <span class='texttt'>utc_&shy;time</span>,
count time, including leap seconds, since 1970-01-01 00:00:00 UTC<a class='hidden_link' href='#utc.overview-1.sentence-1'>.</a></div> <div id='utc.overview-1.example-1' class='example'>[<span style='white-space:nowrap'>â€‰</span><a class='example_link' href='#utc.overview-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='utc.overview-1.sentence-2' class='sentence'><br/>
<span class='texttt'>clock_&shy;cast&lt;utc_&shy;clock&gt;(sys_&shy;seconds{sys_&shy;days{1970y/January/1}}).time_&shy;since_&shy;epoch()</span> is <span class='texttt'>0s</span><a class='hidden_link' href='#utc.overview-1.sentence-2'>.</a></div> <div id='utc.overview-1.sentence-3' class='sentence'><br/>
<span class='texttt'>clock_&shy;cast&lt;utc_&shy;clock&gt;(sys_&shy;seconds{sys_&shy;days{2000y/January/1}}).time_&shy;since_&shy;epoch()</span> <br/>
is <span class='texttt'>946'684'822s</span>, which is <span class='texttt'>10'957 * 86'400s + 22s</span><a class='hidden_link' href='#utc.overview-1.sentence-3'>.</a></div> <br/> â€”<span style='white-space:nowrap'>â€‰</span><i>end example</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div><div class='para' id='utc.overview-2'><div class='marginalizedparent'><a class='marginalized' href='#utc.overview-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2780'>#</a></div><div id='utc.overview-2.sentence-1' class='sentence'><span class='texttt'>utc_&shy;clock</span> is not a <span class='textit'>Cpp17TrivialClock</span>
unless the implementation can guarantee that <span class='texttt'>utc_&shy;clock&#x200b;::&#x200b;now()</span>
does not propagate an exception<a class='hidden_link' href='#utc.overview-2.sentence-1'>.</a></div> <div id='utc.overview-2.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#utc.overview-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='utc.overview-2.sentence-2' class='sentence'><span class='texttt'>noexcept(from_&shy;sys(system_&shy;clock&#x200b;::&#x200b;now()))</span> is <span class='texttt'>false</span><a class='hidden_link' href='#utc.overview-2.sentence-2'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div><div id='utc.members' class='section'><h4 ><a class='secnum' href='#utc.members' style='min-width:118pt'>25.7.2.2</a> Member functions <a class='abbr_ref' href='time.clock.utc.members'>[time.clock.utc.members]</a></h4><span class='indexparent'><a class='index' id='lib:now,utc_clock'></a></span><span class='indexparent'><a class='index' id='lib:utc_clock,now'></a></span><div class='itemdecl' id='utc.members-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#utc.members-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>static time_point now();
</code></div><div class='itemdescr'></div><div class='para' id='utc.members-1'><div class='marginalizedparent'><a class='marginalized' href='#utc.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2794'>#</a></div><div id='utc.members-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>from_&shy;sys(system_&shy;clock&#x200b;::&#x200b;now())</span>, or a more accurate value of <span class='texttt'>utc_&shy;time</span><a class='hidden_link' href='#utc.members-1.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:to_sys,utc_clock'></a></span><span class='indexparent'><a class='index' id='lib:utc_clock,to_sys'></a></span><div class='itemdecl' id='utc.members-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#utc.members-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;typename Duration&gt;
  static sys_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;
    to_sys(const utc_time&lt;Duration&gt;&amp; u);
</code></div><div class='itemdescr'></div><div class='para' id='utc.members-2'><div class='marginalizedparent'><a class='marginalized' href='#utc.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2806'>#</a></div><div id='utc.members-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
A <span class='texttt'>sys_&shy;time</span> <span class='texttt'>t</span>,
such that <span class='texttt'>from_&shy;sys(t) == u</span> if such a mapping exists<a class='hidden_link' href='#utc.members-2.sentence-1'>.</a></div> <div id='utc.members-2.sentence-2' class='sentence'>Otherwise <span class='texttt'>u</span> represents a <span class='texttt'>time_&shy;point</span>
during a leap second insertion
and the last representable value of <span class='texttt'>sys_&shy;time</span>
prior to the insertion of the leap second is returned<a class='hidden_link' href='#utc.members-2.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:from_sys,utc_clock'></a></span><span class='indexparent'><a class='index' id='lib:utc_clock,from_sys'></a></span><div class='itemdecl' id='utc.members-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#utc.members-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;typename Duration&gt;
  static utc_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;
    from_sys(const sys_time&lt;Duration&gt;&amp; t);
</code></div><div class='itemdescr'></div><div class='para' id='utc.members-3'><div class='marginalizedparent'><a class='marginalized' href='#utc.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2824'>#</a></div><div id='utc.members-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
A <span class='texttt'>utc_&shy;time</span> <span class='texttt'>u</span>, such that
<span class='texttt'>u.time_&shy;since_&shy;epoch() - t.time_&shy;since_&shy;epoch()</span>
is equal to the number of leap seconds that were inserted
between <span class='texttt'>t</span> and 1970-01-01<a class='hidden_link' href='#utc.members-3.sentence-1'>.</a></div> <div id='utc.members-3.sentence-2' class='sentence'>If <span class='texttt'>t</span> is exactly the date of leap second insertion,
then the conversion counts that leap second as inserted<a class='hidden_link' href='#utc.members-3.sentence-2'>.</a></div><div style='height:0.6em;display:block'></div><div id='utc.members-3.example-1' class='example'>[<span style='white-space:nowrap'>â€‰</span><a class='example_link' href='#utc.members-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
auto t = sys_days{July/1/2015} - 2ns;
auto u = utc_clock::from_sys(t);
assert(u.time_since_epoch() - t.time_since_epoch() == 25s);
t += 1ns;
u = utc_clock::from_sys(t);
assert(u.time_since_epoch() - t.time_since_epoch() == 25s);
t += 1ns;
u = utc_clock::from_sys(t);
assert(u.time_since_epoch() - t.time_since_epoch() == 26s);
t += 1ns;
u = utc_clock::from_sys(t);
assert(u.time_since_epoch() - t.time_since_epoch() == 26s);</pre> â€”<span style='white-space:nowrap'>â€‰</span><i>end example</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div></div><div id='utc.nonmembers' class='section'><h4 ><a class='secnum' href='#utc.nonmembers' style='min-width:118pt'>25.7.2.3</a> Non-member functions <a class='abbr_ref' href='time.clock.utc.nonmembers'>[time.clock.utc.nonmembers]</a></h4><span class='indexparent'><a class='index' id='lib:operator<<,utc_time'></a></span><span class='indexparent'><a class='index' id='lib:utc_time,operator<<'></a></span><div class='itemdecl' id='utc.nonmembers-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#utc.nonmembers-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class charT, class traits, class Duration&gt;
  basic_ostream&lt;charT, traits&gt;&amp;
    operator&lt;&lt;(basic_ostream&lt;charT, traits&gt;&amp; os, const utc_time&lt;Duration&gt;&amp; t);
</code></div><div class='itemdescr'></div><div class='para' id='utc.nonmembers-1'><div class='marginalizedparent'><a class='marginalized' href='#utc.nonmembers-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2861'>#</a></div><div id='utc.nonmembers-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Calls <span class='texttt'>to_&shy;stream(os, fmt, t)</span>,
where <span class='texttt'>fmt</span> is a string containing <span class='texttt'>"%F %T"</span>
widened to <span class='texttt'>charT</span><a class='hidden_link' href='#utc.nonmembers-1.sentence-1'>.</a></div></div></div><div class='para' id='utc.nonmembers-2'><div class='marginalizedparent'><a class='marginalized' href='#utc.nonmembers-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2867'>#</a></div><div id='utc.nonmembers-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>os</span><a class='hidden_link' href='#utc.nonmembers-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:to_stream,utc_time'></a></span><span class='indexparent'><a class='index' id='lib:utc_time,to_stream'></a></span><div class='itemdecl' id='utc.nonmembers-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#utc.nonmembers-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class charT, class traits, class Duration&gt;
  basic_ostream&lt;charT, traits&gt;&amp;
    to_stream(basic_ostream&lt;charT, traits&gt;&amp; os, const charT* fmt, const utc_time&lt;Duration&gt;&amp; tp);
</code></div><div class='itemdescr'></div><div class='para' id='utc.nonmembers-3'><div class='marginalizedparent'><a class='marginalized' href='#utc.nonmembers-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2879'>#</a></div><div id='utc.nonmembers-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Streams <span class='texttt'>tp</span> into <span class='texttt'>os</span> using
the format specified by the NTCTS <span class='texttt'>fmt</span><a class='hidden_link' href='#utc.nonmembers-3.sentence-1'>.</a></div> <div id='utc.nonmembers-3.sentence-2' class='sentence'><span class='texttt'>fmt</span> encoding follows the rules specified in <a href='time.format'>[time.format]</a><a class='hidden_link' href='#utc.nonmembers-3.sentence-2'>.</a></div> <div id='utc.nonmembers-3.sentence-3' class='sentence'>If <span class='texttt'>%Z</span> is used, it will be replaced with <span class='texttt'>"UTC"</span> widened to <span class='texttt'>charT</span><a class='hidden_link' href='#utc.nonmembers-3.sentence-3'>.</a></div> <div id='utc.nonmembers-3.sentence-4' class='sentence'>If <span class='texttt'>%z</span> is used (or a modified variant of <span class='texttt'>%z</span>),
an offset of <span class='texttt'>0min</span> will be formatted<a class='hidden_link' href='#utc.nonmembers-3.sentence-4'>.</a></div> <div id='utc.nonmembers-3.sentence-5' class='sentence'>If <span class='texttt'>tp</span> represents a time during a leap second insertion,
and if a seconds field is formatted,
the integral portion of that format shall be <span class='texttt'>"60"</span> widened to <span class='texttt'>charT</span><a class='hidden_link' href='#utc.nonmembers-3.sentence-5'>.</a></div></div></div><div class='para' id='utc.nonmembers-4'><div class='marginalizedparent'><a class='marginalized' href='#utc.nonmembers-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2891'>#</a></div><div id='utc.nonmembers-4.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>os</span><a class='hidden_link' href='#utc.nonmembers-4.sentence-1'>.</a></div></div></div><div class='para' id='utc.nonmembers-5'><div class='marginalizedparent'><a class='marginalized' href='#utc.nonmembers-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2894'>#</a></div><div id='utc.nonmembers-5.example-1' class='example'>[<span style='white-space:nowrap'>â€‰</span><a class='example_link' href='#utc.nonmembers-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
auto t = sys_days{July/1/2015} - 500ms;
auto u = clock_cast&lt;utc_clock&gt;(t);
for (auto i = 0; i &lt; 8; ++i, u += 250ms)
  cout &lt;&lt; u &lt;&lt; " UTC\n";</pre><div id='utc.nonmembers-5.sentence-1' class='sentence'>Produces this output:</div><pre class='codeblock'>
2015-06-30 23:59:59.500 UTC
2015-06-30 23:59:59.750 UTC
2015-06-30 23:59:60.000 UTC
2015-06-30 23:59:60.250 UTC
2015-06-30 23:59:60.500 UTC
2015-06-30 23:59:60.750 UTC
2015-07-01 00:00:00.000 UTC
2015-07-01 00:00:00.250 UTC</pre> â€”<span style='white-space:nowrap'>â€‰</span><i>end example</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:from_stream,utc_time'></a></span><span class='indexparent'><a class='index' id='lib:utc_time,from_stream'></a></span><div class='itemdecl' id='utc.nonmembers-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#utc.nonmembers-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class charT, class traits, class Duration, class Alloc = allocator&lt;charT&gt;&gt;
  basic_istream&lt;charT, traits&gt;&amp;
    from_stream(basic_istream&lt;charT, traits&gt;&amp; is, const charT* fmt,
                utc_time&lt;Duration&gt;&amp; tp, basic_string&lt;charT, traits, Alloc&gt;* abbrev = nullptr,
                minutes* offset = nullptr);
</code></div><div class='itemdescr'></div><div class='para' id='utc.nonmembers-6'><div class='marginalizedparent'><a class='marginalized' href='#utc.nonmembers-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2928'>#</a></div><div id='utc.nonmembers-6.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Attempts to parse the input stream <span class='texttt'>is</span>
into the <span class='texttt'>utc_&shy;time</span> <span class='texttt'>tp</span> using
the format flags given in the NTCTS <span class='texttt'>fmt</span>
as specified in <a href='time.parse'>[time.parse]</a><a class='hidden_link' href='#utc.nonmembers-6.sentence-1'>.</a></div> <div id='utc.nonmembers-6.sentence-2' class='sentence'>If the parse fails to decode a valid date,
<span class='texttt'>is.setstate(ios_&shy;base&#x200b;::&#x200b;failbit)</span> shall be called
and <span class='texttt'>tp</span> shall not be modified<a class='hidden_link' href='#utc.nonmembers-6.sentence-2'>.</a></div> <div id='utc.nonmembers-6.sentence-3' class='sentence'>If <span class='texttt'>%Z</span> is used and successfully parsed,
that value will be assigned to <span class='texttt'>*abbrev</span> if <span class='texttt'>abbrev</span> is non-null<a class='hidden_link' href='#utc.nonmembers-6.sentence-3'>.</a></div> <div id='utc.nonmembers-6.sentence-4' class='sentence'>If <span class='texttt'>%z</span> (or a modified variant) is used and successfully parsed,
that value will be assigned to <span class='texttt'>*offset</span> if <span class='texttt'>offset</span> is non-null<a class='hidden_link' href='#utc.nonmembers-6.sentence-4'>.</a></div> <div id='utc.nonmembers-6.sentence-5' class='sentence'>Additionally, the parsed offset will be subtracted from
the successfully parsed timestamp
prior to assigning that difference to <span class='texttt'>tp</span><a class='hidden_link' href='#utc.nonmembers-6.sentence-5'>.</a></div></div></div><div class='para' id='utc.nonmembers-7'><div class='marginalizedparent'><a class='marginalized' href='#utc.nonmembers-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2945'>#</a></div><div id='utc.nonmembers-7.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>is</span><a class='hidden_link' href='#utc.nonmembers-7.sentence-1'>.</a></div></div></div></div></div><div id='tai' class='section'><h3 ><a class='secnum' href='#tai' style='min-width:103pt'>25.7.3</a> Class <span class='texttt'>tai_&shy;clock</span> <a class='abbr_ref' href='time.clock.tai'>[time.clock.tai]</a></h3><div id='tai.overview' class='section'><h4 ><a class='secnum' href='#tai.overview' style='min-width:118pt'>25.7.3.1</a> Overview <a class='abbr_ref' href='time.clock.tai.overview'>[time.clock.tai.overview]</a></h4><span class='indexparent'><a class='index' id='lib:tai_clock'></a></span>
<pre class='codeblock'>
namespace std::chrono {
  class tai_clock {
  public:
    using rep                       = <span class='textit'>a signed arithmetic type</span>;
    using period                    = ratio&lt;<span class='textit'><span class='texttt'>unspecified</span></span>, <span class='textit'><span class='texttt'>unspecified</span></span>&gt;;
    using duration                  = chrono::duration&lt;rep, period&gt;;
    using time_point                = chrono::time_point&lt;tai_clock&gt;;
    static constexpr bool is_steady = <span class='textit'><span class='texttt'>unspecified</span></span>;

    static time_point now();

    template&lt;class Duration&gt;
      static utc_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;
        to_utc(const tai_time&lt;Duration&gt;&amp;) noexcept;
    template&lt;class Duration&gt;
      static tai_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;
        from_utc(const utc_time&lt;Duration&gt;&amp;) noexcept;
  };
}</pre><div class='para' id='tai.overview-1'><div class='marginalizedparent'><a class='marginalized' href='#tai.overview-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2976'>#</a></div><div id='tai.overview-1.sentence-1' class='sentence'>The clock <span class='texttt'>tai_&shy;clock</span> measures seconds since 1958-01-01 00:00:00
and is offset 10s ahead of UTC at this date<a class='hidden_link' href='#tai.overview-1.sentence-1'>.</a></div> <div id='tai.overview-1.sentence-2' class='sentence'>That is, 1958-01-01 00:00:00 TAI is equivalent to 1957-12-31 23:59:50 UTC<a class='hidden_link' href='#tai.overview-1.sentence-2'>.</a></div> <div id='tai.overview-1.sentence-3' class='sentence'>Leap seconds are not inserted into TAI<a class='hidden_link' href='#tai.overview-1.sentence-3'>.</a></div> <div id='tai.overview-1.sentence-4' class='sentence'>Therefore every time a leap second is inserted into UTC,
UTC falls another second behind TAI<a class='hidden_link' href='#tai.overview-1.sentence-4'>.</a></div> <div id='tai.overview-1.sentence-5' class='sentence'>For example by 2000-01-01 there had been 22 leap seconds inserted
so 2000-01-01 00:00:00 UTC is equivalent to 2000-01-01 00:00:32 TAI
(22s plus the initial 10s offset)<a class='hidden_link' href='#tai.overview-1.sentence-5'>.</a></div></div><div class='para' id='tai.overview-2'><div class='marginalizedparent'><a class='marginalized' href='#tai.overview-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L2987'>#</a></div><div id='tai.overview-2.sentence-1' class='sentence'><span class='texttt'>tai_&shy;clock</span> is not a <span class='textit'>Cpp17TrivialClock</span>
unless the implementation can guarantee that <span class='texttt'>tai_&shy;clock&#x200b;::&#x200b;now()</span>
does not propagate an exception<a class='hidden_link' href='#tai.overview-2.sentence-1'>.</a></div> <div id='tai.overview-2.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#tai.overview-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='tai.overview-2.sentence-2' class='sentence'><span class='texttt'>noexcept(from_&shy;utc(utc_&shy;clock&#x200b;::&#x200b;now()))</span> is <span class='texttt'>false</span><a class='hidden_link' href='#tai.overview-2.sentence-2'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div><div id='tai.members' class='section'><h4 ><a class='secnum' href='#tai.members' style='min-width:118pt'>25.7.3.2</a> Member functions <a class='abbr_ref' href='time.clock.tai.members'>[time.clock.tai.members]</a></h4><span class='indexparent'><a class='index' id='lib:now,tai_clock'></a></span><span class='indexparent'><a class='index' id='lib:tai_clock,now'></a></span><div class='itemdecl' id='tai.members-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#tai.members-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>static time_point now();
</code></div><div class='itemdescr'></div><div class='para' id='tai.members-1'><div class='marginalizedparent'><a class='marginalized' href='#tai.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3003'>#</a></div><div id='tai.members-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>from_&shy;utc(utc_&shy;clock&#x200b;::&#x200b;now())</span>, or a more accurate value of <span class='texttt'>tai_&shy;time</span><a class='hidden_link' href='#tai.members-1.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:to_utc,tai_clock'></a></span><span class='indexparent'><a class='index' id='lib:tai_clock,to_utc'></a></span><div class='itemdecl' id='tai.members-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#tai.members-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class Duration&gt;
  static utc_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;
    to_utc(const tai_time&lt;Duration&gt;&amp; t) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='tai.members-2'><div class='marginalizedparent'><a class='marginalized' href='#tai.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3015'>#</a></div><div id='tai.members-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<pre class='codeblock'>
utc_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;{t.time_since_epoch()} - 378691210s</pre>
<div id='tai.members-2.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#tai.members-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <pre class='codeblock'>
378691210s == sys_days{1970y/January/1} - sys_days{1958y/January/1} + 10s</pre> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div></div><span class='indexparent'><a class='index' id='lib:from_utc,tai_clock'></a></span><span class='indexparent'><a class='index' id='lib:tai_clock,from_utc'></a></span><div class='itemdecl' id='tai.members-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#tai.members-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class Duration&gt;
  static tai_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;
    from_utc(const utc_time&lt;Duration&gt;&amp; t) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='tai.members-3'><div class='marginalizedparent'><a class='marginalized' href='#tai.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3035'>#</a></div><div id='tai.members-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<pre class='codeblock'>
tai_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;{t.time_since_epoch()} + 378691210s</pre>
<div id='tai.members-3.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#tai.members-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <pre class='codeblock'>
378691210s == sys_days{1970y/January/1} - sys_days{1958y/January/1} + 10s</pre> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div></div></div><div id='tai.nonmembers' class='section'><h4 ><a class='secnum' href='#tai.nonmembers' style='min-width:118pt'>25.7.3.3</a> Non-member functions <a class='abbr_ref' href='time.clock.tai.nonmembers'>[time.clock.tai.nonmembers]</a></h4><span class='indexparent'><a class='index' id='lib:operator<<,tai_time'></a></span><span class='indexparent'><a class='index' id='lib:tai_time,operator<<'></a></span><div class='itemdecl' id='tai.nonmembers-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#tai.nonmembers-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class charT, class traits, class Duration&gt;
  basic_ostream&lt;charT, traits&gt;&amp;
    operator&lt;&lt;(basic_ostream&lt;charT, traits&gt;&amp; os, const tai_time&lt;Duration&gt;&amp; t);
</code></div><div class='itemdescr'></div><div class='para' id='tai.nonmembers-1'><div class='marginalizedparent'><a class='marginalized' href='#tai.nonmembers-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3057'>#</a></div><div id='tai.nonmembers-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Calls <span class='texttt'>to_&shy;stream(os, fmt, t)</span>,
where <span class='texttt'>fmt</span> is a string containing
<span class='texttt'>"%F %T"</span> widened to <span class='texttt'>charT</span><a class='hidden_link' href='#tai.nonmembers-1.sentence-1'>.</a></div></div></div><div class='para' id='tai.nonmembers-2'><div class='marginalizedparent'><a class='marginalized' href='#tai.nonmembers-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3063'>#</a></div><div id='tai.nonmembers-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>os</span><a class='hidden_link' href='#tai.nonmembers-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:to_stream,tai_time'></a></span><span class='indexparent'><a class='index' id='lib:tai_time,to_stream'></a></span><div class='itemdecl' id='tai.nonmembers-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#tai.nonmembers-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class charT, class traits, class Duration&gt;
  basic_ostream&lt;charT, traits&gt;&amp;
    to_stream(basic_ostream&lt;charT, traits&gt;&amp; os, const charT* fmt, const tai_time&lt;Duration&gt;&amp; tp);
</code></div><div class='itemdescr'></div><div class='para' id='tai.nonmembers-3'><div class='marginalizedparent'><a class='marginalized' href='#tai.nonmembers-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3075'>#</a></div><div id='tai.nonmembers-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Streams <span class='texttt'>tp</span> into <span class='texttt'>os</span> using
the format specified by the NTCTS <span class='texttt'>fmt</span><a class='hidden_link' href='#tai.nonmembers-3.sentence-1'>.</a></div> <div id='tai.nonmembers-3.sentence-2' class='sentence'><span class='texttt'>fmt</span> encoding follows the rules specified in <a href='time.format'>[time.format]</a><a class='hidden_link' href='#tai.nonmembers-3.sentence-2'>.</a></div> <div id='tai.nonmembers-3.sentence-3' class='sentence'>If <span class='texttt'>%Z</span> is used, it will be replaced with <span class='texttt'>"TAI"</span><a class='hidden_link' href='#tai.nonmembers-3.sentence-3'>.</a></div> <div id='tai.nonmembers-3.sentence-4' class='sentence'>If <span class='texttt'>%z</span> is used (or a modified variant of <span class='texttt'>%z</span>),
an offset of <span class='texttt'>0min</span> will be formatted<a class='hidden_link' href='#tai.nonmembers-3.sentence-4'>.</a></div> <div id='tai.nonmembers-3.sentence-5' class='sentence'>The date and time formatted shall be equivalent to
that formatted by a <span class='texttt'>sys_&shy;time</span> initialized with:
<pre class='codeblock'>
sys_time&lt;Duration&gt;{tp.time_since_epoch()} -
  (sys_days{1970y/January/1} - sys_days{1958y/January/1})</pre></div></div></div><div class='para' id='tai.nonmembers-4'><div class='marginalizedparent'><a class='marginalized' href='#tai.nonmembers-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3090'>#</a></div><div id='tai.nonmembers-4.sentence-1' class='sentence'><span class='textit'>Returns:</span> os<a class='hidden_link' href='#tai.nonmembers-4.sentence-1'>.</a></div></div></div><div class='para' id='tai.nonmembers-5'><div class='marginalizedparent'><a class='marginalized' href='#tai.nonmembers-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3093'>#</a></div><div id='tai.nonmembers-5.example-1' class='example'>[<span style='white-space:nowrap'>â€‰</span><a class='example_link' href='#tai.nonmembers-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
auto st = sys_days{2000y/January/1};
auto tt = clock_cast&lt;tai_clock&gt;(st);
cout &lt;&lt; format("%F %T %Z == ", st) &lt;&lt; format("%F %T %Z\n", tt);</pre><div id='tai.nonmembers-5.sentence-1' class='sentence'>Produces this output:</div><pre class='codeblock'>
2000-01-01 00:00:00 UTC == 2000-01-01 00:00:32 TAI</pre> â€”<span style='white-space:nowrap'>â€‰</span><i>end example</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:from_stream,tai_time'></a></span><span class='indexparent'><a class='index' id='lib:tai_time,from_stream'></a></span><div class='itemdecl' id='tai.nonmembers-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#tai.nonmembers-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class charT, class traits, class Duration, class Alloc = allocator&lt;charT&gt;&gt;
  basic_istream&lt;charT, traits&gt;&amp;
    from_stream(basic_istream&lt;charT, traits&gt;&amp; is, const charT* fmt,
                tai_time&lt;Duration&gt;&amp; tp, basic_string&lt;charT, traits, Alloc&gt;* abbrev = nullptr,
                minutes* offset = nullptr);
</code></div><div class='itemdescr'></div><div class='para' id='tai.nonmembers-6'><div class='marginalizedparent'><a class='marginalized' href='#tai.nonmembers-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3119'>#</a></div><div id='tai.nonmembers-6.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Attempts to parse the input stream <span class='texttt'>is</span>
into the <span class='texttt'>tai_&shy;time</span> <span class='texttt'>tp</span> using
the format flags given in the NTCTS <span class='texttt'>fmt</span>
as specified in <a href='time.parse'>[time.parse]</a><a class='hidden_link' href='#tai.nonmembers-6.sentence-1'>.</a></div> <div id='tai.nonmembers-6.sentence-2' class='sentence'>If the parse fails to decode a valid date,
<span class='texttt'>is.setstate(ios_&shy;base&#x200b;::&#x200b;failbit)</span> shall be called
and <span class='texttt'>tp</span> shall not be modified<a class='hidden_link' href='#tai.nonmembers-6.sentence-2'>.</a></div> <div id='tai.nonmembers-6.sentence-3' class='sentence'>If <span class='texttt'>%Z</span> is used and successfully parsed,
that value will be assigned to <span class='texttt'>*abbrev</span> if <span class='texttt'>abbrev</span> is non-null<a class='hidden_link' href='#tai.nonmembers-6.sentence-3'>.</a></div> <div id='tai.nonmembers-6.sentence-4' class='sentence'>If <span class='texttt'>%z</span> (or a modified variant) is used and successfully parsed,
that value will be assigned to <span class='texttt'>*offset</span> if <span class='texttt'>offset</span> is non-null<a class='hidden_link' href='#tai.nonmembers-6.sentence-4'>.</a></div> <div id='tai.nonmembers-6.sentence-5' class='sentence'>Additionally, the parsed offset will be subtracted from
the successfully parsed timestamp prior to assigning that difference to <span class='texttt'>tp</span><a class='hidden_link' href='#tai.nonmembers-6.sentence-5'>.</a></div></div></div><div class='para' id='tai.nonmembers-7'><div class='marginalizedparent'><a class='marginalized' href='#tai.nonmembers-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3135'>#</a></div><div id='tai.nonmembers-7.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>is</span><a class='hidden_link' href='#tai.nonmembers-7.sentence-1'>.</a></div></div></div></div></div><div id='gps' class='section'><h3 ><a class='secnum' href='#gps' style='min-width:103pt'>25.7.4</a> Class <span class='texttt'>gps_&shy;clock</span> <a class='abbr_ref' href='time.clock.gps'>[time.clock.gps]</a></h3><div id='gps.overview' class='section'><h4 ><a class='secnum' href='#gps.overview' style='min-width:118pt'>25.7.4.1</a> Overview <a class='abbr_ref' href='time.clock.gps.overview'>[time.clock.gps.overview]</a></h4><span class='indexparent'><a class='index' id='lib:gps_clock'></a></span>
<pre class='codeblock'>
namespace std::chrono {
  class gps_clock {
  public:
    using rep                       = <span class='textit'>a signed arithmetic type</span>;
    using period                    = ratio&lt;<span class='textit'><span class='texttt'>unspecified</span></span>, <span class='textit'><span class='texttt'>unspecified</span></span>&gt;;
    using duration                  = chrono::duration&lt;rep, period&gt;;
    using time_point                = chrono::time_point&lt;gps_clock&gt;;
    static constexpr bool is_steady = <span class='textit'><span class='texttt'>unspecified</span></span>;

    static time_point now();

    template&lt;class Duration&gt;
      static utc_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;
        to_utc(const gps_time&lt;Duration&gt;&amp;) noexcept;
    template&lt;class Duration&gt;
      static gps_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;
        from_utc(const utc_time&lt;Duration&gt;&amp;) noexcept;
  };
}</pre><div class='para' id='gps.overview-1'><div class='marginalizedparent'><a class='marginalized' href='#gps.overview-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3166'>#</a></div><div id='gps.overview-1.sentence-1' class='sentence'>The clock <span class='texttt'>gps_&shy;clock</span> measures
seconds since the first Sunday of January, 1980 00:00:00 UTC<a class='hidden_link' href='#gps.overview-1.sentence-1'>.</a></div> <div id='gps.overview-1.sentence-2' class='sentence'>Leap seconds are not inserted into GPS<a class='hidden_link' href='#gps.overview-1.sentence-2'>.</a></div> <div id='gps.overview-1.sentence-3' class='sentence'>Therefore every time a leap second is inserted into UTC,
UTC falls another second behind GPS<a class='hidden_link' href='#gps.overview-1.sentence-3'>.</a></div> <div id='gps.overview-1.sentence-4' class='sentence'>Aside from the offset from <span class='texttt'>1958y/January/1</span> to <span class='texttt'>1980y/January/Sunday[1]</span>,
GPS is behind TAI by 19s due to the 10s offset between 1958 and 1970
and the additional 9 leap seconds inserted between 1970 and 1980<a class='hidden_link' href='#gps.overview-1.sentence-4'>.</a></div></div><div class='para' id='gps.overview-2'><div class='marginalizedparent'><a class='marginalized' href='#gps.overview-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3176'>#</a></div><div id='gps.overview-2.sentence-1' class='sentence'><span class='texttt'>gps_&shy;clock</span> is not a <span class='textit'>Cpp17TrivialClock</span>
unless the implementation can guarantee that
<span class='texttt'>gps_&shy;clock&#x200b;::&#x200b;now()</span> does not propagate an exception<a class='hidden_link' href='#gps.overview-2.sentence-1'>.</a></div> <div id='gps.overview-2.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#gps.overview-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='gps.overview-2.sentence-2' class='sentence'><span class='texttt'>noexcept(from_&shy;utc(utc_&shy;clock&#x200b;::&#x200b;now()))</span> is <span class='texttt'>false</span><a class='hidden_link' href='#gps.overview-2.sentence-2'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div><div id='gps.members' class='section'><h4 ><a class='secnum' href='#gps.members' style='min-width:118pt'>25.7.4.2</a> Member functions <a class='abbr_ref' href='time.clock.gps.members'>[time.clock.gps.members]</a></h4><span class='indexparent'><a class='index' id='lib:now,gps_clock'></a></span><span class='indexparent'><a class='index' id='lib:gps_clock,now'></a></span><div class='itemdecl' id='gps.members-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#gps.members-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>static time_point now();
</code></div><div class='itemdescr'></div><div class='para' id='gps.members-1'><div class='marginalizedparent'><a class='marginalized' href='#gps.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3192'>#</a></div><div id='gps.members-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>from_&shy;utc(utc_&shy;clock&#x200b;::&#x200b;now())</span>, or a more accurate value of <span class='texttt'>gps_&shy;time</span><a class='hidden_link' href='#gps.members-1.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:to_utc,gps_clock'></a></span><span class='indexparent'><a class='index' id='lib:gps_clock,to_utc'></a></span><div class='itemdecl' id='gps.members-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#gps.members-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class Duration&gt;
  static utc_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;
    to_utc(const gps_time&lt;Duration&gt;&amp; t) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='gps.members-2'><div class='marginalizedparent'><a class='marginalized' href='#gps.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3204'>#</a></div><div id='gps.members-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<pre class='codeblock'>
gps_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;{t.time_since_epoch()} + 315964809s</pre>
<div id='gps.members-2.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#gps.members-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <pre class='codeblock'>
315964809s == sys_days{1980y/January/Sunday[1]} - sys_days{1970y/January/1} + 9s</pre> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div></div><span class='indexparent'><a class='index' id='lib:from_utc,gps_clock'></a></span><span class='indexparent'><a class='index' id='lib:gps_clock,from_utc'></a></span><div class='itemdecl' id='gps.members-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#gps.members-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class Duration&gt;
  static gps_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;
    from_utc(const utc_time&lt;Duration&gt;&amp; t) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='gps.members-3'><div class='marginalizedparent'><a class='marginalized' href='#gps.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3224'>#</a></div><div id='gps.members-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<pre class='codeblock'>
gps_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;{t.time_since_epoch()} - 315964809s</pre>
<div id='gps.members-3.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#gps.members-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <pre class='codeblock'>
315964809s == sys_days{1980y/January/Sunday[1]} - sys_days{1970y/January/1} + 9s</pre> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div></div></div><div id='gps.nonmembers' class='section'><h4 ><a class='secnum' href='#gps.nonmembers' style='min-width:118pt'>25.7.4.3</a> Non-member functions <a class='abbr_ref' href='time.clock.gps.nonmembers'>[time.clock.gps.nonmembers]</a></h4><span class='indexparent'><a class='index' id='lib:operator<<,gps_time'></a></span><span class='indexparent'><a class='index' id='lib:gps_time,operator<<'></a></span><div class='itemdecl' id='gps.nonmembers-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#gps.nonmembers-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class charT, class traits, class Duration&gt;
  basic_ostream&lt;charT, traits&gt;&amp;
    operator&lt;&lt;(basic_ostream&lt;charT, traits&gt;&amp; os, const gps_time&lt;Duration&gt;&amp; t);
</code></div><div class='itemdescr'></div><div class='para' id='gps.nonmembers-1'><div class='marginalizedparent'><a class='marginalized' href='#gps.nonmembers-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3246'>#</a></div><div id='gps.nonmembers-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> Calls <span class='texttt'>to_&shy;stream(os, fmt, t)</span>,
where <span class='texttt'>fmt</span> is a string containing
<span class='texttt'>"%F %T"</span> widened to <span class='texttt'>charT</span><a class='hidden_link' href='#gps.nonmembers-1.sentence-1'>.</a></div></div></div><div class='para' id='gps.nonmembers-2'><div class='marginalizedparent'><a class='marginalized' href='#gps.nonmembers-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3251'>#</a></div><div id='gps.nonmembers-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>os</span><a class='hidden_link' href='#gps.nonmembers-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:to_stream,gps_time'></a></span><span class='indexparent'><a class='index' id='lib:gps_time,to_stream'></a></span><div class='itemdecl' id='gps.nonmembers-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#gps.nonmembers-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class charT, class traits, class Duration&gt;
  basic_ostream&lt;charT, traits&gt;&amp;
    to_stream(basic_ostream&lt;charT, traits&gt;&amp; os, const charT* fmt, const gps_time&lt;Duration&gt;&amp; tp);
</code></div><div class='itemdescr'></div><div class='para' id='gps.nonmembers-3'><div class='marginalizedparent'><a class='marginalized' href='#gps.nonmembers-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3263'>#</a></div><div id='gps.nonmembers-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> Streams <span class='texttt'>tp</span> into <span class='texttt'>os</span> using
the format specified by the NTCTS <span class='texttt'>fmt</span><a class='hidden_link' href='#gps.nonmembers-3.sentence-1'>.</a></div> <div id='gps.nonmembers-3.sentence-2' class='sentence'><span class='texttt'>fmt</span> encoding follows the rules specified in <a href='time.format'>[time.format]</a><a class='hidden_link' href='#gps.nonmembers-3.sentence-2'>.</a></div> <div id='gps.nonmembers-3.sentence-3' class='sentence'>If <span class='texttt'>%Z</span> is used, it will be replaced with <span class='texttt'>"GPS"</span><a class='hidden_link' href='#gps.nonmembers-3.sentence-3'>.</a></div> <div id='gps.nonmembers-3.sentence-4' class='sentence'>If <span class='texttt'>%z</span> is used (or a modified variant of <span class='texttt'>%z</span>),
an offset of <span class='texttt'>0min</span> will be formatted<a class='hidden_link' href='#gps.nonmembers-3.sentence-4'>.</a></div> <div id='gps.nonmembers-3.sentence-5' class='sentence'>The date and time formatted
shall be equivalent to that formatted by a <span class='texttt'>sys_&shy;time</span> initialized with:
<pre class='codeblock'>
sys_time&lt;Duration&gt;{tp.time_since_epoch()} +
  (sys_days{1980y/January/Sunday[1]} - sys_days{1970y/January/1})</pre></div></div></div><div class='para' id='gps.nonmembers-4'><div class='marginalizedparent'><a class='marginalized' href='#gps.nonmembers-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3277'>#</a></div><div id='gps.nonmembers-4.sentence-1' class='sentence'><span class='textit'>Returns:</span> os<a class='hidden_link' href='#gps.nonmembers-4.sentence-1'>.</a></div></div></div><div class='para' id='gps.nonmembers-5'><div class='marginalizedparent'><a class='marginalized' href='#gps.nonmembers-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3280'>#</a></div><div id='gps.nonmembers-5.example-1' class='example'>[<span style='white-space:nowrap'>â€‰</span><a class='example_link' href='#gps.nonmembers-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
auto st = sys_days{2000y/January/1};
auto gt = clock_cast&lt;gps_clock&gt;(st);
cout &lt;&lt; format("%F %T %Z == ", st) &lt;&lt; format("%F %T %Z\n", gt);</pre><div id='gps.nonmembers-5.sentence-1' class='sentence'>Produces this output:</div><pre class='codeblock'>
2000-01-01 00:00:00 UTC == 2000-01-01 00:00:13 GPS</pre> â€”<span style='white-space:nowrap'>â€‰</span><i>end example</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:from_stream,gps_time'></a></span><span class='indexparent'><a class='index' id='lib:gps_time,from_stream'></a></span><div class='itemdecl' id='gps.nonmembers-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#gps.nonmembers-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class charT, class traits, class Duration, class Alloc = allocator&lt;charT&gt;&gt;
  basic_istream&lt;charT, traits&gt;&amp;
    from_stream(basic_istream&lt;charT, traits&gt;&amp; is, const charT* fmt,
                gps_time&lt;Duration&gt;&amp; tp, basic_string&lt;charT, traits, Alloc&gt;* abbrev = nullptr,
                minutes* offset = nullptr);
</code></div><div class='itemdescr'></div><div class='para' id='gps.nonmembers-6'><div class='marginalizedparent'><a class='marginalized' href='#gps.nonmembers-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3306'>#</a></div><div id='gps.nonmembers-6.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Attempts to parse the input stream <span class='texttt'>is</span>
into the <span class='texttt'>gps_&shy;time</span> <span class='texttt'>tp</span> using
the format flags given in the NTCTS <span class='texttt'>fmt</span>
as specified in <a href='time.parse'>[time.parse]</a><a class='hidden_link' href='#gps.nonmembers-6.sentence-1'>.</a></div> <div id='gps.nonmembers-6.sentence-2' class='sentence'>If the parse fails to decode a valid date,
<span class='texttt'>is.setstate(ios_&shy;base&#x200b;::&#x200b;failbit)</span> shall be called
and <span class='texttt'>tp</span> shall not be modified<a class='hidden_link' href='#gps.nonmembers-6.sentence-2'>.</a></div> <div id='gps.nonmembers-6.sentence-3' class='sentence'>If <span class='texttt'>%Z</span> is used and successfully parsed,
that value will be assigned to <span class='texttt'>*abbrev</span> if <span class='texttt'>abbrev</span> is non-null<a class='hidden_link' href='#gps.nonmembers-6.sentence-3'>.</a></div> <div id='gps.nonmembers-6.sentence-4' class='sentence'>If <span class='texttt'>%z</span> (or a modified variant) is used and successfully parsed,
that value will be assigned to <span class='texttt'>*offset</span> if <span class='texttt'>offset</span> is non-null<a class='hidden_link' href='#gps.nonmembers-6.sentence-4'>.</a></div> <div id='gps.nonmembers-6.sentence-5' class='sentence'>Additionally, the parsed offset will be subtracted from
the successfully parsed timestamp prior to assigning that difference to <span class='texttt'>tp</span><a class='hidden_link' href='#gps.nonmembers-6.sentence-5'>.</a></div></div></div><div class='para' id='gps.nonmembers-7'><div class='marginalizedparent'><a class='marginalized' href='#gps.nonmembers-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3322'>#</a></div><div id='gps.nonmembers-7.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>is</span><a class='hidden_link' href='#gps.nonmembers-7.sentence-1'>.</a></div></div></div></div></div><div id='file' class='section'><h3 ><a class='secnum' href='#file' style='min-width:103pt'>25.7.5</a> Class <span class='texttt'>file_&shy;clock</span> <a class='abbr_ref' href='time.clock.file'>[time.clock.file]</a></h3><div id='file.overview' class='section'><h4 ><a class='secnum' href='#file.overview' style='min-width:118pt'>25.7.5.1</a> Overview <a class='abbr_ref' href='time.clock.file.overview'>[time.clock.file.overview]</a></h4><span class='indexparent'><a class='index' id='lib:file_clock'></a></span>
<pre class='codeblock'>
namespace std::chrono {
  class file_clock {
  public:
    using rep                       = <span class='textit'>a signed arithmetic type</span>;
    using period                    = ratio&lt;<span class='textit'><span class='texttt'>unspecified</span></span>, <span class='textit'><span class='texttt'>unspecified</span></span>&gt;;
    using duration                  = chrono::duration&lt;rep, period&gt;;
    using time_point                = chrono::time_point&lt;file_clock&gt;;
    static constexpr bool is_steady = <span class='textit'><span class='texttt'>unspecified</span></span>;

    static time_point now() noexcept;

    <span class='comment'>// Conversion functions, see below
</span>  };
}</pre><div class='para' id='file.overview-1'><div class='marginalizedparent'><a class='marginalized' href='#file.overview-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3348'>#</a></div><div id='file.overview-1.sentence-1' class='sentence'>The clock <span class='texttt'>file_&shy;clock</span> is used to create the <span class='texttt'>time_&shy;point</span> system
used for <span class='texttt'>file_&shy;time_&shy;type</span> (<a href='filesystems'>[filesystems]</a>)<a class='hidden_link' href='#file.overview-1.sentence-1'>.</a></div> <div id='file.overview-1.sentence-2' class='sentence'>Its epoch is unspecified<a class='hidden_link' href='#file.overview-1.sentence-2'>.</a></div></div></div><div id='file.members' class='section'><h4 ><a class='secnum' href='#file.members' style='min-width:118pt'>25.7.5.2</a> Member functions <a class='abbr_ref' href='time.clock.file.members'>[time.clock.file.members]</a></h4><span class='indexparent'><a class='index' id='lib:now,file_clock'></a></span><span class='indexparent'><a class='index' id='lib:file_clock,now'></a></span><div class='itemdecl' id='file.members-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#file.members-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>static time_point now();
</code></div><div class='itemdescr'></div><div class='para' id='file.members-1'><div class='marginalizedparent'><a class='marginalized' href='#file.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3360'>#</a></div><div id='file.members-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> A <span class='texttt'>file_&shy;clock&#x200b;::&#x200b;time_&shy;point</span> indicating the current time<a class='hidden_link' href='#file.members-1.sentence-1'>.</a></div></div></div><div class='para' id='file.members-2'><div class='marginalizedparent'><a class='marginalized' href='#file.members-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3364'>#</a></div><div id='file.members-2.sentence-1' class='sentence'>The class <span class='texttt'>file_&shy;clock</span> shall provide
precisely one of the following two sets of static member functions:</div><pre class='codeblock'>
template&lt;class Duration&gt;
  static sys_time&lt;<span class='textit'><span class='texttt'>see below</span></span>&gt;
    to_sys(const file_time&lt;Duration&gt;&amp;);
template&lt;class Duration&gt;
  static file_time&lt;<span class='textit'><span class='texttt'>see below</span></span>&gt;
    from_sys(const sys_time&lt;Duration&gt;&amp;);</pre><div id='file.members-2.sentence-2' class='sentence'>or:</div><pre class='codeblock'>
template&lt;class Duration&gt;
  static utc_time&lt;<span class='textit'><span class='texttt'>see below</span></span>&gt;
    to_utc(const file_time&lt;Duration&gt;&amp;);
template&lt;class Duration&gt;
  static file_time&lt;<span class='textit'><span class='texttt'>see below</span></span>&gt;
    from_utc(const utc_time&lt;Duration&gt;&amp;);</pre><div id='file.members-2.sentence-3' class='sentence'>These member functions shall provide <span class='texttt'>time_&shy;point</span> conversions
consistent with those specified by
<span class='texttt'>utc_&shy;clock</span>, <span class='texttt'>tai_&shy;clock</span>, and <span class='texttt'>gps_&shy;clock</span><a class='hidden_link' href='#file.members-2.sentence-3'>.</a></div> <div id='file.members-2.sentence-4' class='sentence'>The <span class='texttt'>Duration</span> of the resultant <span class='texttt'>time_&shy;point</span>
is computed from the <span class='texttt'>Duration</span> of the input <span class='texttt'>time_&shy;point</span><a class='hidden_link' href='#file.members-2.sentence-4'>.</a></div></div></div><div id='file.nonmembers' class='section'><h4 ><a class='secnum' href='#file.nonmembers' style='min-width:118pt'>25.7.5.3</a> Non-member functions <a class='abbr_ref' href='time.clock.file.nonmembers'>[time.clock.file.nonmembers]</a></h4><span class='indexparent'><a class='index' id='lib:operator<<,file_time'></a></span><span class='indexparent'><a class='index' id='lib:file_time,operator<<'></a></span><div class='itemdecl' id='file.nonmembers-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#file.nonmembers-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class charT, class traits, class Duration&gt;
  basic_ostream&lt;charT, traits&gt;&amp;
    operator&lt;&lt;(basic_ostream&lt;charT, traits&gt;&amp; os, const file_time&lt;Duration&gt;&amp; t);
</code></div><div class='itemdescr'></div><div class='para' id='file.nonmembers-1'><div class='marginalizedparent'><a class='marginalized' href='#file.nonmembers-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3404'>#</a></div><div id='file.nonmembers-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> Calls <span class='texttt'>to_&shy;stream(os, fmt, t)</span>,
where <span class='texttt'>fmt</span> is a string containing
<span class='texttt'>"%F %T"</span> widened to <span class='texttt'>charT</span><a class='hidden_link' href='#file.nonmembers-1.sentence-1'>.</a></div></div></div><div class='para' id='file.nonmembers-2'><div class='marginalizedparent'><a class='marginalized' href='#file.nonmembers-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3409'>#</a></div><div id='file.nonmembers-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>os</span><a class='hidden_link' href='#file.nonmembers-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:to_stream,file_time'></a></span><span class='indexparent'><a class='index' id='lib:file_time,to_stream'></a></span><div class='itemdecl' id='file.nonmembers-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#file.nonmembers-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class charT, class traits, class Duration&gt;
  basic_ostream&lt;charT, traits&gt;&amp;
    to_stream(basic_ostream&lt;charT, traits&gt;&amp; os, const charT* fmt, const file_time&lt;Duration&gt;&amp; tp);
</code></div><div class='itemdescr'></div><div class='para' id='file.nonmembers-3'><div class='marginalizedparent'><a class='marginalized' href='#file.nonmembers-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3421'>#</a></div><div id='file.nonmembers-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Streams <span class='texttt'>tp</span> into <span class='texttt'>os</span> using
the format specified by the NTCTS <span class='texttt'>fmt</span><a class='hidden_link' href='#file.nonmembers-3.sentence-1'>.</a></div> <div id='file.nonmembers-3.sentence-2' class='sentence'><span class='texttt'>fmt</span> encoding follows the rules specified in <a href='time.format'>[time.format]</a><a class='hidden_link' href='#file.nonmembers-3.sentence-2'>.</a></div> <div id='file.nonmembers-3.sentence-3' class='sentence'>If <span class='texttt'>%Z</span> is used, it will be replaced with <span class='texttt'>"UTC"</span> widened to <span class='texttt'>charT</span><a class='hidden_link' href='#file.nonmembers-3.sentence-3'>.</a></div> <div id='file.nonmembers-3.sentence-4' class='sentence'>If <span class='texttt'>%z</span> is used (or a modified variant of <span class='texttt'>%z</span>),
an offset of <span class='texttt'>0min</span> will be formatted<a class='hidden_link' href='#file.nonmembers-3.sentence-4'>.</a></div> <div id='file.nonmembers-3.sentence-5' class='sentence'>The date and time formatted shall be equivalent to
that formatted by a <span class='texttt'>sys_&shy;time</span> initialized with
<span class='texttt'>clock_&shy;cast&lt;system_&shy;clock&gt;(tp)</span>,
or by a <span class='texttt'>utc_&shy;time</span> initialized with
<span class='texttt'>clock_&shy;cast&lt;utc_&shy;clock&gt;(tp)</span><a class='hidden_link' href='#file.nonmembers-3.sentence-5'>.</a></div></div></div><div class='para' id='file.nonmembers-4'><div class='marginalizedparent'><a class='marginalized' href='#file.nonmembers-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3435'>#</a></div><div id='file.nonmembers-4.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>os</span><a class='hidden_link' href='#file.nonmembers-4.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:from_stream,file_time'></a></span><span class='indexparent'><a class='index' id='lib:file_time,from_stream'></a></span><div class='itemdecl' id='file.nonmembers-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#file.nonmembers-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class charT, class traits, class Duration, class Alloc = allocator&lt;charT&gt;&gt;
  basic_istream&lt;charT, traits&gt;&amp;
    from_stream(basic_istream&lt;charT, traits&gt;&amp; is, const charT* fmt,
                file_time&lt;Duration&gt;&amp; tp, basic_string&lt;charT, traits, Alloc&gt;* abbrev = nullptr,
                minutes* offset = nullptr);
</code></div><div class='itemdescr'></div><div class='para' id='file.nonmembers-5'><div class='marginalizedparent'><a class='marginalized' href='#file.nonmembers-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3449'>#</a></div><div id='file.nonmembers-5.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Attempts to parse the input stream <span class='texttt'>is</span>
into the <span class='texttt'>file_&shy;time</span> <span class='texttt'>tp</span> using
the format flags given in the NTCTS <span class='texttt'>fmt</span>
as specified in <a href='time.parse'>[time.parse]</a><a class='hidden_link' href='#file.nonmembers-5.sentence-1'>.</a></div> <div id='file.nonmembers-5.sentence-2' class='sentence'>If the parse fails to decode a valid date,
<span class='texttt'>is.setstate(ios_&shy;base&#x200b;::&#x200b;failbit)</span> shall be called
and <span class='texttt'>tp</span> shall not be modified<a class='hidden_link' href='#file.nonmembers-5.sentence-2'>.</a></div> <div id='file.nonmembers-5.sentence-3' class='sentence'>If <span class='texttt'>%Z</span> is used and successfully parsed,
that value will be assigned to <span class='texttt'>*abbrev</span> if <span class='texttt'>abbrev</span> is non-null<a class='hidden_link' href='#file.nonmembers-5.sentence-3'>.</a></div> <div id='file.nonmembers-5.sentence-4' class='sentence'>If <span class='texttt'>%z</span> (or a modified variant) is used and successfully parsed,
that value will be assigned to <span class='texttt'>*offset</span> if <span class='texttt'>offset</span> is non-null<a class='hidden_link' href='#file.nonmembers-5.sentence-4'>.</a></div> <div id='file.nonmembers-5.sentence-5' class='sentence'>Additionally, the parsed offset will be subtracted from
the successfully parsed timestamp prior to assigning that difference to <span class='texttt'>tp</span><a class='hidden_link' href='#file.nonmembers-5.sentence-5'>.</a></div></div></div><div class='para' id='file.nonmembers-6'><div class='marginalizedparent'><a class='marginalized' href='#file.nonmembers-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3465'>#</a></div><div id='file.nonmembers-6.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>is</span><a class='hidden_link' href='#file.nonmembers-6.sentence-1'>.</a></div></div></div></div></div><div id='steady' class='section'><h3 ><a class='secnum' href='#steady' style='min-width:103pt'>25.7.6</a> Class <span class='texttt'>steady_&shy;clock</span> <a class='abbr_ref' href='time.clock.steady'>[time.clock.steady]</a></h3><span class='indexparent'><a class='index' id='lib:steady_clock'></a></span>
<pre class='codeblock'>
namespace std::chrono {
  class steady_clock {
  public:
    using rep        = <span class='textit'><span class='texttt'>unspecified</span></span>;
    using period     = ratio&lt;<span class='textit'><span class='texttt'>unspecified</span></span>, <span class='textit'><span class='texttt'>unspecified</span></span>&gt;;
    using duration   = chrono::duration&lt;rep, period&gt;;
    using time_point = chrono::time_point&lt;<span class='textit'><span class='texttt'>unspecified</span></span>, duration&gt;;
    static constexpr bool is_steady = true;

    static time_point now() noexcept;
  };
}</pre><div class='para' id='steady-1'><div class='marginalizedparent'><a class='marginalized' href='#steady-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3487'>#</a></div><div id='steady-1.sentence-1' class='sentence'>Objects of class <span class='texttt'>steady_&shy;clock</span> represent clocks for which values of <span class='texttt'>time_&shy;point</span>
never decrease as physical time advances and for which values of <span class='texttt'>time_&shy;point</span> advance at
a steady rate relative to real time<a class='hidden_link' href='#steady-1.sentence-1'>.</a></div> <div id='steady-1.sentence-2' class='sentence'>That is, the clock may not be adjusted<a class='hidden_link' href='#steady-1.sentence-2'>.</a></div></div></div><div id='hires' class='section'><h3 ><a class='secnum' href='#hires' style='min-width:103pt'>25.7.7</a> Class <span class='texttt'>high_&shy;resolution_&shy;clock</span> <a class='abbr_ref' href='time.clock.hires'>[time.clock.hires]</a></h3><span class='indexparent'><a class='index' id='lib:high_resolution_clock'></a></span>
<pre class='codeblock'>
namespace std::chrono {
  class high_resolution_clock {
  public:
    using rep        = <span class='textit'><span class='texttt'>unspecified</span></span>;
    using period     = ratio&lt;<span class='textit'><span class='texttt'>unspecified</span></span>, <span class='textit'><span class='texttt'>unspecified</span></span>&gt;;
    using duration   = chrono::duration&lt;rep, period&gt;;
    using time_point = chrono::time_point&lt;<span class='textit'><span class='texttt'>unspecified</span></span>, duration&gt;;
    static constexpr bool is_steady = <span class='textit'><span class='texttt'>unspecified</span></span>;

    static time_point now() noexcept;
  };
}</pre><div class='para' id='hires-1'><div class='marginalizedparent'><a class='marginalized' href='#hires-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3510'>#</a></div><div id='hires-1.sentence-1' class='sentence'>Objects of class <span class='texttt'>high_&shy;resolution_&shy;clock</span> represent clocks with the
shortest tick period<a class='hidden_link' href='#hires-1.sentence-1'>.</a></div> <div id='hires-1.sentence-2' class='sentence'><span class='texttt'>high_&shy;resolution_&shy;clock</span> may be a synonym for
<span class='texttt'>system_&shy;clock</span> or <span class='texttt'>steady_&shy;clock</span><a class='hidden_link' href='#hires-1.sentence-2'>.</a></div></div></div><div id='local' class='section'><h3 ><a class='secnum' href='#local' style='min-width:103pt'>25.7.8</a> Local time <a class='abbr_ref' href='time.clock.local'>[time.clock.local]</a></h3><span class='indexparent'><a class='index' id='lib:local_time'></a></span><div class='para' id='local-1'><div class='marginalizedparent'><a class='marginalized' href='#local-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3518'>#</a></div><div id='local-1.sentence-1' class='sentence'>The family of time points
denoted by <span class='texttt'>local_&shy;time&lt;Duration&gt;</span>
are based on the pseudo clock <span class='texttt'>local_&shy;t</span><a class='hidden_link' href='#local-1.sentence-1'>.</a></div> <div id='local-1.sentence-2' class='sentence'><span class='texttt'>local_&shy;t</span> has no member <span class='texttt'>now()</span>
and thus does not meet the clock requirements<a class='hidden_link' href='#local-1.sentence-2'>.</a></div> <div id='local-1.sentence-3' class='sentence'>Nevertheless <span class='texttt'>local_&shy;time&lt;Duration&gt;</span> serves the vital role of
representing local time with respect to a not-yet-specified time zone<a class='hidden_link' href='#local-1.sentence-3'>.</a></div> <div id='local-1.sentence-4' class='sentence'>Aside from being able to get the current time,
the complete <span class='texttt'>time_&shy;point</span> algebra is available
for <span class='texttt'>local_&shy;time&lt;Duration&gt;</span> (just as for <span class='texttt'>sys_&shy;time&lt;Duration&gt;</span>)<a class='hidden_link' href='#local-1.sentence-4'>.</a></div> <span class='indexparent'><a class='index' id='lib:operator<<,local_time'></a></span><span class='indexparent'><a class='index' id='lib:local_time,operator<<'></a></span></div><div class='itemdecl' id='local-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#local-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class charT, class traits, class Duration&gt;
  basic_ostream&lt;charT, traits&gt;&amp;
    operator&lt;&lt;(basic_ostream&lt;charT, traits&gt;&amp; os, const local_time&lt;Duration&gt;&amp; lt);
</code></div><div class='itemdescr'></div><div class='para' id='local-2'><div class='marginalizedparent'><a class='marginalized' href='#local-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3538'>#</a></div><div id='local-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
<pre class='codeblock'>
os &lt;&lt; sys_time&lt;Duration&gt;{lt.time_since_epoch()};</pre></div></div></div><div class='para' id='local-3'><div class='marginalizedparent'><a class='marginalized' href='#local-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3544'>#</a></div><div id='local-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>os</span><a class='hidden_link' href='#local-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:to_stream,local_time'></a></span><span class='indexparent'><a class='index' id='lib:local_time,to_stream'></a></span><div class='itemdecl' id='local-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#local-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class charT, class traits, class Duration&gt;
  basic_ostream&lt;charT, traits&gt;&amp;
    to_stream(basic_ostream&lt;charT, traits&gt;&amp; os, const charT* fmt, const local_time&lt;Duration&gt;&amp; tp,
              const string* abbrev = nullptr, const seconds* offset_sec = nullptr);
</code></div><div class='itemdescr'></div><div class='para' id='local-4'><div class='marginalizedparent'><a class='marginalized' href='#local-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3557'>#</a></div><div id='local-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Streams <span class='texttt'>tp</span> into <span class='texttt'>os</span> using
the format specified by the NTCTS <span class='texttt'>fmt</span><a class='hidden_link' href='#local-4.sentence-1'>.</a></div> <div id='local-4.sentence-2' class='sentence'><span class='texttt'>fmt</span> encoding follows the rules specified in <a href='time.format'>[time.format]</a><a class='hidden_link' href='#local-4.sentence-2'>.</a></div> <div id='local-4.sentence-3' class='sentence'>If <span class='texttt'>%Z</span> is used,
it will be replaced with <span class='texttt'>*abbrev</span> if <span class='texttt'>abbrev</span> is not equal to <span class='texttt'>nullptr</span><a class='hidden_link' href='#local-4.sentence-3'>.</a></div> <div id='local-4.sentence-4' class='sentence'>If <span class='texttt'>abbrev</span> is equal to <span class='texttt'>nullptr</span> (and <span class='texttt'>%Z</span> is used),
<span class='texttt'>os.setstate(ios_&shy;base&#x200b;::&#x200b;failbit)</span> shall be called<a class='hidden_link' href='#local-4.sentence-4'>.</a></div> <div id='local-4.sentence-5' class='sentence'>If <span class='texttt'>%z</span> is used (or a modified variant of <span class='texttt'>%z</span>),
it will be formatted with the value of <span class='texttt'>*offset_&shy;sec</span>
if <span class='texttt'>offset_&shy;sec</span> is not equal to <span class='texttt'>nullptr</span><a class='hidden_link' href='#local-4.sentence-5'>.</a></div> <div id='local-4.sentence-6' class='sentence'>If <span class='texttt'>%z</span> (or a modified variant of <span class='texttt'>%z</span>) is used,
and <span class='texttt'>offset_&shy;sec</span> is equal to <span class='texttt'>nullptr</span>, then
<span class='texttt'>os.setstate(ios_&shy;base&#x200b;::&#x200b;failbit)</span> shall be called<a class='hidden_link' href='#local-4.sentence-6'>.</a></div></div></div><div class='para' id='local-5'><div class='marginalizedparent'><a class='marginalized' href='#local-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3573'>#</a></div><div id='local-5.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>os</span><a class='hidden_link' href='#local-5.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:from_stream,local_time'></a></span><span class='indexparent'><a class='index' id='lib:local_time,from_stream'></a></span><div class='itemdecl' id='local-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#local-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class charT, class traits, class Duration, class Alloc = allocator&lt;charT&gt;&gt;
  basic_istream&lt;charT, traits&gt;&amp;
    from_stream(basic_istream&lt;charT, traits&gt;&amp; is, const charT* fmt,
                local_time&lt;Duration&gt;&amp; tp, basic_string&lt;charT, traits, Alloc&gt;* abbrev = nullptr,
                minutes* offset = nullptr);
</code></div><div class='itemdescr'></div><div class='para' id='local-6'><div class='marginalizedparent'><a class='marginalized' href='#local-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3587'>#</a></div><div id='local-6.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Attempts to parse the input stream <span class='texttt'>is</span>
into the <span class='texttt'>local_&shy;time</span> <span class='texttt'>tp</span> using
the format flags given in the NTCTS <span class='texttt'>fmt</span>
as specified in <a href='time.parse'>[time.parse]</a><a class='hidden_link' href='#local-6.sentence-1'>.</a></div> <div id='local-6.sentence-2' class='sentence'>If the parse fails to decode a valid date,
<span class='texttt'>is.setstate(ios_&shy;base&#x200b;::&#x200b;failbit)</span> shall be called
and <span class='texttt'>tp</span> shall not be modified<a class='hidden_link' href='#local-6.sentence-2'>.</a></div> <div id='local-6.sentence-3' class='sentence'>If <span class='texttt'>%Z</span> is used and successfully parsed,
that value will be assigned to <span class='texttt'>*abbrev</span> if <span class='texttt'>abbrev</span> is non-null<a class='hidden_link' href='#local-6.sentence-3'>.</a></div> <div id='local-6.sentence-4' class='sentence'>If <span class='texttt'>%z</span> (or a modified variant) is used and successfully parsed,
that value will be assigned to <span class='texttt'>*offset</span> if <span class='texttt'>offset</span> is non-null<a class='hidden_link' href='#local-6.sentence-4'>.</a></div></div></div><div class='para' id='local-7'><div class='marginalizedparent'><a class='marginalized' href='#local-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3601'>#</a></div><div id='local-7.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>is</span><a class='hidden_link' href='#local-7.sentence-1'>.</a></div></div></div></div><div id='cast' class='section'><h3 ><a class='secnum' href='#cast' style='min-width:103pt'>25.7.9</a> <span class='texttt'>time_&shy;point</span> conversions <a class='abbr_ref' href='time.clock.cast'>[time.clock.cast]</a></h3><div id='conv' class='section'><h4 ><a class='secnum' href='#conv' style='min-width:118pt'>25.7.9.1</a> Class template <span class='texttt'>clock_&shy;time_&shy;conversion</span> <a class='abbr_ref' href='time.clock.conv'>[time.clock.conv]</a></h4><span class='indexparent'><a class='index' id='lib:clock_time_conversion'></a></span>
<pre class='codeblock'>
namespace std::chrono {
  template&lt;class DestClock, class SourceClock&gt;
  struct clock_time_conversion {};
}</pre><div class='para' id='conv-1'><div class='marginalizedparent'><a class='marginalized' href='#conv-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3617'>#</a></div><div id='conv-1.sentence-1' class='sentence'><span class='texttt'>clock_&shy;time_&shy;conversion</span> serves as a trait
which can be used to specify how to convert
a source <span class='texttt'>time_&shy;point</span> of type
<span class='texttt'>time_&shy;point&lt;SourceClock, Duration&gt;</span>
to a destination <span class='texttt'>time_&shy;point</span> of type
<span class='texttt'>time_&shy;point&lt;DestClock, Duration&gt;</span>
via a specialization:
<span class='texttt'>clock_&shy;time_&shy;conversion&lt;DestClock, SourceClock&gt;</span><a class='hidden_link' href='#conv-1.sentence-1'>.</a></div> <div id='conv-1.sentence-2' class='sentence'>A specialization of <span class='texttt'>clock_&shy;time_&shy;conversion&lt;DestClock, SourceClock&gt;</span>
shall provide a const-qualified <span class='texttt'>operator()</span>
that takes a parameter of type <span class='texttt'>time_&shy;point&lt;SourceClock, Duration&gt;</span>
and returns a <span class='texttt'>time_&shy;point&lt;DestClock, OtherDuration&gt;</span>
representing an equivalent point in time<a class='hidden_link' href='#conv-1.sentence-2'>.</a></div> <div id='conv-1.sentence-3' class='sentence'><span class='texttt'>OtherDuration</span> is a <span class='texttt'>chrono&#x200b;::&#x200b;duration</span>
whose specialization is computed from the input <span class='texttt'>Duration</span>
in a manner which can vary for each <span class='texttt'>clock_&shy;time_&shy;conversion</span> specialization<a class='hidden_link' href='#conv-1.sentence-3'>.</a></div> <div id='conv-1.sentence-4' class='sentence'>A program may specialize <span class='texttt'>clock_&shy;time_&shy;conversion</span>
if at least one of the template parameters is a user-defined clock type<a class='hidden_link' href='#conv-1.sentence-4'>.</a></div></div><div class='para' id='conv-2'><div class='marginalizedparent'><a class='marginalized' href='#conv-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3637'>#</a></div><div id='conv-2.sentence-1' class='sentence'>Several specializations are provided by the implementation,
as described in
<a href='#cast.id'>[time.clock.cast.id]</a>,
<a href='#cast.sys.utc'>[time.clock.cast.sys.utc]</a>,
<a href='#cast.sys'>[time.clock.cast.sys]</a>, and
<a href='#cast.utc'>[time.clock.cast.utc]</a><a class='hidden_link' href='#conv-2.sentence-1'>.</a></div></div></div><div id='cast.id' class='section'><h4 ><a class='secnum' href='#cast.id' style='min-width:118pt'>25.7.9.2</a> Identity conversions <a class='abbr_ref' href='time.clock.cast.id'>[time.clock.cast.id]</a></h4><pre class='codeblock'>
template&lt;typename Clock&gt;
struct clock_time_conversion&lt;Clock, Clock&gt; {
  template&lt;class Duration&gt;
    time_point&lt;Clock, Duration&gt;
      operator()(const time_point&lt;Clock, Duration&gt;&amp; t) const;
};</pre> <span class='indexparent'><a class='index' id='lib:operator(),clock_time_conversion'></a></span><span class='indexparent'><a class='index' id='lib:clock_time_conversion,operator()'></a></span><div class='itemdecl' id='cast.id-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#cast.id-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class Duration&gt;
  time_point&lt;Clock, Duration&gt;
    operator()(const time_point&lt;Clock, Duration&gt;&amp; t) const;
</code></div><div class='itemdescr'></div><div class='para' id='cast.id-1'><div class='marginalizedparent'><a class='marginalized' href='#cast.id-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3664'>#</a></div><div id='cast.id-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>t</span><a class='hidden_link' href='#cast.id-1.sentence-1'>.</a></div></div></div><pre class='codeblock'>
template&lt;&gt;
struct clock_time_conversion&lt;system_clock, system_clock&gt; {
  template&lt;class Duration&gt;
    sys_time&lt;Duration&gt;
      operator()(const sys_time&lt;Duration&gt;&amp; t) const;
};</pre> <span class='indexparent'><a class='index' id='lib:operator(),clock_time_conversion_'></a></span><span class='indexparent'><a class='index' id='lib:clock_time_conversion,operator()_'></a></span><div class='itemdecl' id='cast.id-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#cast.id-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class Duration&gt;
  sys_time&lt;Duration&gt;
    operator()(const sys_time&lt;Duration&gt;&amp; t) const;
</code></div><div class='itemdescr'></div><div class='para' id='cast.id-2'><div class='marginalizedparent'><a class='marginalized' href='#cast.id-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3685'>#</a></div><div id='cast.id-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>t</span><a class='hidden_link' href='#cast.id-2.sentence-1'>.</a></div></div></div><pre class='codeblock'>
template&lt;&gt;
struct clock_time_conversion&lt;utc_clock, utc_clock&gt; {
  template&lt;class Duration&gt;
    utc_time&lt;Duration&gt;
      operator()(const utc_time&lt;Duration&gt;&amp; t) const;
};</pre> <span class='indexparent'><a class='index' id='lib:operator(),clock_time_conversion__'></a></span><span class='indexparent'><a class='index' id='lib:clock_time_conversion,operator()__'></a></span><div class='itemdecl' id='cast.id-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#cast.id-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class Duration&gt;
  utc_time&lt;Duration&gt;
    operator()(const utc_time&lt;Duration&gt;&amp; t) const;
</code></div><div class='itemdescr'></div><div class='para' id='cast.id-3'><div class='marginalizedparent'><a class='marginalized' href='#cast.id-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3706'>#</a></div><div id='cast.id-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>t</span><a class='hidden_link' href='#cast.id-3.sentence-1'>.</a></div></div></div></div><div id='cast.sys.utc' class='section'><h4 ><a class='secnum' href='#cast.sys.utc' style='min-width:118pt'>25.7.9.3</a> Conversions between <span class='texttt'>system_&shy;clock</span> and <span class='texttt'>utc_&shy;clock</span> <a class='abbr_ref' href='time.clock.cast.sys.utc'>[time.clock.cast.sys.utc]</a></h4><pre class='codeblock'>
template&lt;&gt;
struct clock_time_conversion&lt;utc_clock, system_clock&gt; {
  template&lt;class Duration&gt;
    utc_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;
      operator()(const sys_time&lt;Duration&gt;&amp; t) const;
};</pre> <span class='indexparent'><a class='index' id='lib:operator(),clock_time_conversion___'></a></span><span class='indexparent'><a class='index' id='lib:clock_time_conversion,operator()___'></a></span><div class='itemdecl' id='cast.sys.utc-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#cast.sys.utc-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class Duration&gt;
  utc_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;
    operator()(const sys_time&lt;Duration&gt;&amp; t) const;
</code></div><div class='itemdescr'></div><div class='para' id='cast.sys.utc-1'><div class='marginalizedparent'><a class='marginalized' href='#cast.sys.utc-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3729'>#</a></div><div id='cast.sys.utc-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>utc_&shy;clock&#x200b;::&#x200b;from_&shy;sys(t)</span><a class='hidden_link' href='#cast.sys.utc-1.sentence-1'>.</a></div></div></div><pre class='codeblock'>
template&lt;&gt;
struct clock_time_conversion&lt;system_clock, utc_clock&gt; {
  template&lt;class Duration&gt;
    sys_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;
      operator()(const utc_time&lt;Duration&gt;&amp; t) const;
};</pre> <span class='indexparent'><a class='index' id='lib:operator(),clock_time_conversion____'></a></span><span class='indexparent'><a class='index' id='lib:clock_time_conversion,operator()____'></a></span><div class='itemdecl' id='cast.sys.utc-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#cast.sys.utc-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class Duration&gt;
  sys_time&lt;common_type_t&lt;Duration, seconds&gt;&gt;
    operator()(const utc_time&lt;Duration&gt;&amp; t) const;
</code></div><div class='itemdescr'></div><div class='para' id='cast.sys.utc-2'><div class='marginalizedparent'><a class='marginalized' href='#cast.sys.utc-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3750'>#</a></div><div id='cast.sys.utc-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>utc_&shy;clock&#x200b;::&#x200b;to_&shy;sys(t)</span><a class='hidden_link' href='#cast.sys.utc-2.sentence-1'>.</a></div></div></div></div><div id='cast.sys' class='section'><h4 ><a class='secnum' href='#cast.sys' style='min-width:118pt'>25.7.9.4</a> Conversions between <span class='texttt'>system_&shy;clock</span> and other clocks <a class='abbr_ref' href='time.clock.cast.sys'>[time.clock.cast.sys]</a></h4><pre class='codeblock'>
template&lt;class SourceClock&gt;
struct clock_time_conversion&lt;system_clock, SourceClock&gt; {
  template&lt;class Duration&gt;
    auto operator()(const time_point&lt;SourceClock, Duration&gt;&amp; t) const
      -&gt; decltype(SourceClock::to_sys(t));
};</pre> <span class='indexparent'><a class='index' id='lib:operator(),clock_time_conversion_____'></a></span><span class='indexparent'><a class='index' id='lib:clock_time_conversion,operator()_____'></a></span><div class='itemdecl' id='cast.sys-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#cast.sys-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class Duration&gt;
  auto operator()(const time_point&lt;SourceClock, Duration&gt;&amp; t) const
    -&gt; decltype(SourceClock::to_sys(t));
</code></div><div class='itemdescr'></div><div class='para' id='cast.sys-1'><div class='marginalizedparent'><a class='marginalized' href='#cast.sys-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3773'>#</a></div><div id='cast.sys-1.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function does not participate in overload resolution unless
<span class='texttt'>SourceClock&#x200b;::&#x200b;to_&shy;sys(t)</span> is well-formed<a class='hidden_link' href='#cast.sys-1.sentence-1'>.</a></div> <div id='cast.sys-1.sentence-2' class='sentence'>If <span class='texttt'>SourceClock&#x200b;::&#x200b;to_&shy;sys(t)</span>
does not return <span class='texttt'>sys_&shy;time&lt;Duration&gt;</span>,
where <span class='texttt'>Duration</span> is a valid <span class='texttt'>chrono&#x200b;::&#x200b;duration</span> specialization,
the program is ill-formed<a class='hidden_link' href='#cast.sys-1.sentence-2'>.</a></div></div></div><div class='para' id='cast.sys-2'><div class='marginalizedparent'><a class='marginalized' href='#cast.sys-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3782'>#</a></div><div id='cast.sys-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>SourceClock&#x200b;::&#x200b;to_&shy;sys(t)</span><a class='hidden_link' href='#cast.sys-2.sentence-1'>.</a></div></div></div><pre class='codeblock'>
template&lt;class DestClock&gt;
struct clock_time_conversion&lt;DestClock, system_clock&gt; {
  template&lt;class Duration&gt;
    auto operator()(const sys_time&lt;Duration&gt;&amp; t) const
      -&gt; decltype(DestClock::from_sys(t));
};</pre> <span class='indexparent'><a class='index' id='lib:operator(),clock_time_conversion______'></a></span><span class='indexparent'><a class='index' id='lib:clock_time_conversion,operator()______'></a></span><div class='itemdecl' id='cast.sys-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#cast.sys-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class Duration&gt;
  auto operator()(const sys_time&lt;Duration&gt;&amp; t) const
    -&gt; decltype(DestClock::from_sys(t));
</code></div><div class='itemdescr'></div><div class='para' id='cast.sys-3'><div class='marginalizedparent'><a class='marginalized' href='#cast.sys-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3803'>#</a></div><div id='cast.sys-3.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function does not participate in overload resolution unless
<span class='texttt'>DestClock&#x200b;::&#x200b;from_&shy;sys(t)</span> is well-formed<a class='hidden_link' href='#cast.sys-3.sentence-1'>.</a></div> <div id='cast.sys-3.sentence-2' class='sentence'>If <span class='texttt'>DestClock&#x200b;::&#x200b;from_&shy;sys(t)</span> does not return
<span class='texttt'>time_&shy;point&lt;DestClock, Duration&gt;</span>,
where <span class='texttt'>Duration</span> is a valid <span class='texttt'>chrono&#x200b;::&#x200b;duration</span> specialization,
the program is ill-formed<a class='hidden_link' href='#cast.sys-3.sentence-2'>.</a></div></div></div><div class='para' id='cast.sys-4'><div class='marginalizedparent'><a class='marginalized' href='#cast.sys-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3812'>#</a></div><div id='cast.sys-4.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>DestClock&#x200b;::&#x200b;from_&shy;sys(t)</span><a class='hidden_link' href='#cast.sys-4.sentence-1'>.</a></div></div></div></div><div id='cast.utc' class='section'><h4 ><a class='secnum' href='#cast.utc' style='min-width:118pt'>25.7.9.5</a> Conversions between <span class='texttt'>utc_&shy;clock</span> and other clocks <a class='abbr_ref' href='time.clock.cast.utc'>[time.clock.cast.utc]</a></h4><pre class='codeblock'>
template&lt;class SourceClock&gt;
struct clock_time_conversion&lt;utc_clock, SourceClock&gt; {
  template&lt;class Duration&gt;
    auto operator()(const time_point&lt;SourceClock, Duration&gt;&amp; t) const
      -&gt; decltype(SourceClock::to_utc(t));
};</pre> <span class='indexparent'><a class='index' id='lib:operator(),clock_time_conversion_______'></a></span><span class='indexparent'><a class='index' id='lib:clock_time_conversion,operator()_______'></a></span><div class='itemdecl' id='cast.utc-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#cast.utc-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class Duration&gt;
  auto operator()(const time_point&lt;SourceClock, Duration&gt;&amp; t) const
    -&gt; decltype(SourceClock::to_utc(t));
</code></div><div class='itemdescr'></div><div class='para' id='cast.utc-1'><div class='marginalizedparent'><a class='marginalized' href='#cast.utc-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3835'>#</a></div><div id='cast.utc-1.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function does not participate in overload resolution unless
<span class='texttt'>SourceClock&#x200b;::&#x200b;to_&shy;utc(t)</span> is well-formed<a class='hidden_link' href='#cast.utc-1.sentence-1'>.</a></div> <div id='cast.utc-1.sentence-2' class='sentence'>If <span class='texttt'>SourceClock&#x200b;::&#x200b;to_&shy;utc(t)</span> does not return
<span class='texttt'>utc_&shy;time&lt;Duration&gt;</span>,
where <span class='texttt'>Duration</span> is a valid <span class='texttt'>chrono&#x200b;::&#x200b;duration</span> specialization,
the program is ill-formed<a class='hidden_link' href='#cast.utc-1.sentence-2'>.</a></div></div></div><div class='para' id='cast.utc-2'><div class='marginalizedparent'><a class='marginalized' href='#cast.utc-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3844'>#</a></div><div id='cast.utc-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>SourceClock&#x200b;::&#x200b;to_&shy;utc(t)</span><a class='hidden_link' href='#cast.utc-2.sentence-1'>.</a></div></div></div><pre class='codeblock'>
template&lt;class DestClock&gt;
struct clock_time_conversion&lt;DestClock, utc_clock&gt; {
  template&lt;class Duration&gt;
    auto operator()(const utc_time&lt;Duration&gt;&amp; t) const
      -&gt; decltype(DestClock::from_utc(t));
};</pre> <span class='indexparent'><a class='index' id='lib:operator(),clock_time_conversion________'></a></span><span class='indexparent'><a class='index' id='lib:clock_time_conversion,operator()________'></a></span><div class='itemdecl' id='cast.utc-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#cast.utc-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class Duration&gt;
  auto operator()(const utc_time&lt;Duration&gt;&amp; t) const
    -&gt; decltype(DestClock::from_utc(t));
</code></div><div class='itemdescr'></div><div class='para' id='cast.utc-3'><div class='marginalizedparent'><a class='marginalized' href='#cast.utc-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3865'>#</a></div><div id='cast.utc-3.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function does not participate in overload resolution unless
<span class='texttt'>DestClock&#x200b;::&#x200b;from_&shy;utc(t)</span> is well-formed<a class='hidden_link' href='#cast.utc-3.sentence-1'>.</a></div> <div id='cast.utc-3.sentence-2' class='sentence'>If <span class='texttt'>DestClock&#x200b;::&#x200b;from_&shy;utc(t)</span> does not return
<span class='texttt'>time_&shy;point&lt;DestClock, Duration&gt;</span>,
where <span class='texttt'>Duration</span> is a valid <span class='texttt'>chrono&#x200b;::&#x200b;duration</span> specialization,
the program is ill-formed<a class='hidden_link' href='#cast.utc-3.sentence-2'>.</a></div></div></div><div class='para' id='cast.utc-4'><div class='marginalizedparent'><a class='marginalized' href='#cast.utc-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3874'>#</a></div><div id='cast.utc-4.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>DestClock&#x200b;::&#x200b;from_&shy;utc(t)</span><a class='hidden_link' href='#cast.utc-4.sentence-1'>.</a></div></div></div></div><div id='cast.fn' class='section'><h4 ><a class='secnum' href='#cast.fn' style='min-width:118pt'>25.7.9.6</a> Function template <span class='texttt'>clock_&shy;cast</span> <a class='abbr_ref' href='time.clock.cast.fn'>[time.clock.cast.fn]</a></h4><span class='indexparent'><a class='index' id='lib:clock_cast'></a></span><div class='itemdecl' id='cast.fn-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#cast.fn-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>template&lt;class DestClock, class SourceClock, class Duration&gt;
  auto clock_cast(const time_point&lt;SourceClock, Duration&gt;&amp; t);
</code></div><div class='itemdescr'></div><div class='para' id='cast.fn-1'><div class='marginalizedparent'><a class='marginalized' href='#cast.fn-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3887'>#</a></div><div id='cast.fn-1.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function does not participate in overload resolution unless
at least one of the following clock time conversion expressions
is well-formed:</div><div id='cast.fn-1.sentence-2' class='sentence'><ul class='itemize'><li id='cast.fn-1.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#cast.fn-1.1'>(1.1)</a></div><pre class='codeblock'>
clock_time_conversion&lt;DestClock, SourceClock&gt;{}(t)</pre></li><li id='cast.fn-1.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#cast.fn-1.2'>(1.2)</a></div><pre class='codeblock'>
clock_time_conversion&lt;DestClock, system_clock&gt;{}(
    clock_time_conversion&lt;system_clock, SourceClock&gt;{}(t))</pre></li><li id='cast.fn-1.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#cast.fn-1.3'>(1.3)</a></div><pre class='codeblock'>
clock_time_conversion&lt;DestClock, utc_clock&gt;{}(
    clock_time_conversion&lt;utc_clock, SourceClock&gt;{}(t))</pre></li><li id='cast.fn-1.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#cast.fn-1.4'>(1.4)</a></div><pre class='codeblock'>
clock_time_conversion&lt;DestClock, utc_clock&gt;{}(
    clock_time_conversion&lt;utc_clock, system_clock&gt;{}(
        clock_time_conversion&lt;system_clock, SourceClock&gt;{}(t)))</pre></li><li id='cast.fn-1.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#cast.fn-1.5'>(1.5)</a></div><pre class='codeblock'>
clock_time_conversion&lt;DestClock, system_clock&gt;{}(
    clock_time_conversion&lt;system_clock, utc_clock&gt;{}(
        clock_time_conversion&lt;utc_clock, SourceClock&gt;{}(t)))</pre></li></ul></div><div id='cast.fn-1.sentence-3' class='sentence'>A clock time conversion expression is considered better than
another clock time conversion expression if it involves fewer
<span class='texttt'>operator()</span> calls on <span class='texttt'>clock_&shy;time_&shy;conversion</span>
specializations<a class='hidden_link' href='#cast.fn-1.sentence-3'>.</a></div> <div id='cast.fn-1.sentence-4' class='sentence'>If, among the well-formed clock time conversion expressions
from the above list, there is not a unique best expression,
the <span class='texttt'>clock_&shy;cast</span> is ambiguous and the program is ill-formed<a class='hidden_link' href='#cast.fn-1.sentence-4'>.</a></div></div></div><div class='para' id='cast.fn-2'><div class='marginalizedparent'><a class='marginalized' href='#cast.fn-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1a21a65f286cd831d060475043d2be3349c8be7b/source/time.tex#L3934'>#</a></div><div id='cast.fn-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The best well-formed clock time conversion expression in the above list<a class='hidden_link' href='#cast.fn-2.sentence-1'>.</a></div></div></div></div></div></div></body></html>