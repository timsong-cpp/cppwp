<!DOCTYPE html><html lang='en'><head><title>[mdspan.submdspan]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>24</a> Containers library <a class='abbr_ref' href='./#containers'>[containers]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>24.7</a> Views <a class='abbr_ref' href='views#mdspan.submdspan'>[views]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>24.7.3</a> Multidimensional access <a class='abbr_ref' href='views.multidim#mdspan.submdspan'>[views.multidim]</a></h3><h4 ><a class='secnum' style='min-width:95pt'>24.7.3.7</a> <span class='texttt'>submdspan</span> <a class='abbr_ref'>[mdspan.submdspan]</a></h4><div id='overview' class='section'><h4 ><a class='secnum' href='#overview' style='min-width:110pt'>24.7.3.7.1</a> Overview <a class='abbr_ref' href='mdspan.submdspan.overview'>[mdspan.submdspan.overview]</a></h4><div class='para' id='overview-1'><div class='marginalizedparent'><a class='marginalized' href='#overview-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21561'>#</a></div><div class='texpara'><div id='overview-1.sentence-1' class='sentence'>The <span class='texttt'>submdspan</span> facilities create a new <span class='texttt'>mdspan</span>
viewing a subset of elements of an existing input <span class='texttt'>mdspan</span><a class='hidden_link' href='#overview-1.sentence-1'>.</a></div> <div id='overview-1.sentence-2' class='sentence'>The subset viewed by the created <span class='texttt'>mdspan</span> is determined by
the <span class='texttt'>SliceSpecifier</span> arguments<a class='hidden_link' href='#overview-1.sentence-2'>.</a></div></div></div><div class='para' id='overview-2'><div class='marginalizedparent'><a class='marginalized' href='#overview-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21567'>#</a></div><div class='texpara'><div id='overview-2.sentence-1' class='sentence'>For each function defined in subclause [mdspan.<span class='shy'></span>submdspan] that
takes a parameter pack named <span class='texttt'>slices</span> as an argument:
<ul class='itemize'><li id='overview-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#overview-2.1'>(2.1)</a></div>let <span class='texttt'>index_<span class='shy'></span>type</span> be
  <ul class='itemize'><li id='overview-2.1.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#overview-2.1.1'>(2.1.1)</a></div><span class='texttt'>M<span class='operator'>&#x200b;::&#x200b;</span>index_<span class='shy'></span>type</span>
  if the function is a member of a class <span class='texttt'>M</span>,</li><li id='overview-2.1.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#overview-2.1.2'>(2.1.2)</a></div>otherwise,
  <span class='texttt'>remove_<span class='shy'></span>reference_<span class='shy'></span>t<span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span>src<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>index_<span class='shy'></span>type</span>
  if the function has a parameter named <span class='texttt'>src</span>,</li><li id='overview-2.1.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#overview-2.1.3'>(2.1.3)</a></div>otherwise,
  the same type as the function's template argument <span class='texttt'>IndexType</span>;</li></ul></li><li id='overview-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#overview-2.2'>(2.2)</a></div>let <span class='texttt'>rank</span> be the number of elements in <span class='texttt'>slices</span>;</li><li id='overview-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#overview-2.3'>(2.3)</a></div>let <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> be the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> element of <span class='texttt'>slices</span>;</li><li id='overview-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#overview-2.4'>(2.4)</a></div>let <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> be the type of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span>; and</li><li id='overview-2.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#overview-2.5'>(2.5)</a></div>let <span class='texttt'><i >map-rank</i></span> be an <span class='texttt'>array<span class='anglebracket'>&lt;</span>size_<span class='shy'></span>t, rank<span class='anglebracket'>&gt;</span></span> such that
for each <span class='math'><span class='mathalpha'>k</span></span> in the range [<span class='texttt'><span class='literal'>0</span>, rank</span>),
<span class='texttt'><i >map-rank</i><span class='squarebracket'>[</span><span class='math'><span class='mathalpha'>k</span></span><span class='squarebracket'>]</span></span> equals:
  <ul class='itemize'><li id='overview-2.5.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#overview-2.5.1'>(2.5.1)</a></div><span class='texttt'>dynamic_<span class='shy'></span>extent</span>
  if <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> models <span class='texttt'><a href='concept.convertible#concept:convertible_to' title='18.4.4&emsp;Concept convertible_&shy;to&emsp;[concept.convertible]'><span id='conceptref:convertible_to'><span class='texttt'>convertible_<span class='shy'></span>to</span></span></a><span class='anglebracket'>&lt;</span>index_<span class='shy'></span>type<span class='anglebracket'>&gt;</span></span>,</li><li id='overview-2.5.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#overview-2.5.2'>(2.5.2)</a></div>otherwise,
  the number of types <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span> with <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span><span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span> that
  do not model <span class='texttt'><a href='concept.convertible#concept:convertible_to' title='18.4.4&emsp;Concept convertible_&shy;to&emsp;[concept.convertible]'><span id='conceptref:convertible_to_'><span class='texttt'>convertible_<span class='shy'></span>to</span></span></a><span class='anglebracket'>&lt;</span>index_<span class='shy'></span>type<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#overview-2.sentence-1'>.</a></li></ul></li></ul></div></div></div></div><div id='strided.slice' class='section'><h4 ><a class='secnum' href='#strided.slice' style='min-width:110pt'>24.7.3.7.2</a> <span class='texttt'>strided_<span class='shy'></span>slice</span> <a class='abbr_ref' href='mdspan.submdspan.strided.slice'>[mdspan.submdspan.strided.slice]</a></h4><div class='para' id='strided.slice-1'><div class='marginalizedparent'><a class='marginalized' href='#strided.slice-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21603'>#</a></div><div class='texpara'><div id='strided.slice-1.sentence-1' class='sentence'><span class='texttt'>strided_<span class='shy'></span>slice</span> represents a set of
<span class='texttt'>extent</span> regularly spaced integer indices<a class='hidden_link' href='#strided.slice-1.sentence-1'>.</a></div> <div id='strided.slice-1.sentence-2' class='sentence'>The indices start at <span class='texttt'>offset</span>, and
increase by increments of <span class='texttt'>stride</span><a class='hidden_link' href='#strided.slice-1.sentence-2'>.</a></div></div><div class='texpara'><span id='lib:strided_slice'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:strided_slice'>🔗</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> OffsetType, <span class='keyword'>class</span> ExtentType, <span class='keyword'>class</span> StrideType<span class='anglebracket'>&gt;</span>
  <span class='keyword'>struct</span> strided_slice <span class='curlybracket'>{</span>
    <span class='keyword'>using</span> offset_type <span class='operator'>=</span> OffsetType;
    <span class='keyword'>using</span> extent_type <span class='operator'>=</span> ExtentType;
    <span class='keyword'>using</span> stride_type <span class='operator'>=</span> StrideType;

    <span class='squarebracket'>[</span><span class='squarebracket'>[</span>no_unique_address<span class='squarebracket'>]</span><span class='squarebracket'>]</span> offset_type offset<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
    <span class='squarebracket'>[</span><span class='squarebracket'>[</span>no_unique_address<span class='squarebracket'>]</span><span class='squarebracket'>]</span> extent_type extent<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
    <span class='squarebracket'>[</span><span class='squarebracket'>[</span>no_unique_address<span class='squarebracket'>]</span><span class='squarebracket'>]</span> stride_type stride<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></div></div><div class='para' id='strided.slice-2'><div class='marginalizedparent'><a class='marginalized' href='#strided.slice-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21625'>#</a></div><div class='texpara'><div id='strided.slice-2.sentence-1' class='sentence'><span class='texttt'>strided_<span class='shy'></span>slice</span> has the data members and special members specified above<a class='hidden_link' href='#strided.slice-2.sentence-1'>.</a></div> <div id='strided.slice-2.sentence-2' class='sentence'>It has no base classes or members other than those specified<a class='hidden_link' href='#strided.slice-2.sentence-2'>.</a></div></div></div><div class='para' id='strided.slice-3'><div class='marginalizedparent'><a class='marginalized' href='#strided.slice-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21629'>#</a></div><div class='texpara'><div id='strided.slice-3.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>OffsetType</span>, <span class='texttt'>ExtentType</span>, and <span class='texttt'>StrideType</span>
are signed or unsigned integer types, or
model <a href='mdspan.syn#concept:integral-constant-like' title='24.7.3.2&emsp;Header &lt;mdspan&gt; synopsis&emsp;[mdspan.syn]'><span id='conceptref:integral-constant-like'><span class='texttt'><i >integral-constant-like</i></span></span></a><a class='hidden_link' href='#strided.slice-3.sentence-1'>.</a></div> <div id='strided.slice-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#strided.slice-note-1'>1</a></i>:&ensp;<div id='strided.slice-3.sentence-2' class='sentence'><span class='texttt'>strided_<span class='shy'></span>slice<span class='curlybracket'>{</span><span class='operator'>.</span>offset <span class='operator'>=</span> <span class='literal'>1</span>, <span class='operator'>.</span>extent <span class='operator'>=</span> <span class='literal'>10</span>, <span class='operator'>.</span>stride <span class='operator'>=</span> <span class='literal'>3</span><span class='curlybracket'>}</span></span>
indicates the indices <span class='texttt'><span class='literal'>1</span></span>, <span class='texttt'><span class='literal'>4</span></span>, <span class='texttt'><span class='literal'>7</span></span>, and <span class='texttt'><span class='literal'>10</span></span><a class='hidden_link' href='#strided.slice-3.sentence-2'>.</a></div> <div id='strided.slice-3.sentence-3' class='sentence'>Indices are selected from the half-open interval [<span class='texttt'><span class='literal'>1</span>, <span class='literal'>1</span> <span class='operator'>+</span> <span class='literal'>10</span></span>)<a class='hidden_link' href='#strided.slice-3.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='submdspan.mapping.result' class='section'><h4 ><a class='secnum' href='#submdspan.mapping.result' style='min-width:110pt'>24.7.3.7.3</a> <span class='texttt'>submdspan_<span class='shy'></span>mapping_<span class='shy'></span>result</span> <a class='abbr_ref' href='mdspan.submdspan.submdspan.mapping.result'>[mdspan.submdspan.submdspan.mapping.result]</a></h4><div class='para' id='submdspan.mapping.result-1'><div class='marginalizedparent'><a class='marginalized' href='#submdspan.mapping.result-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21642'>#</a></div><div class='texpara'><div id='submdspan.mapping.result-1.sentence-1' class='sentence'>Specializations of <span class='texttt'>submdspan_<span class='shy'></span>mapping_<span class='shy'></span>result</span>
are returned by overloads of <span class='texttt'>submdspan_<span class='shy'></span>mapping</span><a class='hidden_link' href='#submdspan.mapping.result-1.sentence-1'>.</a></div></div><div class='texpara'><span id='lib:submdspan_mapping_result'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:submdspan_mapping_result'>🔗</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> LayoutMapping<span class='anglebracket'>&gt;</span>
  <span class='keyword'>struct</span> submdspan_mapping_result <span class='curlybracket'>{</span>
    <span class='squarebracket'>[</span><span class='squarebracket'>[</span>no_unique_address<span class='squarebracket'>]</span><span class='squarebracket'>]</span> LayoutMapping mapping <span class='operator'>=</span> LayoutMapping<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    size_t offset<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></div></div><div class='para' id='submdspan.mapping.result-2'><div class='marginalizedparent'><a class='marginalized' href='#submdspan.mapping.result-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21657'>#</a></div><div class='texpara'><div id='submdspan.mapping.result-2.sentence-1' class='sentence'><span class='texttt'>submdspan_<span class='shy'></span>mapping_<span class='shy'></span>result</span> has
the data members and special members specified above<a class='hidden_link' href='#submdspan.mapping.result-2.sentence-1'>.</a></div> <div id='submdspan.mapping.result-2.sentence-2' class='sentence'>It has no base classes or members other than those specified<a class='hidden_link' href='#submdspan.mapping.result-2.sentence-2'>.</a></div></div></div><div class='para' id='submdspan.mapping.result-3'><div class='marginalizedparent'><a class='marginalized' href='#submdspan.mapping.result-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21662'>#</a></div><div class='texpara'><div id='submdspan.mapping.result-3.sentence-1' class='sentence'><span class='texttt'>LayoutMapping</span> shall meet
the layout mapping requirements (<a href='mdspan.layout.policy.reqmts' title='24.7.3.4.3&emsp;Layout mapping policy requirements'>[mdspan.<span class='shy'></span>layout.<span class='shy'></span>policy.<span class='shy'></span>reqmts]</a>)<a class='hidden_link' href='#submdspan.mapping.result-3.sentence-1'>.</a></div></div></div></div><div id='helpers' class='section'><h4 ><a class='secnum' href='#helpers' style='min-width:110pt'>24.7.3.7.4</a> Exposition-only helpers <a class='abbr_ref' href='mdspan.submdspan.helpers'>[mdspan.submdspan.helpers]</a></h4><div class='texpara'><div id='lib:first_'><div id='lib:de-ice'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:de-ice'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> T <span class='texttt'><i >de-ice</i></span><span class='parenthesis'>(</span>T val<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> val; <span class='curlybracket'>}</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><a href='mdspan.syn#concept:integral-constant-like' title='24.7.3.2&emsp;Header &lt;mdspan&gt; synopsis&emsp;[mdspan.syn]'><span id='conceptref:integral-constant-like_'><span class='texttt'><i >integral-constant-like</i></span></span></a> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> <span class='texttt'><i >de-ice</i></span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> T<span class='operator'>::</span>value; <span class='curlybracket'>}</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> IndexType, size_t k, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> SliceSpecifiers<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> IndexType <span class='texttt'><i >first_<span class='shy'></span></i></span><span class='parenthesis'>(</span>SliceSpecifiers<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> slices<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='helpers-1'><div class='marginalizedparent'><a class='marginalized' href='#helpers-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21681'>#</a></div><div class='texpara'><div id='helpers-1.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>IndexType</span> is a signed or unsigned integer type<a class='hidden_link' href='#helpers-1.sentence-1'>.</a></div></div></div></div><div class='para' id='helpers-2'><div class='marginalizedparent'><a class='marginalized' href='#helpers-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21686'>#</a></div><div class='texpara'><div id='helpers-2.sentence-1' class='sentence'>Let <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">ϕ</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> denote the following value:
<ul class='itemize'><li id='helpers-2.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#helpers-2.1'>(2.1)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> if <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> models <span class='texttt'><a href='concept.convertible#concept:convertible_to' title='18.4.4&emsp;Concept convertible_&shy;to&emsp;[concept.convertible]'><span id='conceptref:convertible_to__'><span class='texttt'>convertible_<span class='shy'></span>to</span></span></a><span class='anglebracket'>&lt;</span>IndexType<span class='anglebracket'>&gt;</span></span>;</li><li id='helpers-2.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#helpers-2.2'>(2.2)</a></div>otherwise,
<span class='texttt'>get<span class='anglebracket'>&lt;</span><span class='literal'>0</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='parenthesis'>)</span></span>
if <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> models <span class='texttt'><a href='mdspan.syn#concept:index-pair-like' title='24.7.3.2&emsp;Header &lt;mdspan&gt; synopsis&emsp;[mdspan.syn]'><span id='conceptref:index-pair-like'><span class='texttt'><i >index-pair-like</i></span></span></a><span class='anglebracket'>&lt;</span>IndexType<span class='anglebracket'>&gt;</span></span>;</li><li id='helpers-2.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#helpers-2.3'>(2.3)</a></div>otherwise,
<span class='texttt'><span class='texttt'><i >de-ice</i></span><span class='parenthesis'>(</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='operator'>.</span>offset<span class='parenthesis'>)</span></span>
if <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> is a specialization of <span class='texttt'>strided_<span class='shy'></span>slice</span>;</li><li id='helpers-2.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#helpers-2.4'>(2.4)</a></div>otherwise,
<span class='texttt'><span class='literal'>0</span></span><a class='hidden_link' href='#helpers-2.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='helpers-3'><div class='marginalizedparent'><a class='marginalized' href='#helpers-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21704'>#</a></div><div class='texpara'><div id='helpers-3.sentence-1' class='sentence'><i >Preconditions</i>: <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">ϕ</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> is representable as a value of type <span class='texttt'>IndexType</span><a class='hidden_link' href='#helpers-3.sentence-1'>.</a></div></div></div></div><div class='para' id='helpers-4'><div class='marginalizedparent'><a class='marginalized' href='#helpers-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21708'>#</a></div><div class='texpara'><div id='helpers-4.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>extents<span class='anglebracket'>&lt;</span>IndexType<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span><span class='texttt'><i >index-cast</i></span><span class='parenthesis'>(</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">ϕ</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#helpers-4.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:last_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:last_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t k, <span class='keyword'>class</span> Extents, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> SliceSpecifiers<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> <span class='texttt'><i >last_<span class='shy'></span></i></span><span class='parenthesis'>(</span><span class='keyword'>const</span> Extents<span class='operator'>&amp;</span> src, SliceSpecifiers<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> slices<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='helpers-5'><div class='marginalizedparent'><a class='marginalized' href='#helpers-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21720'>#</a></div><div class='texpara'><div id='helpers-5.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>Extents</span> is a specialization of <span class='texttt'>extents</span><a class='hidden_link' href='#helpers-5.sentence-1'>.</a></div></div></div></div><div class='para' id='helpers-6'><div class='marginalizedparent'><a class='marginalized' href='#helpers-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21724'>#</a></div><div class='texpara'><div id='helpers-6.sentence-1' class='sentence'>Let <span class='texttt'>index_<span class='shy'></span>type</span> be <span class='texttt'><span class='keyword'>typename</span> Extents<span class='operator'>&#x200b;::&#x200b;</span>index_<span class='shy'></span>type</span><a class='hidden_link' href='#helpers-6.sentence-1'>.</a></div></div></div></div><div class='para' id='helpers-7'><div class='marginalizedparent'><a class='marginalized' href='#helpers-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21728'>#</a></div><div class='texpara'><div id='helpers-7.sentence-1' class='sentence'>Let <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">λ</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> denote the following value:
<ul class='itemize'><li id='helpers-7.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#helpers-7.1'>(7.1)</a></div><span class='texttt'><span class='texttt'><i >de-ice</i></span><span class='parenthesis'>(</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='parenthesis'>)</span> <span class='operator'>+</span> <span class='literal'>1</span></span>
if <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> models <span class='texttt'><a href='concept.convertible#concept:convertible_to' title='18.4.4&emsp;Concept convertible_&shy;to&emsp;[concept.convertible]'><span id='conceptref:convertible_to___'><span class='texttt'>convertible_<span class='shy'></span>to</span></span></a><span class='anglebracket'>&lt;</span>index_<span class='shy'></span>type<span class='anglebracket'>&gt;</span></span>; otherwise</li><li id='helpers-7.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#helpers-7.2'>(7.2)</a></div><span class='texttt'>get<span class='anglebracket'>&lt;</span><span class='literal'>1</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='parenthesis'>)</span></span>
if <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> models <span class='texttt'><a href='mdspan.syn#concept:index-pair-like' title='24.7.3.2&emsp;Header &lt;mdspan&gt; synopsis&emsp;[mdspan.syn]'><span id='conceptref:index-pair-like_'><span class='texttt'><i >index-pair-like</i></span></span></a><span class='anglebracket'>&lt;</span>index_<span class='shy'></span>type<span class='anglebracket'>&gt;</span></span>; otherwise</li><li id='helpers-7.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#helpers-7.3'>(7.3)</a></div><span class='texttt'><span class='texttt'><i >de-ice</i></span><span class='parenthesis'>(</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='operator'>.</span>offset<span class='parenthesis'>)</span></span> <span class='texttt'><span class='operator'>+</span></span>
<span class='texttt'><span class='texttt'><i >de-ice</i></span><span class='parenthesis'>(</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='operator'>.</span>extent<span class='parenthesis'>)</span></span>
if <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> is a specialization of <span class='texttt'>strided_<span class='shy'></span>slice</span>; otherwise</li><li id='helpers-7.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#helpers-7.4'>(7.4)</a></div><span class='texttt'>src<span class='operator'>.</span>extent<span class='parenthesis'>(</span>k<span class='parenthesis'>)</span></span><a class='hidden_link' href='#helpers-7.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='helpers-8'><div class='marginalizedparent'><a class='marginalized' href='#helpers-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21746'>#</a></div><div class='texpara'><div id='helpers-8.sentence-1' class='sentence'><i >Preconditions</i>: <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">λ</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> is representable as a value of type <span class='texttt'>index_<span class='shy'></span>type</span><a class='hidden_link' href='#helpers-8.sentence-1'>.</a></div></div></div></div><div class='para' id='helpers-9'><div class='marginalizedparent'><a class='marginalized' href='#helpers-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21750'>#</a></div><div class='texpara'><div id='helpers-9.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>Extents<span class='operator'>&#x200b;::&#x200b;</span><span class='texttt'><i >index-cast</i></span><span class='parenthesis'>(</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">λ</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#helpers-9.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:src-indices'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:src-indices'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> IndexType, size_t N, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> SliceSpecifiers<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> array<span class='anglebracket'>&lt;</span>IndexType, <span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>SliceSpecifiers<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span>
    <span class='texttt'><i >src-indices</i></span><span class='parenthesis'>(</span><span class='keyword'>const</span> array<span class='anglebracket'>&lt;</span>IndexType, N<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> indices, SliceSpecifiers<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> slices<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='helpers-10'><div class='marginalizedparent'><a class='marginalized' href='#helpers-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21763'>#</a></div><div class='texpara'><div id='helpers-10.sentence-1' class='sentence'><i >Mandates</i>: <span class='texttt'>IndexType</span> is a signed or unsigned integer type<a class='hidden_link' href='#helpers-10.sentence-1'>.</a></div></div></div></div><div class='para' id='helpers-11'><div class='marginalizedparent'><a class='marginalized' href='#helpers-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21767'>#</a></div><div class='texpara'><div id='helpers-11.sentence-1' class='sentence'><i >Returns</i>: An <span class='texttt'>array<span class='anglebracket'>&lt;</span>IndexType, <span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>SliceSpecifiers<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span> src_<span class='shy'></span>idx</span> such that
for each <span class='math'><span class='mathalpha'>k</span></span> in the range [<span class='texttt'><span class='literal'>0</span>, <span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>SliceSpecifiers<span class='parenthesis'>)</span></span>),
<span class='texttt'>src_<span class='shy'></span>idx<span class='squarebracket'>[</span><span class='math'><span class='mathalpha'>k</span></span><span class='squarebracket'>]</span></span> equals</div></div><div class='texpara'><ul class='itemize'><li id='helpers-11.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#helpers-11.1'>(11.1)</a></div><span class='texttt'><span class='texttt'><i >first_<span class='shy'></span></i></span><span class='anglebracket'>&lt;</span>IndexType, <span class='math'><span class='mathalpha'>k</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>slices<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span> for each <span class='math'><span class='mathalpha'>k</span></span>
where <span class='texttt'><i >map-rank</i><span class='squarebracket'>[</span><span class='math'><span class='mathalpha'>k</span></span><span class='squarebracket'>]</span></span> equals
<span class='texttt'>dynamic_<span class='shy'></span>extent</span>,</li><li id='helpers-11.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#helpers-11.2'>(11.2)</a></div>otherwise,
<span class='texttt'><span class='texttt'><i >first_<span class='shy'></span></i></span><span class='anglebracket'>&lt;</span>IndexType, <span class='math'><span class='mathalpha'>k</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>slices<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span> <span class='texttt'><span class='operator'>+</span></span>
<span class='texttt'>indices<span class='squarebracket'>[</span><i >map-rank</i><span class='squarebracket'>[</span><span class='math'><span class='mathalpha'>k</span></span><span class='squarebracket'>]</span><span class='squarebracket'>]</span></span>.</li></ul></div></div></div></div><div id='extents' class='section'><h4 ><a class='secnum' href='#extents' style='min-width:110pt'>24.7.3.7.5</a> <span class='texttt'>submdspan_<span class='shy'></span>extents</span> function <a class='abbr_ref' href='mdspan.submdspan.extents'>[mdspan.submdspan.extents]</a></h4><div class='texpara'><div id='lib:submdspan_extents'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:submdspan_extents'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> IndexType, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Extents, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> SliceSpecifiers<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> submdspan_extents<span class='parenthesis'>(</span><span class='keyword'>const</span> extents<span class='anglebracket'>&lt;</span>IndexType, Extents<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> src,
                                   SliceSpecifiers<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> slices<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='extents-1'><div class='marginalizedparent'><a class='marginalized' href='#extents-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21799'>#</a></div><div class='texpara'><div id='extents-1.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>slices<span class='parenthesis'>)</span></span> equals <span class='texttt'>Extents<span class='operator'>&#x200b;::&#x200b;</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#extents-1.sentence-1'>.</a></div></div></div></div><div class='para' id='extents-2'><div class='marginalizedparent'><a class='marginalized' href='#extents-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21803'>#</a></div><div class='texpara'><div id='extents-2.sentence-1' class='sentence'><i >Mandates</i>: For each rank index <span class='math'><span class='mathalpha'>k</span></span> of <span class='texttt'>src<span class='operator'>.</span>extents<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
exactly one of the following is true:
<ul class='itemize'><li id='extents-2.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#extents-2.1'>(2.1)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> models <span class='texttt'><a href='concept.convertible#concept:convertible_to' title='18.4.4&emsp;Concept convertible_&shy;to&emsp;[concept.convertible]'><span id='conceptref:convertible_to____'><span class='texttt'>convertible_<span class='shy'></span>to</span></span></a><span class='anglebracket'>&lt;</span>IndexType<span class='anglebracket'>&gt;</span></span>,</li><li id='extents-2.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#extents-2.2'>(2.2)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> models <span class='texttt'><a href='mdspan.syn#concept:index-pair-like' title='24.7.3.2&emsp;Header &lt;mdspan&gt; synopsis&emsp;[mdspan.syn]'><span id='conceptref:index-pair-like__'><span class='texttt'><i >index-pair-like</i></span></span></a><span class='anglebracket'>&lt;</span>IndexType<span class='anglebracket'>&gt;</span></span>,</li><li id='extents-2.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#extents-2.3'>(2.3)</a></div><span class='texttt'>is_<span class='shy'></span>convertible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span>, full_<span class='shy'></span>extent_<span class='shy'></span>t<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, or</li><li id='extents-2.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#extents-2.4'>(2.4)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> is a specialization of <span class='texttt'>strided_<span class='shy'></span>slice</span><a class='hidden_link' href='#extents-2.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='extents-3'><div class='marginalizedparent'><a class='marginalized' href='#extents-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21814'>#</a></div><div class='texpara'><div id='extents-3.sentence-1' class='sentence'><i >Preconditions</i>: For each rank index <span class='math'><span class='mathalpha'>k</span></span> of <span class='texttt'>src<span class='operator'>.</span>extents<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
all of the following are <span class='texttt'><span class='literal'>true</span></span>:
<ul class='itemize'><li id='extents-3.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#extents-3.1'>(3.1)</a></div>if <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> is a specialization of <span class='texttt'>strided_<span class='shy'></span>slice</span>
  <ul class='itemize'><li id='extents-3.1.1'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#extents-3.1.1'>(3.1.1)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mrow"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;"><span class='operator'>.</span>extent</span></span></span></span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span>, or</li><li id='extents-3.1.2'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#extents-3.1.2'>(3.1.2)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mrow"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;"><span class='operator'>.</span>stride</span></span></span></span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&gt;</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></li></ul></li><li id='extents-3.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#extents-3.2'>(3.2)</a></div><span class='math'>0 &ensp;≤&ensp;<span class='texttt'><span class='texttt'><i >first_<span class='shy'></span></i></span><span class='anglebracket'>&lt;</span>IndexType, <span class='math'><span class='mathalpha'>k</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>slices<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span></span>
<span class='math'>&ensp;≤&ensp;<span class='texttt'><span class='texttt'><i >last_<span class='shy'></span></i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>k</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>src, slices<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span></span>
<span class='math'>&ensp;≤&ensp;<span class='texttt'>src<span class='operator'>.</span>extent<span class='parenthesis'>(</span><span class='math'><span class='mathalpha'>k</span></span><span class='parenthesis'>)</span></span></span></li></ul></div></div></div></div><div class='para' id='extents-4'><div class='marginalizedparent'><a class='marginalized' href='#extents-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21831'>#</a></div><div class='texpara'><div id='extents-4.sentence-1' class='sentence'>Let <span class='texttt'>SubExtents</span> be a specialization of <span class='texttt'>extents</span> such that:
<ul class='itemize'><li id='extents-4.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#extents-4.1'>(4.1)</a></div><span class='texttt'>SubExtents<span class='operator'>&#x200b;::&#x200b;</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> equals the number of <span class='math'><span class='mathalpha'>k</span></span> such that
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> does not model <span class='texttt'><a href='concept.convertible#concept:convertible_to' title='18.4.4&emsp;Concept convertible_&shy;to&emsp;[concept.convertible]'><span id='conceptref:convertible_to_____'><span class='texttt'>convertible_<span class='shy'></span>to</span></span></a><span class='anglebracket'>&lt;</span>IndexType<span class='anglebracket'>&gt;</span></span>; and</li><li id='extents-4.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#extents-4.2'>(4.2)</a></div>for each rank index <span class='math'><span class='mathalpha'>k</span></span> of <span class='texttt'>Extents</span> such that
<span class='texttt'><i >map-rank</i><span class='squarebracket'>[</span><span class='math'><span class='mathalpha'>k</span></span><span class='squarebracket'>]</span> <span class='operator'>!</span><span class='operator'>=</span> dynamic_<span class='shy'></span>extent</span> is <span class='texttt'><span class='literal'>true</span></span>,
<span class='texttt'>SubExtents<span class='operator'>&#x200b;::&#x200b;</span>static_<span class='shy'></span>extent<span class='parenthesis'>(</span><i >map-rank</i><span class='squarebracket'>[</span><span class='math'><span class='mathalpha'>k</span></span><span class='squarebracket'>]</span><span class='parenthesis'>)</span></span> equals:
  <ul class='itemize'><li id='extents-4.2.1'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#extents-4.2.1'>(4.2.1)</a></div><span class='texttt'>Extents<span class='operator'>&#x200b;::&#x200b;</span>static_<span class='shy'></span>extent<span class='parenthesis'>(</span><span class='math'><span class='mathalpha'>k</span></span><span class='parenthesis'>)</span></span>
  if <span class='texttt'>is_<span class='shy'></span>convertible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span>, full_<span class='shy'></span>extent_<span class='shy'></span>t<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>;
  otherwise</li><li id='extents-4.2.2'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#extents-4.2.2'>(4.2.2)</a></div><span class='texttt'><span class='texttt'><i >de-ice</i></span><span class='parenthesis'>(</span>tuple_<span class='shy'></span>element_<span class='shy'></span>t<span class='anglebracket'>&lt;</span><span class='literal'>1</span>, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='operator'>-</span></span>
  <span class='texttt'><span class='texttt'><i >de-ice</i></span><span class='parenthesis'>(</span>tuple_<span class='shy'></span>element_<span class='shy'></span>t<span class='anglebracket'>&lt;</span><span class='literal'>0</span>, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
  if <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> models <span class='texttt'><a href='mdspan.syn#concept:index-pair-like' title='24.7.3.2&emsp;Header &lt;mdspan&gt; synopsis&emsp;[mdspan.syn]'><span id='conceptref:index-pair-like___'><span class='texttt'><i >index-pair-like</i></span></span></a><span class='anglebracket'>&lt;</span>IndexType<span class='anglebracket'>&gt;</span></span>, and
  both <span class='texttt'>tuple_<span class='shy'></span>element_<span class='shy'></span>t<span class='anglebracket'>&lt;</span><span class='literal'>0</span>, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> and
  <span class='texttt'>tuple_<span class='shy'></span>element_<span class='shy'></span>t<span class='anglebracket'>&lt;</span><span class='literal'>1</span>, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span>
  model <a href='mdspan.syn#concept:integral-constant-like' title='24.7.3.2&emsp;Header &lt;mdspan&gt; synopsis&emsp;[mdspan.syn]'><span id='conceptref:integral-constant-like__'><span class='texttt'><i >integral-constant-like</i></span></span></a>; otherwise</li><li id='extents-4.2.3'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#extents-4.2.3'>(4.2.3)</a></div><span class='texttt'><span class='literal'>0</span></span>,
  if <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> is a specialization of <span class='texttt'>strided_<span class='shy'></span>slice</span>, whose
  <span class='texttt'>extent_<span class='shy'></span>type</span> models <span id='conceptref:integral-constant-like___'><span class='texttt'><i >integral-constant-like</i></span></span>,
  for which <span class='texttt'>extent_<span class='shy'></span>type<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> equals zero; otherwise</li><li id='extents-4.2.4'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#extents-4.2.4'>(4.2.4)</a></div><span class='texttt'><span class='literal'>1</span> <span class='operator'>+</span> <span class='parenthesis'>(</span><span class='texttt'><i >de-ice</i></span><span class='parenthesis'>(</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='operator'>&#x200b;::&#x200b;</span>extent_<span class='shy'></span>type<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='operator'>-</span> <span class='literal'>1</span><span class='parenthesis'>)</span> <span class='operator'>/</span></span>
  <span class='texttt'><span class='texttt'><i >de-ice</i></span><span class='parenthesis'>(</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='operator'>&#x200b;::&#x200b;</span>stride_<span class='shy'></span>type<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>,
  if <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> is a specialization of <span class='texttt'>strided_<span class='shy'></span>slice</span> whose
  <span class='texttt'>extent_<span class='shy'></span>type</span> and <span class='texttt'>stride_<span class='shy'></span>type</span>
  model <span id='conceptref:integral-constant-like____'><span class='texttt'><i >integral-constant-like</i></span></span>;</li><li id='extents-4.2.5'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#extents-4.2.5'>(4.2.5)</a></div>otherwise,
  <span class='texttt'>dynamic_<span class='shy'></span>extent</span><a class='hidden_link' href='#extents-4.sentence-1'>.</a></li></ul></li></ul></div></div></div></div><div class='para' id='extents-5'><div class='marginalizedparent'><a class='marginalized' href='#extents-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21876'>#</a></div><div class='texpara'><div id='extents-5.sentence-1' class='sentence'><i >Returns</i>: A value <span class='texttt'>ext</span> of type <span class='texttt'>SubExtents</span> such that
for each <span class='math'><span class='mathalpha'>k</span></span>
for which <span class='texttt'><i >map-rank</i><span class='squarebracket'>[</span><span class='math'><span class='mathalpha'>k</span></span><span class='squarebracket'>]</span> <span class='operator'>!</span><span class='operator'>=</span> dynamic_<span class='shy'></span>extent</span> is <span class='texttt'><span class='literal'>true</span></span>,
<span class='texttt'>ext<span class='operator'>.</span>extent<span class='parenthesis'>(</span><i >map-rank</i><span class='squarebracket'>[</span><span class='math'><span class='mathalpha'>k</span></span><span class='squarebracket'>]</span><span class='parenthesis'>)</span></span> equals:
<ul class='itemize'><li id='extents-5.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#extents-5.1'>(5.1)</a></div><span class='texttt'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='operator'>.</span>extent <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>0</span> <span class='operator'>?</span> <span class='literal'>0</span> <span class='operator'>:</span> <span class='literal'>1</span> <span class='operator'>+</span> <span class='parenthesis'>(</span><span class='texttt'><i >de-ice</i></span><span class='parenthesis'>(</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='operator'>.</span>extent<span class='parenthesis'>)</span> <span class='operator'>-</span> <span class='literal'>1</span><span class='parenthesis'>)</span> <span class='operator'>/</span> <span class='texttt'><i >de-ice</i></span><span class='parenthesis'>(</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='operator'>.</span>stride<span class='parenthesis'>)</span></span>
if <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> is a specialization of <span class='texttt'>strided_<span class='shy'></span>slice</span>,</li><li id='extents-5.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#extents-5.2'>(5.2)</a></div>otherwise,
<span class='texttt'><span class='texttt'><i >last_<span class='shy'></span></i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>k</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>src, slices<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='operator'>-</span> <span class='texttt'><i >first_<span class='shy'></span></i></span><span class='anglebracket'>&lt;</span>IndexType, <span class='math'><span class='mathalpha'>k</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>slices<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#extents-5.sentence-1'>.</a></li></ul></div></div></div></div></div><div id='mapping' class='section'><h4 ><a class='secnum' href='#mapping' style='min-width:110pt'>24.7.3.7.6</a> Layout specializations of <span class='texttt'>submdspan_<span class='shy'></span>mapping</span> <a class='abbr_ref' href='mdspan.submdspan.mapping'>[mdspan.submdspan.mapping]</a></h4><div class='texpara'><div id='lib:submdspan-mapping-impl,layout_right::mapping'><div id='lib:layout_right::mapping,submdspan-mapping-impl'><div id='lib:submdspan-mapping-impl,layout_left::mapping'><div id='lib:layout_left::mapping,submdspan-mapping-impl'><div id='lib:submdspan-mapping-impl,layout_stride::mapping'><div id='lib:layout_stride::mapping,submdspan-mapping-impl'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:layout_stride::mapping,submdspan-mapping-impl'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Extents<span class='anglebracket'>&gt;</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> SliceSpecifiers<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> layout_left<span class='operator'>::</span>mapping<span class='anglebracket'>&lt;</span>Extents<span class='anglebracket'>&gt;</span><span class='operator'>::</span><span class='texttt'><i >submdspan-mapping-impl</i></span><span class='parenthesis'>(</span>   <span class='comment'>// <i >exposition only</i></span>
      SliceSpecifiers<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> slices<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> <i ><span class='texttt'>see below</span></i>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Extents<span class='anglebracket'>&gt;</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> SliceSpecifiers<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> layout_right<span class='operator'>::</span>mapping<span class='anglebracket'>&lt;</span>Extents<span class='anglebracket'>&gt;</span><span class='operator'>::</span><span class='texttt'><i >submdspan-mapping-impl</i></span><span class='parenthesis'>(</span>  <span class='comment'>// <i >exposition only</i></span>
      SliceSpecifiers<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> slices<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> <i ><span class='texttt'>see below</span></i>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Extents<span class='anglebracket'>&gt;</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> SliceSpecifiers<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> layout_stride<span class='operator'>::</span>mapping<span class='anglebracket'>&lt;</span>Extents<span class='anglebracket'>&gt;</span><span class='operator'>::</span><span class='texttt'><i >submdspan-mapping-impl</i></span><span class='parenthesis'>(</span> <span class='comment'>// <i >exposition only</i></span>
      SliceSpecifiers<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> slices<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> <i ><span class='texttt'>see below</span></i>;
</code></div></div></div></div></div></div></div></div><div class='para' id='mapping-1'><div class='marginalizedparent'><a class='marginalized' href='#mapping-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21916'>#</a></div><div class='texpara'><div id='mapping-1.sentence-1' class='sentence'>Let <span class='texttt'>index_<span class='shy'></span>type</span> be <span class='texttt'><span class='keyword'>typename</span> Extents<span class='operator'>&#x200b;::&#x200b;</span>index_<span class='shy'></span>type</span><a class='hidden_link' href='#mapping-1.sentence-1'>.</a></div></div></div></div><div class='para' id='mapping-2'><div class='marginalizedparent'><a class='marginalized' href='#mapping-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21919'>#</a></div><div class='texpara'><div id='mapping-2.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>slices<span class='parenthesis'>)</span></span> equals <span class='texttt'>Extents<span class='operator'>&#x200b;::&#x200b;</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#mapping-2.sentence-1'>.</a></div></div></div></div><div class='para' id='mapping-3'><div class='marginalizedparent'><a class='marginalized' href='#mapping-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21923'>#</a></div><div class='texpara'><div id='mapping-3.sentence-1' class='sentence'><i >Mandates</i>: For each rank index <span class='math'><span class='mathalpha'>k</span></span> of <span class='texttt'>extents<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
exactly one of the following is true:
<ul class='itemize'><li id='mapping-3.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#mapping-3.1'>(3.1)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> models <span class='texttt'><a href='concept.convertible#concept:convertible_to' title='18.4.4&emsp;Concept convertible_&shy;to&emsp;[concept.convertible]'><span id='conceptref:convertible_to______'><span class='texttt'>convertible_<span class='shy'></span>to</span></span></a><span class='anglebracket'>&lt;</span>index_<span class='shy'></span>type<span class='anglebracket'>&gt;</span></span>,</li><li id='mapping-3.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#mapping-3.2'>(3.2)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> models <span class='texttt'><a href='mdspan.syn#concept:index-pair-like' title='24.7.3.2&emsp;Header &lt;mdspan&gt; synopsis&emsp;[mdspan.syn]'><span id='conceptref:index-pair-like____'><span class='texttt'><i >index-pair-like</i></span></span></a><span class='anglebracket'>&lt;</span>index_<span class='shy'></span>type<span class='anglebracket'>&gt;</span></span>,</li><li id='mapping-3.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#mapping-3.3'>(3.3)</a></div><span class='texttt'>is_<span class='shy'></span>convertible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span>, full_<span class='shy'></span>extent_<span class='shy'></span>t<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, or</li><li id='mapping-3.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#mapping-3.4'>(3.4)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> is a specialization of <span class='texttt'>strided_<span class='shy'></span>slice</span><a class='hidden_link' href='#mapping-3.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='mapping-4'><div class='marginalizedparent'><a class='marginalized' href='#mapping-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21934'>#</a></div><div class='texpara'><div id='mapping-4.sentence-1' class='sentence'><i >Preconditions</i>: For each rank index <span class='math'><span class='mathalpha'>k</span></span> of <span class='texttt'>extents<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
all of the following are <span class='texttt'><span class='literal'>true</span></span>:
<ul class='itemize'><li id='mapping-4.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#mapping-4.1'>(4.1)</a></div>if <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> is a specialization of <span class='texttt'>strided_<span class='shy'></span>slice</span>
  <ul class='itemize'><li id='mapping-4.1.1'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#mapping-4.1.1'>(4.1.1)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mrow"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;"><span class='operator'>.</span>extent</span></span></span></span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span>, or</li><li id='mapping-4.1.2'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#mapping-4.1.2'>(4.1.2)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mrow"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;"><span class='operator'>.</span>stride</span></span></span></span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&gt;</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></li></ul></li><li id='mapping-4.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#mapping-4.2'>(4.2)</a></div><span class='math'>0            &ensp;≤&ensp;<span class='texttt'><span class='texttt'><i >first_<span class='shy'></span></i></span><span class='anglebracket'>&lt;</span>index_<span class='shy'></span>type, <span class='math'><span class='mathalpha'>k</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>slices<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span> <br/>
<span class='hphantom'>0 </span> &ensp;≤&ensp;<span class='texttt'><span class='texttt'><i >last_<span class='shy'></span></i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>k</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>extents<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, slices<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span> <br/>
<span class='hphantom'>0 </span> &ensp;≤&ensp;<span class='texttt'>extents<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span>extent<span class='parenthesis'>(</span><span class='math'><span class='mathalpha'>k</span></span><span class='parenthesis'>)</span></span></span></li></ul></div></div></div></div><div class='para' id='mapping-5'><div class='marginalizedparent'><a class='marginalized' href='#mapping-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21951'>#</a></div><div class='texpara'><div id='mapping-5.sentence-1' class='sentence'>Let <span class='texttt'>sub_<span class='shy'></span>ext</span> be the result of
<span class='texttt'>submdspan_<span class='shy'></span>extents<span class='parenthesis'>(</span>extents<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, slices<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span> and
let <span class='texttt'>SubExtents</span> be <span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span>sub_<span class='shy'></span>ext<span class='parenthesis'>)</span></span><a class='hidden_link' href='#mapping-5.sentence-1'>.</a></div></div></div></div><div class='para' id='mapping-6'><div class='marginalizedparent'><a class='marginalized' href='#mapping-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21956'>#</a></div><div class='texpara'><div id='mapping-6.sentence-1' class='sentence'>Let <span class='texttt'>sub_<span class='shy'></span>strides</span> be
an <span class='texttt'>array<span class='anglebracket'>&lt;</span>SubExtents<span class='operator'>&#x200b;::&#x200b;</span>index_<span class='shy'></span>type, SubExtents<span class='operator'>&#x200b;::&#x200b;</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span></span> such that
for each rank index <span class='math'><span class='mathalpha'>k</span></span> of <span class='texttt'>extents<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
for which <span class='texttt'><i >map-rank</i><span class='squarebracket'>[</span><span class='math'><span class='mathalpha'>k</span></span><span class='squarebracket'>]</span></span> is not <span class='texttt'>dynamic_<span class='shy'></span>extent</span>,
<span class='texttt'>sub_<span class='shy'></span>strides<span class='squarebracket'>[</span><i >map-rank</i><span class='squarebracket'>[</span><br/><span class='math'><span class='mathalpha'>k</span></span><span class='squarebracket'>]</span><span class='squarebracket'>]</span></span> equals:
<ul class='itemize'><li id='mapping-6.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#mapping-6.1'>(6.1)</a></div><span class='texttt'>stride<span class='parenthesis'>(</span><span class='math'><span class='mathalpha'>k</span></span><span class='parenthesis'>)</span> <span class='operator'>*</span> <span class='texttt'><i >de-ice</i></span><span class='parenthesis'>(</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='operator'>.</span>stride<span class='parenthesis'>)</span></span>
if <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> is a specialization of <span class='texttt'>strided_<span class='shy'></span>slice</span> and
<span class='texttt'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='operator'>.</span>stride <span class='anglebracket'>&lt;</span> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span><span class='operator'>.</span>extent</span>;</li><li id='mapping-6.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#mapping-6.2'>(6.2)</a></div>otherwise,
<span class='texttt'>stride<span class='parenthesis'>(</span><span class='math'><span class='mathalpha'>k</span></span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#mapping-6.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='mapping-7'><div class='marginalizedparent'><a class='marginalized' href='#mapping-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21973'>#</a></div><div class='texpara'><div id='mapping-7.sentence-1' class='sentence'>Let <span class='texttt'>P</span> be a parameter pack such that
<span class='texttt'>is_<span class='shy'></span>same_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>make_<span class='shy'></span>index_<span class='shy'></span>sequence<span class='anglebracket'>&lt;</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span>, index_<span class='shy'></span>sequence<span class='anglebracket'>&lt;</span><br/>P<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#mapping-7.sentence-1'>.</a></div></div></div></div><div class='para' id='mapping-8'><div class='marginalizedparent'><a class='marginalized' href='#mapping-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21978'>#</a></div><div class='texpara'><div id='mapping-8.sentence-1' class='sentence'>Let <span class='texttt'>offset</span> be a value of type <span class='texttt'>size_<span class='shy'></span>t</span>
equal to <span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='texttt'><i >first_<span class='shy'></span></i></span><span class='anglebracket'>&lt;</span>index_<span class='shy'></span>type, P<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>slices<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#mapping-8.sentence-1'>.</a></div></div></div></div><div class='para' id='mapping-9'><div class='marginalizedparent'><a class='marginalized' href='#mapping-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L21982'>#</a></div><div class='texpara'><div id='mapping-9.sentence-1' class='sentence'><i >Returns</i>: <ul class='itemize'><li id='mapping-9.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#mapping-9.1'>(9.1)</a></div><span class='texttt'>submdspan_<span class='shy'></span>mapping_<span class='shy'></span>result<span class='curlybracket'>{</span><span class='operator'>*</span><span class='keyword'>this</span>, <span class='literal'>0</span><span class='curlybracket'>}</span></span>,
if <span class='texttt'>Extents<span class='operator'>&#x200b;::&#x200b;</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>0</span></span> is <span class='texttt'><span class='literal'>true</span></span>;</li><li id='mapping-9.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#mapping-9.2'>(9.2)</a></div>otherwise,
<span class='texttt'>submdspan_<span class='shy'></span>mapping_<span class='shy'></span>result<span class='curlybracket'>{</span>layout_<span class='shy'></span>left<span class='operator'>&#x200b;::&#x200b;</span>mapping<span class='parenthesis'>(</span>sub_<span class='shy'></span>ext<span class='parenthesis'>)</span>, offset<span class='curlybracket'>}</span></span>,
if
  <ul class='itemize'><li id='mapping-9.2.1'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#mapping-9.2.1'>(9.2.1)</a></div><span class='texttt'>layout_<span class='shy'></span>type</span> is <span class='texttt'>layout_<span class='shy'></span>left</span>; and</li><li id='mapping-9.2.2'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#mapping-9.2.2'>(9.2.2)</a></div>for each <span class='math'><span class='mathalpha'>k</span></span> in the range [<span class='texttt'><span class='literal'>0</span>, SubExtents<span class='operator'>&#x200b;::&#x200b;</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> <span class='literal'>1</span><span class='parenthesis'>)</span></span>),
  <span class='texttt'>is_<span class='shy'></span>convertible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span>, full_<span class='shy'></span>extent_<span class='shy'></span>t<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>; and</li><li id='mapping-9.2.3'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#mapping-9.2.3'>(9.2.3)</a></div>for <span class='math'><span class='mathalpha'>k</span></span> equal to <span class='texttt'>SubExtents<span class='operator'>&#x200b;::&#x200b;</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> <span class='literal'>1</span></span>,
  <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> models <span class='texttt'><a href='mdspan.syn#concept:index-pair-like' title='24.7.3.2&emsp;Header &lt;mdspan&gt; synopsis&emsp;[mdspan.syn]'><span id='conceptref:index-pair-like_____'><span class='texttt'><i >index-pair-like</i></span></span></a><span class='anglebracket'>&lt;</span>index_<span class='shy'></span>type<span class='anglebracket'>&gt;</span></span> or
  <span class='texttt'>is_<span class='shy'></span>convertible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span>, full_<span class='shy'></span>extent_<span class='shy'></span>t<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>;</li></ul>
<div id='mapping-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mapping-note-1'>1</a></i>:&ensp;<div id='mapping-9.2.sentence-1' class='sentence'>If the above conditions are true,
all <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> with <span class='math'><span class='mathalpha'>k</span></span> larger than <span class='texttt'>SubExtents<span class='operator'>&#x200b;::&#x200b;</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> <span class='literal'>1</span></span>
are convertible to <span class='texttt'>index_<span class='shy'></span>type</span><a class='hidden_link' href='#mapping-9.2.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></li><li id='mapping-9.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#mapping-9.3'>(9.3)</a></div>otherwise,
<span class='texttt'>submdspan_<span class='shy'></span>mapping_<span class='shy'></span>result<span class='curlybracket'>{</span>layout_<span class='shy'></span>right<span class='operator'>&#x200b;::&#x200b;</span>mapping<span class='parenthesis'>(</span>sub_<span class='shy'></span>ext<span class='parenthesis'>)</span>, offset<span class='curlybracket'>}</span></span>,
if
  <ul class='itemize'><li id='mapping-9.3.1'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#mapping-9.3.1'>(9.3.1)</a></div><span class='texttt'>layout_<span class='shy'></span>type</span> is <span class='texttt'>layout_<span class='shy'></span>right</span>; and</li><li id='mapping-9.3.2'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#mapping-9.3.2'>(9.3.2)</a></div>for each <span class='math'><span class='mathalpha'>k</span></span> in the range
  [<span class='texttt'>Extents<span class='operator'>&#x200b;::&#x200b;</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> SubExtents<span class='operator'>&#x200b;::&#x200b;</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>+</span> <span class='literal'>1</span>, Extents<span class='operator'>&#x200b;::&#x200b;</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>),
  <span class='texttt'>is_<span class='shy'></span>convertible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span>, full_<span class='shy'></span>extent_<span class='shy'></span>t<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>; and</li><li id='mapping-9.3.3'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#mapping-9.3.3'>(9.3.3)</a></div>for <span class='math'><span class='mathalpha'>k</span></span> equal to <span class='texttt'>Extents<span class='operator'>&#x200b;::&#x200b;</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> SubExtents<span class='operator'>&#x200b;::&#x200b;</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
  <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> models <span class='texttt'><a href='mdspan.syn#concept:index-pair-like' title='24.7.3.2&emsp;Header &lt;mdspan&gt; synopsis&emsp;[mdspan.syn]'><span id='conceptref:index-pair-like______'><span class='texttt'><i >index-pair-like</i></span></span></a><span class='anglebracket'>&lt;</span>index_<span class='shy'></span>type<span class='anglebracket'>&gt;</span></span> or
  <span class='texttt'>is_<span class='shy'></span>convertible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span>, full_<span class='shy'></span>extent_<span class='shy'></span>t<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>;</li></ul>
<div id='mapping-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mapping-note-2'>2</a></i>:&ensp;<div id='mapping-9.3.sentence-1' class='sentence'>If the above conditions are true,
all <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> with <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char" style="padding-top: 0.519em; padding-bottom: 0.077em;"><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em; margin-right: 0.275em;">Extents<span class='operator'>::</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span> </span><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em; margin-right: 0.275em;"><span class='operator'>-</span> </span><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em;">SubExtents<span class='operator'>::</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></span></span></span></span></span></span></span>
are convertible to <span class='texttt'>index_<span class='shy'></span>type</span><a class='hidden_link' href='#mapping-9.3.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></li><li id='mapping-9.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#mapping-9.4'>(9.4)</a></div>otherwise,
<span class='texttt'>submdspan_<span class='shy'></span>mapping_<span class='shy'></span>result<span class='curlybracket'>{</span>layout_<span class='shy'></span>stride<span class='operator'>&#x200b;::&#x200b;</span>mapping<span class='parenthesis'>(</span>sub_<span class='shy'></span>ext, sub_<span class='shy'></span>strides<span class='parenthesis'>)</span>,<br/>offset<span class='curlybracket'>}</span></span><a class='hidden_link' href='#mapping-9.sentence-1'>.</a></li></ul></div></div></div></div></div><div id='submdspan' class='section'><h4 ><a class='secnum' href='#submdspan' style='min-width:110pt'>24.7.3.7.7</a> <span class='texttt'>submdspan</span> function template <a class='abbr_ref' href='mdspan.submdspan.submdspan'>[mdspan.submdspan.submdspan]</a></h4><div class='texpara'><div id='lib:submdspan'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:submdspan'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> ElementType, <span class='keyword'>class</span> Extents, <span class='keyword'>class</span> LayoutPolicy,
         <span class='keyword'>class</span> AccessorPolicy, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> SliceSpecifiers<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> submdspan<span class='parenthesis'>(</span>
    <span class='keyword'>const</span> mdspan<span class='anglebracket'>&lt;</span>ElementType, Extents, LayoutPolicy, AccessorPolicy<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> src,
    SliceSpecifiers<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> slices<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> <i ><span class='texttt'>see below</span></i>;
</code></div></div></div><div class='para' id='submdspan-1'><div class='marginalizedparent'><a class='marginalized' href='#submdspan-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L22050'>#</a></div><div class='texpara'><div id='submdspan-1.sentence-1' class='sentence'>Let <span class='texttt'>index_<span class='shy'></span>type</span> be <span class='texttt'><span class='keyword'>typename</span> Extents<span class='operator'>&#x200b;::&#x200b;</span>index_<span class='shy'></span>type</span><a class='hidden_link' href='#submdspan-1.sentence-1'>.</a></div></div></div></div><div class='para' id='submdspan-2'><div class='marginalizedparent'><a class='marginalized' href='#submdspan-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L22053'>#</a></div><div class='texpara'><div id='submdspan-2.sentence-1' class='sentence'>Let <span class='texttt'>sub_<span class='shy'></span>map_<span class='shy'></span>offset</span> be the result of
<span class='texttt'>submdspan_<span class='shy'></span>mapping<span class='parenthesis'>(</span>src<span class='operator'>.</span>mapping<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, slices<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#submdspan-2.sentence-1'>.</a></div> <div id='submdspan-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#submdspan-note-1'>1</a></i>:&ensp;<div id='submdspan-2.sentence-2' class='sentence'>This invocation of <span class='texttt'>submdspan_<span class='shy'></span>mapping</span>
selects a function call via overload resolution
on a candidate set that includes the lookup set
found by argument-dependent lookup (<a href='basic.lookup.argdep' title='6.5.4&emsp;Argument-dependent name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>argdep]</a>)<a class='hidden_link' href='#submdspan-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div class='para' id='submdspan-3'><div class='marginalizedparent'><a class='marginalized' href='#submdspan-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L22063'>#</a></div><div class='texpara'><div id='submdspan-3.sentence-1' class='sentence'><i >Constraints</i>: <ul class='itemize'><li id='submdspan-3.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#submdspan-3.1'>(3.1)</a></div><span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>slices<span class='parenthesis'>)</span></span> equals <span class='texttt'>Extents<span class='operator'>&#x200b;::&#x200b;</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, and</li><li id='submdspan-3.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#submdspan-3.2'>(3.2)</a></div>the expression <span class='texttt'>submdspan_<span class='shy'></span>mapping<span class='parenthesis'>(</span>src<span class='operator'>.</span>mapping<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, slices<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span>
is well-formed when treated as an unevaluated operand<a class='hidden_link' href='#submdspan-3.sentence-1'>.</a></li></ul></div></div></div></div><div class='para' id='submdspan-4'><div class='marginalizedparent'><a class='marginalized' href='#submdspan-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L22073'>#</a></div><div class='texpara'><div id='submdspan-4.sentence-1' class='sentence'><i >Mandates</i>: <ul class='itemize'><li id='submdspan-4.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#submdspan-4.1'>(4.1)</a></div><div class='texpara'><div id='submdspan-4.1.sentence-1' class='sentence'><span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span>submdspan_<span class='shy'></span>mapping<span class='parenthesis'>(</span>src<span class='operator'>.</span>mapping<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, slices<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
is a specialization of <span class='texttt'>submd<span class='operator'>-</span><br/>span_<span class='shy'></span>mapping_<span class='shy'></span>result</span><a class='hidden_link' href='#submdspan-4.1.sentence-1'>.</a></div></div></li><li id='submdspan-4.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#submdspan-4.2'>(4.2)</a></div><div class='texpara'><div id='submdspan-4.2.sentence-1' class='sentence'><span class='texttt'>is_<span class='shy'></span>same_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>remove_<span class='shy'></span>cvref_<span class='shy'></span>t<span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span>sub_<span class='shy'></span>map_<span class='shy'></span>offset<span class='operator'>.</span>mapping<span class='operator'>.</span>extents<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span>,</span>
<span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span><br/>submdspan_<span class='shy'></span>extents<span class='parenthesis'>(</span>src<span class='operator'>.</span>mapping<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, slices<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#submdspan-4.2.sentence-1'>.</a></div></div></li><li id='submdspan-4.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#submdspan-4.3'>(4.3)</a></div><div class='texpara'><div id='submdspan-4.3.sentence-1' class='sentence'>For each rank index <span class='math'><span class='mathalpha'>k</span></span> of <span class='texttt'>src<span class='operator'>.</span>extents<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
exactly one of the following is true:
  <ul class='itemize'><li id='submdspan-4.3.1'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#submdspan-4.3.1'>(4.3.1)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> models <span class='texttt'><a href='concept.convertible#concept:convertible_to' title='18.4.4&emsp;Concept convertible_&shy;to&emsp;[concept.convertible]'><span id='conceptref:convertible_to_______'><span class='texttt'>convertible_<span class='shy'></span>to</span></span></a><span class='anglebracket'>&lt;</span>index_<span class='shy'></span>type<span class='anglebracket'>&gt;</span></span>,</li><li id='submdspan-4.3.2'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#submdspan-4.3.2'>(4.3.2)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> models <span class='texttt'><a href='mdspan.syn#concept:index-pair-like' title='24.7.3.2&emsp;Header &lt;mdspan&gt; synopsis&emsp;[mdspan.syn]'><span id='conceptref:index-pair-like_______'><span class='texttt'><i >index-pair-like</i></span></span></a><span class='anglebracket'>&lt;</span>index_<span class='shy'></span>type<span class='anglebracket'>&gt;</span></span>,</li><li id='submdspan-4.3.3'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#submdspan-4.3.3'>(4.3.3)</a></div><span class='texttt'>is_<span class='shy'></span>convertible_<span class='shy'></span>v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span>, full_<span class='shy'></span>extent_<span class='shy'></span>t<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, or</li><li id='submdspan-4.3.4'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#submdspan-4.3.4'>(4.3.4)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> is a specialization of <span class='texttt'>strided_<span class='shy'></span>slice</span><a class='hidden_link' href='#submdspan-4.3.sentence-1'>.</a></li></ul></div></div></li></ul></div></div></div></div><div class='para' id='submdspan-5'><div class='marginalizedparent'><a class='marginalized' href='#submdspan-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L22096'>#</a></div><div class='texpara'><div id='submdspan-5.sentence-1' class='sentence'><i >Preconditions</i>: <ul class='itemize'><li id='submdspan-5.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#submdspan-5.1'>(5.1)</a></div>For each rank index <span class='math'><span class='mathalpha'>k</span></span> of <span class='texttt'>src<span class='operator'>.</span>extents<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
all of the following are <span class='texttt'><span class='literal'>true</span></span>:
  <ul class='itemize'><li id='submdspan-5.1.1'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#submdspan-5.1.1'>(5.1.1)</a></div>if <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> is a specialization of <span class='texttt'>strided_<span class='shy'></span>slice</span>
    <ul class='itemize'><li id='submdspan-5.1.1.1'><div class='marginalizedparent' style='left:-57mm'><a class='marginalized' href='#submdspan-5.1.1.1'>(5.1.1.1)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mrow"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;"><span class='operator'>.</span>extent</span></span></span></span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span>, or</li><li id='submdspan-5.1.1.2'><div class='marginalizedparent' style='left:-57mm'><a class='marginalized' href='#submdspan-5.1.1.2'>(5.1.1.2)</a></div><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mrow"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;"><span class='operator'>.</span>stride</span></span></span></span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&gt;</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></li></ul></li><li id='submdspan-5.1.2'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#submdspan-5.1.2'>(5.1.2)</a></div><span class='math'>0 &ensp;≤&ensp;<span class='texttt'><span class='texttt'><i >first_<span class='shy'></span></i></span><span class='anglebracket'>&lt;</span>index_<span class='shy'></span>type, <span class='math'><span class='mathalpha'>k</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>slices<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span></span>
  <span class='math'>&ensp;≤&ensp;<span class='texttt'><span class='texttt'><i >last_<span class='shy'></span></i></span><span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>k</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>src<span class='operator'>.</span>extents<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, slices<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span></span>
  <span class='math'>&ensp;≤&ensp;<span class='texttt'><br/>src<span class='operator'>.</span>extent<span class='parenthesis'>(</span><span class='math'><span class='mathalpha'>k</span></span><span class='parenthesis'>)</span></span></span></li></ul></li><li id='submdspan-5.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#submdspan-5.2'>(5.2)</a></div><span class='texttt'>sub_<span class='shy'></span>map_<span class='shy'></span>offset<span class='operator'>.</span>mapping<span class='operator'>.</span>extents<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> submdspan_<span class='shy'></span>extents<span class='parenthesis'>(</span>src<span class='operator'>.</span>mapping<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, slices<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span><br/>is <span class='texttt'><span class='literal'>true</span></span>; and</li><li id='submdspan-5.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#submdspan-5.3'>(5.3)</a></div>for each integer pack <span class='texttt'>I</span> which is a multidimensional index
in <span class='texttt'>sub_<span class='shy'></span>map_<span class='shy'></span>offset<span class='operator'>.</span>mapping<span class='operator'>.</span>extents<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
<span class='codeblock'>sub_map_offset<span class='operator'>.</span>mapping<span class='parenthesis'>(</span>I<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='operator'>+</span> sub_map_offset<span class='operator'>.</span>offset <span class='operator'>=</span><span class='operator'>=</span>
  src<span class='operator'>.</span>mapping<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><i >src-indices</i><span class='parenthesis'>(</span>array<span class='curlybracket'>{</span>I<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='curlybracket'>}</span>, slices<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</span>
is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#submdspan-5.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='submdspan-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#submdspan-note-2'>2</a></i>:&ensp;<div id='submdspan-5.sentence-2' class='sentence'>These conditions ensure that the mapping returned by <span class='texttt'>submdspan_<span class='shy'></span>mapping</span>
matches the algorithmically expected index-mapping given the slice specifiers<a class='hidden_link' href='#submdspan-5.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div class='para' id='submdspan-6'><div class='marginalizedparent'><a class='marginalized' href='#submdspan-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L22134'>#</a></div><div class='texpara'><div id='submdspan-6.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>auto</span> sub_map_offset <span class='operator'>=</span> submdspan_mapping<span class='parenthesis'>(</span>src<span class='operator'>.</span>mapping<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, slices<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
<span class='keyword'>return</span> mdspan<span class='parenthesis'>(</span>src<span class='operator'>.</span>accessor<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span>offset<span class='parenthesis'>(</span>src<span class='operator'>.</span>data<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, sub_map_offset<span class='operator'>.</span>offset<span class='parenthesis'>)</span>,
              sub_map_offset<span class='operator'>.</span>mapping,
              AccessorPolicy<span class='operator'>::</span>offset_policy<span class='parenthesis'>(</span>src<span class='operator'>.</span>accessor<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='para nonNormativeOnly' id='submdspan-7'><div class='marginalizedparent'><a class='marginalized' href='#submdspan-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/containers.tex#L22145'>#</a></div><div class='texpara'><div id='submdspan-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#submdspan-example-1'>1</a></i>:&ensp;<div id='submdspan-7.sentence-1' class='sentence'>Given a rank-3 <span class='texttt'>mdspan grid3d</span> representing a three-dimensional grid
of regularly spaced points in a rectangular prism,
the function <span class='texttt'>zero_<span class='shy'></span>surface</span> sets all elements on
the surface of the 3-dimensional shape to zero<a class='hidden_link' href='#submdspan-7.sentence-1'>.</a></div> <div id='submdspan-7.sentence-2' class='sentence'>It does so by reusing a function <span class='texttt'>zero_<span class='shy'></span>2d</span>
that takes a rank-2 <span class='texttt'>mdspan</span><a class='hidden_link' href='#submdspan-7.sentence-2'>.</a></div></div><div class='texpara'><span class='codeblock'><span class='comment'>// zero out all elements in an <span class='tcode_in_codeblock'>mdspan</span></span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> E, <span class='keyword'>class</span> L, <span class='keyword'>class</span> A<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> zero_2d<span class='parenthesis'>(</span>mdspan<span class='anglebracket'>&lt;</span>T, E, L, A<span class='anglebracket'>&gt;</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>static_assert</span><span class='parenthesis'>(</span>a<span class='operator'>.</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>2</span><span class='parenthesis'>)</span>;
  <span class='keyword'>for</span> <span class='parenthesis'>(</span><span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>0</span>; i <span class='anglebracket'>&lt;</span> a<span class='operator'>.</span>extent<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>; i<span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>)</span>
    <span class='keyword'>for</span> <span class='parenthesis'>(</span><span class='keyword'>int</span> j <span class='operator'>=</span> <span class='literal'>0</span>; j <span class='anglebracket'>&lt;</span> a<span class='operator'>.</span>extent<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>; j<span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>)</span>
      a<span class='squarebracket'>[</span>i, j<span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='literal'>0</span>;
<span class='curlybracket'>}</span>

<span class='comment'>// zero out just the surface</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> E, <span class='keyword'>class</span> L, <span class='keyword'>class</span> A<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> zero_surface<span class='parenthesis'>(</span>mdspan<span class='anglebracket'>&lt;</span>T, E, L, A<span class='anglebracket'>&gt;</span> grid3d<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>static_assert</span><span class='parenthesis'>(</span>grid3d<span class='operator'>.</span>rank<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>3</span><span class='parenthesis'>)</span>;
  zero_2d<span class='parenthesis'>(</span>submdspan<span class='parenthesis'>(</span>grid3d, <span class='literal'>0</span>, full_extent, full_extent<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  zero_2d<span class='parenthesis'>(</span>submdspan<span class='parenthesis'>(</span>grid3d, full_extent, <span class='literal'>0</span>, full_extent<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  zero_2d<span class='parenthesis'>(</span>submdspan<span class='parenthesis'>(</span>grid3d, full_extent, full_extent, <span class='literal'>0</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  zero_2d<span class='parenthesis'>(</span>submdspan<span class='parenthesis'>(</span>grid3d, grid3d<span class='operator'>.</span>extent<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span> <span class='operator'>-</span> <span class='literal'>1</span>, full_extent, full_extent<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  zero_2d<span class='parenthesis'>(</span>submdspan<span class='parenthesis'>(</span>grid3d, full_extent, grid3d<span class='operator'>.</span>extent<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span> <span class='operator'>-</span> <span class='literal'>1</span>, full_extent<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  zero_2d<span class='parenthesis'>(</span>submdspan<span class='parenthesis'>(</span>grid3d, full_extent, full_extent, grid3d<span class='operator'>.</span>extent<span class='parenthesis'>(</span><span class='literal'>2</span><span class='parenthesis'>)</span> <span class='operator'>-</span> <span class='literal'>1</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div></div></body></html>