<!DOCTYPE html><html lang='en'><head><title>[dcl.link]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>9</a> Declarations <a class='abbr_ref' href='./#dcl.dcl'>[dcl.dcl]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>9.11</a> Linkage specifications <a class='abbr_ref'>[dcl.link]</a></h2><div class='texpara'><a class='index' id=':specification,linkage'></a></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f52ffc9054913f3f9a4c5dc6973f6c5c3e7f1096/source/declarations.tex#L8284'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>All functions and variables whose names have external linkage
and all function types
have a <a class='hidden_link' href='#def:language_linkage' title='9.11&emsp;Linkage specifications&emsp;[dcl.link]'><span id='def:language_linkage'><i >language linkage</i></span></a><a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='1.sentence-2' class='sentence'>Some of the properties associated with an entity with language linkage
are specific to each implementation and are not described here<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>For
example, a particular language linkage might be associated with a
particular form of representing names of objects and functions with
external linkage, or with a particular calling convention, etc<a class='hidden_link' href='#1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='1.sentence-4' class='sentence'>
The default language linkage of all function types, functions, and
variables is C++ language linkage<a class='hidden_link' href='#1.sentence-4'>.</a></div> <div id='1.sentence-5' class='sentence'>Two function types with
different language linkages are distinct types even if they are
otherwise identical<a class='hidden_link' href='#1.sentence-5'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f52ffc9054913f3f9a4c5dc6973f6c5c3e7f1096/source/declarations.tex#L8300'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'><a href='basic.link' title='6.6&emsp;Program and linkage&emsp;[basic.link]'>Linkage</a> between C++ and  non-C++ code fragments can
be achieved using a <a href='#nt:linkage-specification' title='9.11&emsp;Linkage specifications&emsp;[dcl.link]'><span id='ntref:linkage-specification'><span class='textsf'><i >linkage-specification</i></span></span></a>:
<a class='index' id=':linkage-specification'></a><a class='index' id=':specification,linkage,extern'></a><div class='bnf' id='nt:linkage-specification'>
<a class='hidden_link' href='#nt:linkage-specification' title='9.11&emsp;Linkage specifications&emsp;[dcl.link]'><span id='nt:linkage-specification'><span id=':linkage-specification_'>linkage-specification<span class='textnormal'>:</span></span></span></a><br/><span id=':extern'><span class='texttt'><span class='keyword'>extern</span></span></span> <a href='lex.string.uneval#nt:unevaluated-string' title='5.13.6&emsp;Unevaluated strings&emsp;[lex.string.uneval]'><span id='ntref:unevaluated-string'><span class='textsf'><i >unevaluated-string</i></span></span></a> <span class='terminal'><span class='curlybracket'>{</span></span> <a href='dcl.pre#nt:declaration-seq' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:declaration-seq'><span class='textsf'><i >declaration-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='curlybracket'>}</span></span><br/><span id=':extern_'><span class='texttt'><span class='keyword'>extern</span></span></span> <a href='lex.string.uneval#nt:unevaluated-string' title='5.13.6&emsp;Unevaluated strings&emsp;[lex.string.uneval]'><span id='ntref:unevaluated-string_'><span class='textsf'><i >unevaluated-string</i></span></span></a> <a href='dcl.pre#nt:name-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:name-declaration'><span class='textsf'><i >name-declaration</i></span></span></a>
</div></div></div><div class='texpara'><div id='2.sentence-2' class='sentence'>The <a href='lex.string.uneval#nt:unevaluated-string' title='5.13.6&emsp;Unevaluated strings&emsp;[lex.string.uneval]'><span id='ntref:unevaluated-string__'><span class='textsf'><i >unevaluated-string</i></span></span></a> indicates the required language linkage<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>:&ensp;<div id='2.sentence-3' class='sentence'>Escape sequences and <a href='lex.charset#nt:universal-character-name' title='5.3&emsp;Character sets&emsp;[lex.charset]'><span id='ntref:universal-character-name'><span class='textsf'><i >universal-character-name</i></span></span></a><i >s</i>
have been replaced (<a href='lex.string.uneval' title='5.13.6&emsp;Unevaluated strings'>[lex.<span class='shy'></span>string.<span class='shy'></span>uneval]</a>)<a class='hidden_link' href='#2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='2.sentence-4' class='sentence'>
This document specifies the semantics for the
<a href='lex.string.uneval#nt:unevaluated-string' title='5.13.6&emsp;Unevaluated strings&emsp;[lex.string.uneval]'><span id='ntref:unevaluated-string___'><span class='textsf'><i >unevaluated-string</i></span></span></a><i >s</i> <span class='texttt'><span class='literal'>"C"</span></span> and <span class='texttt'><span class='literal'>"C++"</span></span><a class='hidden_link' href='#2.sentence-4'>.</a></div> <div id='2.sentence-5' class='sentence'>Use of an <a href='lex.string.uneval#nt:unevaluated-string' title='5.13.6&emsp;Unevaluated strings&emsp;[lex.string.uneval]'><span id='ntref:unevaluated-string____'><span class='textsf'><i >unevaluated-string</i></span></span></a>
other than <span class='texttt'><span class='literal'>"C"</span></span> or <span class='texttt'><span class='literal'>"C++"</span></span> is conditionally-supported,
with <a class='index' id=':semantics_of_linkage_specifiers'></a>implementation-defined semantics<a class='hidden_link' href='#2.sentence-5'>.</a></div> <div id='note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-3'>3</a></i>:&ensp;<div id='2.sentence-6' class='sentence'>Therefore, a <a href='#nt:linkage-specification' title='9.11&emsp;Linkage specifications&emsp;[dcl.link]'><span id='ntref:linkage-specification_'><span class='textsf'><i >linkage-specification</i></span></span></a> with a language linkage
that is unknown to the implementation requires a diagnostic<a class='hidden_link' href='#2.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div id='2.sentence-7' class='sentence'><i >Recommended practice</i>: The spelling of the language linkage should be taken
from the document defining that language<a class='hidden_link' href='#2.sentence-7'>.</a></div> <div id='2.sentence-8' class='sentence'>For example, <span class='texttt'>Ada</span> (not <span class='texttt'>ADA</span>) and
<span class='texttt'>Fortran</span> or <span class='texttt'>FORTRAN</span>, depending on the vintage<a class='hidden_link' href='#2.sentence-8'>.</a></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f52ffc9054913f3f9a4c5dc6973f6c5c3e7f1096/source/declarations.tex#L8333'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'><a class='index' id=':specification,linkage,implementation-defined'></a>Every implementation shall provide for linkage to the C programming language,
<a class='index' id=':C,linkage_to'></a><span class='texttt'><span class='literal'>"C"</span></span>, and C++, <span class='texttt'><span class='literal'>"C++"</span></span><a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>:&ensp;<span class='codeblock'>complex sqrt<span class='parenthesis'>(</span>complex<span class='parenthesis'>)</span>;          <span class='comment'>// C++ language linkage by default</span>
<span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='curlybracket'>{</span>
  <span class='keyword'>double</span> sqrt<span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span>;          <span class='comment'>// C language linkage</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f52ffc9054913f3f9a4c5dc6973f6c5c3e7f1096/source/declarations.tex#L8347'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>A <a href='module.import#nt:module-import-declaration' title='10.3&emsp;Import declaration&emsp;[module.import]'><span id='ntref:module-import-declaration'><span class='textsf'><i >module-import-declaration</i></span></span></a> appearing in
a linkage specification with other than C++ language linkage
is conditionally-supported with
<a class='index' id=':support_for_module-import-declarations_with_non-C++_language_linkage'></a>implementation-defined semantics<a class='hidden_link' href='#4.sentence-1'>.</a></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f52ffc9054913f3f9a4c5dc6973f6c5c3e7f1096/source/declarations.tex#L8354'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'><a class='index' id=':specification,linkage,nesting'></a>Linkage specifications nest<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>When linkage specifications nest, the
innermost one determines the language linkage<a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-4'>4</a></i>:&ensp;<div id='5.sentence-3' class='sentence'>A linkage specification does not establish a scope<a class='hidden_link' href='#5.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='5.sentence-4' class='sentence'>
A <a href='#nt:linkage-specification' title='9.11&emsp;Linkage specifications&emsp;[dcl.link]'><span id='ntref:linkage-specification__'><span class='textsf'><i >linkage-specification</i></span></span></a> shall inhabit a namespace scope<a class='hidden_link' href='#5.sentence-4'>.</a></div> <div id='5.sentence-5' class='sentence'>In a <a href='#nt:linkage-specification' title='9.11&emsp;Linkage specifications&emsp;[dcl.link]'><span id='ntref:linkage-specification___'><span class='textsf'><i >linkage-specification</i></span></span></a>,
the specified language linkage applies
to the function types of all function declarators and
to all functions and variables whose names have external linkage<a class='hidden_link' href='#5.sentence-5'>.</a></div> <div id='example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>extern</span> <span class='literal'>"C"</span>                      <span class='comment'>// <span class='tcode_in_codeblock'>f1</span> and its function type have C language linkage;</span>
  <span class='keyword'>void</span> f1<span class='parenthesis'>(</span><span class='keyword'>void</span><span class='parenthesis'>(</span><span class='operator'>*</span>pf<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;      <span class='comment'>// <span class='tcode_in_codeblock'>pf</span> is a pointer to a C function</span>

<span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>typedef</span> <span class='keyword'>void</span> FUNC<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
FUNC f2;                        <span class='comment'>// <span class='tcode_in_codeblock'>f2</span> has C++ language linkage and</span>
                                <span class='comment'>// its  type has C language linkage</span>

<span class='keyword'>extern</span> <span class='literal'>"C"</span> FUNC f3;             <span class='comment'>// <span class='tcode_in_codeblock'>f3</span> and its type have C language linkage</span>

<span class='keyword'>void</span> <span class='parenthesis'>(</span><span class='operator'>*</span>pf2<span class='parenthesis'>)</span><span class='parenthesis'>(</span>FUNC<span class='operator'>*</span><span class='parenthesis'>)</span>;             <span class='comment'>// the variable <span class='tcode_in_codeblock'>pf2</span> has C++ language linkage; its type</span>
                                <span class='comment'>// is “pointer to C++ function that takes one parameter of type</span>
                                <span class='comment'>// pointer to C function''</span>
<span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>void</span> f4<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;             <span class='comment'>// the name of the function <span class='tcode_in_codeblock'>f4</span> has internal linkage,</span>
                                <span class='comment'>// so <span class='tcode_in_codeblock'>f4</span> has no language linkage; its type has C language linkage</span>
<span class='curlybracket'>}</span>

<span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>void</span> f5<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>extern</span> <span class='keyword'>void</span> f4<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;             <span class='comment'>// OK, name linkage (internal) and function type linkage (C language linkage)</span>
                                <span class='comment'>// obtained from previous declaration.</span>
<span class='curlybracket'>}</span>

<span class='keyword'>extern</span> <span class='keyword'>void</span> f4<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;               <span class='comment'>// OK, name linkage (internal) and function type linkage (C language linkage)</span>
                                <span class='comment'>// obtained from previous declaration.</span>

<span class='keyword'>void</span> f6<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>extern</span> <span class='keyword'>void</span> f4<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;             <span class='comment'>// OK, name linkage (internal) and function type linkage (C language linkage)</span>
                                <span class='comment'>// obtained from previous declaration.</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='5.sentence-6' class='sentence'><a class='index' id=':class,linkage_specification'></a>A C language linkage is ignored
in determining the language linkage of
class members,
friend functions with a trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause'><span class='textsf'><i >requires-clause</i></span></span></a>, and the
function type of non-static class member functions<a class='hidden_link' href='#5.sentence-6'>.</a></div> <div id='example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>typedef</span> <span class='keyword'>void</span> FUNC_c<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

<span class='keyword'>class</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> mf1<span class='parenthesis'>(</span>FUNC_c<span class='operator'>*</span><span class='parenthesis'>)</span>;            <span class='comment'>// the function <span class='tcode_in_codeblock'>mf1</span> and its type have C++ language linkage;</span>
                                <span class='comment'>// the parameter has type “pointer to C function''</span>

  FUNC_c mf2;                   <span class='comment'>// the function <span class='tcode_in_codeblock'>mf2</span> and its type have C++ language linkage</span>

  <span class='keyword'>static</span> FUNC_c<span class='operator'>*</span> q;             <span class='comment'>// the data member <span class='tcode_in_codeblock'>q</span> has C++ language linkage;</span>
                                <span class='comment'>// its type is “pointer to C function''</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> X <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> mf<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                  <span class='comment'>// the function <span class='tcode_in_codeblock'>mf</span> and its type have C++ language linkage</span>
    <span class='keyword'>void</span> mf2<span class='parenthesis'>(</span><span class='keyword'>void</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// the function <span class='tcode_in_codeblock'>mf2</span> has C++ language linkage;</span>
                                <span class='comment'>// the parameter has type “pointer to C function''</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f52ffc9054913f3f9a4c5dc6973f6c5c3e7f1096/source/declarations.tex#L8429'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'>If two declarations of an entity give it different language linkages, the
program is ill-formed; no diagnostic is required if neither declaration
is reachable from the other<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'><a class='index' id=':consistency,linkage_specification'></a>A redeclaration of an entity without a linkage specification
inherits the language linkage of the entity and (if applicable) its type<a class='hidden_link' href='#6.sentence-2'>.</a></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f52ffc9054913f3f9a4c5dc6973f6c5c3e7f1096/source/declarations.tex#L8437'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'><a class='index' id=':function,linkage_specification_overloaded'></a>Two declarations declare the same entity
if they (re)introduce the same name,
one declares a function or variable with C language linkage,
and the other declares such an entity or declares a variable
that belongs to the global scope<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> x;
<span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>1</span>; <span class='curlybracket'>}</span>
  <span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>int</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>int</span> x<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;               <span class='comment'>// error: same name as global-space object <span class='tcode_in_codeblock'>x</span></span>
<span class='curlybracket'>}</span>

<span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;               <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span> and <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f</span> refer to the same function</span>
  <span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>1</span>; <span class='curlybracket'>}</span>  <span class='comment'>// error: the function <span class='tcode_in_codeblock'>g</span> with C language linkage has two definitions</span>
<span class='curlybracket'>}</span>

<span class='keyword'>int</span> A<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>98</span>; <span class='curlybracket'>}</span>           <span class='comment'>// definition for the function <span class='tcode_in_codeblock'>f</span> with C language linkage</span>
<span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>int</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>97</span>; <span class='curlybracket'>}</span>   <span class='comment'>// definition for the function <span class='tcode_in_codeblock'>h</span> with C language linkage</span>
                                    <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;h</span> and <span class='tcode_in_codeblock'>&#x200b;::&#x200b;h</span> refer to the same function</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f52ffc9054913f3f9a4c5dc6973f6c5c3e7f1096/source/declarations.tex#L8465'>#</a></div><div class='texpara'><div id='8.sentence-1' class='sentence'>A declaration directly contained in a
<a href='#nt:linkage-specification' title='9.11&emsp;Linkage specifications&emsp;[dcl.link]'><span id='ntref:linkage-specification____'><span class='textsf'><i >linkage-specification</i></span></span></a>
is treated as if it contains the
<span id=':extern__'><span class='texttt'><span class='keyword'>extern</span></span></span>
specifier (<a href='dcl.stc' title='9.2.2&emsp;Storage class specifiers'>[dcl.<span class='shy'></span>stc]</a>) for the purpose of determining the linkage of the
declared name and whether it is a definition<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>Such a declaration shall
not specify a storage class<a class='hidden_link' href='#8.sentence-2'>.</a></div> <div id='example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>double</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>static</span> <span class='keyword'>double</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                  <span class='comment'>// error</span>
<span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>int</span> i;                   <span class='comment'>// declaration</span>
<span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i;                            <span class='comment'>// definition</span>
<span class='curlybracket'>}</span>
<span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>static</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;         <span class='comment'>// error</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f52ffc9054913f3f9a4c5dc6973f6c5c3e7f1096/source/declarations.tex#L8485'>#</a></div><div class='texpara'><div id='note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-5'>5</a></i>:&ensp;<div id='9.sentence-1' class='sentence'>Because the language linkage is part of a function type, when
indirecting through a pointer to C function, the function to
which the resulting lvalue refers is considered a C function<a class='hidden_link' href='#9.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f52ffc9054913f3f9a4c5dc6973f6c5c3e7f1096/source/declarations.tex#L8492'>#</a></div><div class='texpara'><div id='10.sentence-1' class='sentence'><a class='index' id=':object,linkage_specification'></a><a class='index' id=':linkage,implementation-defined_object'></a>Linkage from C++ to objects defined in other languages and to objects
defined in C++ from other languages is <a class='index' id=':linkage_of_objects_between_C++_and_other_languages'></a>implementation-defined and
language-dependent<a class='hidden_link' href='#10.sentence-1'>.</a></div> <div id='10.sentence-2' class='sentence'>Only where the object layout strategies of two
language implementations are similar enough can such linkage be
achieved<a class='hidden_link' href='#10.sentence-2'>.</a></div> </div></div></div></body></html>