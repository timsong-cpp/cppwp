<!DOCTYPE html><html lang='en'><head><title>[temp.class]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>13</a> Templates <a class='abbr_ref' href='./#temp'>[temp]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>13.7</a> Template declarations <a class='abbr_ref' href='temp.decls#temp.class'>[temp.decls]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>13.7.2</a> Class templates <a class='abbr_ref'>[temp.class]</a></h3><div id='general' class='section'><h4 ><a class='secnum' href='#general' style='min-width:95pt'>13.7.2.1</a> General <a class='abbr_ref' href='temp.class.general'>[temp.class.general]</a></h4><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/templates.tex#L2234'>#</a></div><div class='texpara'><div id='general-1.sentence-1' class='sentence'>A
<a class='hidden_link' href='#def:template,class' title='13.7.2.1&emsp;General&emsp;[temp.class.general]'><span id='def:template,class'><i >class template</i></span></a>
defines the layout and operations
for an unbounded set of related types<a class='hidden_link' href='#general-1.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='general-2'><div class='marginalizedparent'><a class='marginalized' href='#general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/templates.tex#L2240'>#</a></div><div class='texpara'><div id='general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-1'>1</a></i>:&ensp;<div id='general-2.sentence-1' class='sentence'>It is possible for a single class template
<span class='texttt'>List</span>
to provide an unbounded set of class definitions:
one class <span class='texttt'>List<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> for every type <span class='texttt'>T</span>,
each describing a linked list of elements of type <span class='texttt'>T</span><a class='hidden_link' href='#general-2.sentence-1'>.</a></div> <div id='general-2.sentence-2' class='sentence'>Similarly, a class template <span class='texttt'>Array</span> describing a contiguous,
dynamic array can be defined like this:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> Array <span class='curlybracket'>{</span>
  T<span class='operator'>*</span> v;
  <span class='keyword'>int</span> sz;
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>explicit</span> Array<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  T<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  T<span class='operator'>&amp;</span> elem<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> v<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>; <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span></div> <div id='general-2.sentence-3' class='sentence'>
The prefix <span class='texttt'><span id=':template'><span class='texttt'><span class='keyword'>template</span></span></span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span></span>
specifies that a template is being declared and that a
<a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name'><span class='textsf'><i >type-name</i></span></span></a> <span class='texttt'>T</span>
can be used in the declaration<a class='hidden_link' href='#general-2.sentence-3'>.</a></div> <div id='general-2.sentence-4' class='sentence'>In other words,
<span class='texttt'>Array</span>
is a parameterized type with
<span class='texttt'>T</span>
as its parameter<a class='hidden_link' href='#general-2.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='general-3'><div class='marginalizedparent'><a class='marginalized' href='#general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/templates.tex#L2270'>#</a></div><div class='texpara'><div id='general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-1'>1</a></i>:&ensp;<div id='general-3.sentence-1' class='sentence'>When a member of a class
template is defined outside of the class template definition,
the member definition is defined as a template definition with the
<a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head'><span class='textsf'><i >template-head</i></span></span></a> equivalent to that
of the class template<a class='hidden_link' href='#general-3.sentence-1'>.</a></div> <div id='general-3.sentence-2' class='sentence'>The names of the template parameters used in the definition of the member
can differ from the template parameter names used in the class
template definition<a class='hidden_link' href='#general-3.sentence-2'>.</a></div> <div id='general-3.sentence-3' class='sentence'>The class template name in the member definition is followed by
the template argument list of the <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head_'><span class='textsf'><i >template-head</i></span></span></a> (<a href='temp.arg' title='13.4&emsp;Template arguments'>[temp.<span class='shy'></span>arg]</a>)<a class='hidden_link' href='#general-3.sentence-3'>.</a></div> <div id='general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f1<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2, <span class='keyword'>class</span> T1<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span>T2,T1<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f1<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>    <span class='comment'>// OK</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T2, <span class='keyword'>class</span> T1<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> A<span class='anglebracket'>&lt;</span>T1,T2<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f2<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>    <span class='comment'>// error</span>
</span></div><div class='texpara'><span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f3<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f4<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> B<span class='anglebracket'>&lt;</span>Types <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>f3<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>   <span class='comment'>// OK</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> B<span class='anglebracket'>&lt;</span>Types<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f4<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>       <span class='comment'>// error</span>
</span></div><div class='texpara'><span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='literal'>true</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> D <span class='operator'>=</span> <span class='literal'>true</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>D U<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Inner;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C A<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> S<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>        <span class='comment'>// OK, <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head__'><span class='textsf'><i >template-head</i></span></span></a><i >s</i> match</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span> <span class='comment'>// error: no matching declaration for <span class='tcode_in_codeblock'>S&lt;T&gt;</span></span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>      <span class='comment'>// ill-formed, no diagnostic required: <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head___'><span class='textsf'><i >template-head</i></span></span></a><i >s</i> are</span>
<span class='keyword'>void</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>                      <span class='comment'>// functionally equivalent but not equivalent</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C X<span class='anglebracket'>&gt;</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>D Y<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> S<span class='anglebracket'>&lt;</span>X<span class='anglebracket'>&gt;</span><span class='operator'>::</span>Inner <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                 <span class='comment'>// OK</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='general-4'><div class='marginalizedparent'><a class='marginalized' href='#general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/templates.tex#L2326'>#</a></div><div class='texpara'><div id='general-4.sentence-1' class='sentence'>In a partial specialization,
explicit specialization or
explicit instantiation of a class template,
the <a href='class.pre#nt:class-key' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-key'><span class='textsf'><i >class-key</i></span></span></a>
shall agree in kind with the original class template declaration (<a href='dcl.type.elab' title='9.2.9.5&emsp;Elaborated type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>elab]</a>)<a class='hidden_link' href='#general-4.sentence-1'>.</a></div></div></div></div><div id='temp.mem.func' class='section'><h4 ><a class='secnum' href='#temp.mem.func' style='min-width:95pt'>13.7.2.2</a> Member functions of class templates <a class='abbr_ref' href='temp.mem.func'>[temp.mem.func]</a></h4><div class='para' id='temp.mem.func-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem.func-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/templates.tex#L2335'>#</a></div><div class='texpara'><div id='temp.mem.func-1.sentence-1' class='sentence'><a class='index' id=':template,member_function'></a>A member function
of a class template
may be defined outside of the class
template definition in which it is declared<a class='hidden_link' href='#temp.mem.func-1.sentence-1'>.</a></div> <div id='temp.mem.func-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.mem.func-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> Array <span class='curlybracket'>{</span>
  T<span class='operator'>*</span> v;
  <span class='keyword'>int</span> sz;
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>explicit</span> Array<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  T<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  T<span class='operator'>&amp;</span> elem<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> v<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>; <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='temp.mem.func-1.sentence-2' class='sentence'>declares three member functions of a class template<a class='hidden_link' href='#temp.mem.func-1.sentence-2'>.</a></div> <div id='temp.mem.func-1.sentence-3' class='sentence'>The subscript function can be defined like this:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> T<span class='operator'>&amp;</span> Array<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span><span class='keyword'>operator</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>i<span class='anglebracket'>&lt;</span><span class='literal'>0</span> <span class='operator'>|</span><span class='operator'>|</span> sz<span class='anglebracket'>&lt;</span><span class='operator'>=</span>i<span class='parenthesis'>)</span> error<span class='parenthesis'>(</span><span class='literal'>"Array: range error"</span><span class='parenthesis'>)</span>;
  <span class='keyword'>return</span> v<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>;
<span class='curlybracket'>}</span>
</span></div></div><div class='texpara'><div id='temp.mem.func-1.sentence-4' class='sentence'>A constrained member function can be defined out of line:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='curlybracket'>{</span>
  <span class='keyword'>typename</span> T<span class='operator'>::</span>type;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>      <span class='comment'>// OK</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>                    <span class='comment'>// error: no matching function in <span class='tcode_in_codeblock'>S&lt;T&gt;</span></span>
</span></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.mem.func-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem.func-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/templates.tex#L2380'>#</a></div><div class='texpara'><div id='temp.mem.func-2.sentence-1' class='sentence'>The
<a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument'><span class='textsf'><i >template-argument</i></span></span></a><i >s</i>
for a member function of a class template are determined by the
<a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument_'><span class='textsf'><i >template-argument</i></span></span></a><i >s</i>
of the type of the object for which the member function is called<a class='hidden_link' href='#temp.mem.func-2.sentence-1'>.</a></div> <div id='temp.mem.func-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.mem.func-example-2'>2</a></i>:&ensp;<div id='temp.mem.func-2.sentence-2' class='sentence'>The
<a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument__'><span class='textsf'><i >template-argument</i></span></span></a>
for
<span class='texttt'>Array<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>
will be determined by the
<span class='texttt'>Array</span>
to which the subscripting operation is applied<a class='hidden_link' href='#temp.mem.func-2.sentence-2'>.</a></div></div><div class='texpara'><span class='codeblock'>Array<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> v1<span class='parenthesis'>(</span><span class='literal'>20</span><span class='parenthesis'>)</span>;
Array<span class='anglebracket'>&lt;</span>dcomplex<span class='anglebracket'>&gt;</span> v2<span class='parenthesis'>(</span><span class='literal'>30</span><span class='parenthesis'>)</span>;

v1<span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='literal'>7</span>;                              <span class='comment'>// <span class='tcode_in_codeblock'>Array&lt;int&gt;&#x200b;::&#x200b;operator[]</span></span>
v2<span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span> <span class='operator'>=</span> dcomplex<span class='parenthesis'>(</span><span class='literal'>7</span>,<span class='literal'>8</span><span class='parenthesis'>)</span>;                  <span class='comment'>// <span class='tcode_in_codeblock'>Array&lt;dcomplex&gt;&#x200b;::&#x200b;operator[]</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='temp.deduct.guide' class='section'><h4 ><a class='secnum' href='#temp.deduct.guide' style='min-width:95pt'>13.7.2.3</a> Deduction guides <a class='abbr_ref' href='temp.deduct.guide'>[temp.deduct.guide]</a></h4><div class='texpara'><a class='index' id=':deduction,class_template_argument'></a></div><div class='para' id='temp.deduct.guide-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.deduct.guide-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/templates.tex#L2407'>#</a></div><div class='texpara'><div id='temp.deduct.guide-1.sentence-1' class='sentence'>Deduction guides are used
when a <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name'><span class='textsf'><i >template-name</i></span></span></a> appears
as a type specifier
for a deduced class type (<a href='dcl.type.class.deduct' title='9.2.9.8&emsp;Deduced class template specialization types'>[dcl.<span class='shy'></span>type.<span class='shy'></span>class.<span class='shy'></span>deduct]</a>)<a class='hidden_link' href='#temp.deduct.guide-1.sentence-1'>.</a></div> <div id='temp.deduct.guide-1.sentence-2' class='sentence'>Deduction guides are not found by name lookup<a class='hidden_link' href='#temp.deduct.guide-1.sentence-2'>.</a></div> <div id='temp.deduct.guide-1.sentence-3' class='sentence'>Instead, when performing class template argument deduction (<a href='over.match.class.deduct' title='12.2.2.9&emsp;Class template argument deduction'>[over.<span class='shy'></span>match.<span class='shy'></span>class.<span class='shy'></span>deduct]</a>),
all reachable deduction guides declared for the class template are considered<a class='hidden_link' href='#temp.deduct.guide-1.sentence-3'>.</a></div></div><div class='texpara'><div class='bnf' id='nt:deduction-guide'>
<a class='hidden_link' href='#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='nt:deduction-guide'><span id=':deduction-guide'>deduction-guide<span class='textnormal'>:</span></span></span></a><br/><a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.3&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier'><span class='textsf'><i >explicit-specifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name_'><span class='textsf'><i >template-name</i></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <span class='terminal'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id'><span class='textsf'><i >simple-template-id</i></span></span></a> <span class='terminal'>;</span>
</div></div></div><div class='para nonNormativeOnly' id='temp.deduct.guide-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.deduct.guide-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/templates.tex#L2421'>#</a></div><div class='texpara'><div id='temp.deduct.guide-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.deduct.guide-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> D <span class='operator'>=</span> <span class='keyword'>int</span><span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  T data;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
S<span class='parenthesis'>(</span>U<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> S<span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> U<span class='operator'>::</span>type<span class='anglebracket'>&gt;</span>;

<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> type <span class='operator'>=</span> <span class='keyword'>short</span>;
  <span class='keyword'>operator</span> type<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
S x<span class='curlybracket'>{</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='curlybracket'>}</span>;           <span class='comment'>// <span class='tcode_in_codeblock'>x</span> is of type <span class='tcode_in_codeblock'>S&lt;short, int&gt;</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.deduct.guide-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.deduct.guide-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/templates.tex#L2439'>#</a></div><div class='texpara'><div id='temp.deduct.guide-3.sentence-1' class='sentence'>The same restrictions apply
to the <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause_'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a>
of a deduction guide
as in a function declaration (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>),
except that a generic parameter type placeholder (<a href='dcl.spec.auto' title='9.2.9.7&emsp;Placeholder type specifiers'>[dcl.<span class='shy'></span>spec.<span class='shy'></span>auto]</a>)
shall not appear in the <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause__'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> of
a deduction guide<a class='hidden_link' href='#temp.deduct.guide-3.sentence-1'>.</a></div> <div id='temp.deduct.guide-3.sentence-2' class='sentence'>The <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id_'><span class='textsf'><i >simple-template-id</i></span></span></a>
shall name a class template specialization<a class='hidden_link' href='#temp.deduct.guide-3.sentence-2'>.</a></div> <div id='temp.deduct.guide-3.sentence-3' class='sentence'>The <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name__'><span class='textsf'><i >template-name</i></span></span></a>
shall be the same <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier'><span class='textsf'><i >identifier</i></span></span></a>
as the <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name___'><span class='textsf'><i >template-name</i></span></span></a>
of the <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id__'><span class='textsf'><i >simple-template-id</i></span></span></a><a class='hidden_link' href='#temp.deduct.guide-3.sentence-3'>.</a></div> <div id='temp.deduct.guide-3.sentence-4' class='sentence'>A <a href='#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide'><span class='textsf'><i >deduction-guide</i></span></span></a>
shall inhabit the scope
to which the corresponding class template belongs
and, for a member class template, have the same access<a class='hidden_link' href='#temp.deduct.guide-3.sentence-4'>.</a></div> <div id='temp.deduct.guide-3.sentence-5' class='sentence'>Two deduction guide declarations
for the same class template
shall not have equivalent <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause___'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a><i >s</i>
if either is reachable from the other<a class='hidden_link' href='#temp.deduct.guide-3.sentence-5'>.</a></div></div></div></div><div id='temp.mem.class' class='section'><h4 ><a class='secnum' href='#temp.mem.class' style='min-width:95pt'>13.7.2.4</a> Member classes of class templates <a class='abbr_ref' href='temp.mem.class'>[temp.mem.class]</a></h4><div class='para' id='temp.mem.class-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem.class-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/templates.tex#L2464'>#</a></div><div class='texpara'><div id='temp.mem.class-1.sentence-1' class='sentence'>A member class of a class template may be defined outside the class template
definition in which it is declared<a class='hidden_link' href='#temp.mem.class-1.sentence-1'>.</a></div> <div id='temp.mem.class-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.mem.class-note-1'>1</a></i>:&ensp;<div id='temp.mem.class-1.sentence-2' class='sentence'>The member class must be defined before its first use that requires
an instantiation (<a href='temp.inst' title='13.9.2&emsp;Implicit instantiation'>[temp.<span class='shy'></span>inst]</a>)<a class='hidden_link' href='#temp.mem.class-1.sentence-2'>.</a></div> <div id='temp.mem.class-1.sentence-3' class='sentence'>For example,
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> B;
<span class='curlybracket'>}</span>;
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='operator'>*</span> b1;                          <span class='comment'>// OK, requires <span class='tcode_in_codeblock'>A</span> to be defined but not <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B</span></span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B  b2;                          <span class='comment'>// OK, requires <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B</span> to be defined</span>
</span></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='temp.static' class='section'><h4 ><a class='secnum' href='#temp.static' style='min-width:95pt'>13.7.2.5</a> Static data members of class templates <a class='abbr_ref' href='temp.static'>[temp.static]</a></h4><div class='para' id='temp.static-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.static-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/templates.tex#L2483'>#</a></div><div class='texpara'><div id='temp.static-1.sentence-1' class='sentence'><a class='index' id=':member,template_and_static'></a>A definition for a static data member or static data member template may be
provided in a namespace scope enclosing the definition of the static member's
class template<a class='hidden_link' href='#temp.static-1.sentence-1'>.</a></div> <div id='temp.static-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.static-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> T s;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> T X<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>s <span class='operator'>=</span> <span class='literal'>0</span>;

<span class='keyword'>struct</span> limits <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>static</span> <span class='keyword'>const</span> T min;                 <span class='comment'>// declaration</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>const</span> T limits<span class='operator'>::</span>min <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;            <span class='comment'>// definition</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.static-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.static-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/templates.tex#L2505'>#</a></div><div class='texpara'><div id='temp.static-2.sentence-1' class='sentence'>An explicit specialization of a static data member declared as an array of unknown
bound can have a different bound from its definition, if any<a class='hidden_link' href='#temp.static-2.sentence-1'>.</a></div> <div id='temp.static-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.static-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>int</span> i<span class='squarebracket'>[</span><span class='squarebracket'>]</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>i<span class='squarebracket'>[</span><span class='literal'>4</span><span class='squarebracket'>]</span>;      <span class='comment'>// 4 elements</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>i<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span> <span class='curlybracket'>}</span>;    <span class='comment'>// OK, 1 element</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='temp.mem.enum' class='section'><h4 ><a class='secnum' href='#temp.mem.enum' style='min-width:95pt'>13.7.2.6</a> Enumeration members of class templates <a class='abbr_ref' href='temp.mem.enum'>[temp.mem.enum]</a></h4><div class='para' id='temp.mem.enum-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.mem.enum-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/templates.tex#L2520'>#</a></div><div class='texpara'><div id='temp.mem.enum-1.sentence-1' class='sentence'>An enumeration member of a class template may be defined outside the class
template definition<a class='hidden_link' href='#temp.mem.enum-1.sentence-1'>.</a></div> <div id='temp.mem.enum-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.mem.enum-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>enum</span> E <span class='operator'>:</span> T;
<span class='curlybracket'>}</span>;
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> a;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>enum</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>E <span class='operator'>:</span> T <span class='curlybracket'>{</span> e1, e2 <span class='curlybracket'>}</span>;
A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>E e <span class='operator'>=</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>e1;
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div></div></body></html>