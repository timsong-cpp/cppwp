<!DOCTYPE html><html lang='en'><head><title>[expr.static.cast]</title><meta charset='UTF-8'><link rel='stylesheet' type='text/css' href='14882.css'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'><link rel='icon' href='icon.png'><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>7</a> Expressions <a class='abbr_ref' href='./#expr'>[expr]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>7.6</a> Compound expressions <a class='abbr_ref' href='expr.compound#expr.static.cast'>[expr.compound]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>7.6.1</a> Postfix expressions <a class='abbr_ref' href='expr.post#expr.static.cast'>[expr.post]</a></h3><h4 ><a class='secnum' style='min-width:95pt'>7.6.1.9</a> Static cast <a class='abbr_ref'>[expr.static.cast]</a></h4><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2d59c792e2a0228e77a0316d39bde9e51f31d146/source/expressions.tex#L4370'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'><a class='index' id=':expression,static_cast'></a><a class='index' id=':cast,static'></a>The result of the expression <span class='texttt'><span id=':static_cast'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span><span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span> is the result of
converting the expression <span class='texttt'>v</span> to type <span class='texttt'>T</span><a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'><a class='index' id=':cast,static,lvalue'></a><a class='index' id=':cast,lvalue'></a>If <span class='texttt'>T</span> is an lvalue reference type
or an rvalue reference to function type, the result is an lvalue;
if <span class='texttt'>T</span> is an rvalue reference to object type, the result is an xvalue;
otherwise, the result is a prvalue<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>The <span id=':static_cast_'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> operator shall not cast
away constness (<a href='expr.const.cast' title='7.6.1.11&emsp;Const cast'>[expr.<span class='shy'></span>const.<span class='shy'></span>cast]</a>)<a class='hidden_link' href='#1.sentence-3'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2d59c792e2a0228e77a0316d39bde9e51f31d146/source/expressions.tex#L4383'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'><a class='index' id=':cast,static,reference'></a><a class='index' id=':cast,reference'></a>An lvalue of type “<i >cv1</i> <span class='texttt'>B</span>”, where <span class='texttt'>B</span> is a class
type, can be cast to type “reference to <i >cv2</i> <span class='texttt'>D</span>”, where
<span class='texttt'>D</span> is a complete class derived (<a href='class.derived' title='11.7&emsp;Derived classes'>[class.<span class='shy'></span>derived]</a>) from <span class='texttt'>B</span>,
if <i >cv2</i> is the
same cv-qualification as, or greater cv-qualification than,
<i >cv1</i><a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>If <span class='texttt'>B</span> is a virtual base class of <span class='texttt'>D</span>
or a base class of a virtual base class of <span class='texttt'>D</span>,
or if no valid standard conversion from “pointer to <span class='texttt'>D</span>”
to “pointer to <span class='texttt'>B</span>” exists (<a href='conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>), the program is ill-formed<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>An xvalue of type
“<i >cv1</i> <span class='texttt'>B</span>” can be cast to type “rvalue reference to
<i >cv2</i> <span class='texttt'>D</span>” with the same constraints as for an lvalue of
type “<i >cv1</i> <span class='texttt'>B</span>”<a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='2.sentence-4' class='sentence'>If the object
of type “<i >cv1</i> <span class='texttt'>B</span>” is actually a base class subobject of an object
of type <span class='texttt'>D</span>, the result refers to the enclosing object of type
<span class='texttt'>D</span><a class='hidden_link' href='#2.sentence-4'>.</a></div> <div id='2.sentence-5' class='sentence'>Otherwise, the behavior is undefined<a class='hidden_link' href='#2.sentence-5'>.</a></div> <div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
D d;
B <span class='operator'>&amp;</span>br <span class='operator'>=</span> d;

<span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>D<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>br<span class='parenthesis'>)</span>;            <span class='comment'>// produces lvalue denoting the original <span class='tcode_in_codeblock'>d</span> object</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2d59c792e2a0228e77a0316d39bde9e51f31d146/source/expressions.tex#L4413'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>An lvalue
of type <span class='texttt'>T1</span> can be cast to type “rvalue
reference to <span class='texttt'>T2</span>” if <span class='texttt'>T2</span> is reference-compatible with
<span class='texttt'>T1</span> (<a href='dcl.init.ref' title='9.5.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>)<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>If the value is not a bit-field,
the result refers to the object or the specified base class subobject
thereof; otherwise, the <a href='conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion&emsp;[conv.lval]'>lvalue-to-rvalue conversion</a>
is applied to the bit-field and the resulting prvalue is used as the
operand of the <span id=':static_cast__'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> for the remainder of this subclause<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>If <span class='texttt'>T2</span> is an inaccessible (<a href='class.access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>) or
ambiguous (<a href='class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>) base class of <span class='texttt'>T1</span>,
a program that necessitates such a cast is ill-formed<a class='hidden_link' href='#3.sentence-3'>.</a></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2d59c792e2a0228e77a0316d39bde9e51f31d146/source/expressions.tex#L4426'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>Any expression can be explicitly converted to type <span class='mathit'>cv</span> <span id=':void'><span class='texttt'><span class='keyword'>void</span></span></span>,
in which case the operand is a discarded-value expression (<a href='expr.prop' title='7.2&emsp;Properties of expressions'>[expr.<span class='shy'></span>prop]</a>)<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='4.sentence-2' class='sentence'>Such a <span id=':static_cast___'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> has no result
as it is a prvalue of type <span id=':void_'><span class='texttt'><span class='keyword'>void</span></span></span>; see <a href='basic.lval' title='7.2.1&emsp;Value category'>[basic.<span class='shy'></span>lval]</a><a class='hidden_link' href='#4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>:&ensp;<div id='4.sentence-3' class='sentence'>However, if the value is in a temporary
object (<a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>), the destructor for that
object is
not executed until the usual time, and the value of the object is
preserved for the purpose of executing the destructor<a class='hidden_link' href='#4.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2d59c792e2a0228e77a0316d39bde9e51f31d146/source/expressions.tex#L4441'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'>Otherwise, an expression <span class='math'><span class='mathalpha'>E</span></span> can be explicitly converted to a type <span class='texttt'>T</span>
if there is an implicit conversion sequence (<a href='over.best.ics' title='12.2.4.2&emsp;Implicit conversion sequences'>[over.<span class='shy'></span>best.<span class='shy'></span>ics]</a>)
from <span class='math'><span class='mathalpha'>E</span></span> to <span class='texttt'>T</span>,
if overload resolution for a direct-initialization (<a href='dcl.init' title='9.5&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)
of an object or reference of type <span class='texttt'>T</span> from <span class='math'><span class='mathalpha'>E</span></span>
would find at least one viable function (<a href='over.match.viable' title='12.2.3&emsp;Viable functions'>[over.<span class='shy'></span>match.<span class='shy'></span>viable]</a>), or
if <span class='texttt'>T</span> is an aggregate type (<a href='dcl.init.aggr' title='9.5.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>)
having a first element <span class='texttt'>x</span> and
there is an implicit conversion sequence
from <span class='math'><span class='mathalpha'>E</span></span> to the type of <span class='texttt'>x</span><a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>If <span class='texttt'>T</span> is a reference type, the effect is
the same as performing the declaration and initialization
<span class='codeblock'>T t<span class='parenthesis'>(</span><span class='math'><span class='mathalpha'>E</span></span><span class='parenthesis'>)</span>;
</span>
for some invented temporary variable <span class='texttt'>t</span> (<a href='dcl.init' title='9.5&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)
and then using the temporary variable as the result of the conversion<a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'>Otherwise, the result object is direct-initialized from <span class='math'><span class='mathalpha'>E</span></span><a class='hidden_link' href='#5.sentence-3'>.</a></div> <div id='note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-3'>3</a></i>:&ensp;<div id='5.sentence-4' class='sentence'>The conversion is ill-formed when attempting to convert an
expression of class type to an inaccessible or ambiguous base class<a class='hidden_link' href='#5.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-4'>4</a></i>:&ensp;<div id='5.sentence-5' class='sentence'>If <span class='texttt'>T</span> is “array of unknown bound of <span class='texttt'>U</span>”,
this direct-initialization defines the type of the expression as <span class='texttt'>U<span class='squarebracket'>[</span><span class='literal'>1</span><span class='squarebracket'>]</span></span><a class='hidden_link' href='#5.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2d59c792e2a0228e77a0316d39bde9e51f31d146/source/expressions.tex#L4469'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'>Otherwise,
the inverse of a standard conversion sequence (<a href='conv' title='7.3&emsp;Standard conversions'>[conv]</a>) not containing an
lvalue-to-rvalue (<a href='conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a>),
array-to-pointer (<a href='conv.array' title='7.3.3&emsp;Array-to-pointer conversion'>[conv.<span class='shy'></span>array]</a>),
function-to-pointer (<a href='conv.func' title='7.3.4&emsp;Function-to-pointer conversion'>[conv.<span class='shy'></span>func]</a>),
null pointer (<a href='conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>), null member pointer (<a href='conv.mem' title='7.3.13&emsp;Pointer-to-member conversions'>[conv.<span class='shy'></span>mem]</a>),
boolean (<a href='conv.bool' title='7.3.15&emsp;Boolean conversions'>[conv.<span class='shy'></span>bool]</a>), or
function pointer (<a href='conv.fctptr' title='7.3.14&emsp;Function pointer conversions'>[conv.<span class='shy'></span>fctptr]</a>)
conversion, can be performed explicitly using <span id=':static_cast____'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span><a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>A
program is ill-formed if it uses <span id=':static_cast_____'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> to perform the
inverse of an ill-formed standard conversion sequence<a class='hidden_link' href='#6.sentence-2'>.</a></div> <div id='example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> <span class='keyword'>private</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>D<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span>B<span class='operator'>*</span><span class='parenthesis'>)</span><span class='literal'>0</span><span class='parenthesis'>)</span>;               <span class='comment'>// error: <span class='tcode_in_codeblock'>B</span> is a private base of <span class='tcode_in_codeblock'>D</span></span>
  <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> B<span class='operator'>::</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span><span class='keyword'>int</span> D<span class='operator'>::</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='literal'>0</span><span class='parenthesis'>)</span>;   <span class='comment'>// error: <span class='tcode_in_codeblock'>B</span> is a private base of <span class='tcode_in_codeblock'>D</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2d59c792e2a0228e77a0316d39bde9e51f31d146/source/expressions.tex#L4492'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'>The lvalue-to-rvalue (<a href='conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a>),
array-to-pointer (<a href='conv.array' title='7.3.3&emsp;Array-to-pointer conversion'>[conv.<span class='shy'></span>array]</a>), and
function-to-pointer (<a href='conv.func' title='7.3.4&emsp;Function-to-pointer conversion'>[conv.<span class='shy'></span>func]</a>) conversions are applied to the
operand<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>Such a <span id=':static_cast______'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span> is subject to the restriction that
the explicit conversion does not cast away
constness (<a href='expr.const.cast' title='7.6.1.11&emsp;Const cast'>[expr.<span class='shy'></span>const.<span class='shy'></span>cast]</a>), and the following additional rules
for specific cases:</div></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2d59c792e2a0228e77a0316d39bde9e51f31d146/source/expressions.tex#L4501'>#</a></div><div class='texpara'><div id='8.sentence-1' class='sentence'>A value of a scoped enumeration type (<a href='dcl.enum' title='9.8.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>)
can be explicitly converted to an integral type;
the result is the same as that of converting
to the enumeration's underlying type and then to the destination type<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>A value of a scoped enumeration type
can also be explicitly converted to a floating-point type;
the result is the same as that of converting
from the original value to the floating-point type<a class='hidden_link' href='#8.sentence-2'>.</a></div></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2d59c792e2a0228e77a0316d39bde9e51f31d146/source/expressions.tex#L4511'>#</a></div><div class='texpara'><div id='9.sentence-1' class='sentence'><a class='index' id=':enumeration_type,conversion_to'></a><a class='index' id=':enumeration_type,static_cast,conversion_to'></a>A value of integral or enumeration type can be explicitly converted to
a complete enumeration type<a class='hidden_link' href='#9.sentence-1'>.</a></div> <div id='9.sentence-2' class='sentence'>If the enumeration type has a fixed underlying type,
the value is first converted to that type
by
integral promotion (<a href='conv.prom' title='7.3.7&emsp;Integral promotions'>[conv.<span class='shy'></span>prom]</a>) or integral conversion (<a href='conv.integral' title='7.3.9&emsp;Integral conversions'>[conv.<span class='shy'></span>integral]</a>),
if necessary, and
then to the enumeration type<a class='hidden_link' href='#9.sentence-2'>.</a></div> <div id='9.sentence-3' class='sentence'>If the enumeration type does not have a fixed underlying type,
the value is unchanged
if the original value is within the range
of the enumeration values (<a href='dcl.enum' title='9.8.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>), and
otherwise, the behavior is undefined<a class='hidden_link' href='#9.sentence-3'>.</a></div> <div id='9.sentence-4' class='sentence'>A value of floating-point type can also be explicitly converted to an enumeration type<a class='hidden_link' href='#9.sentence-4'>.</a></div> <div id='9.sentence-5' class='sentence'>The resulting value is the same as converting the original value to the
underlying type of the enumeration (<a href='conv.fpint' title='7.3.11&emsp;Floating-integral conversions'>[conv.<span class='shy'></span>fpint]</a>), and subsequently to
the enumeration type<a class='hidden_link' href='#9.sentence-5'>.</a></div></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2d59c792e2a0228e77a0316d39bde9e51f31d146/source/expressions.tex#L4532'>#</a></div><div class='texpara'><div id='10.sentence-1' class='sentence'>A prvalue of floating-point type can be explicitly converted to
any other floating-point type<a class='hidden_link' href='#10.sentence-1'>.</a></div> <div id='10.sentence-2' class='sentence'>If the source value can be exactly represented in the destination type,
the result of the conversion has that exact representation<a class='hidden_link' href='#10.sentence-2'>.</a></div> <div id='10.sentence-3' class='sentence'>If the source value is between two adjacent destination values,
the result of the conversion is
an <a class='index' id=':result_of_inexact_floating-point_conversion'></a>implementation-defined choice of
either of those values<a class='hidden_link' href='#10.sentence-3'>.</a></div> <div id='10.sentence-4' class='sentence'>Otherwise, the behavior is undefined<a class='hidden_link' href='#10.sentence-4'>.</a></div></div></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2d59c792e2a0228e77a0316d39bde9e51f31d146/source/expressions.tex#L4543'>#</a></div><div class='texpara'><div id='11.sentence-1' class='sentence'><a class='index' id=':cast,base_class'></a><a class='index' id=':cast,derived_class'></a>A prvalue of type “pointer to <i >cv1</i> <span class='texttt'>B</span>”, where <span class='texttt'>B</span>
is a class type, can be converted to a prvalue of type “pointer to
<i >cv2</i> <span class='texttt'>D</span>”,
where <span class='texttt'>D</span> is a complete class
<a href='class.derived' title='11.7&emsp;Derived classes&emsp;[class.derived]'>derived</a>
from <span class='texttt'>B</span>,
if <i >cv2</i> is the same cv-qualification as,
or greater cv-qualification than, <i >cv1</i><a class='hidden_link' href='#11.sentence-1'>.</a></div> <div id='11.sentence-2' class='sentence'>If <span class='texttt'>B</span> is a virtual base class of <span class='texttt'>D</span> or
a base class of a virtual base class of <span class='texttt'>D</span>, or
if no valid standard conversion from “pointer to <span class='texttt'>D</span>”
to “pointer to <span class='texttt'>B</span>” exists (<a href='conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>), the program is ill-formed<a class='hidden_link' href='#11.sentence-2'>.</a></div> <div id='11.sentence-3' class='sentence'>The null pointer value (<a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>) is converted
to the null pointer value of the destination type<a class='hidden_link' href='#11.sentence-3'>.</a></div> <div id='11.sentence-4' class='sentence'>If the prvalue of type
“pointer to <i >cv1</i> <span class='texttt'>B</span>” points to a <span class='texttt'>B</span> that is
actually a base class subobject of an object of type <span class='texttt'>D</span>, the resulting
pointer points to the enclosing object of type <span class='texttt'>D</span><a class='hidden_link' href='#11.sentence-4'>.</a></div> <div id='11.sentence-5' class='sentence'>Otherwise, the
behavior is undefined<a class='hidden_link' href='#11.sentence-5'>.</a></div></div></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2d59c792e2a0228e77a0316d39bde9e51f31d146/source/expressions.tex#L4565'>#</a></div><div class='texpara'><div id='12.sentence-1' class='sentence'><a class='index' id=':cast,pointer-to-member'></a>A prvalue of type “pointer to member of <span class='texttt'>D</span> of type <i >cv1</i>
<span class='texttt'>T</span>” can be converted to a prvalue of type “pointer to member of
<span class='texttt'>B</span> of type <i >cv2</i> <span class='texttt'>T</span>”, where
<span class='texttt'>D</span> is a complete class type and
<span class='texttt'>B</span> is a <a href='class.derived' title='11.7&emsp;Derived classes&emsp;[class.derived]'>base class</a> of <span class='texttt'>D</span>,
if <i >cv2</i> is the same cv-qualification
as, or greater cv-qualification than, <i >cv1</i><a class='hidden_link' href='#12.sentence-1'>.</a></div> <div id='note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-5'>5</a></i>:&ensp;<div id='12.sentence-2' class='sentence'>Function types (including those used in pointer-to-member-function types)
are never cv-qualified (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#12.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='12.sentence-3' class='sentence'>
If no valid standard conversion
from “pointer to member of <span class='texttt'>B</span> of type <span class='texttt'>T</span>”
to “pointer to member of <span class='texttt'>D</span> of type <span class='texttt'>T</span>”
exists (<a href='conv.mem' title='7.3.13&emsp;Pointer-to-member conversions'>[conv.<span class='shy'></span>mem]</a>), the program is ill-formed<a class='hidden_link' href='#12.sentence-3'>.</a></div> <div id='12.sentence-4' class='sentence'>The <a href='conv.mem#def:value,null_member_pointer' title='7.3.13&emsp;Pointer-to-member conversions&emsp;[conv.mem]'>null member pointer value</a> is converted to the null
member pointer value of the destination type<a class='hidden_link' href='#12.sentence-4'>.</a></div> <div id='12.sentence-5' class='sentence'>If class <span class='texttt'>B</span>
contains the original member, or is a base class of the class
containing the original member, the resulting pointer to member points
to the original member<a class='hidden_link' href='#12.sentence-5'>.</a></div> <div id='12.sentence-6' class='sentence'>Otherwise, the behavior is undefined<a class='hidden_link' href='#12.sentence-6'>.</a></div> <div id='note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-6'>6</a></i>:&ensp;<div id='12.sentence-7' class='sentence'>Although class <span class='texttt'>B</span> need not contain the original member, the
dynamic type of the object with which indirection through the pointer
to member is performed must contain the original member;
see <a href='expr.mptr.oper' title='7.6.4&emsp;Pointer-to-member operators'>[expr.<span class='shy'></span>mptr.<span class='shy'></span>oper]</a><a class='hidden_link' href='#12.sentence-7'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2d59c792e2a0228e77a0316d39bde9e51f31d146/source/expressions.tex#L4594'>#</a></div><div class='texpara'><div id='13.sentence-1' class='sentence'>A prvalue of type “pointer to <i >cv1</i> <span id=':void__'><span class='texttt'><span class='keyword'>void</span></span></span>” can be
converted to a prvalue of type “pointer to <i >cv2</i> <span class='texttt'>T</span>”,
where <span class='texttt'>T</span> is an object type and <i >cv2</i> is the same
cv-qualification as, or greater cv-qualification than, <i >cv1</i><a class='hidden_link' href='#13.sentence-1'>.</a></div> <div id='13.sentence-2' class='sentence'>If the original pointer value represents the address
<span class='texttt'>A</span> of a byte in memory and
<span class='texttt'>A</span> does not satisfy the alignment requirement of <span class='texttt'>T</span>,
then the resulting pointer value (<a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>) is unspecified<a class='hidden_link' href='#13.sentence-2'>.</a></div> <div id='13.sentence-3' class='sentence'>Otherwise, if the original pointer value points to an object <i >a</i>,
and there is an object <i >b</i> of type similar to <span class='texttt'>T</span>
that is <a href='basic.compound#def:pointer-interconvertible' title='6.8.4&emsp;Compound types&emsp;[basic.compound]'>pointer-interconvertible</a> with <i >a</i>,
the result is a pointer to <i >b</i><a class='hidden_link' href='#13.sentence-3'>.</a></div> <div id='13.sentence-4' class='sentence'>Otherwise, the pointer value is unchanged by the conversion<a class='hidden_link' href='#13.sentence-4'>.</a></div> <div id='example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-3'>3</a></i>:&ensp;<span class='codeblock'>T<span class='operator'>*</span> p1 <span class='operator'>=</span> <span class='keyword'>new</span> T;
<span class='keyword'>const</span> T<span class='operator'>*</span> p2 <span class='operator'>=</span> <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> T<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>void</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>p1<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='keyword'>bool</span> b <span class='operator'>=</span> p1 <span class='operator'>=</span><span class='operator'>=</span> p2;  <span class='comment'>// <span class='tcode_in_codeblock'>b</span> will have the value <span class='tcode_in_codeblock'>true</span>.</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2d59c792e2a0228e77a0316d39bde9e51f31d146/source/expressions.tex#L4616'>#</a></div><div class='texpara'><div id='14.sentence-1' class='sentence'>No other conversion can be performed using <span id=':static_cast_______'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span><a class='hidden_link' href='#14.sentence-1'>.</a></div></div></div></div></body></html>