<!DOCTYPE html><html lang='en'><head><title>[over.match.class.deduct]</title><meta charset='UTF-8'><link rel='stylesheet' type='text/css' href='14882.css'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'><link rel='icon' href='icon.png'><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>12</a> Overloading <a class='abbr_ref' href='./#over'>[over]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>12.2</a> Overload resolution <a class='abbr_ref' href='over.match#class.deduct'>[over.match]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>12.2.2</a> Candidate functions and argument lists <a class='abbr_ref' href='over.match.funcs#over.match.class.deduct'>[over.match.funcs]</a></h3><h4 ><a class='secnum' style='min-width:95pt'>12.2.2.9</a> Class template argument deduction <a class='abbr_ref'>[over.match.class.deduct]</a></h4><div class='texpara'><a class='index' id=':deduction,class_template_arguments'></a></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/454ba171cb14531639e641cb1200617fbf8d943f/source/overloading.tex#L1221'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>When resolving a placeholder for a deduced class type (<a href='dcl.type.class.deduct' title='9.2.9.8&emsp;Deduced class template specialization types'>[dcl.<span class='shy'></span>type.<span class='shy'></span>class.<span class='shy'></span>deduct]</a>)
where the <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name'><span class='textsf'><i >template-name</i></span></span></a> or <a href='dcl.type.splice#nt:splice-type-specifier' title='9.2.9.9&emsp;Type splicing&emsp;[dcl.type.splice]'><span id='ntref:splice-type-specifier'><span class='textsf'><i >splice-type-specifier</i></span></span></a>
designates a primary class template <span class='texttt'>C</span>,
a set of functions and function templates, called the guides of <span class='texttt'>C</span>,
is formed comprising:
<ul class='itemize'><li id='1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.1'>(1.1)</a></div><div class='texpara'><div id='1.1.sentence-1' class='sentence'>If <span class='texttt'>C</span> is defined,
for each constructor of <span class='texttt'>C</span>,
a function template with the following properties:
<ul class='itemize'><li id='1.1.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#1.1.1'>(1.1.1)</a></div><div class='texpara'><div id='1.1.1.sentence-1' class='sentence'>The template parameters are the template parameters of <span class='texttt'>C</span>
followed
by the template parameters (including default template arguments) of the constructor,
if any<a class='hidden_link' href='#1.1.1.sentence-1'>.</a></div></div></li><li id='1.1.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#1.1.2'>(1.1.2)</a></div><div class='texpara'><div id='1.1.2.sentence-1' class='sentence'>The associated constraints (<a href='temp.constr.decl' title='13.5.3&emsp;Constrained declarations'>[temp.<span class='shy'></span>constr.<span class='shy'></span>decl]</a>) are the conjunction of
the associated constraints of <span class='texttt'>C</span> and
the associated constraints of the constructor, if any<a class='hidden_link' href='#1.1.2.sentence-1'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='1.1.2.sentence-2' class='sentence'>A <a href='temp.constr.decl#nt:constraint-expression' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'><span id='ntref:constraint-expression'><span class='textsf'><i >constraint-expression</i></span></span></a> in
the <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head'><span class='textsf'><i >template-head</i></span></span></a> of <span class='texttt'>C</span>
is checked for satisfaction before any constraints from
the <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head_'><span class='textsf'><i >template-head</i></span></span></a> or trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause'><span class='textsf'><i >requires-clause</i></span></span></a>
of the constructor<a class='hidden_link' href='#1.1.2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li><li id='1.1.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#1.1.3'>(1.1.3)</a></div><div class='texpara'><div id='1.1.3.sentence-1' class='sentence'>The <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> is that of the constructor<a class='hidden_link' href='#1.1.3.sentence-1'>.</a></div></div></li><li id='1.1.4'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#1.1.4'>(1.1.4)</a></div><div class='texpara'><div id='1.1.4.sentence-1' class='sentence'>The return type is the class template specialization
designated by <span class='texttt'>C</span>
and template arguments
corresponding to the template parameters of <span class='texttt'>C</span><a class='hidden_link' href='#1.1.4.sentence-1'>.</a></div></div></li></ul></div></div></li><li id='1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.2'>(1.2)</a></div><div class='texpara'><div id='1.2.sentence-1' class='sentence'>If <span class='texttt'>C</span>
is not defined or does not declare any constructors,
an additional function template derived as above
from a hypothetical constructor <span class='texttt'>C<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#1.2.sentence-1'>.</a></div></div></li><li id='1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.3'>(1.3)</a></div><div class='texpara'><div id='1.3.sentence-1' class='sentence'>An additional function template derived as above
from a hypothetical constructor <span class='texttt'>C<span class='parenthesis'>(</span>C<span class='parenthesis'>)</span></span>,
called the <a class='hidden_link' href='#def:copy_deduction_candidate' title='12.2.2.9&emsp;Class template argument deduction&emsp;[over.match.class.deduct]'><span id='def:copy_deduction_candidate'><i >copy deduction candidate</i></span></a><a class='hidden_link' href='#1.3.sentence-1'>.</a></div></div></li><li id='1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.4'>(1.4)</a></div><div class='texpara'><div id='1.4.sentence-1' class='sentence'>For each <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide'><span class='textsf'><i >deduction-guide</i></span></span></a>,
a function or function template
with the following properties:
<ul class='itemize'><li id='1.4.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#1.4.1'>(1.4.1)</a></div><div class='texpara'><div id='1.4.1.sentence-1' class='sentence'>The <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head__'><span class='textsf'><i >template-head</i></span></span></a>, if any,
and <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause_'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a>
are those of the <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide_'><span class='textsf'><i >deduction-guide</i></span></span></a><a class='hidden_link' href='#1.4.1.sentence-1'>.</a></div></div></li><li id='1.4.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#1.4.2'>(1.4.2)</a></div><div class='texpara'><div id='1.4.2.sentence-1' class='sentence'>The return type
is the <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id'><span class='textsf'><i >simple-template-id</i></span></span></a>
of the <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide__'><span class='textsf'><i >deduction-guide</i></span></span></a><a class='hidden_link' href='#1.4.2.sentence-1'>.</a></div></div></li></ul></div></div></li></ul></div> <div id='1.sentence-2' class='sentence'>
In addition, if <span class='texttt'>C</span> is defined
and its definition satisfies the conditions for
an aggregate class (<a href='dcl.init.aggr' title='9.5.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>)
with the assumption that any dependent base class has
no virtual functions and no virtual base classes, and
the initializer is a non-empty <a href='dcl.init.general#nt:braced-init-list' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list'><span class='textsf'><i >braced-init-list</i></span></span></a> or
parenthesized <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list'><span class='textsf'><i >expression-list</i></span></span></a>, and
there are no <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide___'><span class='textsf'><i >deduction-guide</i></span></span></a><i >s</i> for <span class='texttt'>C</span>,
the set contains an additional function template,
called the <a class='hidden_link' href='#def:candidate,aggregate_deduction' title='12.2.2.9&emsp;Class template argument deduction&emsp;[over.match.class.deduct]'><span id='def:candidate,aggregate_deduction'><i >aggregate deduction candidate</i></span></a>, defined as follows<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>Let <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">…</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span></span> be the elements
of the <a href='dcl.init.general#nt:initializer-list' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list'><span class='textsf'><i >initializer-list</i></span></span></a> or
<a href='dcl.init.general#nt:designated-initializer-list' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designated-initializer-list'><span class='textsf'><i >designated-initializer-list</i></span></span></a>
of the <a href='dcl.init.general#nt:braced-init-list' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list_'><span class='textsf'><i >braced-init-list</i></span></span></a>, or
of the <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list_'><span class='textsf'><i >expression-list</i></span></span></a><a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>For each <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>, let <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> be the corresponding aggregate element
of <span class='texttt'>C</span> or of one of its (possibly recursive) subaggregates
that would be initialized by <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> (<a href='dcl.init.aggr' title='9.5.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>) if
<ul class='itemize'><li id='1.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.5'>(1.5)</a></div>brace elision is not considered for any aggregate element
that has
<ul class='itemize'><li id='1.5.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#1.5.1'>(1.5.1)</a></div>a dependent non-array type,</li><li id='1.5.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#1.5.2'>(1.5.2)</a></div>an array type with a value-dependent bound, or</li><li id='1.5.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#1.5.3'>(1.5.3)</a></div>an array type with a dependent array element type and <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is a string literal; and</li></ul></li><li id='1.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.6'>(1.6)</a></div>each non-trailing aggregate element that is a pack expansion
is assumed to correspond to no elements of the initializer list, and</li><li id='1.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.7'>(1.7)</a></div>a trailing aggregate element that is a pack expansion is assumed to correspond
to all remaining elements of the initializer list (if any)<a class='hidden_link' href='#1.sentence-4'>.</a></li></ul></div> <div id='1.sentence-5' class='sentence'>
If there is no such aggregate element <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> for any <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>,
the aggregate deduction candidate is not added to the set<a class='hidden_link' href='#1.sentence-5'>.</a></div> <div id='1.sentence-6' class='sentence'>The aggregate deduction candidate is derived as above
from a hypothetical constructor <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">C</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">…</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span>,
where
<ul class='itemize'><li id='1.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.8'>(1.8)</a></div>if <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is of array type and
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is a <a href='dcl.init.general#nt:braced-init-list' title='9.5.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list__'><span class='textsf'><i >braced-init-list</i></span></span></a>,
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is an rvalue reference to the declared type of <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>, and</li><li id='1.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.9'>(1.9)</a></div>if <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is of array type and
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is a <a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal'><span class='textsf'><i >string-literal</i></span></span></a>,
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is an lvalue reference to
the const-qualified declared type of <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>, and</li><li id='1.10'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.10'>(1.10)</a></div>otherwise, <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is the declared type of <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>,</li></ul>
except that additional parameter packs of the form <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">P</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="margin-top: -0.07em; padding-bottom: 0.225em;"><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span></span>
are inserted into the parameter list in their original aggregate element position corresponding to each non-trailing aggregate element of type <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">P</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span>
that was skipped because it was a parameter pack, and
the trailing sequence of parameters corresponding
to a trailing aggregate element that is a pack expansion (if any)
is replaced by a single parameter of the form <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="margin-top: -0.07em; padding-bottom: 0.225em;"><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span></span><a class='hidden_link' href='#1.sentence-6'>.</a></div> <div id='1.sentence-7' class='sentence'>In addition,
if <span class='texttt'>C</span> is defined and
inherits constructors (<a href='namespace.udecl' title='9.10&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>)
from a direct base class denoted in the <a href='class.derived.general#nt:base-specifier-list' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier-list'><span class='textsf'><i >base-specifier-list</i></span></span></a>
by a <a href='class.derived.general#nt:class-or-decltype' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:class-or-decltype'><span class='textsf'><i >class-or-decltype</i></span></span></a> <span class='texttt'>B</span>,
let <span class='texttt'>A</span> be an alias template
whose template parameter list is that of <span class='texttt'>C</span> and
whose <a href='dcl.name#nt:defining-type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:defining-type-id'><span class='textsf'><i >defining-type-id</i></span></span></a> is <span class='texttt'>B</span><a class='hidden_link' href='#1.sentence-7'>.</a></div> <div id='1.sentence-8' class='sentence'>If <span class='texttt'>A</span> is a deducible template (<a href='dcl.type.simple' title='9.2.9.3&emsp;Simple type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>simple]</a>),
the set contains the guides of <span class='texttt'>A</span>
with the return type <span class='texttt'>R</span> of each guide
replaced with <span class='texttt'><span class='keyword'>typename</span> CC<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>type</span> given a class template
<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> CC;
</span>
whose primary template is not defined and
with a single partial specialization
whose template parameter list is that of <span class='texttt'>A</span> and
whose template argument list is a specialization of <span class='texttt'>A</span> with
the template argument list of <span class='texttt'>A</span> (<a href='temp.dep.type' title='13.8.3.2&emsp;Dependent types'>[temp.<span class='shy'></span>dep.<span class='shy'></span>type]</a>)
having a member typedef <span class='texttt'>type</span> designating a template specialization with
the template argument list of <span class='texttt'>A</span> but
with <span class='texttt'>C</span> as the template<a class='hidden_link' href='#1.sentence-8'>.</a></div> <div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>:&ensp;<div id='1.sentence-9' class='sentence'>Equivalently,
the template parameter list of the specialization is that of <span class='texttt'>C</span>,
the template argument list of the specialization is <span class='texttt'>B</span>, and
the member typedef names <span class='texttt'>C</span> with the template argument list of <span class='texttt'>C</span><a class='hidden_link' href='#1.sentence-9'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/454ba171cb14531639e641cb1200617fbf8d943f/source/overloading.tex#L1373'>#</a></div><div class='texpara'><div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  B<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> C <span class='operator'>:</span> <span class='keyword'>public</span> B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>B;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> D <span class='operator'>:</span> <span class='keyword'>public</span> B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;

C c<span class='parenthesis'>(</span><span class='literal'>42</span><span class='parenthesis'>)</span>;            <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>C&lt;int&gt;</span></span>
D d<span class='parenthesis'>(</span><span class='literal'>42</span><span class='parenthesis'>)</span>;            <span class='comment'>// error: deduction failed, no inherited deduction guides</span>
B<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> B<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span>;
C c2<span class='parenthesis'>(</span><span class='literal'>42</span><span class='parenthesis'>)</span>;           <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>C&lt;char&gt;</span></span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> E <span class='operator'>:</span> <span class='keyword'>public</span> B<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> B<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B;
<span class='curlybracket'>}</span>;

E e<span class='parenthesis'>(</span><span class='literal'>42</span><span class='parenthesis'>)</span>;            <span class='comment'>// error: deduction failed, arguments of <span class='tcode_in_codeblock'>E</span> cannot be deduced from introduced guides</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T, <span class='keyword'>typename</span> U, <span class='keyword'>typename</span> V<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> F <span class='curlybracket'>{</span>
  F<span class='parenthesis'>(</span>T, U, V<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T, <span class='keyword'>typename</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> G <span class='operator'>:</span> F<span class='anglebracket'>&lt;</span>U, T, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> G<span class='operator'>::</span>F<span class='operator'>::</span>F;
<span class='curlybracket'>}</span>

G g<span class='parenthesis'>(</span><span class='literal'>true</span>, <span class='literal'>'a'</span>, <span class='literal'>1</span><span class='parenthesis'>)</span>;  <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>G&lt;char, bool&gt;</span></span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, std<span class='operator'>::</span>size_t N<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> H <span class='curlybracket'>{</span>
  T array<span class='squarebracket'>[</span>N<span class='squarebracket'>]</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, std<span class='operator'>::</span>size_t N<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> I <span class='curlybracket'>{</span>
  <span class='keyword'>volatile</span> T array<span class='squarebracket'>[</span>N<span class='squarebracket'>]</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>std<span class='operator'>::</span>size_t N<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> J <span class='curlybracket'>{</span>
  <span class='keyword'>unsigned</span> <span class='keyword'>char</span> array<span class='squarebracket'>[</span>N<span class='squarebracket'>]</span>;
<span class='curlybracket'>}</span>;

H h <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>"abc"</span> <span class='curlybracket'>}</span>;    <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>H&lt;char, 4&gt;</span> (not <span class='tcode_in_codeblock'>T = const char</span>)</span>
I i <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>"def"</span> <span class='curlybracket'>}</span>;    <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>I&lt;char, 4&gt;</span></span>
J j <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>"ghi"</span> <span class='curlybracket'>}</span>;    <span class='comment'>// error: cannot bind reference to array of <span class='tcode_in_codeblock'>unsigned char</span> to array of <span class='tcode_in_codeblock'>char</span> in deduction</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/454ba171cb14531639e641cb1200617fbf8d943f/source/overloading.tex#L1423'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>When resolving a placeholder for a deduced class type (<a href='dcl.type.simple' title='9.2.9.3&emsp;Simple type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>simple]</a>)
where
the <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name_'><span class='textsf'><i >template-name</i></span></span></a> or <a href='dcl.type.splice#nt:splice-type-specifier' title='9.2.9.9&emsp;Type splicing&emsp;[dcl.type.splice]'><span id='ntref:splice-type-specifier_'><span class='textsf'><i >splice-type-specifier</i></span></span></a>
designates an alias template <span class='texttt'>A</span>,
the <a href='dcl.name#nt:defining-type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:defining-type-id_'><span class='textsf'><i >defining-type-id</i></span></span></a> of <span class='texttt'>A</span> must be of the form
<div class='simplebnf'>
<span id=':typename'><span class='texttt'><span class='keyword'>typename</span></span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier'><span class='textsf'><i >nested-name-specifier</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span id=':template'><span class='texttt'><span class='keyword'>template</span></span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id_'><span class='textsf'><i >simple-template-id</i></span></span></a>
</div>
as specified in <a href='dcl.type.simple' title='9.2.9.3&emsp;Simple type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>simple]</a><a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>The guides of <span class='texttt'>A</span> are the set of functions or function templates
formed as follows<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>For each function or function template <span class='texttt'>f</span> in the guides of
the template named by the <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id__'><span class='textsf'><i >simple-template-id</i></span></span></a>
of the <a href='dcl.name#nt:defining-type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:defining-type-id__'><span class='textsf'><i >defining-type-id</i></span></span></a>,
the template arguments of the return type of <span class='texttt'>f</span>
are deduced
from the <a href='dcl.name#nt:defining-type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:defining-type-id___'><span class='textsf'><i >defining-type-id</i></span></span></a> of <span class='texttt'>A</span>
according to the process in <a href='temp.deduct.type' title='13.10.3.6&emsp;Deducing template arguments from a type'>[temp.<span class='shy'></span>deduct.<span class='shy'></span>type]</a>
with the exception that deduction does not fail
if not all template arguments are deduced<a class='hidden_link' href='#3.sentence-3'>.</a></div> <div id='3.sentence-4' class='sentence'>If deduction fails for another reason,
proceed with an empty set of deduced template arguments<a class='hidden_link' href='#3.sentence-4'>.</a></div> <div id='3.sentence-5' class='sentence'>Let <span class='texttt'>g</span> denote the result of substituting
these deductions into <span class='texttt'>f</span><a class='hidden_link' href='#3.sentence-5'>.</a></div> <div id='3.sentence-6' class='sentence'>If substitution succeeds,
form a function or function template <span class='texttt'>f'</span>
with the following properties and add it to the set
of guides of <span class='texttt'>A</span>:
<ul class='itemize'><li id='3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.1'>(3.1)</a></div><div class='texpara'><div id='3.1.sentence-1' class='sentence'>The function type of <span class='texttt'>f'</span> is the function type of <span class='texttt'>g</span><a class='hidden_link' href='#3.1.sentence-1'>.</a></div></div></li><li id='3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.2'>(3.2)</a></div><div class='texpara'><div id='3.2.sentence-1' class='sentence'>If <span class='texttt'>f</span> is a function template,
<span class='texttt'>f'</span> is a function template whose
template parameter list consists of
all the template parameters of <span class='texttt'>A</span>
(including their default template arguments)
that appear in the above deductions or
(recursively) in their default template arguments,
followed by the template parameters of <span class='texttt'>f</span> that were not deduced
(including their default template arguments),
otherwise <span class='texttt'>f'</span> is not a function template<a class='hidden_link' href='#3.2.sentence-1'>.</a></div></div></li><li id='3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.3'>(3.3)</a></div><div class='texpara'><div id='3.3.sentence-1' class='sentence'>The associated constraints (<a href='temp.constr.decl' title='13.5.3&emsp;Constrained declarations'>[temp.<span class='shy'></span>constr.<span class='shy'></span>decl]</a>) are
the conjunction of the associated constraints of <span class='texttt'>g</span> and
a constraint that is satisfied if and only if
the arguments of <span class='texttt'>A</span> are deducible (see below) from the return type<a class='hidden_link' href='#3.3.sentence-1'>.</a></div></div></li><li id='3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.4'>(3.4)</a></div><div class='texpara'><div id='3.4.sentence-1' class='sentence'>If <span class='texttt'>f</span> is a copy deduction candidate,
then <span class='texttt'>f'</span> is considered to be so as well<a class='hidden_link' href='#3.4.sentence-1'>.</a></div></div></li><li id='3.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.5'>(3.5)</a></div><div class='texpara'><div id='3.5.sentence-1' class='sentence'>If <span class='texttt'>f</span> was generated
from a <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide____'><span class='textsf'><i >deduction-guide</i></span></span></a> (<a href='temp.deduct.guide' title='13.7.2.3&emsp;Deduction guides'>[temp.<span class='shy'></span>deduct.<span class='shy'></span>guide]</a>),
then <span class='texttt'>f'</span> is considered to be so as well<a class='hidden_link' href='#3.5.sentence-1'>.</a></div></div></li><li id='3.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.6'>(3.6)</a></div><div class='texpara'><div id='3.6.sentence-1' class='sentence'>The <a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.3&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier'><span class='textsf'><i >explicit-specifier</i></span></span></a> of <span class='texttt'>f'</span> is
the <a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.3&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier_'><span class='textsf'><i >explicit-specifier</i></span></span></a> of <span class='texttt'>g</span> (if any)<a class='hidden_link' href='#3.6.sentence-1'>.</a></div></div></li></ul></div> <a class='index' id=':template,deducible_arguments_of'></a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/454ba171cb14531639e641cb1200617fbf8d943f/source/overloading.tex#L1489'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>The arguments of a template <span class='texttt'>A</span> are said to be
deducible from a type <span class='texttt'>T</span> if, given a class template
<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> AA;
</span>
with a single partial specialization
whose template parameter list is that of <span class='texttt'>A</span> and
whose template argument list is a specialization of <span class='texttt'>A</span>
with the template argument list of <span class='texttt'>A</span> (<a href='temp.dep.type' title='13.8.3.2&emsp;Dependent types'>[temp.<span class='shy'></span>dep.<span class='shy'></span>type]</a>),
<span class='texttt'>AA<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> matches the partial specialization<a class='hidden_link' href='#4.sentence-1'>.</a></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/454ba171cb14531639e641cb1200617fbf8d943f/source/overloading.tex#L1501'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'>Initialization and overload resolution are performed as described
in <a href='dcl.init' title='9.5&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a> and <a href='over.match.ctor' title='12.2.2.4&emsp;Initialization by constructor'>[over.<span class='shy'></span>match.<span class='shy'></span>ctor]</a>, <a href='over.match.copy' title='12.2.2.5&emsp;Copy-initialization of class by user-defined conversion'>[over.<span class='shy'></span>match.<span class='shy'></span>copy]</a>,
or <a href='over.match.list' title='12.2.2.8&emsp;Initialization by list-initialization'>[over.<span class='shy'></span>match.<span class='shy'></span>list]</a> (as appropriate for the type of initialization
performed) for an object of a hypothetical class type, where
the guides of the template named by the placeholder are considered to be the
constructors of that class type for the purpose of forming an overload
set, and the initializer is provided by the context in which class
template argument deduction was performed<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>The following exceptions apply:
<ul class='itemize'><li id='5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.1'>(5.1)</a></div><div class='texpara'><div id='5.1.sentence-1' class='sentence'>The first phase in <a href='over.match.list' title='12.2.2.8&emsp;Initialization by list-initialization'>[over.<span class='shy'></span>match.<span class='shy'></span>list]</a>
(considering initializer-list constructors)
is omitted if the initializer list consists of
a single expression of type <span class='mathit'>cv</span> <span class='texttt'>U</span>,
where <span class='texttt'>U</span> is, or is derived from,
a specialization of the class template
directly or indirectly named by the placeholder<a class='hidden_link' href='#5.1.sentence-1'>.</a></div></div></li><li id='5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.2'>(5.2)</a></div><div class='texpara'><div id='5.2.sentence-1' class='sentence'>During template argument deduction for the aggregate deduction candidate,
the number of elements in a trailing parameter pack
is only deduced from the number of remaining function arguments
if it is not otherwise deduced<a class='hidden_link' href='#5.2.sentence-1'>.</a></div></div></li></ul></div> <div id='5.sentence-3' class='sentence'>
If the function or function template was generated from
a constructor or <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide_____'><span class='textsf'><i >deduction-guide</i></span></span></a>
that had an <a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.3&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier__'><span class='textsf'><i >explicit-specifier</i></span></span></a>,
each such notional constructor is considered to have
that same <a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.3&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier___'><span class='textsf'><i >explicit-specifier</i></span></span></a><a class='hidden_link' href='#5.sentence-3'>.</a></div> <div id='5.sentence-4' class='sentence'>All such notional constructors are considered to be
public members of the hypothetical class type<a class='hidden_link' href='#5.sentence-4'>.</a></div></div></div><div class='para nonNormativeOnly' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/454ba171cb14531639e641cb1200617fbf8d943f/source/overloading.tex#L1534'>#</a></div><div class='texpara'><div id='example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>explicit</span> A<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span>, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;               <span class='comment'>// #1</span>
  A<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;                                      <span class='comment'>// #2</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>int</span> i;
A a1 <span class='operator'>=</span> <span class='curlybracket'>{</span> i, i <span class='curlybracket'>}</span>;    <span class='comment'>// error: explicit constructor #1 selected in copy-list-initialization during deduction,</span>
                    <span class='comment'>// cannot deduce from non-forwarding rvalue reference in #2</span>

A a2<span class='curlybracket'>{</span>i, i<span class='curlybracket'>}</span>;         <span class='comment'>// OK, #1 deduces to <span class='tcode_in_codeblock'>A&lt;int&gt;</span> and also initializes</span>
A a3<span class='curlybracket'>{</span><span class='literal'>0</span>, i<span class='curlybracket'>}</span>;         <span class='comment'>// OK, #2 deduces to <span class='tcode_in_codeblock'>A&lt;int&gt;</span> and also initializes</span>
A a4 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>0</span>, i<span class='curlybracket'>}</span>;      <span class='comment'>// OK, #2 deduces to <span class='tcode_in_codeblock'>A&lt;int&gt;</span> and also initializes</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> A<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span>, <span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> A<span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span>;  <span class='comment'>// #3</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>explicit</span> A<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>;    <span class='comment'>// #4</span>

A a5 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>0</span>, <span class='literal'>1</span><span class='curlybracket'>}</span>;      <span class='comment'>// error: explicit deduction guide #4 selected in copy-list-initialization during deduction</span>
A a6<span class='curlybracket'>{</span><span class='literal'>0</span>,<span class='literal'>1</span><span class='curlybracket'>}</span>;          <span class='comment'>// OK, #4 deduces to <span class='tcode_in_codeblock'>A&lt;int&gt;</span> and #2 initializes</span>
A a7 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>0</span>, i<span class='curlybracket'>}</span>;      <span class='comment'>// error: #3 deduces to <span class='tcode_in_codeblock'>A&lt;int&amp;&gt;</span>, #1 and #2 declare same constructor</span>
A a8<span class='curlybracket'>{</span><span class='literal'>0</span>,i<span class='curlybracket'>}</span>;          <span class='comment'>// error: #3 deduces to <span class='tcode_in_codeblock'>A&lt;int&amp;&gt;</span>, #1 and #2 declare same constructor</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> TA <span class='operator'>=</span> T;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> B<span class='parenthesis'>(</span>U, TA<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

B b<span class='curlybracket'>{</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='literal'>0</span>, <span class='parenthesis'>(</span><span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='literal'>0</span><span class='curlybracket'>}</span>;         <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>B&lt;char*&gt;</span></span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  T x;
  T y;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> s;
  T t;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> D <span class='curlybracket'>{</span>
  S<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> s;
  T t;
<span class='curlybracket'>}</span>;

C c1 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span><span class='curlybracket'>}</span>;                  <span class='comment'>// error: deduction failed</span>
C c2 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span><span class='curlybracket'>}</span>;               <span class='comment'>// error: deduction failed</span>
C c3 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='curlybracket'>{</span><span class='literal'>1u</span>, <span class='literal'>2u</span><span class='curlybracket'>}</span>, <span class='literal'>3</span><span class='curlybracket'>}</span>;           <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>C&lt;int&gt;</span></span>

D d1 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span><span class='curlybracket'>}</span>;                  <span class='comment'>// error: deduction failed</span>
D d2 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span><span class='curlybracket'>}</span>;               <span class='comment'>// OK, braces elided, deduces <span class='tcode_in_codeblock'>D&lt;int&gt;</span></span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> E <span class='curlybracket'>{</span>
  T t;
  <span class='keyword'>decltype</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span> t2;
<span class='curlybracket'>}</span>;

E e1 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span><span class='curlybracket'>}</span>;                  <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>E&lt;int&gt;</span></span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> Types <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> F <span class='operator'>:</span> Types<span class='anglebracket'>&lt;</span>T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>, T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> X <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Y <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Z <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> W <span class='curlybracket'>{</span> <span class='keyword'>operator</span> Y<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

F f1 <span class='operator'>=</span> <span class='curlybracket'>{</span>Types<span class='anglebracket'>&lt;</span>X, Y, Z<span class='anglebracket'>&gt;</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, <span class='curlybracket'>{</span><span class='curlybracket'>}</span>, <span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='curlybracket'>}</span>;      <span class='comment'>// OK, <span class='tcode_in_codeblock'>F&lt;X, Y, Z&gt;</span> deduced</span>
F f2 <span class='operator'>=</span> <span class='curlybracket'>{</span>Types<span class='anglebracket'>&lt;</span>X, Y, Z<span class='anglebracket'>&gt;</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, X<span class='curlybracket'>{</span><span class='curlybracket'>}</span>, Y<span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='curlybracket'>}</span>;    <span class='comment'>// OK, <span class='tcode_in_codeblock'>F&lt;X, Y, Z&gt;</span> deduced</span>
F f3 <span class='operator'>=</span> <span class='curlybracket'>{</span>Types<span class='anglebracket'>&lt;</span>X, Y, Z<span class='anglebracket'>&gt;</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, X<span class='curlybracket'>{</span><span class='curlybracket'>}</span>, W<span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='curlybracket'>}</span>;    <span class='comment'>// error: conflicting types deduced; <span class='tcode_in_codeblock'><span id=':operator'><span class='tcode_in_codeblock'>operator</span></span> Y</span> not considered</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/454ba171cb14531639e641cb1200617fbf8d943f/source/overloading.tex#L1615'>#</a></div><div class='texpara'><div id='example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  C<span class='parenthesis'>(</span>T, U<span class='parenthesis'>)</span>;                                      <span class='comment'>// #1</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
  C<span class='parenthesis'>(</span>T, U<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>T, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;     <span class='comment'>// #2</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> V<span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> A <span class='operator'>=</span> C<span class='anglebracket'>&lt;</span>V <span class='operator'>*</span>, V <span class='operator'>*</span><span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>std<span class='operator'>::</span><a href='concepts.arithmetic#concept:integral' title='18.4.7&emsp;Arithmetic concepts&emsp;[concepts.arithmetic]'><span id='conceptref:integral'><span class='tcode_in_codeblock'>integral</span></span></a> W<span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> B <span class='operator'>=</span> A<span class='anglebracket'>&lt;</span>W<span class='anglebracket'>&gt;</span>;

<span class='keyword'>int</span> i<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>double</span> d<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
A a1<span class='parenthesis'>(</span><span class='operator'>&amp;</span>i, <span class='operator'>&amp;</span>i<span class='parenthesis'>)</span>;   <span class='comment'>// deduces <span class='tcode_in_codeblock'>A&lt;int&gt;</span></span>
A a2<span class='parenthesis'>(</span>i, i<span class='parenthesis'>)</span>;     <span class='comment'>// error: cannot deduce <span class='tcode_in_codeblock'>V *</span> from <span class='tcode_in_codeblock'>i</span></span>
A a3<span class='parenthesis'>(</span><span class='operator'>&amp;</span>i, <span class='operator'>&amp;</span>d<span class='parenthesis'>)</span>;   <span class='comment'>// error: #1: cannot deduce <span class='tcode_in_codeblock'>(V*, V*)</span> from <span class='tcode_in_codeblock'>(int *, double *)</span></span>
                <span class='comment'>// #2: cannot deduce <span class='tcode_in_codeblock'>A&lt;V&gt;</span> from <span class='tcode_in_codeblock'>C&lt;int *, double *&gt;</span></span>
B b1<span class='parenthesis'>(</span><span class='operator'>&amp;</span>i, <span class='operator'>&amp;</span>i<span class='parenthesis'>)</span>;   <span class='comment'>// deduces <span class='tcode_in_codeblock'>B&lt;int&gt;</span></span>
B b2<span class='parenthesis'>(</span><span class='operator'>&amp;</span>d, <span class='operator'>&amp;</span>d<span class='parenthesis'>)</span>;   <span class='comment'>// error: cannot deduce <span class='tcode_in_codeblock'>B&lt;W&gt;</span> from <span class='tcode_in_codeblock'>C&lt;double *, double *&gt;</span></span>
</span> <div id='7.sentence-1' class='sentence'>
Possible exposition-only implementation of the above procedure:
<span class='codeblock'><span class='comment'>// The following concept ensures a specialization of <span class='tcode_in_codeblock'>A</span> is deduced.</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> AA;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> V<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> AA<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&lt;</span>V<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> deduces_A <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='curlybracket'>{</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>AA<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

<span class='comment'>// <span class='tcode_in_codeblock'>f1</span> is formed from the constructor #1 of <span class='tcode_in_codeblock'>C</span>, generating the following function template</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
  <span class='keyword'>auto</span> f1<span class='parenthesis'>(</span>T, U<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>T, U<span class='anglebracket'>&gt;</span>;

<span class='comment'>// Deducing arguments for <span class='tcode_in_codeblock'>C&lt;T, U&gt;</span> from <span class='tcode_in_codeblock'>C&lt;V *, V*&gt;</span> deduces <span class='tcode_in_codeblock'>T</span> as <span class='tcode_in_codeblock'>V *</span> and <span class='tcode_in_codeblock'>U</span> as <span class='tcode_in_codeblock'>V *</span>;</span>
<span class='comment'>// <span class='tcode_in_codeblock'>f1'</span> is obtained by transforming <span class='tcode_in_codeblock'>f1</span> as described by the above procedure.</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> V<span class='anglebracket'>&gt;</span> <span class='keyword'>requires</span> deduces_A<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>V <span class='operator'>*</span>, V <span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>auto</span> f1_prime<span class='parenthesis'>(</span>V <span class='operator'>*</span>, V<span class='operator'>*</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>V <span class='operator'>*</span>, V <span class='operator'>*</span><span class='anglebracket'>&gt;</span>;

<span class='comment'>// <span class='tcode_in_codeblock'>f2</span> is formed from the deduction-guide #2 of <span class='tcode_in_codeblock'>C</span></span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>auto</span> f2<span class='parenthesis'>(</span>T, U<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>T, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;

<span class='comment'>// Deducing arguments for <span class='tcode_in_codeblock'>C&lt;T, std&#x200b;::&#x200b;type_<span class='shy'></span>identity_<span class='shy'></span>t&lt;U&gt;&gt;</span> from <span class='tcode_in_codeblock'>C&lt;V *, V*&gt;</span> deduces <span class='tcode_in_codeblock'>T</span> as <span class='tcode_in_codeblock'>V *</span>;</span>
<span class='comment'>// <span class='tcode_in_codeblock'>f2'</span> is obtained by transforming <span class='tcode_in_codeblock'>f2</span> as described by the above procedure.</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> V, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
  <span class='keyword'>requires</span> deduces_A<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>V <span class='operator'>*</span>, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>auto</span> f2_prime<span class='parenthesis'>(</span>V <span class='operator'>*</span>, U<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>V <span class='operator'>*</span>, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;

<span class='comment'>// The following concept ensures a specialization of <span class='tcode_in_codeblock'>B</span> is deduced.</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> BB;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> V<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> BB<span class='anglebracket'>&lt;</span>B<span class='anglebracket'>&lt;</span>V<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> deduces_B <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='curlybracket'>{</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>BB<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

<span class='comment'>// The guides for <span class='tcode_in_codeblock'>B</span> derived from the above <span class='tcode_in_codeblock'>f1'</span> and <span class='tcode_in_codeblock'>f2'</span> for <span class='tcode_in_codeblock'>A</span> are as follows:</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>std<span class='operator'>::</span><a href='concepts.arithmetic#concept:integral' title='18.4.7&emsp;Arithmetic concepts&emsp;[concepts.arithmetic]'><span id='conceptref:integral_'><span class='tcode_in_codeblock'>integral</span></span></a> W<span class='anglebracket'>&gt;</span>
  <span class='keyword'>requires</span> deduces_A<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>W <span class='operator'>*</span>, W <span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> deduces_B<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>W <span class='operator'>*</span>, W <span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>auto</span> f1_prime_for_B<span class='parenthesis'>(</span>W <span class='operator'>*</span>, W <span class='operator'>*</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>W <span class='operator'>*</span>, W <span class='operator'>*</span><span class='anglebracket'>&gt;</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>std<span class='operator'>::</span><a href='concepts.arithmetic#concept:integral' title='18.4.7&emsp;Arithmetic concepts&emsp;[concepts.arithmetic]'><span id='conceptref:integral__'><span class='tcode_in_codeblock'>integral</span></span></a> W, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
  <span class='keyword'>requires</span> deduces_A<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>W <span class='operator'>*</span>, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
    deduces_B<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>W <span class='operator'>*</span>, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>auto</span> f2_prime_for_B<span class='parenthesis'>(</span>W <span class='operator'>*</span>, U<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>W <span class='operator'>*</span>, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;
</span></div> —&nbsp;<i>end example</i>]</div></div> </div></div></div></body></html>