<!DOCTYPE html><html lang='en'><head><title>[lex.ext]</title><meta charset='UTF-8'><link rel='stylesheet' type='text/css' href='14882.css'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'><link rel='icon' href='icon.png'><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>5</a> Lexical conventions <a class='abbr_ref' href='./#lex'>[lex]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>5.13</a> Literals <a class='abbr_ref' href='lex.literal#lex.ext'>[lex.literal]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>5.13.9</a> User-defined literals <a class='abbr_ref'>[lex.ext]</a></h3><div class='texpara'><a class='index' id=':literal,user-defined'></a><div class='bnf' id='nt:user-defined-literal'>
<a class='hidden_link' href='#nt:user-defined-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='nt:user-defined-literal'><span id=':user-defined-literal'>user-defined-literal<span class='textnormal'>:</span></span></span></a><br><a href='#nt:user-defined-integer-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-integer-literal'><span class='textsf'><i >user-defined-integer-literal</i></span></span></a><br><a href='#nt:user-defined-floating-point-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-floating-point-literal'><span class='textsf'><i >user-defined-floating-point-literal</i></span></span></a><br><a href='#nt:user-defined-string-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-string-literal'><span class='textsf'><i >user-defined-string-literal</i></span></span></a><br><a href='#nt:user-defined-character-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-character-literal'><span class='textsf'><i >user-defined-character-literal</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:user-defined-integer-literal'>
<a class='hidden_link' href='#nt:user-defined-integer-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='nt:user-defined-integer-literal'><span id=':user-defined-integer-literal'>user-defined-integer-literal<span class='textnormal'>:</span></span></span></a><br><a href='lex.icon#nt:decimal-literal' title='5.13.2&emsp;Integer literals&emsp;[lex.icon]'><span id='ntref:decimal-literal'><span class='textsf'><i >decimal-literal</i></span></span></a> <a href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix'><span class='textsf'><i >ud-suffix</i></span></span></a><br><a href='lex.icon#nt:octal-literal' title='5.13.2&emsp;Integer literals&emsp;[lex.icon]'><span id='ntref:octal-literal'><span class='textsf'><i >octal-literal</i></span></span></a> <a href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix_'><span class='textsf'><i >ud-suffix</i></span></span></a><br><a href='lex.icon#nt:hexadecimal-literal' title='5.13.2&emsp;Integer literals&emsp;[lex.icon]'><span id='ntref:hexadecimal-literal'><span class='textsf'><i >hexadecimal-literal</i></span></span></a> <a href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix__'><span class='textsf'><i >ud-suffix</i></span></span></a><br><a href='lex.icon#nt:binary-literal' title='5.13.2&emsp;Integer literals&emsp;[lex.icon]'><span id='ntref:binary-literal'><span class='textsf'><i >binary-literal</i></span></span></a> <a href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix___'><span class='textsf'><i >ud-suffix</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:user-defined-floating-point-literal'>
<a class='hidden_link' href='#nt:user-defined-floating-point-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='nt:user-defined-floating-point-literal'><span id=':user-defined-floating-point-literal'>user-defined-floating-point-literal<span class='textnormal'>:</span></span></span></a><br><a href='lex.fcon#nt:fractional-constant' title='5.13.4&emsp;Floating-point literals&emsp;[lex.fcon]'><span id='ntref:fractional-constant'><span class='textsf'><i >fractional-constant</i></span></span></a> <a href='lex.fcon#nt:exponent-part' title='5.13.4&emsp;Floating-point literals&emsp;[lex.fcon]'><span id='ntref:exponent-part'><span class='textsf'><i >exponent-part</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix____'><span class='textsf'><i >ud-suffix</i></span></span></a><br><a href='lex.fcon#nt:digit-sequence' title='5.13.4&emsp;Floating-point literals&emsp;[lex.fcon]'><span id='ntref:digit-sequence'><span class='textsf'><i >digit-sequence</i></span></span></a> <a href='lex.fcon#nt:exponent-part' title='5.13.4&emsp;Floating-point literals&emsp;[lex.fcon]'><span id='ntref:exponent-part_'><span class='textsf'><i >exponent-part</i></span></span></a> <a href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix_____'><span class='textsf'><i >ud-suffix</i></span></span></a><br><a href='lex.icon#nt:hexadecimal-prefix' title='5.13.2&emsp;Integer literals&emsp;[lex.icon]'><span id='ntref:hexadecimal-prefix'><span class='textsf'><i >hexadecimal-prefix</i></span></span></a> <a href='lex.fcon#nt:hexadecimal-fractional-constant' title='5.13.4&emsp;Floating-point literals&emsp;[lex.fcon]'><span id='ntref:hexadecimal-fractional-constant'><span class='textsf'><i >hexadecimal-fractional-constant</i></span></span></a> <a href='lex.fcon#nt:binary-exponent-part' title='5.13.4&emsp;Floating-point literals&emsp;[lex.fcon]'><span id='ntref:binary-exponent-part'><span class='textsf'><i >binary-exponent-part</i></span></span></a> <a href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix______'><span class='textsf'><i >ud-suffix</i></span></span></a><br><a href='lex.icon#nt:hexadecimal-prefix' title='5.13.2&emsp;Integer literals&emsp;[lex.icon]'><span id='ntref:hexadecimal-prefix_'><span class='textsf'><i >hexadecimal-prefix</i></span></span></a> <a href='lex.icon#nt:hexadecimal-digit-sequence' title='5.13.2&emsp;Integer literals&emsp;[lex.icon]'><span id='ntref:hexadecimal-digit-sequence'><span class='textsf'><i >hexadecimal-digit-sequence</i></span></span></a> <a href='lex.fcon#nt:binary-exponent-part' title='5.13.4&emsp;Floating-point literals&emsp;[lex.fcon]'><span id='ntref:binary-exponent-part_'><span class='textsf'><i >binary-exponent-part</i></span></span></a> <a href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix_______'><span class='textsf'><i >ud-suffix</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:user-defined-string-literal'>
<a class='hidden_link' href='#nt:user-defined-string-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='nt:user-defined-string-literal'><span id=':user-defined-string-literal'>user-defined-string-literal<span class='textnormal'>:</span></span></span></a><br><a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal'><span class='textsf'><i >string-literal</i></span></span></a> <a href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix________'><span class='textsf'><i >ud-suffix</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:user-defined-character-literal'>
<a class='hidden_link' href='#nt:user-defined-character-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='nt:user-defined-character-literal'><span id=':user-defined-character-literal'>user-defined-character-literal<span class='textnormal'>:</span></span></span></a><br><a href='lex.ccon#nt:character-literal' title='5.13.3&emsp;Character literals&emsp;[lex.ccon]'><span id='ntref:character-literal'><span class='textsf'><i >character-literal</i></span></span></a> <a href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix_________'><span class='textsf'><i >ud-suffix</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:ud-suffix'>
<a class='hidden_link' href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='nt:ud-suffix'><span id=':ud-suffix'>ud-suffix<span class='textnormal'>:</span></span></span></a><br><a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier'><span class='textsf'><i >identifier</i></span></span></a>
</div></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1d9fdb066e95b7be58881f24977a20a51359097c/source/lex.tex#L2197'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>If a token matches both <a href='#nt:user-defined-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-literal'><span class='textsf'><i >user-defined-literal</i></span></span></a> and another <a href='lex.literal.kinds#nt:literal' title='5.13.1&emsp;Kinds of literals&emsp;[lex.literal.kinds]'><span id='ntref:literal'><span class='textsf'><i >literal</i></span></span></a> kind, it
is treated as the latter<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>:&ensp;<div id='1.sentence-2' class='sentence'><span class='texttt'><span class='literal'>123_<span class='shy'></span>km</span></span>
is a <a href='#nt:user-defined-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-literal_'><span class='textsf'><i >user-defined-literal</i></span></span></a>, but <span class='texttt'><span class='literal'>12LL</span></span> is an
<a href='lex.icon#nt:integer-literal' title='5.13.2&emsp;Integer literals&emsp;[lex.icon]'><span id='ntref:integer-literal'><span class='textsf'><i >integer-literal</i></span></span></a><a class='hidden_link' href='#1.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='1.sentence-3' class='sentence'>
The syntactic non-terminal preceding the <a href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix__________'><span class='textsf'><i >ud-suffix</i></span></span></a> in a
<a href='#nt:user-defined-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-literal__'><span class='textsf'><i >user-defined-literal</i></span></span></a> is taken to be the longest sequence of
characters that could match that non-terminal<a class='hidden_link' href='#1.sentence-3'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1d9fdb066e95b7be58881f24977a20a51359097c/source/lex.tex#L2209'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>A <a href='#nt:user-defined-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-literal___'><span class='textsf'><i >user-defined-literal</i></span></span></a> is treated as a call to a literal operator or
literal operator template (<a href='over.literal' title='12.6&emsp;User-defined literals'>[over.<span class='shy'></span>literal]</a>)<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>To determine the form of this call for
a given <a href='#nt:user-defined-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-literal____'><span class='textsf'><i >user-defined-literal</i></span></span></a> <i >L</i>
with <a href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix___________'><span class='textsf'><i >ud-suffix</i></span></span></a> <i >X</i>,
first let <i >S</i> be the set of declarations
found by unqualified lookup for the <a href='over.literal#nt:literal-operator-id' title='12.6&emsp;User-defined literals&emsp;[over.literal]'><span id='ntref:literal-operator-id'><span class='textsf'><i >literal-operator-id</i></span></span></a>
whose literal suffix identifier is <i >X</i> (<a href='basic.lookup.unqual' title='6.5.3&emsp;Unqualified name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>unqual]</a>)<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'><i >S</i> shall not be empty<a class='hidden_link' href='#2.sentence-3'>.</a></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1d9fdb066e95b7be58881f24977a20a51359097c/source/lex.tex#L2220'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>If <i >L</i> is a <a href='#nt:user-defined-integer-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-integer-literal_'><span class='textsf'><i >user-defined-integer-literal</i></span></span></a>, let <i >n</i> be the literal
without its <a href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix____________'><span class='textsf'><i >ud-suffix</i></span></span></a><a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>If <i >S</i> contains a literal operator with
parameter type <span class='texttt'><span class='keyword'>unsigned</span> <span class='keyword'>long</span> <span class='keyword'>long</span></span>, the literal <i >L</i> is treated as a call of
the form
<span class='codeblock'><span class='keyword'>operator</span> <span class='literal'>""</span><i >X</i><span class='parenthesis'>(</span><i >n</i>ULL<span class='parenthesis'>)</span>
</span></div> <div id='3.sentence-3' class='sentence'>
Otherwise, <i >S</i> shall contain a raw literal operator
or a numeric literal operator template (<a href='over.literal' title='12.6&emsp;User-defined literals'>[over.<span class='shy'></span>literal]</a>) but not both<a class='hidden_link' href='#3.sentence-3'>.</a></div> <div id='3.sentence-4' class='sentence'>If <i >S</i> contains a raw literal operator,
the literal <i >L</i> is treated as a call of the form
<span class='codeblock'><span class='keyword'>operator</span> <span class='literal'>""</span><i >X</i><span class='parenthesis'>(</span><span class='literal'>"<i >n</i>"</span><span class='parenthesis'>)</span>
</span></div> <div id='3.sentence-5' class='sentence'>
Otherwise (<i >S</i> contains a numeric literal operator template),
<i >L</i> is treated as a call of the form
<span class='codeblock'><span class='keyword'>operator</span> <span class='literal'>""</span><i >X</i><span class='anglebracket'>&lt;</span><span class='literal'>'<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span>'</span>, <span class='literal'>'<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span>'</span>, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='literal'>'<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span></span>'</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>
</span>
where <i >n</i> is the source character sequence <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">.</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">.</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">.</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span></span><a class='hidden_link' href='#3.sentence-5'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='3.sentence-6' class='sentence'>The sequence
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">.</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">.</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">.</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span></span> can only contain characters from the basic character set<a class='hidden_link' href='#3.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1d9fdb066e95b7be58881f24977a20a51359097c/source/lex.tex#L2246'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>If <i >L</i> is a <a href='#nt:user-defined-floating-point-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-floating-point-literal_'><span class='textsf'><i >user-defined-floating-point-literal</i></span></span></a>, let <i >f</i> be the
literal without its <a href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix_____________'><span class='textsf'><i >ud-suffix</i></span></span></a><a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>If <i >S</i> contains a literal operator
with parameter type <span class='texttt'><span class='keyword'>long</span> <span class='keyword'>double</span></span>, the literal <i >L</i> is treated as a call of
the form
<span class='codeblock'><span class='keyword'>operator</span> <span class='literal'>""</span><i >X</i><span class='parenthesis'>(</span><i >f</i>L<span class='parenthesis'>)</span>
</span></div> <div id='4.sentence-3' class='sentence'>
Otherwise, <i >S</i> shall contain a raw literal operator
or a numeric literal operator template (<a href='over.literal' title='12.6&emsp;User-defined literals'>[over.<span class='shy'></span>literal]</a>) but not both<a class='hidden_link' href='#4.sentence-3'>.</a></div> <div id='4.sentence-4' class='sentence'>If <i >S</i> contains a raw literal operator,
the <a href='lex.literal.kinds#nt:literal' title='5.13.1&emsp;Kinds of literals&emsp;[lex.literal.kinds]'><span id='ntref:literal_'><span class='textsf'><i >literal</i></span></span></a> <i >L</i> is treated as a call of the form
<span class='codeblock'><span class='keyword'>operator</span> <span class='literal'>""</span><i >X</i><span class='parenthesis'>(</span><span class='literal'>"<i >f</i>"</span><span class='parenthesis'>)</span>
</span></div> <div id='4.sentence-5' class='sentence'>
Otherwise (<i >S</i> contains a numeric literal operator template),
<i >L</i> is treated as a call of the form
<span class='codeblock'><span class='keyword'>operator</span> <span class='literal'>""</span><i >X</i><span class='anglebracket'>&lt;</span><span class='literal'>'<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span>'</span>, <span class='literal'>'<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span>'</span>, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='literal'>'<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span></span>'</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>
</span>
where <i >f</i> is the source character sequence <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">.</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">.</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">.</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span></span><a class='hidden_link' href='#4.sentence-5'>.</a></div> <div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>:&ensp;<div id='4.sentence-6' class='sentence'>The sequence
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">.</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">.</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">.</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span></span> can only contain characters from the basic character set<a class='hidden_link' href='#4.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1d9fdb066e95b7be58881f24977a20a51359097c/source/lex.tex#L2272'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'>If <i >L</i> is a <a href='#nt:user-defined-string-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-string-literal_'><span class='textsf'><i >user-defined-string-literal</i></span></span></a>,
let <i >str</i> be the literal without its <a href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix______________'><span class='textsf'><i >ud-suffix</i></span></span></a>
and let <i >len</i> be the number of code units in <i >str</i>
(i.e., its length excluding the terminating null character)<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>If <i >S</i> contains a literal operator template with
a constant template parameter for which <i >str</i> is
a well-formed <a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument'><span class='textsf'><i >template-argument</i></span></span></a>,
the literal <i >L</i> is treated as a call of the form
<span class='codeblock'><span class='keyword'>operator</span> <span class='literal'>""</span><i >X</i><span class='anglebracket'>&lt;</span><i >str</i><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>
</span></div> <div id='5.sentence-3' class='sentence'>
Otherwise, the literal <i >L</i> is treated as a call of the form
<span class='codeblock'><span class='keyword'>operator</span> <span class='literal'>""</span><i >X</i><span class='parenthesis'>(</span><i >str</i>, <i >len</i><span class='parenthesis'>)</span>
</span></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1d9fdb066e95b7be58881f24977a20a51359097c/source/lex.tex#L2289'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'>If <i >L</i> is a <a href='#nt:user-defined-character-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-character-literal_'><span class='textsf'><i >user-defined-character-literal</i></span></span></a>, let <i >ch</i> be the
literal without its <a href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix_______________'><span class='textsf'><i >ud-suffix</i></span></span></a><a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'><i >S</i> shall contain a <a href='over.literal#def:literal,operator' title='12.6&emsp;User-defined literals&emsp;[over.literal]'>literal operator</a> whose only parameter has
the type of <i >ch</i> and the
literal <i >L</i> is treated as a call
of the form
<span class='codeblock'><span class='keyword'>operator</span> <span class='literal'>""</span><i >X</i><span class='parenthesis'>(</span><i >ch</i><span class='parenthesis'>)</span>
</span></div></div></div><div class='para nonNormativeOnly' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1d9fdb066e95b7be58881f24977a20a51359097c/source/lex.tex#L2300'>#</a></div><div class='texpara'><div id='example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>long</span> <span class='keyword'>double</span> <span class='keyword'>operator</span> <span class='literal'>""_w</span><span class='parenthesis'>(</span><span class='keyword'>long</span> <span class='keyword'>double</span><span class='parenthesis'>)</span>;
std<span class='operator'>::</span>string <span class='keyword'>operator</span> <span class='literal'>""_w</span><span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char16_t</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>;
<span class='keyword'>unsigned</span> <span class='keyword'>operator</span> <span class='literal'>""_w</span><span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='literal'>1.2_w</span>;            <span class='comment'>// calls <span class='tcode_in_codeblock'>operator ""_<span class='shy'></span>w(1.2L)</span></span>
  <span class='literal'>u"one"_w</span>;         <span class='comment'>// calls <span class='tcode_in_codeblock'>operator ""_<span class='shy'></span>w(u"one", 3)</span></span>
  <span class='literal'>12_w</span>;             <span class='comment'>// calls <span class='tcode_in_codeblock'>operator ""_<span class='shy'></span>w("12")</span></span>
  <span class='literal'>"two"_w</span>;          <span class='comment'>// error: no applicable literal operator</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1d9fdb066e95b7be58881f24977a20a51359097c/source/lex.tex#L2315'>#</a></div><div class='texpara'><div id='8.sentence-1' class='sentence'>In translation phase 5 (<a href='lex.phases' title='5.2&emsp;Phases of translation'>[lex.<span class='shy'></span>phases]</a>), adjacent <a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal_'><span class='textsf'><i >string-literal</i></span></span></a><i >s</i> are concatenated and
<a href='#nt:user-defined-string-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-string-literal__'><span class='textsf'><i >user-defined-string-literal</i></span></span></a><i >s</i> are considered <a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal__'><span class='textsf'><i >string-literal</i></span></span></a><i >s</i> for that
purpose<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>During concatenation, <a href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix________________'><span class='textsf'><i >ud-suffix</i></span></span></a>es are removed and ignored and
the concatenation process occurs as described in <a href='lex.string' title='5.13.5&emsp;String literals'>[lex.<span class='shy'></span>string]</a><a class='hidden_link' href='#8.sentence-2'>.</a></div> <div id='8.sentence-3' class='sentence'>At the end of phase
5, if a <a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal___'><span class='textsf'><i >string-literal</i></span></span></a> is the result of a concatenation involving at least one
<a href='#nt:user-defined-string-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-string-literal___'><span class='textsf'><i >user-defined-string-literal</i></span></span></a>, all the participating
<a href='#nt:user-defined-string-literal' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-string-literal____'><span class='textsf'><i >user-defined-string-literal</i></span></span></a><i >s</i> shall have the same <a href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix_________________'><span class='textsf'><i >ud-suffix</i></span></span></a>
and that suffix is applied to the result of the concatenation<a class='hidden_link' href='#8.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1d9fdb066e95b7be58881f24977a20a51359097c/source/lex.tex#L2325'>#</a></div><div class='texpara'><div id='example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='literal'>L"A"</span> <span class='literal'>"B"</span> <span class='literal'>"C"_x</span>;   <span class='comment'>// OK, same as <span class='tcode_in_codeblock'>L"ABC"_<span class='shy'></span>x</span></span>
  <span class='literal'>"P"_x</span> <span class='literal'>"Q"</span> <span class='literal'>"R"_y</span>;  <span class='comment'>// error: two different <a href='#nt:ud-suffix' title='5.13.9&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix__________________'><span class='textsf'><i >ud-suffix</i></span></span></a>es</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> </div></div></div></body></html>