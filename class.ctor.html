<!DOCTYPE html><html lang='en'><head><title>[class.ctor]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>11</a> Classes <a class='abbr_ref' href='./#class'>[class]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>11.4</a> Class members <a class='abbr_ref' href='class.mem#class.ctor'>[class.mem]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>11.4.5</a> Constructors <a class='abbr_ref'>[class.ctor]</a></h3><div id='general' class='section'><h4 ><a class='secnum' href='#general' style='min-width:95pt'>11.4.5.1</a> General <a class='abbr_ref' href='class.ctor.general'>[class.ctor.general]</a></h4><div class='texpara'><a class='index' id=':constructor'></a></div><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1115'>#</a></div><div class='texpara'><div id='general-1.sentence-1' class='sentence'>A <a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator'><span class='textsf'><i >declarator</i></span></span></a> declares a <a class='hidden_link' href='#def:constructor' title='11.4.5.1&emsp;General&emsp;[class.ctor.general]'><span id='def:constructor'><i >constructor</i></span></a> if it is a
function declarator (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) of the form
<div class='bnf'>
<a href='dcl.decl.general#nt:ptr-declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ptr-declarator'><span class='textsf'><i >ptr-declarator</i></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier'><span class='textsf'><i >noexcept-specifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div>
where the <a href='dcl.decl.general#nt:ptr-declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ptr-declarator_'><span class='textsf'><i >ptr-declarator</i></span></span></a> consists solely of an
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression'><span class='textsf'><i >id-expression</i></span></span></a>, an optional <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq_'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a>,
and optional surrounding parentheses, and the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_'><span class='textsf'><i >id-expression</i></span></span></a> has
one of the following forms:
<ul class='itemize'><li id='general-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-1.1'>(1.1)</a></div>in a friend declaration (<a href='class.friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>),
the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression__'><span class='textsf'><i >id-expression</i></span></span></a> is a <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id'><span class='textsf'><i >qualified-id</i></span></span></a>
that names a constructor (<a href='class.qual' title='6.5.5.2&emsp;Class members'>[class.<span class='shy'></span>qual]</a>);</li><li id='general-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-1.2'>(1.2)</a></div>otherwise, in a <a href='class.mem.general#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration'><span class='textsf'><i >member-declaration</i></span></span></a> that belongs to the
<a href='class.mem.general#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification'><span class='textsf'><i >member-specification</i></span></span></a> of a class or class template,
the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression___'><span class='textsf'><i >id-expression</i></span></span></a> is the
injected-class-name (<a href='class.pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>) of the immediately-enclosing entity;</li><li id='general-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-1.3'>(1.3)</a></div>otherwise, the
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression____'><span class='textsf'><i >id-expression</i></span></span></a> is a <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id_'><span class='textsf'><i >qualified-id</i></span></span></a>
whose <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id'><span class='textsf'><i >unqualified-id</i></span></span></a> is
the injected-class-name of its lookup context<a class='hidden_link' href='#general-1.sentence-1'>.</a></li></ul></div> <div id='general-1.sentence-2' class='sentence'>
Constructors do not have names<a class='hidden_link' href='#general-1.sentence-2'>.</a></div> <div id='general-1.sentence-3' class='sentence'>In a constructor declaration, each <a href='dcl.spec.general#nt:decl-specifier' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier'><span class='textsf'><i >decl-specifier</i></span></span></a> in the optional
<a href='dcl.spec.general#nt:decl-specifier-seq' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier-seq'><span class='textsf'><i >decl-specifier-seq</i></span></span></a> shall be <span class='texttt'><span class='keyword'>friend</span></span>, <span class='texttt'><span class='keyword'>inline</span></span>,
<span class='texttt'><span class='keyword'>constexpr</span></span>, or an <a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.3&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier'><span class='textsf'><i >explicit-specifier</i></span></span></a><a class='hidden_link' href='#general-1.sentence-3'>.</a></div> <div id='general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  S<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// declares the constructor</span>
<span class='curlybracket'>}</span>;

S<span class='operator'>::</span>S<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>          <span class='comment'>// defines the constructor</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='general-2'><div class='marginalizedparent'><a class='marginalized' href='#general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1156'>#</a></div><div class='texpara'><div id='general-2.sentence-1' class='sentence'><a class='index' id=':constructor,explicit_call'></a>A constructor is used to initialize objects of its class type<a class='hidden_link' href='#general-2.sentence-1'>.</a></div> <div id='general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-1'>1</a></i>: <div id='general-2.sentence-2' class='sentence'>Because constructors do not have names, they are never found during
unqualified name lookup; however an explicit type conversion using the functional
notation (<a href='expr.type.conv' title='7.6.1.4&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>) will cause a constructor to be called to
initialize an object<a class='hidden_link' href='#general-2.sentence-2'>.</a></div> <div id='general-2.sentence-3' class='sentence'>The syntax looks like an explicit call of the constructor<a class='hidden_link' href='#general-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-2'>2</a></i>: <span class='codeblock'>complex zz <span class='operator'>=</span> complex<span class='parenthesis'>(</span><span class='literal'>1</span>,<span class='literal'>2.3</span><span class='parenthesis'>)</span>;
cprint<span class='parenthesis'>(</span> complex<span class='parenthesis'>(</span><span class='literal'>7.8</span>,<span class='literal'>1.2</span><span class='parenthesis'>)</span> <span class='parenthesis'>)</span>;
</span> —&nbsp;<i>end example</i>]</div></div> <div id='general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-2'>2</a></i>: <div id='general-2.sentence-4' class='sentence'>For initialization of objects of class type see <a href='class.init' title='11.9&emsp;Initialization'>[class.<span class='shy'></span>init]</a><a class='hidden_link' href='#general-2.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='general-3'><div class='marginalizedparent'><a class='marginalized' href='#general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1176'>#</a></div><div class='texpara'><div id='general-3.sentence-1' class='sentence'><a class='index' id=':object,unnamed'></a>An object created in this way is unnamed<a class='hidden_link' href='#general-3.sentence-1'>.</a></div> <div id='general-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-3'>3</a></i>: <div id='general-3.sentence-2' class='sentence'><a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a> describes the lifetime of temporary objects<a class='hidden_link' href='#general-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='general-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-4'>4</a></i>: <div id='general-3.sentence-3' class='sentence'>Explicit constructor calls do not yield lvalues, see <a href='basic.lval' title='7.2.1&emsp;Value category'>[basic.<span class='shy'></span>lval]</a><a class='hidden_link' href='#general-3.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='general-4'><div class='marginalizedparent'><a class='marginalized' href='#general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1186'>#</a></div><div class='texpara'><div id='general-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-5'>5</a></i>: <div id='general-4.sentence-1' class='sentence'><a class='index' id=':member_function,constructor_and'></a>Some language constructs have special semantics when used during construction;
see <a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a> and <a href='class.cdtor' title='11.9.5&emsp;Construction and destruction'>[class.<span class='shy'></span>cdtor]</a><a class='hidden_link' href='#general-4.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='general-5'><div class='marginalizedparent'><a class='marginalized' href='#general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1193'>#</a></div><div class='texpara'><div id='general-5.sentence-1' class='sentence'><a class='index' id=':const,constructor_and'></a><a class='index' id=':volatile,constructor_and'></a>A constructor can be invoked for a
<span class='texttt'><span class='keyword'>const</span></span>,
<span class='texttt'><span class='keyword'>volatile</span></span>
or
<span class='texttt'><span class='keyword'>const</span></span>
<span class='texttt'><span class='keyword'>volatile</span></span>
object<a class='hidden_link' href='#general-5.sentence-1'>.</a></div> <div id='general-5.sentence-2' class='sentence'><a class='index' id=':restriction,constructor'></a><span class='texttt'><span class='keyword'>const</span></span>
and
<span class='texttt'><span class='keyword'>volatile</span></span>
semantics (<a href='dcl.type.cv' title='9.2.9.2&emsp;The cv-qualifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>cv]</a>) are not applied on an object under construction<a class='hidden_link' href='#general-5.sentence-2'>.</a></div> <div id='general-5.sentence-3' class='sentence'>They come into effect when the constructor for the
most derived object (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>) ends<a class='hidden_link' href='#general-5.sentence-3'>.</a></div></div></div><div class='para' id='general-6'><div class='marginalizedparent'><a class='marginalized' href='#general-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1211'>#</a></div><div class='texpara'><div id='general-6.sentence-1' class='sentence'><a class='index' id=':restriction,constructor_'></a>A
<span class='texttt'><span class='keyword'>return</span></span>
statement in the body of a constructor shall not specify a return value<a class='hidden_link' href='#general-6.sentence-1'>.</a></div> <div id='general-6.sentence-2' class='sentence'><a class='index' id=':constructor,address_of'></a>The address of a constructor shall not be taken<a class='hidden_link' href='#general-6.sentence-2'>.</a></div></div></div><div class='para' id='general-7'><div class='marginalizedparent'><a class='marginalized' href='#general-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1219'>#</a></div><div class='texpara'><div id='general-7.sentence-1' class='sentence'>A constructor shall not be a coroutine<a class='hidden_link' href='#general-7.sentence-1'>.</a></div></div></div></div><div id='class.default.ctor' class='section'><h4 ><a class='secnum' href='#class.default.ctor' style='min-width:95pt'>11.4.5.2</a> Default constructors <a class='abbr_ref' href='class.default.ctor'>[class.default.ctor]</a></h4><div class='para' id='class.default.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#class.default.ctor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1224'>#</a></div><div class='texpara'><div id='class.default.ctor-1.sentence-1' class='sentence'><a class='index' id=':constructor,inheritance_of'></a><a class='index' id=':constructor,non-trivial'></a>A <a class='hidden_link' href='#def:constructor,default' title='11.4.5.2&emsp;Default constructors&emsp;[class.default.ctor]'><span id='def:constructor,default'><i >default constructor</i></span></a> for a class <span class='texttt'>X</span>
is a constructor of class <span class='texttt'>X</span>
for which each parameter
that is not a function parameter pack
has a default argument
(including the case of a constructor with no parameters)<a class='hidden_link' href='#class.default.ctor-1.sentence-1'>.</a></div> <div id='class.default.ctor-1.sentence-2' class='sentence'><a class='index' id=':implicitly-declared_default_constructor'></a>If there is no user-declared constructor for class
<span class='texttt'>X</span>,
a non-explicit constructor having no parameters is implicitly declared
as defaulted (<a href='dcl.fct.def' title='9.5&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a>)<a class='hidden_link' href='#class.default.ctor-1.sentence-2'>.</a></div> <div id='class.default.ctor-1.sentence-3' class='sentence'>An implicitly-declared default constructor is an
inline public member of its class<a class='hidden_link' href='#class.default.ctor-1.sentence-3'>.</a></div></div></div><div class='para' id='class.default.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#class.default.ctor-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1241'>#</a></div><div class='texpara'><div id='class.default.ctor-2.sentence-1' class='sentence'>A defaulted default constructor for class <span class='texttt'>X</span> is defined as deleted if:
<ul class='itemize'><li id='class.default.ctor-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-2.1'>(2.1)</a></div><span class='texttt'>X</span> is a union that has a variant member
with a non-trivial default constructor and
no variant member of <span class='texttt'>X</span> has a default member initializer,</li><li id='class.default.ctor-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-2.2'>(2.2)</a></div><span class='texttt'>X</span> is a non-union class that has a variant member <span class='texttt'>M</span>
with a non-trivial default constructor and
no variant member of the anonymous union containing <span class='texttt'>M</span>
has a default member initializer,</li><li id='class.default.ctor-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-2.3'>(2.3)</a></div>any non-static data member with no default member initializer (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>) is
of reference type,</li><li id='class.default.ctor-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-2.4'>(2.4)</a></div>any non-variant non-static data member of const-qualified type (or array
thereof) with no <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a>
is not const-default-constructible (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>),</li><li id='class.default.ctor-2.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-2.5'>(2.5)</a></div><span class='texttt'>X</span> is a union and all of its variant members are of const-qualified
type (or array thereof),</li><li id='class.default.ctor-2.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-2.6'>(2.6)</a></div><span class='texttt'>X</span> is a non-union class and all members of any anonymous union member are
of const-qualified type (or array thereof),</li><li id='class.default.ctor-2.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-2.7'>(2.7)</a></div>any potentially constructed subobject, except for a non-static data member
with a <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer_'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a>, has
class type <span class='texttt'>M</span> (or array thereof) and either <span class='texttt'>M</span>
has no default constructor or overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>)
as applied to find <span class='texttt'>M</span>'s corresponding
constructor results in an ambiguity or in a function that is deleted or
inaccessible from the defaulted default constructor, or</li><li id='class.default.ctor-2.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-2.8'>(2.8)</a></div>any potentially constructed subobject has a type
with a destructor that is deleted or inaccessible from the defaulted default
constructor<a class='hidden_link' href='#class.default.ctor-2.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='class.default.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#class.default.ctor-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1279'>#</a></div><div class='texpara'><div id='class.default.ctor-3.sentence-1' class='sentence'>A default constructor is
<a class='hidden_link' href='#def:constructor,default,trivial' title='11.4.5.2&emsp;Default constructors&emsp;[class.default.ctor]'><span id='def:constructor,default,trivial'><i >trivial</i></span></a>
if it is not user-provided and if:
<ul class='itemize'><li id='class.default.ctor-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-3.1'>(3.1)</a></div>its class has no virtual functions (<a href='class.virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>) and no virtual base
classes (<a href='class.mi' title='11.7.2&emsp;Multiple base classes'>[class.<span class='shy'></span>mi]</a>), and</li><li id='class.default.ctor-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-3.2'>(3.2)</a></div>no non-static data member of its class has
a default member initializer (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>), and</li><li id='class.default.ctor-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-3.3'>(3.3)</a></div>all the direct base classes of its class have trivial default constructors, and</li><li id='class.default.ctor-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.default.ctor-3.4'>(3.4)</a></div>for all the non-static data members of its class that are of class
type (or array thereof), each such class has a trivial default constructor<a class='hidden_link' href='#class.default.ctor-3.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='class.default.ctor-3.sentence-2' class='sentence'>Otherwise, the default constructor is
<a class='hidden_link' href='#def:constructor,default,non-trivial' title='11.4.5.2&emsp;Default constructors&emsp;[class.default.ctor]'><span id='def:constructor,default,non-trivial'><i >non-trivial</i></span></a><a class='hidden_link' href='#class.default.ctor-3.sentence-2'>.</a></div></div></div><div class='para' id='class.default.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#class.default.ctor-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1302'>#</a></div><div class='texpara'><div id='class.default.ctor-4.sentence-1' class='sentence'>A default constructor
that is defaulted and not defined as deleted
is
<a class='hidden_link' href='#def:constructor,implicitly_defined' title='11.4.5.2&emsp;Default constructors&emsp;[class.default.ctor]'><span id='def:constructor,implicitly_defined'><i >implicitly defined</i></span></a>
when it is odr-used (<a href='basic.def.odr' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>)
to create an object of its class type (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>),
when it is needed for constant evaluation (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>), or
when it is explicitly defaulted after its first declaration<a class='hidden_link' href='#class.default.ctor-4.sentence-1'>.</a></div> <div id='class.default.ctor-4.sentence-2' class='sentence'>The implicitly-defined default constructor performs the set of
initializations of the class that would be performed by a user-written default
constructor for that class with no
<a href='class.base.init#nt:ctor-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:ctor-initializer'><span class='textsf'><i >ctor-initializer</i></span></span></a> (<a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>) and an empty
<a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement'><span class='textsf'><i >compound-statement</i></span></span></a><a class='hidden_link' href='#class.default.ctor-4.sentence-2'>.</a></div> <div id='class.default.ctor-4.sentence-3' class='sentence'>If that user-written default constructor would be ill-formed,
the program is ill-formed<a class='hidden_link' href='#class.default.ctor-4.sentence-3'>.</a></div> <div id='class.default.ctor-4.sentence-4' class='sentence'>If that user-written default constructor would satisfy the requirements
of a constexpr constructor (<a href='dcl.constexpr' title='9.2.6&emsp;The constexpr and consteval specifiers'>[dcl.<span class='shy'></span>constexpr]</a>), the implicitly-defined
default constructor is <span class='texttt'><span class='keyword'>constexpr</span></span><a class='hidden_link' href='#class.default.ctor-4.sentence-4'>.</a></div> <div id='class.default.ctor-4.sentence-5' class='sentence'>Before the defaulted default constructor for a class is
implicitly defined,
all the non-user-provided default constructors for its base classes and
its non-static data members are implicitly defined<a class='hidden_link' href='#class.default.ctor-4.sentence-5'>.</a></div> <div id='class.default.ctor-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.default.ctor-note-1'>1</a></i>: <div id='class.default.ctor-4.sentence-6' class='sentence'>An implicitly-declared default constructor has an
exception specification (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>)<a class='hidden_link' href='#class.default.ctor-4.sentence-6'>.</a></div> <div id='class.default.ctor-4.sentence-7' class='sentence'>An explicitly-defaulted definition might have an
implicit exception specification, see <a href='dcl.fct.def' title='9.5&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a><a class='hidden_link' href='#class.default.ctor-4.sentence-7'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.default.ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#class.default.ctor-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1332'>#</a></div><div class='texpara'><div id='class.default.ctor-5.sentence-1' class='sentence'><a class='index' id=':constructor,implicitly_called'></a>Default constructors are called implicitly to create class objects of static, thread,
or automatic storage duration (<a href='basic.stc.static' title='6.7.5.2&emsp;Static storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>static]</a>, <a href='basic.stc.thread' title='6.7.5.3&emsp;Thread storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>thread]</a>, <a href='basic.stc.auto' title='6.7.5.4&emsp;Automatic storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>auto]</a>) defined
without an initializer (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>),
are called to create class objects of dynamic storage duration (<a href='basic.stc.dynamic' title='6.7.5.5&emsp;Dynamic storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>dynamic]</a>) created by a
<a href='expr.new#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression'><span class='textsf'><i >new-expression</i></span></span></a>
in which the
<a href='expr.new#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer'><span class='textsf'><i >new-initializer</i></span></span></a>
is omitted (<a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>), or
are called when the explicit type conversion syntax (<a href='expr.type.conv' title='7.6.1.4&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>) is
used<a class='hidden_link' href='#class.default.ctor-5.sentence-1'>.</a></div> <div id='class.default.ctor-5.sentence-2' class='sentence'>A program is ill-formed if the default constructor for an object
is implicitly used and the constructor is not accessible (<a href='class.access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>)<a class='hidden_link' href='#class.default.ctor-5.sentence-2'>.</a></div></div></div><div class='para nonNormativeOnly' id='class.default.ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#class.default.ctor-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1347'>#</a></div><div class='texpara'><div id='class.default.ctor-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.default.ctor-note-2'>2</a></i>: <div id='class.default.ctor-6.sentence-1' class='sentence'><a class='index' id=':order_of_execution,base_class_constructor'></a><a class='index' id=':order_of_execution,member_constructor'></a><a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a> describes the order in which constructors for base
classes and non-static data members are called and
describes how arguments can be specified for the calls to these constructors<a class='hidden_link' href='#class.default.ctor-6.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='class.copy.ctor' class='section'><h4 ><a class='secnum' href='#class.copy.ctor' style='min-width:95pt'>11.4.5.3</a> Copy/move constructors <a class='abbr_ref' href='class.copy.ctor'>[class.copy.ctor]</a></h4><div class='para' id='class.copy.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1358'>#</a></div><div class='texpara'><div id='class.copy.ctor-1.sentence-1' class='sentence'><a class='index' id=':constructor,copy'></a><a class='index' id=':constructor,move'></a>A non-template constructor for class
<span class='texttt'>X</span>
is
a
copy
constructor if its first parameter is of type
<span class='texttt'>X<span class='operator'>&amp;</span></span>,
<span class='texttt'><span class='keyword'>const</span> X<span class='operator'>&amp;</span></span>,
<span class='texttt'><span class='keyword'>volatile</span> X<span class='operator'>&amp;</span></span>
or
<span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> X<span class='operator'>&amp;</span></span>,
and either there are no other parameters
or else all other parameters have default arguments (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>)<a class='hidden_link' href='#class.copy.ctor-1.sentence-1'>.</a></div> <div id='class.copy.ctor-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.copy.ctor-example-1'>1</a></i>: <div id='class.copy.ctor-1.sentence-2' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span></span>
and
<span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span>,<span class='keyword'>int</span><span class='operator'>=</span><span class='literal'>1</span><span class='parenthesis'>)</span></span>
are copy constructors<a class='hidden_link' href='#class.copy.ctor-1.sentence-2'>.</a></div></div><div class='texpara'><span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span>, <span class='keyword'>int</span> <span class='operator'>=</span> <span class='literal'>1</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
X a<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;             <span class='comment'>// calls <span class='tcode_in_codeblock'>X(int);</span></span>
X b<span class='parenthesis'>(</span>a, <span class='literal'>0</span><span class='parenthesis'>)</span>;          <span class='comment'>// calls <span class='tcode_in_codeblock'>X(const X&amp;, int);</span></span>
X c <span class='operator'>=</span> b;            <span class='comment'>// calls <span class='tcode_in_codeblock'>X(const X&amp;, int);</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='class.copy.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1393'>#</a></div><div class='texpara'><div id='class.copy.ctor-2.sentence-1' class='sentence'>A non-template constructor for class <span class='texttt'>X</span> is a move constructor if its
first parameter is of type <span class='texttt'>X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, <span class='texttt'><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>,
<span class='texttt'><span class='keyword'>volatile</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, or <span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, and either there are
no other parameters or else all other parameters have default
arguments (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>)<a class='hidden_link' href='#class.copy.ctor-2.sentence-1'>.</a></div> <div id='class.copy.ctor-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.copy.ctor-example-2'>2</a></i>: <div id='class.copy.ctor-2.sentence-2' class='sentence'><span class='texttt'>Y<span class='operator'>&#x200b;::&#x200b;</span>Y<span class='parenthesis'>(</span>Y<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span></span> is a move constructor<a class='hidden_link' href='#class.copy.ctor-2.sentence-2'>.</a></div> <span class='codeblock'><span class='keyword'>struct</span> Y <span class='curlybracket'>{</span>
  Y<span class='parenthesis'>(</span><span class='keyword'>const</span> Y<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  Y<span class='parenthesis'>(</span>Y<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>extern</span> Y f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
Y d<span class='parenthesis'>(</span>f<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;          <span class='comment'>// calls <span class='tcode_in_codeblock'>Y(Y&amp;&amp;)</span></span>
Y e <span class='operator'>=</span> d;            <span class='comment'>// calls <span class='tcode_in_codeblock'>Y(const Y&amp;)</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.copy.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1412'>#</a></div><div class='texpara'><div id='class.copy.ctor-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.ctor-note-1'>1</a></i>: <div id='class.copy.ctor-3.sentence-1' class='sentence'>All forms of copy/move constructor can be declared for a class<a class='hidden_link' href='#class.copy.ctor-3.sentence-1'>.</a></div> <div id='class.copy.ctor-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.copy.ctor-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;            <span class='comment'>// OK</span>
  X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;     <span class='comment'>// OK, but possibly not sensible</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='class.copy.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1427'>#</a></div><div class='texpara'><div id='class.copy.ctor-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.ctor-note-2'>2</a></i>: <div id='class.copy.ctor-4.sentence-1' class='sentence'>If a class
<span class='texttt'>X</span>
only has a copy constructor with a parameter of type
<span class='texttt'>X<span class='operator'>&amp;</span></span>,
an initializer of type
<span class='texttt'><span class='keyword'>const</span></span>
<span class='texttt'>X</span>
or
<span class='texttt'><span class='keyword'>volatile</span></span>
<span class='texttt'>X</span>
cannot initialize an object of type
<span class='mathit'>cv</span> <span class='texttt'>X</span><a class='hidden_link' href='#class.copy.ctor-4.sentence-1'>.</a></div> <div id='class.copy.ctor-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.copy.ctor-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// default constructor</span>
  X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;            <span class='comment'>// copy constructor with a non-const parameter</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>const</span> X cx;
X x <span class='operator'>=</span> cx;           <span class='comment'>// error: <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;X(X&amp;)</span> cannot copy <span class='tcode_in_codeblock'>cx</span> into <span class='tcode_in_codeblock'>x</span></span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.copy.ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1453'>#</a></div><div class='texpara'><div id='class.copy.ctor-5.sentence-1' class='sentence'>A declaration of a constructor for a class
<span class='texttt'>X</span>
is ill-formed if its first parameter is of type
<span class='mathit'>cv</span> <span class='texttt'>X</span>
and either there are no other parameters or else all other parameters have
default arguments<a class='hidden_link' href='#class.copy.ctor-5.sentence-1'>.</a></div> <div id='class.copy.ctor-5.sentence-2' class='sentence'>A member function template is never instantiated to
produce such a constructor signature<a class='hidden_link' href='#class.copy.ctor-5.sentence-2'>.</a></div> <div id='class.copy.ctor-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#class.copy.ctor-example-5'>5</a></i>: <span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> S<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  S<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

S g;

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  S a<span class='parenthesis'>(</span>g<span class='parenthesis'>)</span>;           <span class='comment'>// does not instantiate the member template to produce <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;S&lt;S&gt;(S)</span>;</span>
                    <span class='comment'>// uses the implicitly declared copy constructor</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='class.copy.ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1478'>#</a></div><div class='texpara'><div id='class.copy.ctor-6.sentence-1' class='sentence'>If the class definition does not explicitly declare a copy constructor,
a non-explicit one is declared <a class='hidden_link' href='#def:constructor,copy,implicitly_declared' title='11.4.5.3&emsp;Copy/move constructors&emsp;[class.copy.ctor]'><span id='def:constructor,copy,implicitly_declared'><i >implicitly</i></span></a><a class='hidden_link' href='#class.copy.ctor-6.sentence-1'>.</a></div> <div id='class.copy.ctor-6.sentence-2' class='sentence'>If the class definition declares a move
constructor or move assignment operator, the implicitly declared copy
constructor is defined as deleted; otherwise, it is defined as
defaulted (<a href='dcl.fct.def' title='9.5&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a>)<a class='hidden_link' href='#class.copy.ctor-6.sentence-2'>.</a></div> <div id='class.copy.ctor-6.sentence-3' class='sentence'>The latter case is deprecated if the class has a user-declared copy assignment
operator or a user-declared destructor  (<a href='depr.impldec' title='D.9&emsp;Implicit declaration of copy functions'>[depr.<span class='shy'></span>impldec]</a>)<a class='hidden_link' href='#class.copy.ctor-6.sentence-3'>.</a></div></div></div><div class='para' id='class.copy.ctor-7'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1488'>#</a></div><div class='texpara'><div id='class.copy.ctor-7.sentence-1' class='sentence'>The implicitly-declared copy constructor for a class
<span class='texttt'>X</span>
will have the form
<span class='codeblock'>X<span class='operator'>::</span>X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</span>
if each potentially constructed subobject of a class type
<span class='texttt'>M</span>
(or array thereof)
has a copy constructor whose first parameter is of type
<span class='texttt'><span class='keyword'>const</span></span>
<span class='texttt'>M<span class='operator'>&amp;</span></span>
or
<span class='texttt'><span class='keyword'>const</span></span>
<span class='texttt'><span class='keyword'>volatile</span></span>
<span class='texttt'>M<span class='operator'>&amp;</span></span><a class='hidden_link' href='#class.copy.ctor-7.sentence-1'>.</a><a class='footnoteref' href='#footnote-99' id='footnoteref-99' title='This implies that the reference parameter of the implicitly-declared copy constructor cannot bind to a volatile lvalue; see [diff.class].'>99</a></div> <div id='class.copy.ctor-7.sentence-2' class='sentence'>
Otherwise, the implicitly-declared copy constructor will have the form
<span class='codeblock'>X<span class='operator'>::</span>X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</span></div></div></div><div class='para' id='class.copy.ctor-8'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1517'>#</a></div><div class='texpara'><div id='class.copy.ctor-8.sentence-1' class='sentence'><a class='index' id=':constructor,move,implicitly_declared'></a>If the definition of a class <span class='texttt'>X</span> does not explicitly declare
a move constructor, a non-explicit one will be
implicitly declared as defaulted if and only if
<ul class='itemize'><li id='class.copy.ctor-8.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-8.1'>(8.1)</a></div><span class='texttt'>X</span> does not have a user-declared copy constructor,</li><li id='class.copy.ctor-8.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-8.2'>(8.2)</a></div><span class='texttt'>X</span> does not have a user-declared copy assignment operator,</li><li id='class.copy.ctor-8.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-8.3'>(8.3)</a></div><span class='texttt'>X</span> does not have a user-declared move assignment operator, and</li><li id='class.copy.ctor-8.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-8.4'>(8.4)</a></div><span class='texttt'>X</span> does not have a user-declared destructor<a class='hidden_link' href='#class.copy.ctor-8.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='class.copy.ctor-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.ctor-note-3'>3</a></i>: <div id='class.copy.ctor-8.sentence-2' class='sentence'>When the move constructor is not implicitly declared or explicitly supplied,
expressions that otherwise would have invoked the move constructor might instead invoke
a copy constructor<a class='hidden_link' href='#class.copy.ctor-8.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.copy.ctor-9'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1542'>#</a></div><div class='texpara'><div id='class.copy.ctor-9.sentence-1' class='sentence'>The implicitly-declared move constructor for class <span class='texttt'>X</span> will have the form
<span class='codeblock'>X<span class='operator'>::</span>X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</span></div></div></div><div class='para' id='class.copy.ctor-10'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1548'>#</a></div><div class='texpara'><div id='class.copy.ctor-10.sentence-1' class='sentence'>An implicitly-declared copy/move constructor is an
inline public member of its class<a class='hidden_link' href='#class.copy.ctor-10.sentence-1'>.</a></div> <div id='class.copy.ctor-10.sentence-2' class='sentence'>A defaulted copy/&#x200b;move constructor for a class
  <span class='texttt'>X</span> is defined as deleted (<a href='dcl.fct.def.delete' title='9.5.3&emsp;Deleted definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>delete]</a>) if <span class='texttt'>X</span> has:
<ul class='itemize'><li id='class.copy.ctor-10.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-10.1'>(10.1)</a></div>a potentially constructed subobject type
  <span class='texttt'>M</span> (or array thereof) that cannot be copied/moved because
  overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>), as applied to find
  <span class='texttt'>M</span>'s
  corresponding constructor, results in an ambiguity or
  a function that is deleted or inaccessible from the
  defaulted constructor,</li><li id='class.copy.ctor-10.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-10.2'>(10.2)</a></div>a variant member whose corresponding constructor
  as selected by overload resolution is non-trivial,</li><li id='class.copy.ctor-10.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-10.3'>(10.3)</a></div>any potentially constructed subobject of a type
  with a destructor that is deleted or inaccessible from the defaulted
  constructor, or,</li><li id='class.copy.ctor-10.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-10.4'>(10.4)</a></div>for the copy constructor, a non-static data member of rvalue reference type<a class='hidden_link' href='#class.copy.ctor-10.sentence-2'>.</a></li></ul></div></div><div class='texpara'><div id='class.copy.ctor-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.ctor-note-4'>4</a></i>: <div id='class.copy.ctor-10.sentence-3' class='sentence'>A defaulted move constructor that is defined as deleted is ignored by overload
resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>, <a href='over.over' title='12.3&emsp;Address of an overload set'>[over.<span class='shy'></span>over]</a>)<a class='hidden_link' href='#class.copy.ctor-10.sentence-3'>.</a></div> <div id='class.copy.ctor-10.sentence-4' class='sentence'>Such a constructor would otherwise interfere with initialization from
an rvalue which can use the copy constructor instead<a class='hidden_link' href='#class.copy.ctor-10.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.copy.ctor-11'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1579'>#</a></div><div class='texpara'><div id='class.copy.ctor-11.sentence-1' class='sentence'><a class='index' id=':constructor,copy,trivial'></a><a class='index' id=':constructor,move,trivial'></a>A copy/move constructor for class
<span class='texttt'>X</span>
is
trivial
if it is not user-provided and if:
<ul class='itemize'><li id='class.copy.ctor-11.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-11.1'>(11.1)</a></div>class
<span class='texttt'>X</span>
has no virtual functions (<a href='class.virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>)
and no virtual base classes (<a href='class.mi' title='11.7.2&emsp;Multiple base classes'>[class.<span class='shy'></span>mi]</a>), and</li><li id='class.copy.ctor-11.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-11.2'>(11.2)</a></div>the constructor selected to copy/move each direct base class subobject is trivial, and</li><li id='class.copy.ctor-11.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-11.3'>(11.3)</a></div>for each non-static data member of
<span class='texttt'>X</span>
that is of class type (or array thereof),
the constructor selected to copy/move that member is trivial;</li></ul>
<a class='index' id=':constructor,move,non-trivial'></a>otherwise the copy/move constructor is
<a class='hidden_link' href='#def:constructor,copy,nontrivial' title='11.4.5.3&emsp;Copy/move constructors&emsp;[class.copy.ctor]'><span id='def:constructor,copy,nontrivial'><i >non-trivial</i></span></a><a class='hidden_link' href='#class.copy.ctor-11.sentence-1'>.</a></div></div></div><div class='para' id='class.copy.ctor-12'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1607'>#</a></div><div class='texpara'><div id='class.copy.ctor-12.sentence-1' class='sentence'><a class='index' id=':constructor,copy,implicitly_defined'></a><a class='index' id=':constructor,move,implicitly_defined'></a>A copy/move constructor
that is defaulted and not defined as deleted
is
<a class='hidden_link' href='#def:implicitly_defined' id='def:implicitly_defined'><i>implicitly defined</i></a>
when it is odr-used (<a href='basic.def.odr' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>),
when it is needed for constant evaluation (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>), or
when it is explicitly defaulted after its first declaration<a class='hidden_link' href='#class.copy.ctor-12.sentence-1'>.</a></div> <div id='class.copy.ctor-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.ctor-note-5'>5</a></i>: <div id='class.copy.ctor-12.sentence-2' class='sentence'>The copy/move constructor is implicitly defined even if the implementation elided
its odr-use (<a href='basic.def.odr' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>, <a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>)<a class='hidden_link' href='#class.copy.ctor-12.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.copy.ctor-12.sentence-3' class='sentence'>
If the implicitly-defined constructor would satisfy the requirements of a
constexpr constructor (<a href='dcl.constexpr' title='9.2.6&emsp;The constexpr and consteval specifiers'>[dcl.<span class='shy'></span>constexpr]</a>), the implicitly-defined
constructor is <span class='texttt'><span class='keyword'>constexpr</span></span><a class='hidden_link' href='#class.copy.ctor-12.sentence-3'>.</a></div></div></div><div class='para' id='class.copy.ctor-13'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1625'>#</a></div><div class='texpara'><div id='class.copy.ctor-13.sentence-1' class='sentence'>Before the defaulted copy/move constructor for a class is
implicitly defined,
all non-user-provided copy/move constructors for its
potentially constructed subobjects
are implicitly defined<a class='hidden_link' href='#class.copy.ctor-13.sentence-1'>.</a></div> <div id='class.copy.ctor-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.ctor-note-6'>6</a></i>: <div id='class.copy.ctor-13.sentence-2' class='sentence'>An implicitly-declared copy/move constructor has an
implied exception specification (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>)<a class='hidden_link' href='#class.copy.ctor-13.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='class.copy.ctor-14'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1636'>#</a></div><div class='texpara'><div id='class.copy.ctor-14.sentence-1' class='sentence'>The implicitly-defined copy/move constructor for a non-union class
<span class='texttt'>X</span>
performs a memberwise copy/move of its bases and members<a class='hidden_link' href='#class.copy.ctor-14.sentence-1'>.</a></div> <div id='class.copy.ctor-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#class.copy.ctor-note-7'>7</a></i>: <div id='class.copy.ctor-14.sentence-2' class='sentence'>Default member initializers of non-static data members are ignored<a class='hidden_link' href='#class.copy.ctor-14.sentence-2'>.</a></div> <div id='class.copy.ctor-14.sentence-3' class='sentence'>See also the example in <a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a><a class='hidden_link' href='#class.copy.ctor-14.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='class.copy.ctor-14.sentence-4' class='sentence'>
The order of initialization is the same as the order of initialization of bases
and members in a user-defined constructor (see <a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#class.copy.ctor-14.sentence-4'>.</a></div> <div id='class.copy.ctor-14.sentence-5' class='sentence'>Let <span class='texttt'>x</span> be either the parameter of the constructor or, for the move constructor, an
xvalue referring to the parameter<a class='hidden_link' href='#class.copy.ctor-14.sentence-5'>.</a></div> <div id='class.copy.ctor-14.sentence-6' class='sentence'>Each base or non-static data member
is copied/moved in the manner appropriate to its type:
<ul class='itemize'><li id='class.copy.ctor-14.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-14.1'>(14.1)</a></div>if the member is an array, each element is
direct-initialized with the corresponding subobject of <span class='texttt'>x</span>;</li><li id='class.copy.ctor-14.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-14.2'>(14.2)</a></div>if a member <span class='texttt'>m</span> has rvalue reference type <span class='texttt'>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, it is direct-initialized with
<span class='texttt'><span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>x<span class='operator'>.</span>m<span class='parenthesis'>)</span></span>;</li><li id='class.copy.ctor-14.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#class.copy.ctor-14.3'>(14.3)</a></div>otherwise, the base or member is direct-initialized with the corresponding base or member of <span class='texttt'>x</span><a class='hidden_link' href='#class.copy.ctor-14.sentence-6'>.</a></li></ul></div></div><div class='texpara'><div id='class.copy.ctor-14.sentence-7' class='sentence'><a class='index' id=':initialization,virtual_base_class'></a>Virtual base class subobjects shall be initialized only once by
the implicitly-defined copy/move constructor (see <a href='class.base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#class.copy.ctor-14.sentence-7'>.</a></div></div></div><div class='para' id='class.copy.ctor-15'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/classes.tex#L1666'>#</a></div><div class='texpara'><div id='class.copy.ctor-15.sentence-1' class='sentence'>The implicitly-defined copy/move constructor for a union
<span class='texttt'>X</span> copies the object representation (<a href='basic.types' title='6.8&emsp;Types'>[basic.<span class='shy'></span>types]</a>) of <span class='texttt'>X</span><a class='hidden_link' href='#class.copy.ctor-15.sentence-1'>.</a></div> <div id='class.copy.ctor-15.sentence-2' class='sentence'>For each object nested within (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>)
the object that is the source of the copy,
a corresponding object <span class='math'><span class='mathalpha'>o</span></span> nested within the destination
is identified (if the object is a subobject) or created (otherwise),
and the lifetime of <span class='math'><span class='mathalpha'>o</span></span> begins before the copy is performed<a class='hidden_link' href='#class.copy.ctor-15.sentence-2'>.</a></div> 
</div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-99'><div class='texpara'><a class='footnotenum' href='#footnote-99'>99)</a><a class='footnoteBacklink' href='#footnoteref-99'>99)</a> <div id='footnote-99.sentence-1' class='sentence'>This implies that the reference parameter of the
implicitly-declared copy constructor
cannot bind to a
<span class='texttt'><span class='keyword'>volatile</span></span>
lvalue; see <a href='diff.class' title='C.5.7&emsp;[class]: classes'>[diff.<span class='shy'></span>class]</a><a class='hidden_link' href='#footnote-99.sentence-1'>.</a></div></div></div></div></div></body></html>