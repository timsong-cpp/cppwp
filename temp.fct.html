<!DOCTYPE html><html lang='en'><head><title>[temp.fct]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>13</a> Templates <a class='abbr_ref' href='./#temp'>[temp]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>13.7</a> Template declarations <a class='abbr_ref' href='temp.decls#temp.fct'>[temp.decls]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>13.7.7</a> Function templates <a class='abbr_ref'>[temp.fct]</a></h3><div id='general' class='section'><h4 ><a class='secnum' href='#general' style='min-width:95pt'>13.7.7.1</a> General <a class='abbr_ref' href='temp.fct.general'>[temp.fct.general]</a></h4><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/templates.tex#L3587'>#</a></div><div class='texpara'><div id='general-1.sentence-1' class='sentence'>A function template defines an unbounded set of related functions<a class='hidden_link' href='#general-1.sentence-1'>.</a></div> <div id='general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-1'>1</a></i>:&ensp;<div id='general-1.sentence-2' class='sentence'>A family of sort functions can be declared like this:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> Array <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> sort<span class='parenthesis'>(</span>Array<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
</span></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='general-2'><div class='marginalizedparent'><a class='marginalized' href='#general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/templates.tex#L3597'>#</a></div><div class='texpara'><div id='general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-1'>1</a></i>:&ensp;<div id='general-2.sentence-1' class='sentence'>A function template can have the same name as other function templates
and non-template functions (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) in the same scope<a class='hidden_link' href='#general-2.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='general-2.sentence-2' class='sentence'>
A non-template function is not
related to a function template
(i.e., it is never considered to be a specialization),
even if it has the same name and type
as a potentially generated function template specialization<a class='hidden_link' href='#general-2.sentence-2'>.</a><a class='footnoteref' href='#footnote-122' id='footnoteref-122' title='That is, declarations of non-template functions do not merely guide overload resolution of function template specializations with the same name. If such a non-template function is odr-used ([term.odr.use]) in a program, it must be defined; it will not be implicitly instantiated using the function template definition.'>122</a></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-122'><div class='texpara'><a class='footnotenum' href='#footnote-122'>122)</a><a class='footnoteBacklink' href='#footnoteref-122'>122)</a> <div id='footnote-122.sentence-1' class='sentence'>That is,
declarations of non-template functions do not merely guide
overload resolution of
function template specializations
with the same name<a class='hidden_link' href='#footnote-122.sentence-1'>.</a></div> <div id='footnote-122.sentence-2' class='sentence'>If such a non-template function is odr-used (<a href='basic.def.odr#term.odr.use' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>) in a program, it must be defined;
it will not be implicitly instantiated using the function template definition<a class='hidden_link' href='#footnote-122.sentence-2'>.</a></div></div></div></div><div id='temp.over.link' class='section'><h4 ><a class='secnum' href='#temp.over.link' style='min-width:95pt'>13.7.7.2</a> Function template overloading <a class='abbr_ref' href='temp.over.link'>[temp.over.link]</a></h4><div class='para' id='temp.over.link-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/templates.tex#L3619'>#</a></div><div class='texpara'><div id='temp.over.link-1.sentence-1' class='sentence'><a class='index' id=':overloading'></a>It is possible to overload function templates so that two different
function template specializations have the same type<a class='hidden_link' href='#temp.over.link-1.sentence-1'>.</a></div> <div id='temp.over.link-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.over.link-example-1'>1</a></i>:&ensp;<div class='minipage'><span class='codeblock'><span class='comment'>// translation unit 1:</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='operator'>*</span> p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span>p<span class='parenthesis'>)</span>; <span class='comment'>// calls <span class='tcode_in_codeblock'>f&lt;int&gt;(int*)</span></span>
<span class='curlybracket'>}</span>
</span></div>
<div class='minipage'><span class='codeblock'><span class='comment'>// translation unit 2:</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='operator'>*</span> p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span>p<span class='parenthesis'>)</span>; <span class='comment'>// calls <span class='tcode_in_codeblock'>f&lt;int*&gt;(int*)</span></span>
<span class='curlybracket'>}</span>
</span></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.over.link-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/templates.tex#L3647'>#</a></div><div class='texpara'><div id='temp.over.link-2.sentence-1' class='sentence'>Such specializations are distinct functions and do not violate the
<a href='basic.def.odr' title='6.3&emsp;One-definition rule&emsp;[basic.def.odr]'>one-definition rule</a><a class='hidden_link' href='#temp.over.link-2.sentence-1'>.</a></div></div></div><div class='para' id='temp.over.link-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/templates.tex#L3651'>#</a></div><div class='texpara'><div id='temp.over.link-3.sentence-1' class='sentence'>The signature of a function template
is defined in <a href='intro.defs' title='3&emsp;Terms and definitions'>[intro.<span class='shy'></span>defs]</a><a class='hidden_link' href='#temp.over.link-3.sentence-1'>.</a></div> <div id='temp.over.link-3.sentence-2' class='sentence'>The names of the template parameters are significant only for establishing
the relationship between the template parameters and the rest of the
signature<a class='hidden_link' href='#temp.over.link-3.sentence-2'>.</a></div> <div id='temp.over.link-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.over.link-note-1'>1</a></i>:&ensp;<div id='temp.over.link-3.sentence-3' class='sentence'>Two distinct function templates can have identical function return types and
function parameter lists, even if overload resolution alone cannot distinguish
them<a class='hidden_link' href='#temp.over.link-3.sentence-3'>.</a></div></div><div class='texpara'><span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;       <span class='comment'>// OK, overloads the first template</span>
                                <span class='comment'>// distinguishable with an explicit template argument list</span>
</span> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='temp.over.link-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/templates.tex#L3669'>#</a></div><div class='texpara'><div id='temp.over.link-4.sentence-1' class='sentence'>When an expression that references a template parameter is used in the
function parameter list or the return type in the declaration of a
function template, the expression that references the template
parameter is part of the signature of the function template<a class='hidden_link' href='#temp.over.link-4.sentence-1'>.</a></div> <div id='temp.over.link-4.sentence-2' class='sentence'>This is
necessary to permit a declaration of a function template in one
translation unit to be linked with another declaration of the function
template in another translation unit and, conversely, to ensure that
function templates that are intended to be distinct are not linked
with one another<a class='hidden_link' href='#temp.over.link-4.sentence-2'>.</a></div> <div id='temp.over.link-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.over.link-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I, <span class='keyword'>int</span> J<span class='anglebracket'>&gt;</span> A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span>J<span class='anglebracket'>&gt;</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>J<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;   <span class='comment'>// #1</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> K, <span class='keyword'>int</span> L<span class='anglebracket'>&gt;</span> A<span class='anglebracket'>&lt;</span>K<span class='operator'>+</span>L<span class='anglebracket'>&gt;</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>K<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>L<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;   <span class='comment'>// same as #1</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I, <span class='keyword'>int</span> J<span class='anglebracket'>&gt;</span> A<span class='anglebracket'>&lt;</span>I<span class='operator'>-</span>J<span class='anglebracket'>&gt;</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>J<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;   <span class='comment'>// different from #1</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='temp.over.link-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.over.link-note-2'>2</a></i>:&ensp;<div id='temp.over.link-4.sentence-3' class='sentence'>Most expressions that use template parameters use non-type template
parameters, but it is possible for an expression to reference a type
parameter<a class='hidden_link' href='#temp.over.link-4.sentence-3'>.</a></div> <div id='temp.over.link-4.sentence-4' class='sentence'>For example, a template type parameter can be used in the
<span class='texttt'><span class='keyword'>sizeof</span></span> operator<a class='hidden_link' href='#temp.over.link-4.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='temp.over.link-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/templates.tex#L3695'>#</a></div><div class='texpara'><div id='temp.over.link-5.sentence-1' class='sentence'>Two expressions involving template parameters are considered
<a class='hidden_link' href='#def:equivalent,expressions' title='13.7.7.2&emsp;Function template overloading&emsp;[temp.over.link]'><span id='def:equivalent,expressions'><i >equivalent</i></span></a>
if two function definitions containing the expressions would satisfy
the <a href='basic.def.odr' title='6.3&emsp;One-definition rule&emsp;[basic.def.odr]'>one-definition rule</a>, except that the tokens used
to name the template parameters may differ as long as a token used to
name a template parameter in one expression is replaced by another token
that names the same template parameter in the other expression<a class='hidden_link' href='#temp.over.link-5.sentence-1'>.</a></div> <div id='temp.over.link-5.sentence-2' class='sentence'>Two unevaluated operands that do not involve template parameters
are considered equivalent
if two function definitions containing the expressions
would satisfy the one-definition rule,
except that the tokens used to name types and declarations may differ
as long as they name the same entities, and
the tokens used to form concept-ids (<a href='temp.names' title='13.3&emsp;Names of template specializations'>[temp.<span class='shy'></span>names]</a>) may differ
as long as the two <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id'><span class='textsf'><i >template-id</i></span></span></a><i >s</i> are the same (<a href='temp.type' title='13.6&emsp;Type equivalence'>[temp.<span class='shy'></span>type]</a>)<a class='hidden_link' href='#temp.over.link-5.sentence-2'>.</a></div> <div id='temp.over.link-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.over.link-note-3'>3</a></i>:&ensp;<div id='temp.over.link-5.sentence-3' class='sentence'>For instance, <span class='texttt'>A<span class='anglebracket'>&lt;</span><span class='literal'>42</span><span class='anglebracket'>&gt;</span></span> and <span class='texttt'>A<span class='anglebracket'>&lt;</span><span class='literal'>40</span><span class='operator'>+</span><span class='literal'>2</span><span class='anglebracket'>&gt;</span></span> name the same type<a class='hidden_link' href='#temp.over.link-5.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='temp.over.link-5.sentence-4' class='sentence'>
Two <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression'><span class='textsf'><i >lambda-expression</i></span></span></a><i >s</i> are never considered equivalent<a class='hidden_link' href='#temp.over.link-5.sentence-4'>.</a></div> <div id='temp.over.link-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.over.link-note-4'>4</a></i>:&ensp;<div id='temp.over.link-5.sentence-5' class='sentence'>The intent is to avoid <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_'><span class='textsf'><i >lambda-expression</i></span></span></a><i >s</i> appearing in the
signature of a function template with external linkage<a class='hidden_link' href='#temp.over.link-5.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='temp.over.link-5.sentence-6' class='sentence'>
For determining whether two dependent names (<a href='temp.dep' title='13.8.3&emsp;Dependent names'>[temp.<span class='shy'></span>dep]</a>) are equivalent,
only the name itself is considered, not the result of name lookup<a class='hidden_link' href='#temp.over.link-5.sentence-6'>.</a></div> <div id='temp.over.link-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.over.link-note-5'>5</a></i>:&ensp;<div id='temp.over.link-5.sentence-7' class='sentence'>If such a dependent name is unqualified,
it is looked up from
a first declaration of the function template (<a href='temp.res.general' title='13.8.1&emsp;General'>[temp.<span class='shy'></span>res.<span class='shy'></span>general]</a>)<a class='hidden_link' href='#temp.over.link-5.sentence-7'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='temp.over.link-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.over.link-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I, <span class='keyword'>int</span> J<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span>J<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;         <span class='comment'>// #1</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> K, <span class='keyword'>int</span> L<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>K<span class='operator'>+</span>L<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;         <span class='comment'>// same as #1</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>decltype</span><span class='parenthesis'>(</span>g<span class='parenthesis'>(</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>decltype</span><span class='parenthesis'>(</span>g<span class='parenthesis'>(</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>         <span class='comment'>// redeclaration of <span class='tcode_in_codeblock'>h()</span> uses the earlier lookup&hellip;</span>
  <span class='curlybracket'>{</span> <span class='keyword'>return</span> g<span class='parenthesis'>(</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>                            <span class='comment'>// &hellip; although the lookup here does find <span class='tcode_in_codeblock'>g(int)</span></span>
<span class='keyword'>int</span> i <span class='operator'>=</span> h<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                               <span class='comment'>// template argument substitution fails; <span class='tcode_in_codeblock'>g(int)</span></span>
                                                <span class='comment'>// not considered at the first declaration of <span class='tcode_in_codeblock'>h()</span></span>

<span class='comment'>// ill-formed, no diagnostic required: the two expressions are functionally equivalent but not equivalent</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> N<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> foo<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span> <span class='parenthesis'>(</span><span class='operator'>*</span>s<span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, N<span class='parenthesis'>)</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> N<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> foo<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span> <span class='parenthesis'>(</span><span class='operator'>*</span>s<span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, N<span class='parenthesis'>)</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;

<span class='comment'>// two different declarations because the non-dependent portions are not considered equivalent</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> spam<span class='parenthesis'>(</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span> <span class='parenthesis'>(</span><span class='operator'>*</span>s<span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> spam<span class='parenthesis'>(</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span> <span class='parenthesis'>(</span><span class='operator'>*</span>s<span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;
</span> —&nbsp;<i>end example</i>]</div></div> <div id='temp.over.link-5.sentence-8' class='sentence'>Two potentially-evaluated expressions involving template parameters that are not equivalent are
<a class='hidden_link' href='#def:functionally_equivalent,expressions' title='13.7.7.2&emsp;Function template overloading&emsp;[temp.over.link]'><span id='def:functionally_equivalent,expressions'><i >functionally equivalent</i></span></a>
if, for any given set of template arguments, the evaluation of the
expression results in the same value<a class='hidden_link' href='#temp.over.link-5.sentence-8'>.</a></div> <div id='temp.over.link-5.sentence-9' class='sentence'>Two unevaluated operands that are not equivalent
are functionally equivalent if, for any given set of template arguments,
the expressions perform
the same operations in the same order with the same entities<a class='hidden_link' href='#temp.over.link-5.sentence-9'>.</a></div> <div id='temp.over.link-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.over.link-note-6'>6</a></i>:&ensp;<div id='temp.over.link-5.sentence-10' class='sentence'>For instance, one could have redundant parentheses<a class='hidden_link' href='#temp.over.link-5.sentence-10'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='temp.over.link-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.over.link-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='literal'>true</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span><span class='literal'>42</span><span class='anglebracket'>&gt;</span>;      <span class='comment'>// #1</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> <span class='literal'>true</span>;       <span class='comment'>// OK, different functions</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.over.link-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/templates.tex#L3770'>#</a></div><div class='texpara'><div id='temp.over.link-6.sentence-1' class='sentence'>Two <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head'><span class='textsf'><i >template-head</i></span></span></a><i >s</i> are
<a class='hidden_link' href='#def:equivalent,template-heads' title='13.7.7.2&emsp;Function template overloading&emsp;[temp.over.link]'><span id='def:equivalent,template-heads'><i >equivalent</i></span></a> if
their <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list'><span class='textsf'><i >template-parameter-list</i></span></span></a><i >s</i> have the same length,
corresponding <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter'><span class='textsf'><i >template-parameter</i></span></span></a><i >s</i> are equivalent
and are both declared with <a href='temp.param#nt:type-constraint' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-constraint'><span class='textsf'><i >type-constraint</i></span></span></a><i >s</i> that are equivalent
if either <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter_'><span class='textsf'><i >template-parameter</i></span></span></a>
is declared with a <a href='temp.param#nt:type-constraint' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-constraint_'><span class='textsf'><i >type-constraint</i></span></span></a>,
and if either <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head_'><span class='textsf'><i >template-head</i></span></span></a> has a <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause'><span class='textsf'><i >requires-clause</i></span></span></a>,
they both have
<a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause_'><span class='textsf'><i >requires-clause</i></span></span></a><i >s</i> and the corresponding
<a href='temp.constr.decl#nt:constraint-expression' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'><span id='ntref:constraint-expression'><span class='textsf'><i >constraint-expression</i></span></span></a><i >s</i> are equivalent<a class='hidden_link' href='#temp.over.link-6.sentence-1'>.</a></div> <div id='temp.over.link-6.sentence-2' class='sentence'>Two <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter__'><span class='textsf'><i >template-parameter</i></span></span></a><i >s</i> are
<a class='hidden_link' href='#def:equivalent,template-parameters' title='13.7.7.2&emsp;Function template overloading&emsp;[temp.over.link]'><span id='def:equivalent,template-parameters'><i >equivalent</i></span></a>
under the following conditions:
<ul class='itemize'><li id='temp.over.link-6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.over.link-6.1'>(6.1)</a></div>they declare template parameters of the same kind,</li><li id='temp.over.link-6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.over.link-6.2'>(6.2)</a></div>if either declares a template parameter pack, they both do,</li><li id='temp.over.link-6.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.over.link-6.3'>(6.3)</a></div>if they declare non-type template parameters,
they have equivalent types
ignoring the use of <a href='temp.param#nt:type-constraint' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-constraint__'><span class='textsf'><i >type-constraint</i></span></span></a><i >s</i> for placeholder types, and</li><li id='temp.over.link-6.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.over.link-6.4'>(6.4)</a></div>if they declare template template parameters, their template
parameters are equivalent<a class='hidden_link' href='#temp.over.link-6.sentence-2'>.</a></li></ul></div> <div id='temp.over.link-6.sentence-3' class='sentence'>
When determining whether types or <a href='temp.param#nt:type-constraint' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-constraint___'><span class='textsf'><i >type-constraint</i></span></span></a><i >s</i>
are equivalent, the rules above are used to compare expressions
involving template parameters<a class='hidden_link' href='#temp.over.link-6.sentence-3'>.</a></div> <div id='temp.over.link-6.sentence-4' class='sentence'>Two <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head__'><span class='textsf'><i >template-head</i></span></span></a><i >s</i> are
<a class='hidden_link' href='#def:functionally_equivalent,template-heads' title='13.7.7.2&emsp;Function template overloading&emsp;[temp.over.link]'><span id='def:functionally_equivalent,template-heads'><i >functionally equivalent</i></span></a>
if they accept and are satisfied by (<a href='temp.constr.constr' title='13.5.2&emsp;Constraints'>[temp.<span class='shy'></span>constr.<span class='shy'></span>constr]</a>)
the same set of template argument lists<a class='hidden_link' href='#temp.over.link-6.sentence-4'>.</a></div></div></div><div class='para' id='temp.over.link-7'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/templates.tex#L3802'>#</a></div><div class='texpara'><div id='temp.over.link-7.sentence-1' class='sentence'>If the validity or meaning of the program depends on
whether two constructs are equivalent, and they are
functionally equivalent but not equivalent, the program is ill-formed,
no diagnostic required<a class='hidden_link' href='#temp.over.link-7.sentence-1'>.</a></div> <div id='temp.over.link-7.sentence-2' class='sentence'>Furthermore, if two function templates that do not correspond
<ul class='itemize'><li id='temp.over.link-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.over.link-7.1'>(7.1)</a></div>have the same name,</li><li id='temp.over.link-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.over.link-7.2'>(7.2)</a></div>have corresponding signatures (<a href='basic.scope.scope' title='6.4.1&emsp;General'>[basic.<span class='shy'></span>scope.<span class='shy'></span>scope]</a>),</li><li id='temp.over.link-7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.over.link-7.3'>(7.3)</a></div>would declare the same entity (<a href='basic.link' title='6.6&emsp;Program and linkage'>[basic.<span class='shy'></span>link]</a>) considering them to correspond, and</li><li id='temp.over.link-7.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.over.link-7.4'>(7.4)</a></div>accept and are satisfied by the same set of template argument lists,</li></ul>
the program is ill-formed, no diagnostic required<a class='hidden_link' href='#temp.over.link-7.sentence-2'>.</a></div></div></div><div class='para nonNormativeOnly' id='temp.over.link-8'><div class='marginalizedparent'><a class='marginalized' href='#temp.over.link-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/templates.tex#L3818'>#</a></div><div class='texpara'><div id='temp.over.link-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.over.link-note-7'>7</a></i>:&ensp;<div id='temp.over.link-8.sentence-1' class='sentence'>This rule guarantees that equivalent declarations will be linked with
one another, while not requiring implementations to use heroic efforts
to guarantee that functionally equivalent declarations will be treated
as distinct<a class='hidden_link' href='#temp.over.link-8.sentence-1'>.</a></div> <div id='temp.over.link-8.sentence-2' class='sentence'>For example, the last two declarations are functionally
equivalent and would cause a program to be ill-formed:
<span class='codeblock'><span class='comment'>// guaranteed to be the same</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>10</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>10</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;

<span class='comment'>// guaranteed to be different</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>10</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>11</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;

<span class='comment'>// ill-formed, no diagnostic required</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>10</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, A<span class='anglebracket'>&lt;</span>I<span class='operator'>+</span><span class='literal'>1</span><span class='operator'>+</span><span class='literal'>2</span><span class='operator'>+</span><span class='literal'>3</span><span class='operator'>+</span><span class='literal'>4</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
</span></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='temp.func.order' class='section'><h4 ><a class='secnum' href='#temp.func.order' style='min-width:95pt'>13.7.7.3</a> Partial ordering of function templates <a class='abbr_ref' href='temp.func.order'>[temp.func.order]</a></h4><div class='para' id='temp.func.order-1'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/templates.tex#L3843'>#</a></div><div class='texpara'><div id='temp.func.order-1.sentence-1' class='sentence'><a class='index' id=':overloading,resolution,template'></a>If multiple function templates share a name,
the use of that name can be ambiguous because
template argument deduction (<a href='temp.deduct' title='13.10.3&emsp;Template argument deduction'>[temp.<span class='shy'></span>deduct]</a>) may identify
a specialization for more than one function template<a class='hidden_link' href='#temp.func.order-1.sentence-1'>.</a></div> <div id='temp.func.order-1.sentence-2' class='sentence'><a class='hidden_link' href='#def:template,function,partial_ordering' title='13.7.7.3&emsp;Partial ordering of function templates&emsp;[temp.func.order]'><span id='def:template,function,partial_ordering'><i >Partial ordering</i></span></a>
of overloaded function template declarations is used in the following contexts
to select the function template to which a function template specialization
refers:
<ul class='itemize'><li id='temp.func.order-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-1.1'>(1.1)</a></div>during overload resolution for a call to a function template specialization (<a href='over.match.best' title='12.2.4&emsp;Best viable function'>[over.<span class='shy'></span>match.<span class='shy'></span>best]</a>);</li><li id='temp.func.order-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-1.2'>(1.2)</a></div>when the address of a function template specialization is taken;</li><li id='temp.func.order-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-1.3'>(1.3)</a></div>when a placement operator delete that is a
function template
specialization
is selected to match a placement operator new (<a href='basic.stc.dynamic.deallocation' title='6.7.5.5.3&emsp;Deallocation functions'>[basic.<span class='shy'></span>stc.<span class='shy'></span>dynamic.<span class='shy'></span>deallocation]</a>, <a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>);</li><li id='temp.func.order-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-1.4'>(1.4)</a></div>when a <a href='temp.friend' title='13.7.5&emsp;Friends&emsp;[temp.friend]'>friend function declaration</a>, an
<a href='temp.explicit' title='13.9.3&emsp;Explicit instantiation&emsp;[temp.explicit]'>explicit instantiation</a> or an <a href='temp.expl.spec' title='13.9.4&emsp;Explicit specialization&emsp;[temp.expl.spec]'>explicit specialization</a> refers to
a function template specialization<a class='hidden_link' href='#temp.func.order-1.sentence-2'>.</a></li></ul></div></div></div><div class='para' id='temp.func.order-2'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/templates.tex#L3870'>#</a></div><div class='texpara'><div id='temp.func.order-2.sentence-1' class='sentence'>Partial ordering selects which of two function templates is more
specialized than the other by transforming each template in turn
(see next paragraph) and performing template argument deduction
using the function type<a class='hidden_link' href='#temp.func.order-2.sentence-1'>.</a></div> <div id='temp.func.order-2.sentence-2' class='sentence'>The deduction process determines whether
one of the templates is more specialized than the other<a class='hidden_link' href='#temp.func.order-2.sentence-2'>.</a></div> <div id='temp.func.order-2.sentence-3' class='sentence'>If so, the
more specialized template is the one chosen by the partial ordering
process<a class='hidden_link' href='#temp.func.order-2.sentence-3'>.</a></div> <div id='temp.func.order-2.sentence-4' class='sentence'>If both deductions succeed, the partial ordering selects
the more constrained template (if one exists) as determined below<a class='hidden_link' href='#temp.func.order-2.sentence-4'>.</a></div></div></div><div class='para' id='temp.func.order-3'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/templates.tex#L3882'>#</a></div><div class='texpara'><div id='temp.func.order-3.sentence-1' class='sentence'>To produce the transformed template, for each type, non-type, or template
template parameter (including
<a href='temp.variadic#def:template_parameter_pack' title='13.7.4&emsp;Variadic templates&emsp;[temp.variadic]'>template parameter packs</a>
thereof) synthesize a unique type, value, or class template
respectively and substitute it for each occurrence of that parameter
in the function type of the template<a class='hidden_link' href='#temp.func.order-3.sentence-1'>.</a></div> <div id='temp.func.order-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.func.order-note-1'>1</a></i>:&ensp;<div id='temp.func.order-3.sentence-2' class='sentence'>The type replacing the placeholder
in the type of the value synthesized for a non-type template parameter
is also a unique synthesized type<a class='hidden_link' href='#temp.func.order-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='temp.func.order-3.sentence-3' class='sentence'>
Each function template <span class='math'><span class='mathalpha'>M</span></span> that is a member function
is considered to have
a new first parameter of type <span class='math'><span class='mathalpha'>X</span>(<span class='mathalpha'>M</span>)</span>, described below,
inserted in its function parameter list<a class='hidden_link' href='#temp.func.order-3.sentence-3'>.</a></div> <div id='temp.func.order-3.sentence-4' class='sentence'>If exactly one of the function templates was considered by overload resolution
via a rewritten candidate (<a href='over.match.oper' title='12.2.2.3&emsp;Operators in expressions'>[over.<span class='shy'></span>match.<span class='shy'></span>oper]</a>)
with a reversed order of parameters,
then the order of the function parameters in its transformed template
is reversed<a class='hidden_link' href='#temp.func.order-3.sentence-4'>.</a></div> <div id='temp.func.order-3.sentence-5' class='sentence'>For a function template <span class='math'><span class='mathalpha'>M</span></span> with cv-qualifiers <span class='mathit'>cv</span>
that is a member of a class <span class='math'><span class='mathalpha'>A</span></span>:
<ul class='itemize'><li id='temp.func.order-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-3.1'>(3.1)</a></div><div class='texpara'><div id='temp.func.order-3.1.sentence-1' class='sentence'>The type <span class='math'><span class='mathalpha'>X</span>(<span class='mathalpha'>M</span>)</span> is “rvalue reference to <span class='mathit'>cv</span> <span class='math'><span class='mathalpha'>A</span></span>”
if the optional <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier'><span class='textsf'><i >ref-qualifier</i></span></span></a> of
<span class='math'><span class='mathalpha'>M</span></span> is <span class='texttt'><span class='operator'>&amp;</span><span class='operator'>&amp;</span></span> or
if <span class='math'><span class='mathalpha'>M</span></span> has no <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier_'><span class='textsf'><i >ref-qualifier</i></span></span></a> and
the positionally-corresponding parameter of the other transformed template
has rvalue reference type;
if this determination depends recursively upon
whether <span class='math'><span class='mathalpha'>X</span>(<span class='mathalpha'>M</span>)</span> is an rvalue reference type,
it is not considered to have rvalue reference type<a class='hidden_link' href='#temp.func.order-3.1.sentence-1'>.</a></div></div></li><li id='temp.func.order-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-3.2'>(3.2)</a></div><div class='texpara'><div id='temp.func.order-3.2.sentence-1' class='sentence'>Otherwise, <span class='math'><span class='mathalpha'>X</span>(<span class='mathalpha'>M</span>)</span> is “lvalue reference to <span class='mathit'>cv</span> <span class='math'><span class='mathalpha'>A</span></span>”<a class='hidden_link' href='#temp.func.order-3.2.sentence-1'>.</a></div></div></li></ul></div></div><div class='texpara'><div id='temp.func.order-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.func.order-note-2'>2</a></i>:&ensp;<div id='temp.func.order-3.sentence-6' class='sentence'>This allows a non-static
member to be ordered with respect to a non-member function and for the results
to be equivalent to the ordering of two equivalent non-members<a class='hidden_link' href='#temp.func.order-3.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='temp.func.order-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.func.order-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span>R<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;              <span class='comment'>// #1</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> R<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span>T<span class='operator'>&amp;</span>, R<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;   <span class='comment'>// #2</span>

<span class='comment'>// The declaration of <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;operator*</span> is transformed into the equivalent of</span>
<span class='comment'>// <span class='tcode_in_codeblock'>template&lt;class R&gt; int operator*(B&lt;A&gt;&amp;, R&amp;);</span>&emsp;&ensp;&emsp;&ensp;&emsp;&ensp;// #1a</span>

<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A a;
  B<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span> b;
  b <span class='operator'>*</span> a;                                            <span class='comment'>// calls #1</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='temp.func.order-4'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/templates.tex#L3946'>#</a></div><div class='texpara'><div id='temp.func.order-4.sentence-1' class='sentence'>Using the transformed function template's function type,
perform type deduction against the other template as described in <a href='temp.deduct.partial' title='13.10.3.5&emsp;Deducing template arguments during partial ordering'>[temp.<span class='shy'></span>deduct.<span class='shy'></span>partial]</a><a class='hidden_link' href='#temp.func.order-4.sentence-1'>.</a></div></div><div class='texpara'><div id='temp.func.order-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.func.order-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span> A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>*</span><span class='parenthesis'>)</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> h<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

<span class='keyword'>void</span> m<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>*</span> p;
  f<span class='parenthesis'>(</span>p<span class='parenthesis'>)</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>f(const T*)</span> is more specialized than <span class='tcode_in_codeblock'>f(T)</span> or <span class='tcode_in_codeblock'>f(T*)</span></span>
  <span class='keyword'>float</span> x;
  g<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;             <span class='comment'>// ambiguous: <span class='tcode_in_codeblock'>g(T)</span> or <span class='tcode_in_codeblock'>g(T&amp;)</span></span>
  A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> z;
  h<span class='parenthesis'>(</span>z<span class='parenthesis'>)</span>;             <span class='comment'>// overload resolution selects <span class='tcode_in_codeblock'>h(A&lt;T&gt;&amp;)</span></span>
  <span class='keyword'>const</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> z2;
  h<span class='parenthesis'>(</span>z2<span class='parenthesis'>)</span>;            <span class='comment'>// <span class='tcode_in_codeblock'>h(const T&amp;)</span> is called because <span class='tcode_in_codeblock'>h(A&lt;T&gt;&amp;)</span> is not callable</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='temp.func.order-5'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/templates.tex#L3977'>#</a></div><div class='texpara'><div id='temp.func.order-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#temp.func.order-note-3'>3</a></i>:&ensp;<div id='temp.func.order-5.sentence-1' class='sentence'>Since, in a call context, such type deduction considers only parameters
for which there are explicit call arguments, some parameters are ignored (namely,
function parameter packs, parameters with default arguments, and ellipsis
parameters)<a class='hidden_link' href='#temp.func.order-5.sentence-1'>.</a></div> <div id='temp.func.order-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.func.order-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;                            <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='operator'>*</span>, <span class='keyword'>int</span><span class='operator'>=</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                    <span class='comment'>// #2</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;                            <span class='comment'>// #3</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T<span class='operator'>*</span>, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;                      <span class='comment'>// #4</span>

</span>
<span class='codeblock'><span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span><span class='operator'>*</span> ip;
  f<span class='parenthesis'>(</span>ip<span class='parenthesis'>)</span>;                                                <span class='comment'>// calls #2</span>
  g<span class='parenthesis'>(</span>ip<span class='parenthesis'>)</span>;                                                <span class='comment'>// calls #4</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='temp.func.order-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.func.order-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>U, A<span class='anglebracket'>&lt;</span>U, T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p <span class='operator'>=</span> <span class='literal'>0</span><span class='parenthesis'>)</span>;   <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>         <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>U, A<span class='anglebracket'>&lt;</span>U, U<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p <span class='operator'>=</span> <span class='literal'>0</span><span class='parenthesis'>)</span>;   <span class='comment'>// #2</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T         <span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T, T <span class='operator'>=</span> T<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;          <span class='comment'>// #3</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T, U <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;         <span class='comment'>// #4</span>

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>42</span>, <span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span><span class='keyword'>int</span>, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='literal'>0</span><span class='parenthesis'>)</span>;                          <span class='comment'>// calls #2</span>
  f<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>42</span><span class='parenthesis'>)</span>;                                           <span class='comment'>// error: ambiguous</span>
  g<span class='parenthesis'>(</span><span class='literal'>42</span><span class='parenthesis'>)</span>;                                                <span class='comment'>// error: ambiguous</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='temp.func.order-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.func.order-example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T, U<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;          <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T            <span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;                <span class='comment'>// #2</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T<span class='operator'>*</span>, U<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;         <span class='comment'>// #3</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T            <span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;                <span class='comment'>// #4</span>

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span><span class='operator'>&amp;</span>i<span class='parenthesis'>)</span>;                                                <span class='comment'>// OK, calls #2</span>
  g<span class='parenthesis'>(</span><span class='operator'>&amp;</span>i<span class='parenthesis'>)</span>;                                                <span class='comment'>// OK, calls #3</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='temp.func.order-6'><div class='marginalizedparent'><a class='marginalized' href='#temp.func.order-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/templates.tex#L4030'>#</a></div><div class='texpara'><div id='temp.func.order-6.sentence-1' class='sentence'>If deduction against the other template succeeds for both transformed templates,
constraints can be considered as follows:
<ul class='itemize'><li id='temp.func.order-6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-6.1'>(6.1)</a></div><div class='texpara'><div id='temp.func.order-6.1.sentence-1' class='sentence'>If their <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list_'><span class='textsf'><i >template-parameter-list</i></span></span></a><i >s</i>
(possibly including <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter___'><span class='textsf'><i >template-parameter</i></span></span></a><i >s</i>
invented for an abbreviated function template (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)) or
function parameter lists differ in length,
neither template is more specialized than the other<a class='hidden_link' href='#temp.func.order-6.1.sentence-1'>.</a></div></div></li><li id='temp.func.order-6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-6.2'>(6.2)</a></div><div class='texpara'><div id='temp.func.order-6.2.sentence-1' class='sentence'>Otherwise:
<ul class='itemize'><li id='temp.func.order-6.2.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#temp.func.order-6.2.1'>(6.2.1)</a></div>If exactly one of the templates was considered by overload resolution
via a rewritten candidate with reversed order of parameters:
<ul class='itemize'><li id='temp.func.order-6.2.1.1'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#temp.func.order-6.2.1.1'>(6.2.1.1)</a></div>If, for either template, some of the template parameters
are not deducible from their function parameters,
neither template is more specialized than the other.</li><li id='temp.func.order-6.2.1.2'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#temp.func.order-6.2.1.2'>(6.2.1.2)</a></div>If there is either no reordering or more than one reordering
of the associated <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list__'><span class='textsf'><i >template-parameter-list</i></span></span></a>
such that
<ul class='itemize'><li id='temp.func.order-6.2.1.2.1'><div class='marginalizedparent' style='left:-54mm'><a class='marginalized' href='#temp.func.order-6.2.1.2.1'>(6.2.1.2.1)</a></div>the corresponding <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter____'><span class='textsf'><i >template-parameter</i></span></span></a><i >s</i>
of the <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list___'><span class='textsf'><i >template-parameter-list</i></span></span></a><i >s</i> are equivalent and</li><li id='temp.func.order-6.2.1.2.2'><div class='marginalizedparent' style='left:-54mm'><a class='marginalized' href='#temp.func.order-6.2.1.2.2'>(6.2.1.2.2)</a></div>the function parameters that positionally correspond
between the two templates are of the same type,</li></ul>
neither template is more specialized than the other.</li></ul></li><li id='temp.func.order-6.2.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#temp.func.order-6.2.2'>(6.2.2)</a></div>Otherwise, if the corresponding <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter_____'><span class='textsf'><i >template-parameter</i></span></span></a><i >s</i>
of the <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list____'><span class='textsf'><i >template-parameter-list</i></span></span></a><i >s</i>
are not equivalent (<a href='#temp.over.link' title='13.7.7.2&emsp;Function template overloading'>[temp.<span class='shy'></span>over.<span class='shy'></span>link]</a>) or
if the function parameters that positionally correspond
between the two templates are not of the same type,
neither template is more specialized than the other<a class='hidden_link' href='#temp.func.order-6.2.sentence-1'>.</a></li></ul></div></div></li><li id='temp.func.order-6.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-6.3'>(6.3)</a></div><div class='texpara'><div id='temp.func.order-6.3.sentence-1' class='sentence'>Otherwise, if the context in which the partial ordering is done
is that of a call to a conversion function and
the return types of the templates are not the same,
then neither template is more specialized than the other<a class='hidden_link' href='#temp.func.order-6.3.sentence-1'>.</a></div></div></li><li id='temp.func.order-6.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-6.4'>(6.4)</a></div><div class='texpara'><div id='temp.func.order-6.4.sentence-1' class='sentence'>Otherwise,
if one template is more constrained than the other (<a href='temp.constr.order' title='13.5.5&emsp;Partial ordering by constraints'>[temp.<span class='shy'></span>constr.<span class='shy'></span>order]</a>),
the more constrained template is more specialized than the other<a class='hidden_link' href='#temp.func.order-6.4.sentence-1'>.</a></div></div></li><li id='temp.func.order-6.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#temp.func.order-6.5'>(6.5)</a></div><div class='texpara'><div id='temp.func.order-6.5.sentence-1' class='sentence'>Otherwise, neither template is more specialized than the other<a class='hidden_link' href='#temp.func.order-6.5.sentence-1'>.</a></div></div></li></ul></div> <div id='temp.func.order-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#temp.func.order-example-6'>6</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> True <span class='operator'>=</span> <span class='literal'>true</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> True<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>C <span class='keyword'>auto</span> <span class='operator'>&amp;</span>, <span class='keyword'>auto</span> <span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span>C Q<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>Q <span class='operator'>&amp;</span>, C <span class='keyword'>auto</span> <span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>struct</span> A <span class='operator'>*</span>ap, <span class='keyword'>struct</span> B <span class='operator'>*</span>bp<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span><span class='operator'>*</span>ap, <span class='operator'>*</span>bp<span class='parenthesis'>)</span>;                  <span class='comment'>// OK, can use different methods to produce template parameters</span>
<span class='curlybracket'>}</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T, <span class='keyword'>typename</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> X <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T, C U, <span class='keyword'>typename</span> V<span class='anglebracket'>&gt;</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span>X<span class='anglebracket'>&lt;</span>T, U<span class='anglebracket'>&gt;</span>, V<span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span>C T, C U, C V<span class='anglebracket'>&gt;</span>               <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span>T, X<span class='anglebracket'>&lt;</span>U, V<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  X<span class='anglebracket'>&lt;</span><span class='keyword'>void</span> <span class='operator'>*</span>, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>0</span>;        <span class='comment'>// OK, correspondence of [<span class='tcode_in_codeblock'>T</span>, <span class='tcode_in_codeblock'>U</span>, <span class='tcode_in_codeblock'>V</span>] and [<span class='tcode_in_codeblock'>U</span>, <span class='tcode_in_codeblock'>V</span>, <span class='tcode_in_codeblock'>T</span>]</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div></div></body></html>