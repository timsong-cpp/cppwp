<!DOCTYPE html><html lang='en'><head><title>[expr.delete]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>7</a> Expressions <a class='abbr_ref' href='./#expr'>[expr]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>7.6</a> Compound expressions <a class='abbr_ref' href='expr.compound#expr.delete'>[expr.compound]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>7.6.2</a> Unary expressions <a class='abbr_ref' href='expr.unary#expr.delete'>[expr.unary]</a></h3><h4 ><a class='secnum' style='min-width:118pt'>7.6.2.8</a> Delete <a class='abbr_ref'>[expr.delete]</a></h4><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8fc95077300d2691f4c5c25fcfd7b15e8987cc67/source/expressions.tex#L5228'>#</a></div><div id='1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,delete'></a></span><span class='indexparent'><a class='index' id=':delete'></a></span>The <a class='grammarterm' href='#nt:delete-expression'>delete-expression</a> operator destroys a
<a href='intro.object#def:most_derived_object'>most derived object</a> or array created by a
<a class='grammarterm' href='expr.new#nt:new-expression'>new-expression</a><a class='hidden_link' href='#1.sentence-1'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:delete-expression' id='nt:delete-expression'>delete-expression:</a>
&#9;<span class='terminal'><span class='operator'>::</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='texttt'><span class='keyword'>delete</span></span><span class='indexparent'><a class='index' id=':delete_'></a></span> <a class='grammarterm' href='expr.cast#nt:cast-expression'>cast-expression</a>
&#9;<span class='terminal'><span class='operator'>::</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='texttt'><span class='keyword'>delete</span></span><span class='indexparent'><a class='index' id=':delete__'></a></span> <span class='terminal'><span class='squarebracket'>[</span></span> <span class='terminal'><span class='squarebracket'>]</span></span> <a class='grammarterm' href='expr.cast#nt:cast-expression'>cast-expression</a>
</pre><div id='1.sentence-2' class='sentence'>The first alternative is a
<a class='hidden_link' href='#def:delete,single-object' id='def:delete,single-object'><i >single-object delete expression</i></a>, and the
second is an <a class='hidden_link' href='#def:delete,array' id='def:delete,array'><i >array delete expression</i></a><a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>Whenever the <span class='texttt'><span class='keyword'>delete</span></span> keyword is immediately followed by empty square
brackets, it shall be interpreted as the second alternative<a class='hidden_link' href='#1.sentence-3'>.</a><a class='footnotenum' href='#footnote-72' id='footnoteref-72'>72</a></div> <div id='1.sentence-4' class='sentence'>
The operand shall be of pointer to object type or of class type<a class='hidden_link' href='#1.sentence-4'>.</a></div> <div id='1.sentence-5' class='sentence'>If of
class type, the operand is <a href='conv#def:contextually_implicitly_converted'>contextually implicitly converted</a>
to a pointer to object
type<a class='hidden_link' href='#1.sentence-5'>.</a><a class='footnotenum' href='#footnote-73' id='footnoteref-73'>73</a></div> <div id='1.sentence-6' class='sentence'>
The <a class='grammarterm' href='#nt:delete-expression'>delete-expression</a>'s result has type
<span class='texttt'><span class='keyword'>void</span></span><a class='hidden_link' href='#1.sentence-6'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8fc95077300d2691f4c5c25fcfd7b15e8987cc67/source/expressions.tex#L5258'>#</a></div><div id='2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':delete,single-object'></a></span>If the operand has a class type, the operand is converted to a pointer
type by calling the above-mentioned conversion function, and the
converted operand is used in place of the original operand for the
remainder of this subclause<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>In a single-object delete expression, the value of the operand of
<span class='texttt'><span class='keyword'>delete</span></span> may be a null pointer value, a pointer to a non-array object
created by a previous <a class='grammarterm' href='expr.new#nt:new-expression'>new-expression</a>,
or a pointer to a
<a href='intro.object#def:subobject'>subobject</a> representing a
<a href='class.derived'>base class</a> of such an
object<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>If not, the behavior is undefined<a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='2.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':array,delete'></a></span>In an array delete expression, the value of the operand of <span class='texttt'><span class='keyword'>delete</span></span>
may be a null pointer value or a pointer value that resulted from
a previous array <a class='grammarterm' href='expr.new#nt:new-expression'>new-expression</a><a class='hidden_link' href='#2.sentence-4'>.</a><a class='footnotenum' href='#footnote-74' id='footnoteref-74'>74</a></div> <div id='2.sentence-5' class='sentence'>
If not, the behavior is undefined<a class='hidden_link' href='#2.sentence-5'>.</a></div> <div id='2.note-1' class='note'>[&nbsp;<a class='note_link' href='#2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-6' class='sentence'>This means that the syntax of the <a class='grammarterm' href='#nt:delete-expression'>delete-expression</a> must
match the type of the object allocated by <span class='texttt'><span class='keyword'>new</span></span>, not the syntax of the
<a class='grammarterm' href='expr.new#nt:new-expression'>new-expression</a><a class='hidden_link' href='#2.sentence-6'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='2.note-2' class='note'>[&nbsp;<a class='note_link' href='#2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-7' class='sentence'>A pointer to a <span class='texttt'><span class='keyword'>const</span></span> type can be the operand of a
<a class='grammarterm' href='#nt:delete-expression'>delete-expression</a>; it is not necessary to
<a href='expr.const.cast#def:casting_away_constness'>cast away the constness</a>
of the pointer expression before it is
used as the operand of the <a class='grammarterm' href='#nt:delete-expression'>delete-expression</a><a class='hidden_link' href='#2.sentence-7'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8fc95077300d2691f4c5c25fcfd7b15e8987cc67/source/expressions.tex#L5292'>#</a></div><div id='3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':delete,undefined'></a></span>In a single-object delete expression, if the static type of the object to be
deleted is different from its dynamic type
and the selected deallocation function (see below)
is not a destroying operator delete,
the static type shall be a base
class of the dynamic type of the object to be deleted and the static type shall
have a virtual destructor or the behavior is undefined<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>In an array delete
expression, if the dynamic type of the object to be deleted differs from its
static type, the behavior is undefined<a class='hidden_link' href='#3.sentence-2'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8fc95077300d2691f4c5c25fcfd7b15e8987cc67/source/expressions.tex#L5304'>#</a></div><div id='4.sentence-1' class='sentence'>The <a class='grammarterm' href='expr.cast#nt:cast-expression'>cast-expression</a> in a <a class='grammarterm' href='#nt:delete-expression'>delete-expression</a> shall
be evaluated exactly once<a class='hidden_link' href='#4.sentence-1'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8fc95077300d2691f4c5c25fcfd7b15e8987cc67/source/expressions.tex#L5308'>#</a></div><div id='5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type,incomplete'></a></span>If the object being deleted has incomplete class type at the point of
deletion and the complete class has a non-trivial destructor or a
deallocation function, the behavior is undefined<a class='hidden_link' href='#5.sentence-1'>.</a></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8fc95077300d2691f4c5c25fcfd7b15e8987cc67/source/expressions.tex#L5314'>#</a></div><div id='6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':delete,destructor_and'></a></span>If the value of the operand of the <a class='grammarterm' href='#nt:delete-expression'>delete-expression</a> is not a
null pointer value
and the selected deallocation function (see below)
is not a destroying operator delete,
the <a class='grammarterm' href='#nt:delete-expression'>delete-expression</a> will invoke the
destructor (if any) for the object or the elements of the array being
deleted<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>In the case of an array, the elements will be destroyed in
order of decreasing address (that is, in reverse order of the completion
of their constructor; see <a href='class.base.init'>[class.base.init]</a>)<a class='hidden_link' href='#6.sentence-2'>.</a></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8fc95077300d2691f4c5c25fcfd7b15e8987cc67/source/expressions.tex#L5326'>#</a></div><div id='7.sentence-1' class='sentence'>If the value of the operand of the <a class='grammarterm' href='#nt:delete-expression'>delete-expression</a> is not a
null pointer value, then:</div><ul class='itemize'><li id='7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#7.1'>(7.1)</a></div><div id='7.1.sentence-1' class='sentence'>If the allocation call for the <a class='grammarterm' href='expr.new#nt:new-expression'>new-expression</a> for the object to
be deleted was not omitted and the allocation was not extended (<a href='expr.new'>[expr.new]</a>), the
<a class='grammarterm' href='#nt:delete-expression'>delete-expression</a> shall call a <a href='basic.stc.dynamic.deallocation'>deallocation
function</a><a class='hidden_link' href='#7.1.sentence-1'>.</a></div> <div id='7.1.sentence-2' class='sentence'>The value returned from the
allocation call of the <a class='grammarterm' href='expr.new#nt:new-expression'>new-expression</a> shall be passed as the
first argument to the deallocation function<a class='hidden_link' href='#7.1.sentence-2'>.</a></div></li><li id='7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#7.2'>(7.2)</a></div><div id='7.2.sentence-1' class='sentence'>Otherwise, if the allocation was extended or was provided by extending the
allocation of another <a class='grammarterm' href='expr.new#nt:new-expression'>new-expression</a>, and the
<a class='grammarterm' href='#nt:delete-expression'>delete-expression</a> for every other pointer value produced by a
<a class='grammarterm' href='expr.new#nt:new-expression'>new-expression</a> that had storage provided by the extended
<a class='grammarterm' href='expr.new#nt:new-expression'>new-expression</a> has been evaluated, the
<a class='grammarterm' href='#nt:delete-expression'>delete-expression</a> shall call a deallocation function<a class='hidden_link' href='#7.2.sentence-1'>.</a></div> <div id='7.2.sentence-2' class='sentence'>The value
returned from the allocation call of the extended <a class='grammarterm' href='expr.new#nt:new-expression'>new-expression</a>
shall be passed as the first argument to the deallocation function<a class='hidden_link' href='#7.2.sentence-2'>.</a></div></li><li id='7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#7.3'>(7.3)</a></div><div id='7.3.sentence-1' class='sentence'>Otherwise, the <a class='grammarterm' href='#nt:delete-expression'>delete-expression</a> will not call a
deallocation function<a class='hidden_link' href='#7.3.sentence-1'>.</a></div></li></ul> <div id='7.note-1' class='note'>[&nbsp;<a class='note_link' href='#7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='7.sentence-2' class='sentence'>The deallocation function is called regardless of whether the destructor
for the object or some element of the array throws an exception<a class='hidden_link' href='#7.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='7.sentence-3' class='sentence'>
If the value of the operand of the <a class='grammarterm' href='#nt:delete-expression'>delete-expression</a> is a
null pointer value, it is unspecified whether a deallocation function will be
called as described above<a class='hidden_link' href='#7.sentence-3'>.</a></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8fc95077300d2691f4c5c25fcfd7b15e8987cc67/source/expressions.tex#L5361'>#</a></div><div id='8.note-1' class='note'>[&nbsp;<a class='note_link' href='#8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='8.sentence-1' class='sentence'>An implementation provides default definitions of the global
deallocation functions <span class='texttt'><span class='keyword'>operator</span> <span class='keyword'>delete</span></span> for
non-arrays (<a href='new.delete.single'>[new.delete.single]</a>) and
<span class='indexparent'><a class='index' id=':operator_delete'></a></span><span class='texttt'><span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span> for arrays (<a href='new.delete.array'>[new.delete.array]</a>)<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>A C++
program can provide alternative definitions of these
functions (<a href='replacement.functions'>[replacement.functions]</a>), and/or class-specific
versions (<a href='class.free'>[class.free]</a>)<a class='hidden_link' href='#8.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8fc95077300d2691f4c5c25fcfd7b15e8987cc67/source/expressions.tex#L5373'>#</a></div><div id='9.sentence-1' class='sentence'>When the keyword <span class='texttt'><span class='keyword'>delete</span></span> in a <a class='grammarterm' href='#nt:delete-expression'>delete-expression</a> is
preceded by the unary <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> operator, the deallocation function's name is looked
up in global scope<a class='hidden_link' href='#9.sentence-1'>.</a></div> <div id='9.sentence-2' class='sentence'>Otherwise, the lookup considers class-specific deallocation
functions (<a href='class.free'>[class.free]</a>)<a class='hidden_link' href='#9.sentence-2'>.</a></div> <div id='9.sentence-3' class='sentence'>If no class-specific deallocation function is found,
the deallocation function's name is looked up in global scope<a class='hidden_link' href='#9.sentence-3'>.</a></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8fc95077300d2691f4c5c25fcfd7b15e8987cc67/source/expressions.tex#L5380'>#</a></div><div id='10.sentence-1' class='sentence'>If deallocation function lookup finds more than one usual
deallocation function,
the function to be called is selected as follows:
<ul class='itemize'><li id='10.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#10.1'>(10.1)</a></div>If any of the deallocation functions is a destroying operator delete,
all deallocation functions that are not destroying operator deletes
are eliminated from further consideration.</li><li id='10.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#10.2'>(10.2)</a></div>If the type has new-extended alignment,
a function with a parameter of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>align_&shy;val_&shy;t</span> is preferred;
otherwise a function without such a parameter is preferred. If any preferred functions are found,
all non-preferred functions are eliminated from further consideration.</li><li id='10.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#10.3'>(10.3)</a></div>If exactly one function remains,
that function is selected and the selection process terminates.</li><li id='10.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#10.4'>(10.4)</a></div>If the deallocation functions have class scope,
the one without a parameter of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_&shy;t</span> is selected.</li><li id='10.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#10.5'>(10.5)</a></div>If the type is complete
and if, for an array delete expression only,
the operand is a pointer to a class type with a
non-trivial destructor or a (possibly multi-dimensional) array thereof,
the function with a parameter of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_&shy;t</span> is selected.</li><li id='10.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#10.6'>(10.6)</a></div>Otherwise, it is unspecified
whether a deallocation function with a parameter of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_&shy;t</span>
is selected.</li></ul></div></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8fc95077300d2691f4c5c25fcfd7b15e8987cc67/source/expressions.tex#L5413'>#</a></div><div id='11.sentence-1' class='sentence'>For a single-object delete expression,
the deleted object is
the object denoted by the operand
if its static type does not have a virtual destructor,
and its most-derived object otherwise<a class='hidden_link' href='#11.sentence-1'>.</a></div> <div id='11.note-1' class='note'>[&nbsp;<a class='note_link' href='#11.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='11.sentence-2' class='sentence'>If the deallocation function is not a destroying operator delete
and the deleted object is not the most derived object in the former case,
the behavior is undefined,
as stated above<a class='hidden_link' href='#11.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='11.sentence-3' class='sentence'>
For an array delete expression,
the deleted object is
the array object<a class='hidden_link' href='#11.sentence-3'>.</a></div> <div id='11.sentence-4' class='sentence'>When a <a class='grammarterm' href='#nt:delete-expression'>delete-expression</a>
is executed, the selected deallocation function shall be called with
the address of the deleted object
in a single-object delete expression, or
the address of the deleted object
suitably adjusted for the array allocation
overhead (<a href='expr.new'>[expr.new]</a>) in an array delete expression,
as its first argument<a class='hidden_link' href='#11.sentence-4'>.</a></div> <div id='11.note-2' class='note'>[&nbsp;<a class='note_link' href='#11.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='11.sentence-5' class='sentence'>Any cv-qualifiers in the type of the deleted object
are ignored when forming this argument<a class='hidden_link' href='#11.sentence-5'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='11.sentence-6' class='sentence'>
If a destroying operator delete is used,
an unspecified value
is passed as the argument
corresponding to the parameter of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>destroying_&shy;delete_&shy;t</span><a class='hidden_link' href='#11.sentence-6'>.</a></div> <div id='11.sentence-7' class='sentence'>If a deallocation function
with a parameter of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>align_&shy;val_&shy;t</span>
is used,
the alignment of the type of the deleted object
is passed as the corresponding argument<a class='hidden_link' href='#11.sentence-7'>.</a></div> <div id='11.sentence-8' class='sentence'>If a deallocation function
with a parameter of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_&shy;t</span> is used,
the size of the deleted object
in a single-object delete expression, or
of the array plus allocation overhead
in an array delete expression,
is passed as the corresponding argument<a class='hidden_link' href='#11.sentence-8'>.</a></div> <div id='11.note-3' class='note'>[&nbsp;<a class='note_link' href='#11.note-3'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='11.sentence-9' class='sentence'>If this results in a call to a replaceable deallocation function,
and either
the first argument was not the result of
a prior call to a replaceable allocation function or
the second or third argument was not the corresponding argument in said call,
the behavior is undefined (<a href='new.delete.single'>[new.delete.single]</a>, <a href='new.delete.array'>[new.delete.array]</a>)<a class='hidden_link' href='#11.sentence-9'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8fc95077300d2691f4c5c25fcfd7b15e8987cc67/source/expressions.tex#L5465'>#</a></div><div id='12.sentence-1' class='sentence'>Access and ambiguity control are done for both the deallocation function
and the destructor (<a href='class.dtor'>[class.dtor]</a>, <a href='class.free'>[class.free]</a>)<a class='hidden_link' href='#12.sentence-1'>.</a></div></div><div class='footnote' id='footnote-72'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-72'>72)</a></div><div id='footnote-72.sentence-1' class='sentence'>A
<a class='grammarterm' href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a> with a <a class='grammarterm' href='expr.prim.lambda#nt:lambda-introducer'>lambda-introducer</a>
that consists of empty square brackets can follow the <span class='texttt'><span class='keyword'>delete</span></span> keyword
if the <a class='grammarterm' href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a> is enclosed in parentheses<a class='hidden_link' href='#footnote-72.sentence-1'>.</a></div> <a href='#footnoteref-72'>⮥</a></div><div class='footnote' id='footnote-73'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-73'>73)</a></div><div id='footnote-73.sentence-1' class='sentence'>This implies that an object
cannot be deleted using a pointer of type
<span class='texttt'><span class='keyword'>void</span><span class='operator'>*</span></span> because <span class='texttt'><span class='keyword'>void</span></span> is not an object type<a class='hidden_link' href='#footnote-73.sentence-1'>.</a></div> <a href='#footnoteref-73'>⮥</a></div><div class='footnote' id='footnote-74'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-74'>74)</a></div><div id='footnote-74.sentence-1' class='sentence'>For nonzero-length
arrays, this is the same as a pointer to the first
element of the array created by that <a class='grammarterm' href='expr.new#nt:new-expression'>new-expression</a><a class='hidden_link' href='#footnote-74.sentence-1'>.</a></div> <div id='footnote-74.sentence-2' class='sentence'>Zero-length arrays do not have a first element<a class='hidden_link' href='#footnote-74.sentence-2'>.</a></div> <a href='#footnoteref-74'>⮥</a></div></div></body></html>