<!DOCTYPE html><html lang='en'><head><title>[exec.async.ops]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>33</a> Execution control library <a class='abbr_ref' href='./#exec'>[exec]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>33.3</a> Asynchronous operations <a class='abbr_ref'>[exec.async.ops]</a></h2><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/exec.tex#L165'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:resource,execution' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:resource,execution'><i >execution resource</i></span></a> is a program entity that manages
a (possibly dynamic) set of execution agents (<a href='thread.req.lockable.general' title='32.2.5.1&emsp;General'>[thread.<span class='shy'></span>req.<span class='shy'></span>lockable.<span class='shy'></span>general]</a>),
which it uses to execute parallel work on behalf of callers<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>:&ensp;<div id='1.sentence-2' class='sentence'>The currently active thread,
a system-provided thread pool, and
uses of an API associated with an external hardware accelerator
are all examples of execution resources<a class='hidden_link' href='#1.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='1.sentence-3' class='sentence'>
Execution resources execute asynchronous operations<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>An execution resource is either valid or invalid<a class='hidden_link' href='#1.sentence-4'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/exec.tex#L178'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:operation,asynchronous' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:operation,asynchronous'><i >asynchronous operation</i></span></a> is
a distinct unit of program execution that
<ul class='itemize'><li id='2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.1'>(2.1)</a></div><div class='texpara'><div id='2.1.sentence-1' class='sentence'>is explicitly created;</div></div></li><li id='2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.2'>(2.2)</a></div><div class='texpara'><div id='2.2.sentence-1' class='sentence'>can be explicitly started once at most;</div></div></li><li id='2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.3'>(2.3)</a></div><div class='texpara'><div id='2.3.sentence-1' class='sentence'>once started, eventually completes exactly once
with a (possibly empty) set of result datums and
in exactly one of three <a class='hidden_link' href='#def:disposition' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:disposition'><i >dispositions</i></span></a>:
success, failure, or cancellation;
<ul class='itemize'><li id='2.3.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#2.3.1'>(2.3.1)</a></div><div class='texpara'><div id='2.3.1.sentence-1' class='sentence'>A successful completion, also known as a <a class='hidden_link' href='#def:completion,value' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:completion,value'><i >value completion</i></span></a>,
can have an arbitrary number of result datums<a class='hidden_link' href='#2.3.1.sentence-1'>.</a></div></div></li><li id='2.3.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#2.3.2'>(2.3.2)</a></div><div class='texpara'><div id='2.3.2.sentence-1' class='sentence'>A failure completion, also known as an <a class='hidden_link' href='#def:completion,error' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:completion,error'><i >error completion</i></span></a>,
has a single result datum<a class='hidden_link' href='#2.3.2.sentence-1'>.</a></div></div></li><li id='2.3.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#2.3.3'>(2.3.3)</a></div><div class='texpara'><div id='2.3.3.sentence-1' class='sentence'>A cancellation completion, also known as a <a class='hidden_link' href='#def:completion,stopped' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:completion,stopped'><i >stopped completion</i></span></a>,
has no result datum<a class='hidden_link' href='#2.3.3.sentence-1'>.</a></div></div></li></ul></div> <div id='2.3.sentence-2' class='sentence'>
An asynchronous operation's <a class='hidden_link' href='#def:result,async' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:result,async'><i >async result</i></span></a>
is its disposition and its (possibly empty) set of result datums<a class='hidden_link' href='#2.3.sentence-2'>.</a></div></div></li><li id='2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.4'>(2.4)</a></div><div class='texpara'><div id='2.4.sentence-1' class='sentence'>can complete on a different execution resource
than the execution resource on which it started; and</div></div></li><li id='2.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.5'>(2.5)</a></div><div class='texpara'><div id='2.5.sentence-1' class='sentence'>can create and start other asynchronous operations
called <a class='hidden_link' href='#def:operations,child' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:operations,child'><i >child operations</i></span></a><a class='hidden_link' href='#2.5.sentence-1'>.</a></div> <div id='2.5.sentence-2' class='sentence'>A child operation is an asynchronous operation
that is created by the parent operation and,
if started, completes before the parent operation completes<a class='hidden_link' href='#2.5.sentence-2'>.</a></div> <div id='2.5.sentence-3' class='sentence'>A <a class='hidden_link' href='#def:operation,parent' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:operation,parent'><i >parent operation</i></span></a> is the asynchronous operation
that created a particular child operation<a class='hidden_link' href='#2.5.sentence-3'>.</a></div></div></li></ul></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='2.sentence-2' class='sentence'>An asynchronous operation can execute synchronously;
that is, it can complete during the execution of its start operation
on the thread of execution that started it<a class='hidden_link' href='#2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/exec.tex#L222'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>An asynchronous operation has associated state
known as its <a class='hidden_link' href='#def:state,operation' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:state,operation'><i >operation state</i></span></a><a class='hidden_link' href='#3.sentence-1'>.</a></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/exec.tex#L226'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>An asynchronous operation has an associated environment<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>An <a class='hidden_link' href='#def:environment' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:environment'><i >environment</i></span></a> is a queryable object (<a href='exec.queryable' title='33.2&emsp;Queries and queryables'>[exec.<span class='shy'></span>queryable]</a>)
representing the execution-time properties of the operation's caller<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.sentence-3' class='sentence'>The caller of an asynchronous operation is
its parent operation or the function that created it<a class='hidden_link' href='#4.sentence-3'>.</a></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/exec.tex#L233'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'>An asynchronous operation has an associated receiver<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:receiver' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:receiver'><i >receiver</i></span></a> is an aggregation of three handlers
for the three asynchronous completion dispositions:
<ul class='itemize'><li id='5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.1'>(5.1)</a></div>a value completion handler for a value completion,</li><li id='5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.2'>(5.2)</a></div>an error completion handler for an error completion, and</li><li id='5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.3'>(5.3)</a></div>a stopped completion handler for a stopped completion<a class='hidden_link' href='#5.sentence-2'>.</a></li></ul></div> <div id='5.sentence-3' class='sentence'>
A receiver has an associated environment<a class='hidden_link' href='#5.sentence-3'>.</a></div> <div id='5.sentence-4' class='sentence'>An asynchronous operation's operation state owns the operation's receiver<a class='hidden_link' href='#5.sentence-4'>.</a></div> <div id='5.sentence-5' class='sentence'>The environment of an asynchronous operation
is equal to its receiver's environment<a class='hidden_link' href='#5.sentence-5'>.</a></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/exec.tex#L247'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'>For each completion disposition, there is a <a class='hidden_link' href='#def:function,completion' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:function,completion'><i >completion function</i></span></a><a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>A completion function is
a customization point object (<a href='customization.point.object' title='16.3.3.3.5&emsp;Customization Point Object types'>[customization.<span class='shy'></span>point.<span class='shy'></span>object]</a>)
that accepts an asynchronous operation's receiver as the first argument and
the result datums of the asynchronous operation as additional arguments<a class='hidden_link' href='#6.sentence-2'>.</a></div> <div id='6.sentence-3' class='sentence'>The value completion function invokes
the receiver's value completion handler with the value result datums;
likewise for the error completion function and the stopped completion function<a class='hidden_link' href='#6.sentence-3'>.</a></div> <div id='6.sentence-4' class='sentence'>A completion function has
an associated type known as its <a class='hidden_link' href='#def:tag,completion' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:tag,completion'><i >completion tag</i></span></a>
that is the unqualified type of the completion function<a class='hidden_link' href='#6.sentence-4'>.</a></div> <div id='6.sentence-5' class='sentence'>A valid invocation of a completion function is called
a <a class='hidden_link' href='#def:operation,completion' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:operation,completion'><i >completion operation</i></span></a><a class='hidden_link' href='#6.sentence-5'>.</a></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/exec.tex#L262'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:lifetime_of_an_asynchronous_operation' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:lifetime_of_an_asynchronous_operation'><i >lifetime of an asynchronous operation</i></span></a>,
also known as the operation's <a class='hidden_link' href='#def:async_lifetime' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:async_lifetime'><i >async lifetime</i></span></a>,
begins when its start operation begins executing and
ends when its completion operation begins executing<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>If the lifetime of an asynchronous operation's associated operation state
ends before the lifetime of the asynchronous operation,
the behavior is undefined<a class='hidden_link' href='#7.sentence-2'>.</a></div> <div id='7.sentence-3' class='sentence'>After an asynchronous operation executes a completion operation,
its associated operation state is invalid<a class='hidden_link' href='#7.sentence-3'>.</a></div> <div id='7.sentence-4' class='sentence'>Accessing any part of an invalid operation state is undefined behavior<a class='hidden_link' href='#7.sentence-4'>.</a></div></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/exec.tex#L274'>#</a></div><div class='texpara'><div id='8.sentence-1' class='sentence'>An asynchronous operation shall not execute a completion operation
before its start operation has begun executing<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>After its start operation has begun executing,
exactly one completion operation shall execute<a class='hidden_link' href='#8.sentence-2'>.</a></div> <div id='8.sentence-3' class='sentence'>The lifetime of an asynchronous operation's operation state can end
during the execution of the completion operation<a class='hidden_link' href='#8.sentence-3'>.</a></div></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/exec.tex#L282'>#</a></div><div class='texpara'><div id='9.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:sender' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:sender'><i >sender</i></span></a> is a factory for one or more asynchronous operations<a class='hidden_link' href='#9.sentence-1'>.</a></div> <div id='9.sentence-2' class='sentence'><a class='hidden_link' href='#def:connect' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:connect'><i >Connecting</i></span></a> a sender and a receiver creates
an asynchronous operation<a class='hidden_link' href='#9.sentence-2'>.</a></div> <div id='9.sentence-3' class='sentence'>The asynchronous operation's associated receiver is equal to
the receiver used to create it, and
its associated environment is equal to
the environment associated with the receiver used to create it<a class='hidden_link' href='#9.sentence-3'>.</a></div> <div id='9.sentence-4' class='sentence'>The lifetime of an asynchronous operation's associated operation state
does not depend on the lifetimes of either the sender or the receiver
from which it was created<a class='hidden_link' href='#9.sentence-4'>.</a></div> <div id='9.sentence-5' class='sentence'>A sender is started when it is connected to a receiver and
the resulting asynchronous operation is started<a class='hidden_link' href='#9.sentence-5'>.</a></div> <div id='9.sentence-6' class='sentence'>A sender's async result is the async result of the asynchronous operation
created by connecting it to a receiver<a class='hidden_link' href='#9.sentence-6'>.</a></div> <div id='9.sentence-7' class='sentence'>A sender sends its results by way of the asynchronous operation(s) it produces,
and a receiver receives those results<a class='hidden_link' href='#9.sentence-7'>.</a></div> <div id='9.sentence-8' class='sentence'>A sender is either valid or invalid;
it becomes invalid when its parent sender (see below) becomes invalid<a class='hidden_link' href='#9.sentence-8'>.</a></div></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/exec.tex#L302'>#</a></div><div class='texpara'><div id='10.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:scheduler' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:scheduler'><i >scheduler</i></span></a> is an abstraction of an execution resource
with a uniform, generic interface for scheduling work onto that resource<a class='hidden_link' href='#10.sentence-1'>.</a></div> <div id='10.sentence-2' class='sentence'>It is a factory for senders
whose asynchronous operations execute value completion operations
on an execution agent belonging to
the scheduler's associated execution resource<a class='hidden_link' href='#10.sentence-2'>.</a></div> <div id='10.sentence-3' class='sentence'>A <a class='hidden_link' href='#def:schedule-expression' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:schedule-expression'><i >schedule-expression</i></span></a> obtains such a sender from a scheduler<a class='hidden_link' href='#10.sentence-3'>.</a></div> <div id='10.sentence-4' class='sentence'>A <a class='hidden_link' href='#def:schedule_sender' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:schedule_sender'><i >schedule sender</i></span></a> is the result of a schedule expression<a class='hidden_link' href='#10.sentence-4'>.</a></div> <div id='10.sentence-5' class='sentence'>On success, an asynchronous operation produced by a schedule sender executes
a value completion operation with an empty set of result datums<a class='hidden_link' href='#10.sentence-5'>.</a></div> <div id='10.sentence-6' class='sentence'>Multiple schedulers can refer to the same execution resource<a class='hidden_link' href='#10.sentence-6'>.</a></div> <div id='10.sentence-7' class='sentence'>A scheduler can be valid or invalid<a class='hidden_link' href='#10.sentence-7'>.</a></div> <div id='10.sentence-8' class='sentence'>A scheduler becomes invalid when the execution resource to which it refers
becomes invalid,
as do any schedule senders obtained from the scheduler, and
any operation states obtained from those senders<a class='hidden_link' href='#10.sentence-8'>.</a></div></div></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/exec.tex#L320'>#</a></div><div class='texpara'><div id='11.sentence-1' class='sentence'>An asynchronous operation has one or more associated completion schedulers
for each of its possible dispositions<a class='hidden_link' href='#11.sentence-1'>.</a></div> <div id='11.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:completion_scheduler' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:completion_scheduler'><i >completion scheduler</i></span></a> is a scheduler
whose associated execution resource is used to execute
a completion operation for an asynchronous operation<a class='hidden_link' href='#11.sentence-2'>.</a></div> <div id='11.sentence-3' class='sentence'>A value completion scheduler is a scheduler
on which an asynchronous operation's value completion operation can execute<a class='hidden_link' href='#11.sentence-3'>.</a></div> <div id='11.sentence-4' class='sentence'>Likewise for error completion schedulers and stopped completion schedulers<a class='hidden_link' href='#11.sentence-4'>.</a></div></div></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/exec.tex#L330'>#</a></div><div class='texpara'><div id='12.sentence-1' class='sentence'>A sender has an associated queryable object (<a href='exec.queryable' title='33.2&emsp;Queries and queryables'>[exec.<span class='shy'></span>queryable]</a>)
known as its <a class='hidden_link' href='#def:attribute' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:attribute'><i >attributes</i></span></a>
that describes various characteristics of the sender and
of the asynchronous operation(s) it produces<a class='hidden_link' href='#12.sentence-1'>.</a></div> <div id='12.sentence-2' class='sentence'>For each disposition,
there is a query object for reading the associated completion scheduler
from a sender's attributes;
i.e., a value completion scheduler query object
for reading a sender's value completion scheduler, etc<a class='hidden_link' href='#12.sentence-2'>.</a></div> <div id='12.sentence-3' class='sentence'>If a completion scheduler query is well-formed,
the returned completion scheduler is unique
for that disposition for any asynchronous operation the sender creates<a class='hidden_link' href='#12.sentence-3'>.</a></div> <div id='12.sentence-4' class='sentence'>A schedule sender is required to have a value completion scheduler attribute
whose value is equal to the scheduler that produced the schedule sender<a class='hidden_link' href='#12.sentence-4'>.</a></div></div></div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/exec.tex#L346'>#</a></div><div class='texpara'><div id='13.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:completion_signature' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:completion_signature'><i >completion signature</i></span></a> is a function type
that describes a completion operation<a class='hidden_link' href='#13.sentence-1'>.</a></div> <div id='13.sentence-2' class='sentence'>An asynchronous operation has a finite set of possible completion signatures
corresponding to the completion operations
that the asynchronous operation potentially evaluates (<a href='basic.def.odr' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>)<a class='hidden_link' href='#13.sentence-2'>.</a></div> <div id='13.sentence-3' class='sentence'>For a completion function <span class='texttt'>set</span>,
receiver <span class='texttt'>rcvr</span>, and
pack of arguments <span class='texttt'>args</span>,
let <span class='texttt'>c</span> be the completion operation <span class='texttt'>set<span class='parenthesis'>(</span>rcvr, args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span>, and
let <span class='texttt'>F</span> be
the function type <span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='keyword'>auto</span><span class='parenthesis'>(</span>set<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#13.sentence-3'>.</a></div> <div id='13.sentence-4' class='sentence'>A completion signature <span class='texttt'>Sig</span> is associated with <span class='texttt'>c</span>
if and only if
<span class='texttt'><span class='texttt'><i >MATCHING-SIG</i></span><span class='parenthesis'>(</span>Sig, F<span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span> (<a href='exec.general' title='33.1&emsp;General'>[exec.<span class='shy'></span>general]</a>))<a class='hidden_link' href='#13.sentence-4'>.</a></div> <div id='13.sentence-5' class='sentence'>Together, a sender type and an environment type <span class='texttt'>Env</span> determine
the set of completion signatures of an asynchronous operation
that results from connecting the sender with a receiver
that has an environment of type <span class='texttt'>Env</span><a class='hidden_link' href='#13.sentence-5'>.</a></div> <div id='13.sentence-6' class='sentence'>The type of the receiver does not affect
an asynchronous operation's completion signatures,
only the type of the receiver's environment<a class='hidden_link' href='#13.sentence-6'>.</a></div></div></div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/exec.tex#L369'>#</a></div><div class='texpara'><div id='14.sentence-1' class='sentence'>A sender algorithm is a function that takes and/or returns a sender<a class='hidden_link' href='#14.sentence-1'>.</a></div> <div id='14.sentence-2' class='sentence'>There are three categories of sender algorithms:
<ul class='itemize'><li id='14.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#14.1'>(14.1)</a></div><div class='texpara'><div id='14.1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:sender_factory' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:sender_factory'><i >sender factory</i></span></a> is a function
that takes non-senders as arguments and that returns a sender<a class='hidden_link' href='#14.1.sentence-1'>.</a></div></div></li><li id='14.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#14.2'>(14.2)</a></div><div class='texpara'><div id='14.2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:sender_adaptor' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:sender_adaptor'><i >sender adaptor</i></span></a> is a function
that constructs and returns a parent sender
from a set of one or more child senders and
a (possibly empty) set of additional arguments<a class='hidden_link' href='#14.2.sentence-1'>.</a></div> <div id='14.2.sentence-2' class='sentence'>An asynchronous operation created by a parent sender is
a parent operation to the child operations created by the child senders<a class='hidden_link' href='#14.2.sentence-2'>.</a></div></div></li><li id='14.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#14.3'>(14.3)</a></div><div class='texpara'><div id='14.3.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:sender_consumer' title='33.3&emsp;Asynchronous operations&emsp;[exec.async.ops]'><span id='def:sender_consumer'><i >sender consumer</i></span></a> is a function
that takes one or more senders and
a (possibly empty) set of additional arguments, and
whose return type is not the type of a sender<a class='hidden_link' href='#14.3.sentence-1'>.</a></div></div></li></ul></div></div></div></div></body></html>