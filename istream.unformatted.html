<!DOCTYPE html><html lang='en'><head><title>[istream.unformatted]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>31</a> Input/output library <a class='abbr_ref' href='./#input.output'>[input.output]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>31.7</a> Formatting and manipulators <a class='abbr_ref' href='iostream.format#istream.unformatted'>[iostream.format]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>31.7.5</a> Input streams <a class='abbr_ref' href='input.streams#istream.unformatted'>[input.streams]</a></h3><h4 ><a class='secnum' style='min-width:95pt'>31.7.5.4</a> Unformatted input functions <a class='abbr_ref'>[istream.unformatted]</a></h4><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5016'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>Each unformatted input function begins execution by constructing
an object of type <span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>iostate</span>, termed the local error state, and
initializing it to <span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>goodbit</span><a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>It then creates an object of class
<span class='texttt'>sentry</span>
with the default argument
<span class='texttt'>noskipws</span>
(second) argument
<span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>If the
<span class='texttt'>sentry</span>
object returns
<span class='texttt'><span class='literal'>true</span></span>,
when converted to a value of type
<span class='texttt'><span class='keyword'>bool</span></span>,
the function endeavors
to obtain the requested input<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>Otherwise, if the <span class='texttt'>sentry</span> constructor exits by throwing an exception or if
the <span class='texttt'>sentry</span> object produces <span class='texttt'><span class='literal'>false</span></span>, when converted to a value of type
<span class='texttt'><span class='keyword'>bool</span></span>,
the function returns without attempting to obtain any input<a class='hidden_link' href='#1.sentence-4'>.</a></div> <div id='1.sentence-5' class='sentence'>In either case the number of extracted characters is set to 0;
unformatted input functions taking a character array of nonzero size as
an argument shall also store a null character (using
<span class='texttt'>charT<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>)
in the first location of the array<a class='hidden_link' href='#1.sentence-5'>.</a></div> <div id='1.sentence-6' class='sentence'>If <span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>sbumpc<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> or <span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>sgetc<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
returns <span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, then
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>eofbit</span> is set in the local error state and
the input function stops trying to obtain the requested input<a class='hidden_link' href='#1.sentence-6'>.</a></div> <div id='1.sentence-7' class='sentence'>If an exception is thrown during input then
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>badbit</span> is set in the local error state,
<span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>'s error state is set to the local error state, and
the exception is rethrown if <span class='texttt'><span class='parenthesis'>(</span>exceptions<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span> badbit<span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>0</span></span><a class='hidden_link' href='#1.sentence-7'>.</a></div> <div id='1.sentence-8' class='sentence'>If no exception has been thrown it
stores the number of characters extracted
in a member object<a class='hidden_link' href='#1.sentence-8'>.</a></div> <div id='1.sentence-9' class='sentence'>After extraction is done, the input function calls <span class='texttt'>setstate</span>, which
sets <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>'s error state to the local error state, and
may throw an exception<a class='hidden_link' href='#1.sentence-9'>.</a></div> <div id='1.sentence-10' class='sentence'>In any event the
<span class='texttt'>sentry</span>
object
is destroyed before leaving the unformatted input function<a class='hidden_link' href='#1.sentence-10'>.</a></div></div></div><div class='texpara'><div id='lib:basic_istream,gcount'><div id='lib:gcount,basic_istream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:gcount,basic_istream'>🔗</a></div><code class='itemdeclcode'>streamsize gcount<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5068'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'><i >Effects</i>: None<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>This member function does not behave as an unformatted
input function (as described above)<a class='hidden_link' href='#2.sentence-2'>.</a></div></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5074'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'><i >Returns</i>: The number of characters
extracted by the last unformatted input member function called for the object<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>If the number cannot be represented,
returns <span class='texttt'>numeric_<span class='shy'></span>limits<span class='anglebracket'>&lt;</span>streamsize<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>max<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#3.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_istream,get'><div id='lib:get,basic_istream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:get,basic_istream'>🔗</a></div><code class='itemdeclcode'>int_type get<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5088'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'><i >Effects</i>: Behaves as an unformatted input function
(as described above)<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>After constructing a <span class='texttt'>sentry</span> object, extracts
a character <span class='texttt'>c</span>, if one is available<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.sentence-3' class='sentence'>Otherwise,
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failbit</span> is set in the input function's local error state
before <span class='texttt'>setstate</span> is called<a class='hidden_link' href='#4.sentence-3'>.</a></div></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5098'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>c</span> if available,
otherwise
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#5.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_istream,get_'><div id='lib:get,basic_istream_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:get,basic_istream_'>🔗</a></div><code class='itemdeclcode'>basic_istream<span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>char_type<span class='operator'>&amp;</span> c<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5111'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'><i >Effects</i>: Behaves as an unformatted input function
(as described above)<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>After constructing a <span class='texttt'>sentry</span> object, extracts
a character, if one is available, and assigns it to <span class='texttt'>c</span><a class='hidden_link' href='#6.sentence-2'>.</a><a class='footnoteref' href='#footnote-285' id='footnoteref-285' title='Note that this function is not overloaded on types signed char and unsigned char.'>285</a></div> <div id='6.sentence-3' class='sentence'>
Otherwise,
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failbit</span> is set in the input function's local error state
before <span class='texttt'>setstate</span> is called<a class='hidden_link' href='#6.sentence-3'>.</a></div></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5128'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#7.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_istream,get__'><div id='lib:get,basic_istream__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:get,basic_istream__'>🔗</a></div><code class='itemdeclcode'>basic_istream<span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>char_type<span class='operator'>*</span> s, streamsize n, char_type delim<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5139'>#</a></div><div class='texpara'><div id='8.sentence-1' class='sentence'><i >Effects</i>: Behaves as an unformatted input function
(as described above)<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>After constructing a <span class='texttt'>sentry</span> object, extracts
characters and stores them
into successive locations of an array whose first element is designated by
<span class='texttt'>s</span><a class='hidden_link' href='#8.sentence-2'>.</a><a class='footnoteref' href='#footnote-286' id='footnoteref-286' title='Note that this function is not overloaded on types signed char and unsigned char.'>286</a></div> <div id='8.sentence-3' class='sentence'>
Characters are extracted and stored until any of the following occurs:
<ul class='itemize'><li id='8.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#8.1'>(8.1)</a></div><span class='texttt'>n</span> is less than one or <span class='texttt'>n <span class='operator'>-</span> <span class='literal'>1</span></span>
characters are stored;</li><li id='8.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#8.2'>(8.2)</a></div>end-of-file occurs on the input sequence;</li><li id='8.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#8.3'>(8.3)</a></div><span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eq<span class='parenthesis'>(</span>c, delim<span class='parenthesis'>)</span></span>
for the next available input
character <span class='texttt'>c</span>
(in which case <span class='texttt'>c</span> is not extracted)<a class='hidden_link' href='#8.sentence-3'>.</a></li></ul></div></div></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5167'>#</a></div><div class='texpara'><div id='9.sentence-1' class='sentence'>If the function stores no characters,
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failbit</span> is set in the input function's local error state
before <span class='texttt'>setstate</span> is called<a class='hidden_link' href='#9.sentence-1'>.</a></div> <div id='9.sentence-2' class='sentence'>In any case, if <span class='texttt'>n</span> is greater than zero it then stores a null character
into the next successive location of the array<a class='hidden_link' href='#9.sentence-2'>.</a></div></div></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5174'>#</a></div><div class='texpara'><div id='10.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#10.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_istream,get___'><div id='lib:get,basic_istream___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:get,basic_istream___'>🔗</a></div><code class='itemdeclcode'>basic_istream<span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>char_type<span class='operator'>*</span> s, streamsize n<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5185'>#</a></div><div class='texpara'><div id='11.sentence-1' class='sentence'><i >Effects</i>: Calls
<span class='texttt'>get<span class='parenthesis'>(</span>s, n, widen<span class='parenthesis'>(</span><span class='literal'>'\n'</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#11.sentence-1'>.</a></div></div></div></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5190'>#</a></div><div class='texpara'><div id='12.sentence-1' class='sentence'><i >Returns</i>: Value returned by the call<a class='hidden_link' href='#12.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_istream,get____'><div id='lib:get,basic_istream____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:get,basic_istream____'>🔗</a></div><code class='itemdeclcode'>basic_istream<span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>basic_streambuf<span class='anglebracket'>&lt;</span>char_type, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> sb, char_type delim<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5201'>#</a></div><div class='texpara'><div id='13.sentence-1' class='sentence'><i >Effects</i>: Behaves as an unformatted input function
(as described above)<a class='hidden_link' href='#13.sentence-1'>.</a></div> <div id='13.sentence-2' class='sentence'>After constructing a <span class='texttt'>sentry</span> object, extracts
characters and inserts them
in the output sequence controlled by
<span class='texttt'>sb</span><a class='hidden_link' href='#13.sentence-2'>.</a></div> <div id='13.sentence-3' class='sentence'>Characters are extracted and inserted until any of the following occurs:
<ul class='itemize'><li id='13.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#13.1'>(13.1)</a></div>end-of-file occurs on the input sequence;</li><li id='13.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#13.2'>(13.2)</a></div>inserting in the output sequence fails
(in which case the character to be inserted is not extracted);</li><li id='13.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#13.3'>(13.3)</a></div><span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eq<span class='parenthesis'>(</span>c, delim<span class='parenthesis'>)</span></span> for the next available input
character <span class='texttt'>c</span>
(in which case <span class='texttt'>c</span> is not extracted);</li><li id='13.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#13.4'>(13.4)</a></div>an exception occurs
(in which case, the exception is caught but not rethrown)<a class='hidden_link' href='#13.sentence-3'>.</a></li></ul></div></div></div></div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5225'>#</a></div><div class='texpara'><div id='14.sentence-1' class='sentence'>If the function inserts no characters,
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failbit</span> is set in the input function's local error state
before <span class='texttt'>setstate</span> is called<a class='hidden_link' href='#14.sentence-1'>.</a></div></div></div></div><div class='para' id='15'><div class='marginalizedparent'><a class='marginalized' href='#15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5230'>#</a></div><div class='texpara'><div id='15.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#15.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_istream,get_____'><div id='lib:get,basic_istream_____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:get,basic_istream_____'>🔗</a></div><code class='itemdeclcode'>basic_istream<span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>basic_streambuf<span class='anglebracket'>&lt;</span>char_type, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> sb<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='16'><div class='marginalizedparent'><a class='marginalized' href='#16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5241'>#</a></div><div class='texpara'><div id='16.sentence-1' class='sentence'><i >Effects</i>: Calls
<span class='texttt'>get<span class='parenthesis'>(</span>sb, widen<span class='parenthesis'>(</span><span class='literal'>'\n'</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#16.sentence-1'>.</a></div></div></div></div><div class='para' id='17'><div class='marginalizedparent'><a class='marginalized' href='#17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5246'>#</a></div><div class='texpara'><div id='17.sentence-1' class='sentence'><i >Returns</i>: Value returned by the call<a class='hidden_link' href='#17.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_istream,getline'><div id='lib:getline,basic_istream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:getline,basic_istream'>🔗</a></div><code class='itemdeclcode'>basic_istream<span class='operator'>&amp;</span> getline<span class='parenthesis'>(</span>char_type<span class='operator'>*</span> s, streamsize n, char_type delim<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='18'><div class='marginalizedparent'><a class='marginalized' href='#18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5257'>#</a></div><div class='texpara'><div id='18.sentence-1' class='sentence'><i >Effects</i>: Behaves as an unformatted input function
(as described above)<a class='hidden_link' href='#18.sentence-1'>.</a></div> <div id='18.sentence-2' class='sentence'>After constructing a <span class='texttt'>sentry</span> object, extracts
characters and stores them
into successive locations of an array whose first element is designated by
<span class='texttt'>s</span><a class='hidden_link' href='#18.sentence-2'>.</a><a class='footnoteref' href='#footnote-287' id='footnoteref-287' title='Note that this function is not overloaded on types signed char and unsigned char.'>287</a></div> <div id='18.sentence-3' class='sentence'>
Characters are extracted and stored until one of the following occurs:
<table class='enumerate'><tr id='18.1'><td ><a class='enumerated_item_num' href='#18.1'>1.</a></td><td >end-of-file occurs on the input sequence;</td></tr><tr id='18.2'><td ><a class='enumerated_item_num' href='#18.2'>2.</a></td><td ><span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eq<span class='parenthesis'>(</span>c, delim<span class='parenthesis'>)</span></span>
for the next available input
character <span class='texttt'>c</span>
(in which case the input character is extracted but not stored);<a class='footnoteref' href='#footnote-288' id='footnoteref-288' title='Since the final input character is “extracted”, it is counted in the gcount(), even though it is not stored.'>288</a></td></tr><tr id='18.3'><td ><a class='enumerated_item_num' href='#18.3'>3.</a></td><td ><span class='texttt'>n</span> is less than one or <span class='texttt'>n <span class='operator'>-</span> <span class='literal'>1</span></span>
characters are stored
(in which case the function calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>&#x200b;failbit<span class='parenthesis'>)</span></span>)<a class='hidden_link' href='#18.sentence-3'>.</a></td></tr></table></div></div></div></div><div class='para' id='19'><div class='marginalizedparent'><a class='marginalized' href='#19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5294'>#</a></div><div class='texpara'><div id='19.sentence-1' class='sentence'>These conditions are tested in the order shown<a class='hidden_link' href='#19.sentence-1'>.</a><a class='footnoteref' href='#footnote-289' id='footnoteref-289' title='This allows an input line which exactly fills the buffer, without setting failbit. This is different behavior than the historical AT&amp;T implementation.'>289</a></div></div></div></div><div class='para' id='20'><div class='marginalizedparent'><a class='marginalized' href='#20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5303'>#</a></div><div class='texpara'><div id='20.sentence-1' class='sentence'>If the function extracts no characters,
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failbit</span> is set in the input function's local error state
before <span class='texttt'>setstate</span> is called<a class='hidden_link' href='#20.sentence-1'>.</a><a class='footnoteref' href='#footnote-290' id='footnoteref-290' title='This implies an empty input line will not cause failbit to be set.'>290</a></div></div></div></div><div class='para' id='21'><div class='marginalizedparent'><a class='marginalized' href='#21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5314'>#</a></div><div class='texpara'><div id='21.sentence-1' class='sentence'>In any case, if <span class='texttt'>n</span> is greater than zero, it then stores a null character
(using
<span class='texttt'>charT<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>)
into the next successive location of the array<a class='hidden_link' href='#21.sentence-1'>.</a></div></div></div></div><div class='para' id='22'><div class='marginalizedparent'><a class='marginalized' href='#22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5320'>#</a></div><div class='texpara'><div id='22.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#22.sentence-1'>.</a></div></div></div></div><div class='para nonNormativeOnly' id='23'><div class='marginalizedparent'><a class='marginalized' href='#23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5324'>#</a></div><div class='texpara'><div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='preprocessordirective'>#include</span> <span class='anglebracket'>&lt;</span>iostream<span class='anglebracket'>&gt;</span>

<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> <span class='keyword'>namespace</span> std;
  <span class='keyword'>const</span> <span class='keyword'>int</span> line_buffer_size <span class='operator'>=</span> <span class='literal'>100</span>;

  <span class='keyword'>char</span> buffer<span class='squarebracket'>[</span>line_buffer_size<span class='squarebracket'>]</span>;
  <span class='keyword'>int</span> line_number <span class='operator'>=</span> <span class='literal'>0</span>;
  <span class='keyword'>while</span> <span class='parenthesis'>(</span>cin<span class='operator'>.</span>getline<span class='parenthesis'>(</span>buffer, line_buffer_size, <span class='literal'>'\n'</span><span class='parenthesis'>)</span> <span class='operator'>|</span><span class='operator'>|</span> cin<span class='operator'>.</span>gcount<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>int</span> count <span class='operator'>=</span> cin<span class='operator'>.</span>gcount<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>if</span> <span class='parenthesis'>(</span>cin<span class='operator'>.</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
      cout <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> <span class='literal'>"Partial final line"</span>;     <span class='comment'>// <span class='tcode_in_codeblock'>cin.fail()</span> is <span class='tcode_in_codeblock'>false</span></span>
    <span class='keyword'>else</span> <span class='keyword'>if</span> <span class='parenthesis'>(</span>cin<span class='operator'>.</span>fail<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      cout <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> <span class='literal'>"Partial long line"</span>;
      cin<span class='operator'>.</span>clear<span class='parenthesis'>(</span>cin<span class='operator'>.</span>rdstate<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span> <span class='operator'>~</span>ios_base<span class='operator'>::</span>failbit<span class='parenthesis'>)</span>;
    <span class='curlybracket'>}</span> <span class='keyword'>else</span> <span class='curlybracket'>{</span>
      count<span class='operator'>-</span><span class='operator'>-</span>;                          <span class='comment'>// Don't include newline in <span class='tcode_in_codeblock'>count</span></span>
      cout <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> <span class='literal'>"Line "</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> <span class='operator'>+</span><span class='operator'>+</span>line_number;
    <span class='curlybracket'>}</span>
    cout <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> <span class='literal'>" ("</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> count <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> <span class='literal'>" chars): "</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> buffer <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> endl;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div class='texpara'><div id='lib:basic_istream,getline_'><div id='lib:getline,basic_istream_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:getline,basic_istream_'>🔗</a></div><code class='itemdeclcode'>basic_istream<span class='operator'>&amp;</span> getline<span class='parenthesis'>(</span>char_type<span class='operator'>*</span> s, streamsize n<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='24'><div class='marginalizedparent'><a class='marginalized' href='#24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5359'>#</a></div><div class='texpara'><div id='24.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>getline<span class='parenthesis'>(</span>s, n, widen<span class='parenthesis'>(</span><span class='literal'>'\n'</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span></div></div></div></div><div class='texpara'><div id='lib:basic_istream,ignore'><div id='lib:ignore,basic_istream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:ignore,basic_istream'>🔗</a></div><code class='itemdeclcode'>basic_istream<span class='operator'>&amp;</span> ignore<span class='parenthesis'>(</span>streamsize n <span class='operator'>=</span> <span class='literal'>1</span>, int_type delim <span class='operator'>=</span> traits<span class='operator'>::</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='25'><div class='marginalizedparent'><a class='marginalized' href='#25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5370'>#</a></div><div class='texpara'><div id='25.sentence-1' class='sentence'><i >Effects</i>: Behaves as an unformatted input function
(as described above)<a class='hidden_link' href='#25.sentence-1'>.</a></div> <div id='25.sentence-2' class='sentence'>After constructing a <span class='texttt'>sentry</span> object, extracts
characters and discards them<a class='hidden_link' href='#25.sentence-2'>.</a></div> <div id='25.sentence-3' class='sentence'>Characters are extracted until any of the following occurs:
<ul class='itemize'><li id='25.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#25.1'>(25.1)</a></div><span class='texttt'>n <span class='operator'>!</span><span class='operator'>=</span> <a href='numeric.limits.members#lib:numeric_limits,max' title='17.3.5.2&emsp;numeric_&shy;limits members&emsp;[numeric.limits.members]'><span class='texttt'>numeric_<span class='shy'></span>limits&lt;streamsize&gt;&#x200b;::&#x200b;max()</span></a>numeric<span class='operator'>.</span>limits</span>
and
<span class='texttt'>n</span> characters have been extracted so far</li><li id='25.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#25.2'>(25.2)</a></div>end-of-file occurs on the input sequence
(in which case the function calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>eofbit<span class='parenthesis'>)</span></span>,
which may throw
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failure</span> (<a href='iostate.flags' title='31.5.4.4&emsp;Flags functions'>[iostate.<span class='shy'></span>flags]</a>));</li><li id='25.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#25.3'>(25.3)</a></div><span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eq_<span class='shy'></span>int_<span class='shy'></span>type<span class='parenthesis'>(</span>traits<span class='operator'>&#x200b;::&#x200b;</span>to_<span class='shy'></span>int_<span class='shy'></span>type<span class='parenthesis'>(</span>c<span class='parenthesis'>)</span>, delim<span class='parenthesis'>)</span></span>
for the next available input character <span class='texttt'>c</span>
(in which case <span class='texttt'>c</span> is extracted)<a class='hidden_link' href='#25.sentence-3'>.</a></li></ul></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='25.sentence-4' class='sentence'>The last condition will never occur if
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eq_<span class='shy'></span>int_<span class='shy'></span>type<span class='parenthesis'>(</span>delim, traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#25.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div class='para' id='26'><div class='marginalizedparent'><a class='marginalized' href='#26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5398'>#</a></div><div class='texpara'><div id='26.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#26.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_istream,peek'><div id='lib:peek,basic_istream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:peek,basic_istream'>🔗</a></div><code class='itemdeclcode'>int_type peek<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='27'><div class='marginalizedparent'><a class='marginalized' href='#27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5409'>#</a></div><div class='texpara'><div id='27.sentence-1' class='sentence'><i >Effects</i>: Behaves as an unformatted input function
(as described above)<a class='hidden_link' href='#27.sentence-1'>.</a></div> <div id='27.sentence-2' class='sentence'>After constructing a <span class='texttt'>sentry</span> object, reads but does not extract
the current input character<a class='hidden_link' href='#27.sentence-2'>.</a></div></div></div></div><div class='para' id='28'><div class='marginalizedparent'><a class='marginalized' href='#28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5416'>#</a></div><div class='texpara'><div id='28.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
if
<span class='texttt'>good<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is
<span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#28.sentence-1'>.</a></div> <div id='28.sentence-2' class='sentence'>Otherwise, returns
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>sgetc<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#28.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_istream,read'><div id='lib:read,basic_istream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:read,basic_istream'>🔗</a></div><code class='itemdeclcode'>basic_istream<span class='operator'>&amp;</span> read<span class='parenthesis'>(</span>char_type<span class='operator'>*</span> s, streamsize n<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='29'><div class='marginalizedparent'><a class='marginalized' href='#29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5433'>#</a></div><div class='texpara'><div id='29.sentence-1' class='sentence'><i >Effects</i>: Behaves as an unformatted input function (as described above)<a class='hidden_link' href='#29.sentence-1'>.</a></div> <div id='29.sentence-2' class='sentence'>After constructing
a <span class='texttt'>sentry</span> object, if
<span class='texttt'><span class='operator'>!</span>good<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>failbit<span class='parenthesis'>)</span></span>
which may throw an exception,
and return<a class='hidden_link' href='#29.sentence-2'>.</a></div> <div id='29.sentence-3' class='sentence'>Otherwise extracts characters and stores them
into successive locations of an array whose first element is designated by
<span class='texttt'>s</span><a class='hidden_link' href='#29.sentence-3'>.</a><a class='footnoteref' href='#footnote-291' id='footnoteref-291' title='Note that this function is not overloaded on types signed char and unsigned char.'>291</a></div> <div id='29.sentence-4' class='sentence'>
Characters are extracted and stored until either of the following occurs:
<ul class='itemize'><li id='29.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#29.1'>(29.1)</a></div><span class='texttt'>n</span> characters are stored;</li><li id='29.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#29.2'>(29.2)</a></div>end-of-file occurs on the input sequence
(in which case the function calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>failbit <span class='operator'>|</span> eofbit<span class='parenthesis'>)</span></span>,
which may throw
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failure</span> (<a href='iostate.flags' title='31.5.4.4&emsp;Flags functions'>[iostate.<span class='shy'></span>flags]</a>))<a class='hidden_link' href='#29.sentence-4'>.</a></li></ul></div></div></div></div><div class='para' id='30'><div class='marginalizedparent'><a class='marginalized' href='#30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5464'>#</a></div><div class='texpara'><div id='30.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#30.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_istream,readsome'><div id='lib:readsome,basic_istream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:readsome,basic_istream'>🔗</a></div><code class='itemdeclcode'>streamsize readsome<span class='parenthesis'>(</span>char_type<span class='operator'>*</span> s, streamsize n<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='31'><div class='marginalizedparent'><a class='marginalized' href='#31'>31</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5475'>#</a></div><div class='texpara'><div id='31.sentence-1' class='sentence'><i >Effects</i>: Behaves as an unformatted input function (as described above)<a class='hidden_link' href='#31.sentence-1'>.</a></div> <div id='31.sentence-2' class='sentence'>After constructing
a <span class='texttt'>sentry</span> object, if
<span class='texttt'><span class='operator'>!</span>good<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>failbit<span class='parenthesis'>)</span></span>
which may throw an exception,
and return<a class='hidden_link' href='#31.sentence-2'>.</a></div> <div id='31.sentence-3' class='sentence'>Otherwise extracts characters and stores them
into successive locations of an array whose first element is designated by
<span class='texttt'>s</span><a class='hidden_link' href='#31.sentence-3'>.</a></div> <div id='31.sentence-4' class='sentence'>If
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>in_<span class='shy'></span>avail<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='operator'>-</span><span class='literal'>1</span></span>,
calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>eofbit<span class='parenthesis'>)</span></span>
(which may throw
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failure</span> (<a href='iostate.flags' title='31.5.4.4&emsp;Flags functions'>[iostate.<span class='shy'></span>flags]</a>)),
and extracts no characters;
<ul class='itemize'><li id='31.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#31.1'>(31.1)</a></div>If
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>in_<span class='shy'></span>avail<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>0</span></span>,
extracts no characters</li><li id='31.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#31.2'>(31.2)</a></div>If
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>in_<span class='shy'></span>avail<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span> <span class='literal'>0</span></span>,
extracts
<span class='texttt'>min<span class='parenthesis'>(</span>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>in_<span class='shy'></span>avail<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, n<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#31.sentence-4'>.</a></li></ul></div></div></div></div><div class='para' id='32'><div class='marginalizedparent'><a class='marginalized' href='#32'>32</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5507'>#</a></div><div class='texpara'><div id='32.sentence-1' class='sentence'><i >Returns</i>: The number of characters extracted<a class='hidden_link' href='#32.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_istream,putback'><div id='lib:putback,basic_istream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:putback,basic_istream'>🔗</a></div><code class='itemdeclcode'>basic_istream<span class='operator'>&amp;</span> putback<span class='parenthesis'>(</span>char_type c<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='33'><div class='marginalizedparent'><a class='marginalized' href='#33'>33</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5518'>#</a></div><div class='texpara'><div id='33.sentence-1' class='sentence'><i >Effects</i>: Behaves as an unformatted input function (as described above), except that the function first clears <span class='texttt'>eofbit</span><a class='hidden_link' href='#33.sentence-1'>.</a></div> <div id='33.sentence-2' class='sentence'>After constructing
a <span class='texttt'>sentry</span> object, if
<span class='texttt'><span class='operator'>!</span>good<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>failbit<span class='parenthesis'>)</span></span>
which may throw an exception,
and return<a class='hidden_link' href='#33.sentence-2'>.</a></div> <div id='33.sentence-3' class='sentence'>If
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is not null, calls
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>sputbackc<span class='parenthesis'>(</span>c<span class='parenthesis'>)</span></span><a class='hidden_link' href='#33.sentence-3'>.</a></div> <div id='33.sentence-4' class='sentence'>If
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is null, or if
<span class='texttt'>sputbackc</span>
returns
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>badbit<span class='parenthesis'>)</span></span>
(which may throw
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failure</span> (<a href='iostate.flags' title='31.5.4.4&emsp;Flags functions'>[iostate.<span class='shy'></span>flags]</a>))<a class='hidden_link' href='#33.sentence-4'>.</a></div> <div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>:&ensp;<div id='33.sentence-5' class='sentence'>This
function extracts no characters, so the value returned by the next call to
<span class='texttt'>gcount<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is 0<a class='hidden_link' href='#33.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div class='para' id='34'><div class='marginalizedparent'><a class='marginalized' href='#34'>34</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5549'>#</a></div><div class='texpara'><div id='34.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#34.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_istream,unget'><div id='lib:unget,basic_istream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:unget,basic_istream'>🔗</a></div><code class='itemdeclcode'>basic_istream<span class='operator'>&amp;</span> unget<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='35'><div class='marginalizedparent'><a class='marginalized' href='#35'>35</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5560'>#</a></div><div class='texpara'><div id='35.sentence-1' class='sentence'><i >Effects</i>: Behaves as an unformatted input function (as described above), except that the function first clears <span class='texttt'>eofbit</span><a class='hidden_link' href='#35.sentence-1'>.</a></div> <div id='35.sentence-2' class='sentence'>After constructing
a <span class='texttt'>sentry</span> object, if
<span class='texttt'><span class='operator'>!</span>good<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>failbit<span class='parenthesis'>)</span></span>
which may throw an exception,
and return<a class='hidden_link' href='#35.sentence-2'>.</a></div> <div id='35.sentence-3' class='sentence'>If
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is not null, calls
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>sungetc<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#35.sentence-3'>.</a></div> <div id='35.sentence-4' class='sentence'>If
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is null, or if
<span class='texttt'>sungetc</span>
returns
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>badbit<span class='parenthesis'>)</span></span>
(which may throw
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failure</span> (<a href='iostate.flags' title='31.5.4.4&emsp;Flags functions'>[iostate.<span class='shy'></span>flags]</a>))<a class='hidden_link' href='#35.sentence-4'>.</a></div> <div id='note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-3'>3</a></i>:&ensp;<div id='35.sentence-5' class='sentence'>This
function extracts no characters, so the value returned by the next call to
<span class='texttt'>gcount<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is 0<a class='hidden_link' href='#35.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div class='para' id='36'><div class='marginalizedparent'><a class='marginalized' href='#36'>36</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5591'>#</a></div><div class='texpara'><div id='36.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#36.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_istream,sync'><div id='lib:sync,basic_istream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:sync,basic_istream'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>int</span> sync<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='37'><div class='marginalizedparent'><a class='marginalized' href='#37'>37</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5602'>#</a></div><div class='texpara'><div id='37.sentence-1' class='sentence'><i >Effects</i>: Behaves as an unformatted input function (as described above), except that it does not
count the number of characters extracted and does not affect the
value returned by subsequent calls to
<span class='texttt'>gcount<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#37.sentence-1'>.</a></div> <div id='37.sentence-2' class='sentence'>After constructing
a <span class='texttt'>sentry</span> object, if
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is a null pointer, returns <span class='texttt'><span class='operator'>-</span><span class='literal'>1</span></span><a class='hidden_link' href='#37.sentence-2'>.</a></div> <div id='37.sentence-3' class='sentence'>Otherwise, calls
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>pubsync<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
and, if that function returns <span class='texttt'><span class='operator'>-</span><span class='literal'>1</span></span>
calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>badbit<span class='parenthesis'>)</span></span>
(which may throw
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failure</span> (<a href='iostate.flags' title='31.5.4.4&emsp;Flags functions'>[iostate.<span class='shy'></span>flags]</a>),
and returns
<span class='texttt'><span class='operator'>-</span><span class='literal'>1</span></span><a class='hidden_link' href='#37.sentence-3'>.</a></div> <div id='37.sentence-4' class='sentence'>Otherwise, returns zero<a class='hidden_link' href='#37.sentence-4'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_istream,tellg'><div id='lib:tellg,basic_istream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:tellg,basic_istream'>🔗</a></div><code class='itemdeclcode'>pos_type tellg<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='38'><div class='marginalizedparent'><a class='marginalized' href='#38'>38</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5630'>#</a></div><div class='texpara'><div id='38.sentence-1' class='sentence'><i >Effects</i>: Behaves as an unformatted input function (as described above), except that it does not count
the number of characters extracted and does not affect the value
returned by subsequent calls to
<span class='texttt'>gcount<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#38.sentence-1'>.</a></div></div></div></div><div class='para' id='39'><div class='marginalizedparent'><a class='marginalized' href='#39'>39</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5637'>#</a></div><div class='texpara'><div id='39.sentence-1' class='sentence'><i >Returns</i>: After constructing a <span class='texttt'>sentry</span> object, if
<span class='texttt'>fail<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>false</span></span>,
returns
<span class='texttt'>pos_<span class='shy'></span>type<span class='parenthesis'>(</span><span class='operator'>-</span><span class='literal'>1</span><span class='parenthesis'>)</span></span>
to indicate failure<a class='hidden_link' href='#39.sentence-1'>.</a></div> <div id='39.sentence-2' class='sentence'>Otherwise, returns
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>pubseekoff<span class='parenthesis'>(</span><span class='literal'>0</span>, cur, in<span class='parenthesis'>)</span></span><a class='hidden_link' href='#39.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_istream,seekg'><div id='lib:seekg,basic_istream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:seekg,basic_istream'>🔗</a></div><code class='itemdeclcode'>basic_istream<span class='operator'>&amp;</span> seekg<span class='parenthesis'>(</span>pos_type pos<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='40'><div class='marginalizedparent'><a class='marginalized' href='#40'>40</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5654'>#</a></div><div class='texpara'><div id='40.sentence-1' class='sentence'><i >Effects</i>: Behaves as an unformatted input function (as described above), except that
the function first clears <span class='texttt'>eofbit</span>,
it does not count
the number of characters extracted, and it does not affect the value
returned by subsequent calls to
<span class='texttt'>gcount<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#40.sentence-1'>.</a></div> <div id='40.sentence-2' class='sentence'>After constructing a <span class='texttt'>sentry</span> object, if
<span class='texttt'>fail<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>true</span></span>,
executes
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>pubseekpos<span class='parenthesis'>(</span>pos, ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>in<span class='parenthesis'>)</span></span><a class='hidden_link' href='#40.sentence-2'>.</a></div> <div id='40.sentence-3' class='sentence'>In case of failure, the function calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>failbit<span class='parenthesis'>)</span></span>
(which may throw
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failure</span>)<a class='hidden_link' href='#40.sentence-3'>.</a></div></div></div></div><div class='para' id='41'><div class='marginalizedparent'><a class='marginalized' href='#41'>41</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5671'>#</a></div><div class='texpara'><div id='41.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#41.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_istream,seekg_'><div id='lib:seekg,basic_istream_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:seekg,basic_istream_'>🔗</a></div><code class='itemdeclcode'>basic_istream<span class='operator'>&amp;</span> seekg<span class='parenthesis'>(</span>off_type off, ios_base<span class='operator'>::</span>seekdir dir<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='42'><div class='marginalizedparent'><a class='marginalized' href='#42'>42</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5682'>#</a></div><div class='texpara'><div id='42.sentence-1' class='sentence'><i >Effects</i>: Behaves as an unformatted input function (as described above), except that the function first clears <span class='texttt'>eofbit</span>,
does not count the number of characters extracted, and
does not affect the value returned by subsequent calls to <span class='texttt'>gcount<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#42.sentence-1'>.</a></div> <div id='42.sentence-2' class='sentence'>After constructing a <span class='texttt'>sentry</span> object, if
<span class='texttt'>fail<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>true</span></span>,
executes
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>pubseekoff<span class='parenthesis'>(</span>off, dir, ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>in<span class='parenthesis'>)</span></span><a class='hidden_link' href='#42.sentence-2'>.</a></div> <div id='42.sentence-3' class='sentence'>In case of failure, the function calls <span class='texttt'>setstate<span class='parenthesis'>(</span>&#x200b;failbit<span class='parenthesis'>)</span></span> (which may throw
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failure</span>)<a class='hidden_link' href='#42.sentence-3'>.</a></div></div></div></div><div class='para' id='43'><div class='marginalizedparent'><a class='marginalized' href='#43'>43</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8410aac1b84ec161b6990441acde53185f958135/source/iostreams.tex#L5694'>#</a></div><div class='texpara'><div id='43.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#43.sentence-1'>.</a></div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-285'><div class='texpara'><a class='footnotenum' href='#footnote-285'>285)</a><a class='footnoteBacklink' href='#footnoteref-285'>285)</a> <div id='footnote-285.sentence-1' class='sentence'>Note
that this function is not overloaded on types
<span class='texttt'><span class='keyword'>signed</span> <span class='keyword'>char</span></span>
and
<span class='texttt'><span class='keyword'>unsigned</span> <span class='keyword'>char</span></span><a class='hidden_link' href='#footnote-285.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-286'><div class='texpara'><a class='footnotenum' href='#footnote-286'>286)</a><a class='footnoteBacklink' href='#footnoteref-286'>286)</a> <div id='footnote-286.sentence-1' class='sentence'>Note that this function is not overloaded on types
<span class='texttt'><span class='keyword'>signed</span> <span class='keyword'>char</span></span>
and
<span class='texttt'><span class='keyword'>unsigned</span> <span class='keyword'>char</span></span><a class='hidden_link' href='#footnote-286.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-287'><div class='texpara'><a class='footnotenum' href='#footnote-287'>287)</a><a class='footnoteBacklink' href='#footnoteref-287'>287)</a> <div id='footnote-287.sentence-1' class='sentence'>Note that this function is not overloaded on types
<span class='texttt'><span class='keyword'>signed</span> <span class='keyword'>char</span></span>
and
<span class='texttt'><span class='keyword'>unsigned</span> <span class='keyword'>char</span></span><a class='hidden_link' href='#footnote-287.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-288'><div class='texpara'><a class='footnotenum' href='#footnote-288'>288)</a><a class='footnoteBacklink' href='#footnoteref-288'>288)</a> <div id='footnote-288.sentence-1' class='sentence'>Since
the final input character is “extracted”,
it is counted in the
<span class='texttt'>gcount<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
even though it is not stored<a class='hidden_link' href='#footnote-288.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-289'><div class='texpara'><a class='footnotenum' href='#footnote-289'>289)</a><a class='footnoteBacklink' href='#footnoteref-289'>289)</a> <div id='footnote-289.sentence-1' class='sentence'>This allows an input
line which exactly fills the buffer, without setting
<span class='texttt'>failbit</span><a class='hidden_link' href='#footnote-289.sentence-1'>.</a></div> <div id='footnote-289.sentence-2' class='sentence'>This is different behavior than the historical AT&amp;T implementation<a class='hidden_link' href='#footnote-289.sentence-2'>.</a></div></div></div><div class='footnote' id='footnote-290'><div class='texpara'><a class='footnotenum' href='#footnote-290'>290)</a><a class='footnoteBacklink' href='#footnoteref-290'>290)</a> <div id='footnote-290.sentence-1' class='sentence'>This implies an
empty input line will not cause
<span class='texttt'>failbit</span>
to be set<a class='hidden_link' href='#footnote-290.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-291'><div class='texpara'><a class='footnotenum' href='#footnote-291'>291)</a><a class='footnoteBacklink' href='#footnoteref-291'>291)</a> <div id='footnote-291.sentence-1' class='sentence'>Note that this function is not overloaded on types
<span class='texttt'><span class='keyword'>signed</span> <span class='keyword'>char</span></span>
and
<span class='texttt'><span class='keyword'>unsigned</span> <span class='keyword'>char</span></span><a class='hidden_link' href='#footnote-291.sentence-1'>.</a></div></div></div></div></body></html>