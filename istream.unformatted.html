<!DOCTYPE html><html lang='en'><head><title>[istream.unformatted]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>27</a> Input/output library <a class='abbr_ref' href='./#input.output'>[input.output]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>27.7</a> Formatting and manipulators <a class='abbr_ref' href='iostream.format#istream.unformatted'>[iostream.format]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>27.7.2</a> Input streams <a class='abbr_ref' href='input.streams#istream.unformatted'>[input.streams]</a></h3><div id='istream.unformatted'><h4 ><a class='secnum' style='min-width:118pt'>27.7.2.3</a> Unformatted input functions <a class='abbr_ref'>[istream.unformatted]</a></h4><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><p >Each unformatted input function begins execution by constructing an object of class
<span class='texttt'>sentry</span>
with the default argument
<span class='texttt'>noskipws</span>
(second) argument
<span class='texttt'>true</span>.
If the
<span class='texttt'>sentry</span>
object returns
<span class='texttt'>true</span>,
when converted to a value of type
<span class='texttt'>bool</span>,
the function endeavors
to obtain the requested input.
Otherwise, if the sentry constructor exits by throwing an exception or if
the sentry object returns <span class='texttt'>false</span>, when converted to a value of type
<span class='texttt'>bool</span>,
the function returns without attempting to obtain any input.
In either case the number of extracted characters is set to 0;
unformatted input functions taking a character array of nonzero size as
an argument shall also store a null character (using
<span class='texttt'>charT()</span>)
in the first location of the array.
If an exception is thrown during input then
<span class='texttt'>ios::badbit</span>
is turned on<a class='footnotenum' href='#footnote-314'>314</a>
in
<span class='texttt'>*this</span>'s
error state.
(Exceptions thrown from
<span class='texttt'>basic_ios&lt;&gt;::clear()</span>
are not caught or rethrown.)
If
<span class='texttt'>(exceptions()&amp;badbit) != 0</span>
then the exception is rethrown.
It also counts the number of characters extracted.
If no exception has been thrown it ends
by storing the count in a member object
and returning the value specified.
In any event the
<span class='texttt'>sentry</span>
object
is destroyed before leaving the unformatted input function.</p><p ><span class='indexparent'><a class='index' id='gcount,basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_istream,gcount'></a></span><code class='itemdecl'>
streamsize gcount() const;
</code></p></div><div class='itemdescr'></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='itemdescr'><p ><i>Effects:</i>
None.
This member function does not behave as an unformatted
input function (as described above).</p></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='itemdescr'><p ><i>Returns:</i>
The number of characters
extracted by the last unformatted input member function called for the object.
</p></div></div><p ><span class='indexparent'><a class='index' id='get,basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_istream,get'></a></span><code class='itemdecl'>
int_type get();
</code></p><div class='itemdescr'></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='itemdescr'><p ><i>Effects:</i>
Behaves as an unformatted input function
(as described above).
After constructing a sentry object, extracts
a character <span class='texttt'>c</span>, if one is available.
Otherwise, the function calls
<span class='texttt'>setstate(failbit)</span>,
which may throw
<span class='texttt'>ios_base::failure</span> (<a href='iostate.flags'>[iostate.flags]</a>),</p></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='itemdescr'><p ><i>Returns:</i>
<span class='texttt'>c</span> if available,
otherwise
<span class='texttt'>traits::eof()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='get,basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_istream,get'></a></span><code class='itemdecl'>
basic_istream&lt;charT, traits&gt;&amp; get(char_type&amp; c);
</code></p><div class='itemdescr'></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='itemdescr'><p ><i>Effects:</i>
Behaves as an unformatted input function
(as described above).
After constructing a sentry object, extracts
a character, if one is available, and assigns it to <span class='texttt'>c</span>.<a class='footnotenum' href='#footnote-315'>315</a>
Otherwise, the function calls
<span class='texttt'>setstate(failbit)</span>
(which may throw
<span class='texttt'>ios_base::failure</span> (<a href='iostate.flags'>[iostate.flags]</a>)).</p></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='itemdescr'><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='get,basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_istream,get'></a></span><code class='itemdecl'>
basic_istream&lt;charT, traits&gt;&amp; get(char_type* s, streamsize n,
                                  char_type delim);
</code></p><div class='itemdescr'></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='itemdescr'><p ><i>Effects:</i>
Behaves as an unformatted input function
(as described above).
After constructing a sentry object, extracts
characters and stores them
into successive locations of an array whose first element is designated by
<span class='texttt'>s</span>.<a class='footnotenum' href='#footnote-316'>316</a>
Characters are extracted and stored until any of the following occurs:
</p><ul class='itemize'><li id='8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#8.1'>(8.1)</a></div><p ><span class='texttt'>n</span> is less than one or <span class='texttt'>n - 1</span>
characters are stored;
</p></li><li id='8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#8.2'>(8.2)</a></div><p >end-of-file occurs on the input sequence
(in which case the function calls
<span class='texttt'>setstate(eofbit)</span>);
</p></li><li id='8.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#8.3'>(8.3)</a></div><p ><span class='texttt'>traits::eq(c, delim)</span>
for the next available input
character <span class='texttt'>c</span>
(in which case <span class='texttt'>c</span> is not extracted).
</p></li></ul></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='itemdescr'><p >If the function stores no characters, it calls
<span class='texttt'>setstate(failbit)</span>
(which may throw
<span class='texttt'>ios_base::failure</span> (<a href='iostate.flags'>[iostate.flags]</a>)).
In any case, if <span class='texttt'>n</span> is greater than zero it then stores a null character
into the next successive location of the array.</p></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='itemdescr'><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='get,basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_istream,get'></a></span><code class='itemdecl'>
basic_istream&lt;charT, traits&gt;&amp; get(char_type* s, streamsize n);
</code></p><div class='itemdescr'></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='itemdescr'><p ><i>Effects:</i>
Calls
<span class='texttt'>get(s, n, widen('\n'))</span>.</p></div></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='itemdescr'><p ><i>Returns:</i>
Value returned by the call.
</p></div></div><p ><span class='indexparent'><a class='index' id='get,basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_istream,get'></a></span><code class='itemdecl'>
basic_istream&lt;charT, traits&gt;&amp; get(basic_streambuf&lt;char_type, traits&gt;&amp; sb,
                                  char_type delim);
</code></p><div class='itemdescr'></div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='itemdescr'><p ><i>Effects:</i>
Behaves as an unformatted input function
(as described above).
After constructing a sentry object, extracts
characters and inserts them
in the output sequence controlled by
<span class='texttt'>sb</span>.
Characters are extracted and inserted until any of the following occurs:
</p><ul class='itemize'><li id='13.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#13.1'>(13.1)</a></div><p >end-of-file occurs on the input sequence;
</p></li><li id='13.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#13.2'>(13.2)</a></div><p >inserting in the output sequence fails
(in which case the character to be inserted is not extracted);
</p></li><li id='13.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#13.3'>(13.3)</a></div><p ><span class='texttt'>traits::eq(c, delim)</span> for the next available input
character <span class='texttt'>c</span>
(in which case <span class='texttt'>c</span> is not extracted);
</p></li><li id='13.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#13.4'>(13.4)</a></div><p >an exception occurs
(in which case, the exception is caught but not rethrown).
</p></li></ul></div></div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='itemdescr'><p >If the function inserts no characters, it calls
<span class='texttt'>setstate(failbit)</span>,
which may throw
<span class='texttt'>ios_base::failure</span> (<a href='iostate.flags'>[iostate.flags]</a>).</p></div></div><div class='para' id='15'><div class='marginalizedparent'><a class='marginalized' href='#15'>15</a></div><div class='itemdescr'><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='get,basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_istream,get'></a></span><code class='itemdecl'>
basic_istream&lt;charT, traits&gt;&amp; get(basic_streambuf&lt;char_type, traits&gt;&amp; sb);
</code></p><div class='itemdescr'></div><div class='para' id='16'><div class='marginalizedparent'><a class='marginalized' href='#16'>16</a></div><div class='itemdescr'><p ><i>Effects:</i>
Calls
<span class='texttt'>get(sb, widen('\n'))</span>.</p></div></div><div class='para' id='17'><div class='marginalizedparent'><a class='marginalized' href='#17'>17</a></div><div class='itemdescr'><p ><i>Returns:</i>
Value returned by the call.
</p></div></div><p ><span class='indexparent'><a class='index' id='getline,basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_istream,getline'></a></span><code class='itemdecl'>
basic_istream&lt;charT, traits&gt;&amp; getline(char_type* s, streamsize n,
                                      char_type delim);
</code></p><div class='itemdescr'></div><div class='para' id='18'><div class='marginalizedparent'><a class='marginalized' href='#18'>18</a></div><div class='itemdescr'><p ><i>Effects:</i>
Behaves as an unformatted input function
(as described above).
After constructing a sentry object, extracts
characters and stores them
into successive locations of an array whose first element is designated by
<span class='texttt'>s</span>.<a class='footnotenum' href='#footnote-317'>317</a>
Characters are extracted and stored until one of the following occurs:
</p><ol class='enumerate'><li ><p >end-of-file occurs on the input sequence
(in which case the function calls
<span class='texttt'>setstate(eofbit)</span>);
</p></li><li ><p ><span class='texttt'>traits::eq(c, delim)</span>
for the next available input
character <span class='texttt'>c</span>
(in which case the input character is extracted but not stored);<a class='footnotenum' href='#footnote-318'>318</a>
</p></li><li ><p ><span class='texttt'>n</span> is less than one or <span class='texttt'>n - 1</span>
characters are stored
(in which case the function calls
<span class='texttt'>setstate(failbit)</span>).
</p></li></ol></div></div><div class='para' id='19'><div class='marginalizedparent'><a class='marginalized' href='#19'>19</a></div><div class='itemdescr'><p >These conditions are tested in the order shown.<a class='footnotenum' href='#footnote-319'>319</a></p></div></div><div class='para' id='20'><div class='marginalizedparent'><a class='marginalized' href='#20'>20</a></div><div class='itemdescr'><p >If the function extracts no characters, it calls
<span class='texttt'>setstate(failbit)</span>
(which may throw
<span class='texttt'>ios_base::failure</span> (<a href='iostate.flags'>[iostate.flags]</a>)).<a class='footnotenum' href='#footnote-320'>320</a></p></div></div><div class='para' id='21'><div class='marginalizedparent'><a class='marginalized' href='#21'>21</a></div><div class='itemdescr'><p >In any case, if <span class='texttt'>n</span> is greater than zero, it then stores a null character
(using
<span class='texttt'>charT()</span>)
into the next successive location of the array.</p></div></div><div class='para' id='22'><div class='marginalizedparent'><a class='marginalized' href='#22'>22</a></div><div class='itemdescr'><p ><i>Returns:</i>
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='23'><div class='marginalizedparent'><a class='marginalized' href='#23'>23</a></div><div class='itemdescr'><p >[&nbsp;<i>Example:</i>
</p><pre class='codeblock'>
#include &lt;iostream&gt;

int main() {
  using namespace std;
  const int line_buffer_size = 100;

  char buffer[line_buffer_size];
  int line_number = 0;
  while (cin.getline(buffer, line_buffer_size, '\n') || cin.gcount()) {
    int count = cin.gcount();
    if (cin.eof())
      cout &lt;&lt; "Partial final line";   <span class='comment'>// <span class='texttt'>cin.fail()</span> is <span class='texttt'>false</span>
</span>    else if (cin.fail()) {
      cout &lt;&lt; "Partial long line";
      cin.clear(cin.rdstate() &amp; ~ios_base::failbit);
    } else {
      count--;                        <span class='comment'>// Don't include newline in <span class='texttt'>count</span>
</span>      cout &lt;&lt; "Line " &lt;&lt; ++line_number;
    }
    cout &lt;&lt; " (" &lt;&lt; count &lt;&lt; " chars): " &lt;&lt; buffer &lt;&lt; endl;
  }
}
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]
</p></div></div><p ><span class='indexparent'><a class='index' id='getline,basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_istream,getline'></a></span><code class='itemdecl'>
basic_istream&lt;charT, traits&gt;&amp; getline(char_type* s, streamsize n);
</code></p><div class='itemdescr'></div><div class='para' id='24'><div class='marginalizedparent'><a class='marginalized' href='#24'>24</a></div><div class='itemdescr'><p ><i>Returns:</i>
<span class='texttt'>getline(s, n, widen('\n'))</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='ignore,basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_istream,ignore'></a></span><code class='itemdecl'>
basic_istream&lt;charT, traits&gt;&amp;
    ignore(streamsize n = 1, int_type delim = traits::eof());
</code></p><div class='itemdescr'></div><div class='para' id='25'><div class='marginalizedparent'><a class='marginalized' href='#25'>25</a></div><div class='itemdescr'><p ><i>Effects:</i>
Behaves as an unformatted input function
(as described above).
After constructing a sentry object, extracts
characters and discards them.
Characters are extracted until any of the following occurs:
</p><ul class='itemize'><li id='25.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#25.1'>(25.1)</a></div><p ><span class='texttt'>n != numeric_limits&lt;streamsize&gt;::max()</span> (<a href='limits'>[limits]</a>)
and
<span class='texttt'>n</span> characters have been extracted so far
</p></li><li id='25.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#25.2'>(25.2)</a></div><p >end-of-file occurs on the input sequence
(in which case the function calls
<span class='texttt'>setstate(eofbit)</span>,
which may throw
<span class='texttt'>ios_base::failure</span> (<a href='iostate.flags'>[iostate.flags]</a>));
</p></li><li id='25.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#25.3'>(25.3)</a></div><p ><span class='texttt'>traits::eq_int_type(traits::to_int_type(c), delim)</span>
for the next available input character <span class='texttt'>c</span>
(in which case <span class='texttt'>c</span> is extracted).
</p></li></ul></div></div><div class='para' id='26'><div class='marginalizedparent'><a class='marginalized' href='#26'>26</a></div><div class='itemdescr'><p ><i>Remarks:</i>
The last condition will never occur if
<span class='texttt'>traits::eq_int_type(delim, traits::eof())</span>.</p></div></div><div class='para' id='27'><div class='marginalizedparent'><a class='marginalized' href='#27'>27</a></div><div class='itemdescr'><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='peek,basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_istream,peek'></a></span><code class='itemdecl'>
int_type peek();
</code></p><div class='itemdescr'></div><div class='para' id='28'><div class='marginalizedparent'><a class='marginalized' href='#28'>28</a></div><div class='itemdescr'><p ><i>Effects:</i>
Behaves as an unformatted input function
(as described above).
After constructing a sentry object, reads but does not extract
the current input character.</p></div></div><div class='para' id='29'><div class='marginalizedparent'><a class='marginalized' href='#29'>29</a></div><div class='itemdescr'><p ><i>Returns:</i>
<span class='texttt'>traits::eof()</span>
if
<span class='texttt'>good()</span>
is
<span class='texttt'>false</span>.
Otherwise, returns
<span class='texttt'>rdbuf()-&gt;sgetc()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='read,basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_istream,read'></a></span><code class='itemdecl'>
basic_istream&lt;charT, traits&gt;&amp; read(char_type* s, streamsize n);
</code></p><div class='itemdescr'></div><div class='para' id='30'><div class='marginalizedparent'><a class='marginalized' href='#30'>30</a></div><div class='itemdescr'><p ><i>Effects:</i>
Behaves as an unformatted input function (as described above).
After constructing
a sentry object, if
<span class='texttt'>!good()</span>
calls
<span class='texttt'>setstate(failbit)</span>
which may throw an exception,
and return.
Otherwise extracts characters and stores them
into successive locations of an array whose first element is designated by
<span class='texttt'>s</span>.<a class='footnotenum' href='#footnote-321'>321</a>
Characters are extracted and stored until either of the following occurs:
</p><ul class='itemize'><li id='30.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#30.1'>(30.1)</a></div><p ><span class='texttt'>n</span> characters are stored;
</p></li><li id='30.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#30.2'>(30.2)</a></div><p >end-of-file occurs on the input sequence
(in which case the function calls
<span class='texttt'>setstate(failbit | eofbit)</span>,
which may throw
<span class='texttt'>ios_base::failure</span> (<a href='iostate.flags'>[iostate.flags]</a>)).
</p></li></ul></div></div><div class='para' id='31'><div class='marginalizedparent'><a class='marginalized' href='#31'>31</a></div><div class='itemdescr'><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='readsome,basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_istream,readsome'></a></span><code class='itemdecl'>
streamsize readsome(char_type* s, streamsize n);
</code></p><div class='itemdescr'></div><div class='para' id='32'><div class='marginalizedparent'><a class='marginalized' href='#32'>32</a></div><div class='itemdescr'><p ><i>Effects:</i>
Behaves as an unformatted input function (as described above).
After constructing
a sentry object, if
<span class='texttt'>!good()</span>
calls
<span class='texttt'>setstate(failbit)</span>
which may throw an exception,
and return.
Otherwise extracts characters and stores them
into successive locations of an array whose first element is designated by
<span class='texttt'>s</span>.
If
<span class='texttt'>rdbuf()-&gt;in_avail() == -1</span>,
calls
<span class='texttt'>setstate(eofbit)</span>
(which may throw
<span class='texttt'>ios_base::failure</span> (<a href='iostate.flags'>[iostate.flags]</a>)),
and extracts no characters;
</p><ul class='itemize'><li id='32.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#32.1'>(32.1)</a></div><p >If
<span class='texttt'>rdbuf()-&gt;in_avail() == 0</span>,
extracts no characters
</p></li><li id='32.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#32.2'>(32.2)</a></div><p >If
<span class='texttt'>rdbuf()-&gt;in_avail() &gt; 0</span>,
extracts
<span class='texttt'>min(rdbuf()-&gt;in_avail(), n))</span>.
</p></li></ul></div></div><div class='para' id='33'><div class='marginalizedparent'><a class='marginalized' href='#33'>33</a></div><div class='itemdescr'><p ><i>Returns:</i>
The number of characters extracted.
</p></div></div><p ><span class='indexparent'><a class='index' id='putback,basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_istream,putback'></a></span><code class='itemdecl'>
basic_istream&lt;charT, traits&gt;&amp; putback(char_type c);
</code></p><div class='itemdescr'></div><div class='para' id='34'><div class='marginalizedparent'><a class='marginalized' href='#34'>34</a></div><div class='itemdescr'><p ><i>Effects:</i>
Behaves as an unformatted input function (as described above), except that the function first clears <span class='texttt'>eofbit</span>.
After constructing
a sentry object, if
<span class='texttt'>!good()</span>
calls
<span class='texttt'>setstate(failbit)</span>
which may throw an exception,
and return.
If
<span class='texttt'>rdbuf()</span>
is not null, calls
<span class='texttt'>rdbuf-&gt;sputbackc()</span>.
If
<span class='texttt'>rdbuf()</span>
is null, or if
<span class='texttt'>sputbackc()</span>
returns
<span class='texttt'>traits::eof()</span>,
calls
<span class='texttt'>setstate(badbit)</span>
(which may throw
<span class='texttt'>ios_base::failure</span> (<a href='iostate.flags'>[iostate.flags]</a>)).
[&nbsp;<i>Note:</i>
This
function extracts no characters, so the value returned by the next call to
<span class='texttt'>gcount()</span>
is 0.
<i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div></div><div class='para' id='35'><div class='marginalizedparent'><a class='marginalized' href='#35'>35</a></div><div class='itemdescr'><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='unget,basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_istream,unget'></a></span><code class='itemdecl'>
basic_istream&lt;charT, traits&gt;&amp; unget();
</code></p><div class='itemdescr'></div><div class='para' id='36'><div class='marginalizedparent'><a class='marginalized' href='#36'>36</a></div><div class='itemdescr'><p ><i>Effects:</i>
Behaves as an unformatted input function (as described above), except that the function first clears <span class='texttt'>eofbit</span>.
After constructing
a sentry object, if
<span class='texttt'>!good()</span>
calls
<span class='texttt'>setstate(failbit)</span>
which may throw an exception,
and return.
If
<span class='texttt'>rdbuf()</span>
is not null, calls
<span class='texttt'>rdbuf()-&gt;sungetc()</span>.
If
<span class='texttt'>rdbuf()</span>
is null, or if
<span class='texttt'>sungetc()</span>
returns
<span class='texttt'>traits::eof()</span>,
calls
<span class='texttt'>setstate(badbit)</span>
(which may throw
<span class='texttt'>ios_base::failure</span> (<a href='iostate.flags'>[iostate.flags]</a>)).
[&nbsp;<i>Note:</i>
This
function extracts no characters, so the value returned by the next call to
<span class='texttt'>gcount()</span>
is 0.
<i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div></div><div class='para' id='37'><div class='marginalizedparent'><a class='marginalized' href='#37'>37</a></div><div class='itemdescr'><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='sync,basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_istream,sync'></a></span><code class='itemdecl'>
int sync();
</code></p><div class='itemdescr'></div><div class='para' id='38'><div class='marginalizedparent'><a class='marginalized' href='#38'>38</a></div><div class='itemdescr'><p ><i>Effects:</i>
Behaves as an unformatted input function (as described above), except that it does not
count the number of characters extracted and does not affect the
value returned by subsequent calls to
<span class='texttt'>gcount()</span>.
After constructing
a sentry object, if
<span class='texttt'>rdbuf()</span>
is a null pointer, returns <span class='texttt'>-1</span>.
Otherwise, calls
<span class='texttt'>rdbuf()-&gt;pubsync()</span>
and, if that function returns <span class='texttt'>-1</span>
calls
<span class='texttt'>setstate(badbit)</span>
(which may throw
<span class='texttt'>ios_base::failure</span> (<a href='iostate.flags'>[iostate.flags]</a>),
and returns
<span class='texttt'>-1</span>.
Otherwise, returns zero.
</p></div></div><p ><span class='indexparent'><a class='index' id='tellg,basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_istream,tellg'></a></span><code class='itemdecl'>
pos_type tellg();
</code></p><div class='itemdescr'></div><div class='para' id='39'><div class='marginalizedparent'><a class='marginalized' href='#39'>39</a></div><div class='itemdescr'><p ><i>Effects:</i>
Behaves as an unformatted input function (as described above), except that it does not count
the number of characters extracted and does not affect the value
returned by subsequent calls to
<span class='texttt'>gcount()</span>.</p></div></div><div class='para' id='40'><div class='marginalizedparent'><a class='marginalized' href='#40'>40</a></div><div class='itemdescr'><p ><i>Returns:</i>
After constructing a sentry object, if
<span class='texttt'>fail() != false</span>,
returns
<span class='texttt'>pos_type(-1)</span>
to indicate failure.
Otherwise, returns
<span class='texttt'>rdbuf()-&gt;pubseekoff(0, cur, in)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='seekg,basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_istream,seekg'></a></span><code class='itemdecl'>
basic_istream&lt;charT, traits&gt;&amp; seekg(pos_type pos);
</code></p><div class='itemdescr'></div><div class='para' id='41'><div class='marginalizedparent'><a class='marginalized' href='#41'>41</a></div><div class='itemdescr'><p ><i>Effects:</i>
Behaves as an unformatted input function (as described above), except that
the function first clears <span class='texttt'>eofbit</span>,
it does not count
the number of characters extracted, and it does not affect the value
returned by subsequent calls to
<span class='texttt'>gcount()</span>.
After constructing a sentry object, if
<span class='texttt'>fail() != true</span>,
executes
<span class='texttt'>rdbuf()-&gt;pubseekpos(pos, ios_base::in)</span>.
In case of failure, the function calls
<span class='texttt'>setstate(failbit)</span>
(which may throw
<span class='texttt'>ios_base::failure</span>).</p></div></div><div class='para' id='42'><div class='marginalizedparent'><a class='marginalized' href='#42'>42</a></div><div class='itemdescr'><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='seekg,basic_istream'></a></span><span class='indexparent'><a class='index' id='basic_istream,seekg'></a></span><code class='itemdecl'>
basic_istream&lt;charT, traits&gt;&amp; seekg(off_type off, ios_base::seekdir dir);
</code></p><div class='itemdescr'></div><div class='para' id='43'><div class='marginalizedparent'><a class='marginalized' href='#43'>43</a></div><div class='itemdescr'><p ><i>Effects:</i>
Behaves as an unformatted input function (as described above), except that the function first clears <span class='texttt'>eofbit</span>,
does not count the number of characters extracted, and
does not affect the value returned by subsequent calls to <span class='texttt'>gcount()</span>.
After constructing a sentry object, if
<span class='texttt'>fail() != true</span>,
executes
<span class='texttt'>rdbuf()-&gt;pubseekoff(off, dir, ios_base::in)</span>.
In case of failure, the function calls <span class='texttt'>setstate(failbit)</span> (which may throw
<span class='texttt'>ios_base::failure</span>).</p></div></div><div class='para' id='44'><div class='marginalizedparent'><a class='marginalized' href='#44'>44</a></div><div class='itemdescr'><p ><i>Returns:</i>
<span class='texttt'>*this</span>.
</p></div></div><div class='footnote' id='footnote-314'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-314'>314)</a></div><p >This is done without causing an
<span class='texttt'>ios::failure</span>
to be thrown.</p></div><div class='footnote' id='footnote-315'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-315'>315)</a></div><p >Note
that this function is not overloaded on types
<span class='texttt'>signed char</span>
and
<span class='texttt'>unsigned char</span>.</p></div><div class='footnote' id='footnote-316'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-316'>316)</a></div><p >Note that this function is not overloaded on types
<span class='texttt'>signed char</span>
and
<span class='texttt'>unsigned char</span>.</p></div><div class='footnote' id='footnote-317'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-317'>317)</a></div><p >Note that this function is not overloaded on types
<span class='texttt'>signed char</span>
and
<span class='texttt'>unsigned char</span>.</p></div><div class='footnote' id='footnote-318'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-318'>318)</a></div><p >Since
the final input character is “extracted,”
it is counted in the
<span class='texttt'>gcount()</span>,
even though it is not stored.</p></div><div class='footnote' id='footnote-319'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-319'>319)</a></div><p >This allows an input
line which exactly fills the buffer, without setting
<span class='texttt'>failbit</span>.
This is different behavior than the historical AT&amp;T implementation.</p></div><div class='footnote' id='footnote-320'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-320'>320)</a></div><p >This implies an
empty input line will not cause
<span class='texttt'>failbit</span>
to be set.</p></div><div class='footnote' id='footnote-321'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-321'>321)</a></div><p >Note that this function is not overloaded on types
<span class='texttt'>signed char</span>
and
<span class='texttt'>unsigned char</span>.</p></div></div></div></body></html>