<!DOCTYPE html><html lang='en'><head><title>[over.match.funcs]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>12</a> Overloading <a class='abbr_ref' href='./#over'>[over]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>12.2</a> Overload resolution <a class='abbr_ref' href='over.match#funcs'>[over.match]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>12.2.2</a> Candidate functions and argument lists <a class='abbr_ref'>[over.match.funcs]</a></h3><div id='general' class='section'><h4 ><a class='secnum' href='#general' style='min-width:95pt'>12.2.2.1</a> General <a class='abbr_ref' href='over.match.funcs.general'>[over.match.funcs.general]</a></h4><div class='texpara'><a class='index' id=':overloading,candidate_functions'></a><a class='index' id=':overloading,argument_lists'></a></div><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L140'>#</a></div><div class='texpara'><div id='general-1.sentence-1' class='sentence'>The subclauses of [over.<span class='shy'></span>match.<span class='shy'></span>funcs] describe
the set of candidate functions and the argument list submitted to
overload resolution in each context in which
overload resolution is used<a class='hidden_link' href='#general-1.sentence-1'>.</a></div> <div id='general-1.sentence-2' class='sentence'>The source transformations and constructions defined
in these subclauses are only for the purpose of describing the
overload resolution process<a class='hidden_link' href='#general-1.sentence-2'>.</a></div> <div id='general-1.sentence-3' class='sentence'>An implementation is not required
to use such transformations and constructions<a class='hidden_link' href='#general-1.sentence-3'>.</a></div></div></div><div class='para' id='general-2'><div class='marginalizedparent'><a class='marginalized' href='#general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L151'>#</a></div><div class='texpara'><div id='general-2.sentence-1' class='sentence'><a class='index' id=':member_function,overload_resolution_and'></a><a class='index' id=':function,overload_resolution_and'></a>The set of candidate functions can contain both member and non-member
functions to be resolved against the same argument list<a class='hidden_link' href='#general-2.sentence-1'>.</a></div> <div id='general-2.sentence-2' class='sentence'>If a member function is
<ul class='itemize'><li id='general-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-2.1'>(2.1)</a></div>an implicit object member function that is not a constructor, or</li><li id='general-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-2.2'>(2.2)</a></div>a static member function and
the argument list includes an implied object argument,</li></ul>
it is considered to have an extra first parameter,
called the <a class='hidden_link' href='#def:object_parameter,implicit' title='12.2.2.1&emsp;General&emsp;[over.match.funcs.general]'><span id='def:object_parameter,implicit'><i >implicit object parameter</i></span></a>,
which represents the object for which the member function has been called<a class='hidden_link' href='#general-2.sentence-2'>.</a></div></div></div><div class='para' id='general-3'><div class='marginalizedparent'><a class='marginalized' href='#general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L168'>#</a></div><div class='texpara'><div id='general-3.sentence-1' class='sentence'>Similarly, when appropriate, the context can construct an
argument list that contains an
<a class='hidden_link' href='#def:implied_object_argument' title='12.2.2.1&emsp;General&emsp;[over.match.funcs.general]'><span id='def:implied_object_argument'><i >implied object argument</i></span></a>
as the first argument in the list to denote
the object to be operated on<a class='hidden_link' href='#general-3.sentence-1'>.</a></div></div></div><div class='para' id='general-4'><div class='marginalizedparent'><a class='marginalized' href='#general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L175'>#</a></div><div class='texpara'><div id='general-4.sentence-1' class='sentence'>For implicit object member functions, the type of the implicit object
parameter is
<ul class='itemize'><li id='general-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-4.1'>(4.1)</a></div>“lvalue reference to <span class='mathit'>cv</span> <span class='texttt'>X</span>” for functions declared
without a <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier'><span class='textsf'><i >ref-qualifier</i></span></span></a> or with the
<span class='texttt'><span class='operator'>&amp;</span></span> <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier_'><span class='textsf'><i >ref-qualifier</i></span></span></a></li><li id='general-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-4.2'>(4.2)</a></div>“rvalue reference to <span class='mathit'>cv</span> <span class='texttt'>X</span>” for functions declared with the
<span class='texttt'><span class='operator'>&amp;</span><span class='operator'>&amp;</span></span> <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier__'><span class='textsf'><i >ref-qualifier</i></span></span></a></li></ul>
where
<span class='texttt'>X</span>
is the class of which the function is a direct member and
<span class='mathit'>cv</span>
is the cv-qualification on the
member function declaration<a class='hidden_link' href='#general-4.sentence-1'>.</a></div> <div id='general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-1'>1</a></i>:&ensp;<div id='general-4.sentence-2' class='sentence'>For a
<span id=':const'><span class='texttt'><span class='keyword'>const</span></span></span>
member
function of class
<span class='texttt'>X</span>,
the extra parameter is assumed to have type
“lvalue reference to
<span class='texttt'><span class='keyword'>const</span> X</span>”<a class='hidden_link' href='#general-4.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='general-4.sentence-3' class='sentence'>
For conversion functions that are implicit object member functions,
the function is considered to be a member of the
class of the implied object argument for the purpose of defining the
type of the implicit object parameter<a class='hidden_link' href='#general-4.sentence-3'>.</a></div> <div id='general-4.sentence-4' class='sentence'>For non-conversion functions that are implicit object member functions
nominated by a <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration'><span class='textsf'><i >using-declaration</i></span></span></a>
in a derived class, the function is
considered to be a member of the derived class for the purpose of defining
the type of the implicit object parameter<a class='hidden_link' href='#general-4.sentence-4'>.</a></div> <div id='general-4.sentence-5' class='sentence'>For static member functions, the implicit object parameter is considered
to match any object (since if the function is selected, the object is
discarded)<a class='hidden_link' href='#general-4.sentence-5'>.</a></div> <div id='general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-1'>1</a></i>:&ensp;<div id='general-4.sentence-6' class='sentence'>No actual type is established for the implicit object parameter
of a static member function, and no attempt will be made to determine a
conversion sequence for that parameter (<a href='over.match.best' title='12.2.4&emsp;Best viable function'>[over.<span class='shy'></span>match.<span class='shy'></span>best]</a>)<a class='hidden_link' href='#general-4.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='general-5'><div class='marginalizedparent'><a class='marginalized' href='#general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L219'>#</a></div><div class='texpara'><div id='general-5.sentence-1' class='sentence'><a class='index' id=':implied_object_argument,implicit_conversion_sequences'></a>During overload resolution, the implied object argument is
indistinguishable from other arguments<a class='hidden_link' href='#general-5.sentence-1'>.</a></div> <div id='general-5.sentence-2' class='sentence'>The implicit object
parameter, however, retains its identity since
no user-defined conversions can be applied to achieve a type
match with it<a class='hidden_link' href='#general-5.sentence-2'>.</a></div> <div id='general-5.sentence-3' class='sentence'><a class='index' id=':implied_object_argument,non-static_member_function_and'></a>For implicit object member functions declared without a <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier___'><span class='textsf'><i >ref-qualifier</i></span></span></a>,
even if the implicit object parameter is not const-qualified,
an rvalue can be bound to the parameter
as long as in all other respects the argument can be
converted to the type of the implicit object parameter<a class='hidden_link' href='#general-5.sentence-3'>.</a></div> <div id='general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-2'>2</a></i>:&ensp;<div id='general-5.sentence-4' class='sentence'>The fact that such an argument is an rvalue does not
affect the <a href='over.ics.rank' title='12.2.4.3&emsp;Ranking implicit conversion sequences&emsp;[over.ics.rank]'>ranking</a> of implicit conversion sequences<a class='hidden_link' href='#general-5.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='general-6'><div class='marginalizedparent'><a class='marginalized' href='#general-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L238'>#</a></div><div class='texpara'><div id='general-6.sentence-1' class='sentence'>Because other than in list-initialization only one user-defined conversion
is allowed
in an
implicit conversion sequence, special rules apply when selecting
the best user-defined conversion (<a href='over.match.best' title='12.2.4&emsp;Best viable function'>[over.<span class='shy'></span>match.<span class='shy'></span>best]</a>, <a href='over.best.ics' title='12.2.4.2&emsp;Implicit conversion sequences'>[over.<span class='shy'></span>best.<span class='shy'></span>ics]</a>)<a class='hidden_link' href='#general-6.sentence-1'>.</a></div> <div id='general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>class</span> T <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  T<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> C <span class='operator'>:</span> T <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  C<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
T a <span class='operator'>=</span> <span class='literal'>1</span>;            <span class='comment'>// error: no viable conversion (<span class='tcode_in_codeblock'>T(C(1))</span> not considered)</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='general-7'><div class='marginalizedparent'><a class='marginalized' href='#general-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L259'>#</a></div><div class='texpara'><div id='general-7.sentence-1' class='sentence'>In each case where conversion functions of a class <span class='texttt'>S</span> are considered
for initializing an object or reference of type <span class='texttt'>T</span>,
the candidate functions include the result of a search
for the <a href='class.conv.fct#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id'><span class='textsf'><i >conversion-function-id</i></span></span></a> <span class='texttt'><span id=':operator'><span class='texttt'><span class='keyword'>operator</span></span></span> T</span>
in <span class='texttt'>S</span><a class='hidden_link' href='#general-7.sentence-1'>.</a></div> <div id='general-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-3'>3</a></i>:&ensp;<div id='general-7.sentence-2' class='sentence'>This search can find a specialization of
a conversion function template (<a href='basic.lookup' title='6.5&emsp;Name lookup'>[basic.<span class='shy'></span>lookup]</a>)<a class='hidden_link' href='#general-7.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='general-7.sentence-3' class='sentence'>
Each such case also defines sets of <a class='hidden_link' href='#def:types,permissible' title='12.2.2.1&emsp;General&emsp;[over.match.funcs.general]'><span id='def:types,permissible'><i >permissible types</i></span></a>
for explicit and non-explicit conversion functions;
each (non-template) conversion function
that
<ul class='itemize'><li id='general-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-7.1'>(7.1)</a></div>is a non-hidden member of <span class='texttt'>S</span>,</li><li id='general-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-7.2'>(7.2)</a></div>yields a permissible type, and,</li><li id='general-7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-7.3'>(7.3)</a></div>for the former set, is non-explicit</li></ul>
is also a candidate function<a class='hidden_link' href='#general-7.sentence-3'>.</a></div> <div id='general-7.sentence-4' class='sentence'>If initializing an object, for any permissible type <span class='mathit'>cv</span> <span class='texttt'>U</span>, any
<i >cv2</i> <span class='texttt'>U</span>, <i >cv2</i> <span class='texttt'>U<span class='operator'>&amp;</span></span>, or <i >cv2</i> <span class='texttt'>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
is also a permissible type<a class='hidden_link' href='#general-7.sentence-4'>.</a></div> <div id='general-7.sentence-5' class='sentence'>If the set of permissible types for explicit conversion functions is empty,
any candidates that are explicit are discarded<a class='hidden_link' href='#general-7.sentence-5'>.</a></div></div></div><div class='para' id='general-8'><div class='marginalizedparent'><a class='marginalized' href='#general-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L285'>#</a></div><div class='texpara'><div id='general-8.sentence-1' class='sentence'>In each case where a candidate is a function template, candidate
function template specializations
are generated using template argument deduction (<a href='temp.over' title='13.10.4&emsp;Overload resolution'>[temp.<span class='shy'></span>over]</a>, <a href='temp.deduct' title='13.10.3&emsp;Template argument deduction'>[temp.<span class='shy'></span>deduct]</a>)<a class='hidden_link' href='#general-8.sentence-1'>.</a></div> <div id='general-8.sentence-2' class='sentence'>If a constructor template or conversion function template
has an <a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.3&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier'><span class='textsf'><i >explicit-specifier</i></span></span></a>
whose <a href='expr.const#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression'><span class='textsf'><i >constant-expression</i></span></span></a> is value-dependent (<a href='temp.dep' title='13.8.3&emsp;Dependent names'>[temp.<span class='shy'></span>dep]</a>),
template argument deduction is performed first and then,
if the context admits only candidates that
are not explicit and the generated specialization is explicit (<a href='dcl.fct.spec' title='9.2.3&emsp;Function specifiers'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>spec]</a>),
it will be removed from the candidate set<a class='hidden_link' href='#general-8.sentence-2'>.</a></div> <div id='general-8.sentence-3' class='sentence'>Those candidates are then handled as candidate
functions in the usual way<a class='hidden_link' href='#general-8.sentence-3'>.</a><a class='footnoteref' href='#footnote-99' id='footnoteref-99' title='The process of argument deduction fully determines the parameter types of the function template specializations, i.e., the parameters of function template specializations contain no template parameter types. Therefore, except where specified otherwise, function template specializations and non-template functions ([dcl.fct]) are treated equivalently for the remainder of overload resolution.'>99</a></div> <div id='general-8.sentence-4' class='sentence'>
A given name can refer to, or a conversion can consider,
one or more function templates as well as a set of non-template functions<a class='hidden_link' href='#general-8.sentence-4'>.</a></div> <div id='general-8.sentence-5' class='sentence'>In such a case, the
candidate functions generated from each function template are combined
with the set of non-template candidate functions<a class='hidden_link' href='#general-8.sentence-5'>.</a></div></div></div><div class='para' id='general-9'><div class='marginalizedparent'><a class='marginalized' href='#general-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L318'>#</a></div><div class='texpara'><div id='general-9.sentence-1' class='sentence'>A
defaulted move special member function (<a href='class.copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>, <a href='class.copy.assign' title='11.4.6&emsp;Copy/move assignment operator'>[class.<span class='shy'></span>copy.<span class='shy'></span>assign]</a>)
that is defined as deleted
is excluded from the set of candidate functions in all contexts<a class='hidden_link' href='#general-9.sentence-1'>.</a></div> <div id='general-9.sentence-2' class='sentence'>A constructor inherited from class type <span class='texttt'>C</span> (<a href='class.inhctor.init' title='11.9.4&emsp;Initialization by inherited constructor'>[class.<span class='shy'></span>inhctor.<span class='shy'></span>init]</a>)
that has a first parameter of type “reference to <i >cv1</i> <span class='texttt'>P</span>”
(including such a constructor instantiated from a template)
is excluded from the set of candidate functions
when constructing an object of type <i >cv2</i> <span class='texttt'>D</span>
if the argument list has exactly one argument and
<span class='texttt'>C</span> is reference-related to <span class='texttt'>P</span> and
<span class='texttt'>P</span> is reference-related to <span class='texttt'>D</span><a class='hidden_link' href='#general-9.sentence-2'>.</a></div> <div id='general-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#general-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                                  <span class='comment'>// #1</span>
  A<span class='parenthesis'>(</span>A <span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;                              <span class='comment'>// #2</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> A<span class='parenthesis'>(</span>T <span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;         <span class='comment'>// #3</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> A<span class='operator'>::</span>A;
  B<span class='parenthesis'>(</span><span class='keyword'>const</span> B <span class='operator'>&amp;</span><span class='parenthesis'>)</span>;                         <span class='comment'>// #4</span>
  B<span class='parenthesis'>(</span>B <span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;                    <span class='comment'>// #5, implicitly deleted</span>

  <span class='keyword'>struct</span> X <span class='curlybracket'>{</span> X<span class='parenthesis'>(</span>X <span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>; <span class='curlybracket'>}</span> x;
<span class='curlybracket'>}</span>;
<span class='keyword'>extern</span> B b1;
B b2 <span class='operator'>=</span> <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>B<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>b1<span class='parenthesis'>)</span>;            <span class='comment'>// calls #4: #1 is not viable, #2, #3, and #5 are not candidates</span>
<span class='keyword'>struct</span> C <span class='curlybracket'>{</span> <span class='keyword'>operator</span> B<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
B b3 <span class='operator'>=</span> C<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                             <span class='comment'>// calls #4</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-99'><div class='texpara'><a class='footnotenum' href='#footnote-99'>99)</a><a class='footnoteBacklink' href='#footnoteref-99'>99)</a> <div id='footnote-99.sentence-1' class='sentence'>The process of argument deduction fully
determines the parameter types of
the
function template specializations,
i.e., the parameters of
function template specializations
contain
no template parameter types<a class='hidden_link' href='#footnote-99.sentence-1'>.</a></div> <div id='footnote-99.sentence-2' class='sentence'>Therefore, except where specified otherwise,
function template specializations
and non-template functions (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) are treated equivalently
for the remainder of overload resolution<a class='hidden_link' href='#footnote-99.sentence-2'>.</a></div></div></div></div><div id='over.match.call' class='section'><h4 ><a class='secnum' href='#over.match.call' style='min-width:95pt'>12.2.2.2</a> Function call syntax <a class='abbr_ref' href='over.match.call'>[over.match.call]</a></h4><div id='over.match.call.general' class='section'><h4 ><a class='secnum' href='#over.match.call.general' style='min-width:110pt'>12.2.2.2.1</a> General <a class='abbr_ref' href='over.match.call.general'>[over.match.call.general]</a></h4><div class='texpara'><a class='index' id=':overloading,resolution,function_call_syntax'></a></div><div class='para' id='over.match.call.general-1'><div class='marginalizedparent'><a class='marginalized' href='#over.match.call.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L357'>#</a></div><div class='texpara'><div id='over.match.call.general-1.sentence-1' class='sentence'>In a <a href='expr.call' title='7.6.1.3&emsp;Function call&emsp;[expr.call]'>function call</a>
<div class='simplebnf'>
<a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression'><span class='textsf'><i >postfix-expression</i></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list'><span class='textsf'><i >expression-list</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span>
</div>
if the <a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression_'><span class='textsf'><i >postfix-expression</i></span></span></a> names at least one function or
function template,
overload resolution is applied as specified in <a href='#over.call.func' title='12.2.2.2.2&emsp;Call to named function'>[over.<span class='shy'></span>call.<span class='shy'></span>func]</a><a class='hidden_link' href='#over.match.call.general-1.sentence-1'>.</a></div> <div id='over.match.call.general-1.sentence-2' class='sentence'>If the <a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression__'><span class='textsf'><i >postfix-expression</i></span></span></a> denotes an object of class type, overload
resolution is applied as specified in <a href='#over.call.object' title='12.2.2.2.3&emsp;Call to object of class type'>[over.<span class='shy'></span>call.<span class='shy'></span>object]</a><a class='hidden_link' href='#over.match.call.general-1.sentence-2'>.</a></div></div></div><div class='para' id='over.match.call.general-2'><div class='marginalizedparent'><a class='marginalized' href='#over.match.call.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L368'>#</a></div><div class='texpara'><div id='over.match.call.general-2.sentence-1' class='sentence'>If the <a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression___'><span class='textsf'><i >postfix-expression</i></span></span></a> is the address of an overload set,
overload resolution is applied using that set as described above<a class='hidden_link' href='#over.match.call.general-2.sentence-1'>.</a></div> <div id='over.match.call.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#over.match.call.general-note-1'>1</a></i>:&ensp;<div id='over.match.call.general-2.sentence-2' class='sentence'>No implied object argument is added in this case<a class='hidden_link' href='#over.match.call.general-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='over.match.call.general-2.sentence-3' class='sentence'>
If the function selected by overload resolution is
an implicit object member function,
the program is ill-formed<a class='hidden_link' href='#over.match.call.general-2.sentence-3'>.</a></div> <div id='over.match.call.general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#over.match.call.general-note-2'>2</a></i>:&ensp;<div id='over.match.call.general-2.sentence-4' class='sentence'>The resolution of the address of an
overload set in other contexts is described in <a href='over.over' title='12.3&emsp;Address of an overload set'>[over.<span class='shy'></span>over]</a><a class='hidden_link' href='#over.match.call.general-2.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='over.call.func' class='section'><h4 ><a class='secnum' href='#over.call.func' style='min-width:110pt'>12.2.2.2.2</a> Call to named function <a class='abbr_ref' href='over.call.func'>[over.call.func]</a></h4><div class='para' id='over.call.func-1'><div class='marginalizedparent'><a class='marginalized' href='#over.call.func-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L384'>#</a></div><div class='texpara'><div id='over.call.func-1.sentence-1' class='sentence'>Of interest in <a href='#over.call.func' title='12.2.2.2.2&emsp;Call to named function'>[over.<span class='shy'></span>call.<span class='shy'></span>func]</a> are only those function calls in
which the <a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression____'><span class='textsf'><i >postfix-expression</i></span></span></a>
ultimately contains an <a href='expr.prim.id.general#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression'><span class='textsf'><i >id-expression</i></span></span></a> that
denotes one or more functions<a class='hidden_link' href='#over.call.func-1.sentence-1'>.</a></div> <div id='over.call.func-1.sentence-2' class='sentence'>Such a
<a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression_____'><span class='textsf'><i >postfix-expression</i></span></span></a>,
perhaps nested arbitrarily deep in
parentheses, has one of the following forms:
<div class='bnf'>
<a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression______'><span class='textsf'><i >postfix-expression</i></span></span></a>:<br/><a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression_______'><span class='textsf'><i >postfix-expression</i></span></span></a> <span class='terminal'><span class='operator'>.</span></span> <a href='expr.prim.id.general#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_'><span class='textsf'><i >id-expression</i></span></span></a><br/><a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression________'><span class='textsf'><i >postfix-expression</i></span></span></a> <span class='terminal'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> <a href='expr.prim.id.general#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression__'><span class='textsf'><i >id-expression</i></span></span></a><br/><a href='expr.prim.grammar#nt:primary-expression' title='7.5.1&emsp;Grammar&emsp;[expr.prim.grammar]'><span id='ntref:primary-expression'><span class='textsf'><i >primary-expression</i></span></span></a>
</div></div></div><div class='texpara'><div id='over.call.func-1.sentence-3' class='sentence'>These represent two syntactic subcategories of function calls:
qualified function calls and unqualified function calls<a class='hidden_link' href='#over.call.func-1.sentence-3'>.</a></div></div></div><div class='para' id='over.call.func-2'><div class='marginalizedparent'><a class='marginalized' href='#over.call.func-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L403'>#</a></div><div class='texpara'><div id='over.call.func-2.sentence-1' class='sentence'>In qualified function calls,
the function is named by an <a href='expr.prim.id.general#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression___'><span class='textsf'><i >id-expression</i></span></span></a>
preceded by an <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> or <span class='texttt'><span class='operator'>.</span></span> operator<a class='hidden_link' href='#over.call.func-2.sentence-1'>.</a></div> <div id='over.call.func-2.sentence-2' class='sentence'>Since the
construct
<span class='texttt'>A<span class='operator'>-</span><span class='anglebracket'>&gt;</span>B</span>
is generally equivalent to
<span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span>A<span class='parenthesis'>)</span><span class='operator'>.</span>B</span>,
the rest of
<a href='over' title='12&emsp;Overloading'>[over]</a> assumes, without loss of generality, that all member
function calls have been normalized to the form that uses an
object and the
<span class='texttt'><span class='operator'>.</span></span>
operator<a class='hidden_link' href='#over.call.func-2.sentence-2'>.</a></div> <div id='over.call.func-2.sentence-3' class='sentence'>Furthermore, <a href='over' title='12&emsp;Overloading'>[over]</a> assumes that
the
<a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression_________'><span class='textsf'><i >postfix-expression</i></span></span></a>
that is the left operand of the
<span class='texttt'><span class='operator'>.</span></span>
operator
has type “<span class='mathit'>cv</span> <span class='texttt'>T</span>”
where
<span class='texttt'>T</span>
denotes a class<a class='hidden_link' href='#over.call.func-2.sentence-3'>.</a><a class='footnoteref' href='#footnote-100' id='footnoteref-100' title='Note that cv-qualifiers on the type of objects are significant in overload resolution for both glvalue and class prvalue objects.'>100</a></div> <div id='over.call.func-2.sentence-4' class='sentence'>
The function declarations found by name lookup (<a href='class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>)
constitute the set of candidate functions<a class='hidden_link' href='#over.call.func-2.sentence-4'>.</a></div> <div id='over.call.func-2.sentence-5' class='sentence'>The argument list is the
<a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list_'><span class='textsf'><i >expression-list</i></span></span></a>
in the call augmented by the addition of the left operand of
the
<span class='texttt'><span class='operator'>.</span></span>
operator in the normalized member function call as the
implied object argument ([over.<span class='shy'></span>match.<span class='shy'></span>funcs])<a class='hidden_link' href='#over.call.func-2.sentence-5'>.</a></div></div></div><div class='para' id='over.call.func-3'><div class='marginalizedparent'><a class='marginalized' href='#over.call.func-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L444'>#</a></div><div class='texpara'><div id='over.call.func-3.sentence-1' class='sentence'>In unqualified function calls, the function is named by a
<a href='expr.prim.grammar#nt:primary-expression' title='7.5.1&emsp;Grammar&emsp;[expr.prim.grammar]'><span id='ntref:primary-expression_'><span class='textsf'><i >primary-expression</i></span></span></a><a class='hidden_link' href='#over.call.func-3.sentence-1'>.</a></div> <div id='over.call.func-3.sentence-2' class='sentence'>The function declarations found by name lookup (<a href='basic.lookup' title='6.5&emsp;Name lookup'>[basic.<span class='shy'></span>lookup]</a>) constitute the
set of candidate functions<a class='hidden_link' href='#over.call.func-3.sentence-2'>.</a></div> <div id='over.call.func-3.sentence-3' class='sentence'>Because of the rules for name lookup, the set of candidate functions
consists either entirely of non-member functions or entirely of
member functions of some class
<span class='texttt'>T</span><a class='hidden_link' href='#over.call.func-3.sentence-3'>.</a></div> <div id='over.call.func-3.sentence-4' class='sentence'>In the former case or
if the <a href='expr.prim.grammar#nt:primary-expression' title='7.5.1&emsp;Grammar&emsp;[expr.prim.grammar]'><span id='ntref:primary-expression__'><span class='textsf'><i >primary-expression</i></span></span></a> is the address of an overload set,
the argument list is
the same as the
<a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list__'><span class='textsf'><i >expression-list</i></span></span></a>
in the call<a class='hidden_link' href='#over.call.func-3.sentence-4'>.</a></div> <div id='over.call.func-3.sentence-5' class='sentence'>Otherwise, the argument list is the
<a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list___'><span class='textsf'><i >expression-list</i></span></span></a>
in the call augmented by the addition of an implied object
argument as in a qualified function call<a class='hidden_link' href='#over.call.func-3.sentence-5'>.</a></div> <div id='over.call.func-3.sentence-6' class='sentence'>If the current class is, or is derived from, <span class='texttt'>T</span>, and the keyword
<span id=':this'><span class='texttt'><span class='keyword'>this</span></span></span> (<a href='expr.prim.this' title='7.5.3&emsp;This'>[expr.<span class='shy'></span>prim.<span class='shy'></span>this]</a>) refers to it,
then the implied object argument is <span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#over.call.func-3.sentence-6'>.</a></div> <div id='over.call.func-3.sentence-7' class='sentence'>Otherwise,
a contrived object of type
<span class='texttt'>T</span>
becomes the implied object argument;<a class='footnoteref' href='#footnote-101' id='footnoteref-101' title='An implied object argument is contrived to correspond to the implicit object parameter attributed to member functions during overload resolution. It is not used in the call to the selected function. Since the member functions all have the same implicit object parameter, the contrived object will not be the cause to select or reject a function.'>101</a>
if overload resolution selects a non-static member function,
the call is ill-formed<a class='hidden_link' href='#over.call.func-3.sentence-7'>.</a></div> <div id='over.call.func-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#over.call.func-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> a<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> b<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    a<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                <span class='comment'>// OK, <span class='tcode_in_codeblock'>(*this).a()</span></span>
  <span class='curlybracket'>}</span>

  <span class='keyword'>void</span> c<span class='parenthesis'>(</span><span class='keyword'>this</span> <span class='keyword'>const</span> C<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;    <span class='comment'>// #1</span>
  <span class='keyword'>void</span> c<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;               <span class='comment'>// #2</span>
  <span class='keyword'>static</span> <span class='keyword'>void</span> c<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='operator'>=</span> <span class='literal'>0</span><span class='parenthesis'>)</span>;   <span class='comment'>// #3</span>

  <span class='keyword'>void</span> d<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    c<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                <span class='comment'>// error: ambiguous between #2 and #3</span>
    <span class='parenthesis'>(</span>C<span class='operator'>::</span>c<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;           <span class='comment'>// error: as above</span>
    <span class='parenthesis'>(</span><span class='operator'>&amp;</span><span class='parenthesis'>(</span>C<span class='operator'>::</span>c<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;        <span class='comment'>// error: cannot resolve address of overloaded <span class='tcode_in_codeblock'>this-&gt;C&#x200b;::&#x200b;c</span> (<a href='over.over' title='12.3&emsp;Address of an overload set'>[over.<span class='shy'></span>over]</a>)</span>
    <span class='parenthesis'>(</span><span class='operator'>&amp;</span>C<span class='operator'>::</span>c<span class='parenthesis'>)</span><span class='parenthesis'>(</span>C<span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;       <span class='comment'>// selects #1</span>
    <span class='parenthesis'>(</span><span class='operator'>&amp;</span>C<span class='operator'>::</span>c<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>;     <span class='comment'>// error: selects #2, and is ill-formed (<a href='#over.match.call.general' title='12.2.2.2.1&emsp;General'>[over.<span class='shy'></span>match.<span class='shy'></span>call.<span class='shy'></span>general]</a>)</span>
    <span class='parenthesis'>(</span><span class='operator'>&amp;</span>C<span class='operator'>::</span>c<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;          <span class='comment'>// selects #3</span>
  <span class='curlybracket'>}</span>

  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>this</span> <span class='keyword'>const</span> C<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='curlybracket'>{</span>
    f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                <span class='comment'>// OK, <span class='tcode_in_codeblock'>(*this).f()</span></span>
    f<span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>;           <span class='comment'>// error: no viable candidate for <span class='tcode_in_codeblock'>(*this).f(*this)</span></span>
    <span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;          <span class='comment'>// OK</span>
  <span class='curlybracket'>}</span>

  <span class='keyword'>static</span> <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                <span class='comment'>// error: contrived object argument, but overload resolution</span>
                        <span class='comment'>// picked a non-static member function</span>
    f<span class='parenthesis'>(</span>C<span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;             <span class='comment'>// error: no viable candidate</span>
    C<span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;            <span class='comment'>// OK</span>
  <span class='curlybracket'>}</span>

  <span class='keyword'>void</span> k<span class='parenthesis'>(</span><span class='keyword'>this</span> <span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
  <span class='keyword'>void</span> m<span class='parenthesis'>(</span><span class='keyword'>this</span> <span class='keyword'>const</span> C<span class='operator'>&amp;</span> c<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    c<span class='operator'>.</span>k<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// OK</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-100'><div class='texpara'><a class='footnotenum' href='#footnote-100'>100)</a><a class='footnoteBacklink' href='#footnoteref-100'>100)</a> <div id='footnote-100.sentence-1' class='sentence'>Note that cv-qualifiers on the type of objects are
significant in overload
resolution for
both glvalue and class prvalue objects<a class='hidden_link' href='#footnote-100.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-101'><div class='texpara'><a class='footnotenum' href='#footnote-101'>101)</a><a class='footnoteBacklink' href='#footnoteref-101'>101)</a> <div id='footnote-101.sentence-1' class='sentence'>An implied object argument is contrived to
correspond to the implicit object
parameter attributed to member functions during overload resolution<a class='hidden_link' href='#footnote-101.sentence-1'>.</a></div> <div id='footnote-101.sentence-2' class='sentence'>It is not
used in
the call to the selected function<a class='hidden_link' href='#footnote-101.sentence-2'>.</a></div> <div id='footnote-101.sentence-3' class='sentence'>Since the member functions all have the
same implicit
object parameter, the contrived object will not be the cause to select or
reject a
function<a class='hidden_link' href='#footnote-101.sentence-3'>.</a></div></div></div></div><div id='over.call.object' class='section'><h4 ><a class='secnum' href='#over.call.object' style='min-width:110pt'>12.2.2.2.3</a> Call to object of class type <a class='abbr_ref' href='over.call.object'>[over.call.object]</a></h4><div class='para' id='over.call.object-1'><div class='marginalizedparent'><a class='marginalized' href='#over.call.object-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L531'>#</a></div><div class='texpara'><div id='over.call.object-1.sentence-1' class='sentence'>If the <a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression__________'><span class='textsf'><i >postfix-expression</i></span></span></a> <span class='texttt'>E</span>
in the function call syntax evaluates
to a class object of type “<span class='mathit'>cv</span> <span class='texttt'>T</span>”,
then the set of candidate functions
includes at least the function call operators of <span class='texttt'>T</span><a class='hidden_link' href='#over.call.object-1.sentence-1'>.</a></div> <div id='over.call.object-1.sentence-2' class='sentence'>The function call operators of <span class='texttt'>T</span>
are the results of a search for the name <span class='texttt'><span id=':operator_'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
in the scope of <span class='texttt'>T</span><a class='hidden_link' href='#over.call.object-1.sentence-2'>.</a></div></div></div><div class='para' id='over.call.object-2'><div class='marginalizedparent'><a class='marginalized' href='#over.call.object-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L541'>#</a></div><div class='texpara'><div id='over.call.object-2.sentence-1' class='sentence'>In addition, for each non-explicit conversion function declared in <span class='texttt'>T</span> of the
form
<div class='simplebnf'>
<span id=':operator__'><span class='texttt'><span class='keyword'>operator</span></span></span> <a href='class.conv.fct#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id'><span class='textsf'><i >conversion-type-id</i></span></span></a> <span class='terminal'><span class='parenthesis'>(</span><span style='white-space:nowrap'>&thinsp;</span><span class='parenthesis'>)</span></span> <a href='dcl.decl.general#nt:cv-qualifier-seq' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier-seq'><span class='textsf'><i >cv-qualifier-seq</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier____'><span class='textsf'><i >ref-qualifier</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier'><span class='textsf'><i >noexcept-specifier</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='terminal'>;</span>
</div>
where the optional
<a href='dcl.decl.general#nt:cv-qualifier-seq' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier-seq_'><span class='textsf'><i >cv-qualifier-seq</i></span></span></a>
is the same cv-qualification as, or a greater cv-qualification than,
<span class='mathit'>cv</span>,
and where
<a href='class.conv.fct#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id_'><span class='textsf'><i >conversion-type-id</i></span></span></a>
denotes the type “pointer to function
of (<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">P</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">…</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">P</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span></span>) returning <span class='texttt'>R</span>”,
or the type “reference to pointer to function
of (<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">P</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">…</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">P</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span></span>) returning <span class='texttt'>R</span>”,
or the type
“reference to function of (<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">P</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">…</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">P</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span></span>)
returning <span class='texttt'>R</span>”, a <a class='hidden_link' href='#def:surrogate_call_function' title='12.2.2.2.3&emsp;Call to object of class type&emsp;[over.call.object]'><span id='def:surrogate_call_function'><i >surrogate call function</i></span></a> with the unique name
<i >call-function</i>
and having the form
<div class='bnf'>
<span class='terminal'>R</span> <i >call-function</i> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='class.conv.fct#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id__'><span class='textsf'><i >conversion-type-id</i></span></span></a> &nbsp;<span class='terminal'>F, P<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span> a<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span>, <span class='math'>&hellip;</span>, P<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span></span> a<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span></span><span class='parenthesis'>)</span></span> <span class='terminal'><span class='curlybracket'>{</span> <span class='keyword'>return</span> F <span class='parenthesis'>(</span>a<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span>, <span class='math'>&hellip;</span>, a<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span></span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span></span>
</div>
is also considered as a candidate function<a class='hidden_link' href='#over.call.object-2.sentence-1'>.</a></div> <div id='over.call.object-2.sentence-2' class='sentence'>Similarly, surrogate
call functions are added to the set of candidate functions for
each non-explicit conversion function declared in a base class of
<span class='texttt'>T</span>
provided the function is not hidden within
<span class='texttt'>T</span>
by another
intervening declaration<a class='hidden_link' href='#over.call.object-2.sentence-2'>.</a><a class='footnoteref' href='#footnote-102' id='footnoteref-102' title='Note that this construction can yield candidate call functions that cannot be differentiated one from the other by overload resolution because they have identical declarations or differ only in their return type. The call will be ambiguous if overload resolution cannot select a match to the call that is uniquely better than such undifferentiable functions.'>102</a></div></div></div><div class='para' id='over.call.object-3'><div class='marginalizedparent'><a class='marginalized' href='#over.call.object-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L587'>#</a></div><div class='texpara'><div id='over.call.object-3.sentence-1' class='sentence'>The argument list submitted to overload resolution consists of
the argument expressions present in the function call syntax
preceded by the implied object argument
<span class='texttt'><span class='parenthesis'>(</span>E<span class='parenthesis'>)</span></span><a class='hidden_link' href='#over.call.object-3.sentence-1'>.</a></div> <div id='over.call.object-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#over.call.object-note-1'>1</a></i>:&ensp;<div id='over.call.object-3.sentence-2' class='sentence'>When comparing the
call against the function call operators, the implied object
argument is compared against the object parameter of the
function call operator<a class='hidden_link' href='#over.call.object-3.sentence-2'>.</a></div> <div id='over.call.object-3.sentence-3' class='sentence'>When comparing the call against a
surrogate call function, the implied object argument is compared
against the first parameter of the surrogate call function<a class='hidden_link' href='#over.call.object-3.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='over.call.object-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#over.call.object-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>int</span> f1<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> f2<span class='parenthesis'>(</span><span class='keyword'>float</span><span class='parenthesis'>)</span>;
<span class='keyword'>typedef</span> <span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span>fp1<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>typedef</span> <span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span>fp2<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>float</span><span class='parenthesis'>)</span>;
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> fp1<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> f1; <span class='curlybracket'>}</span>
  <span class='keyword'>operator</span> fp2<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> f2; <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span> a;
<span class='keyword'>int</span> i <span class='operator'>=</span> a<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                   <span class='comment'>// calls <span class='tcode_in_codeblock'>f1</span> via pointer returned from conversion function</span>
</span> —&nbsp;<i>end example</i>]</div></div> </div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-102'><div class='texpara'><a class='footnotenum' href='#footnote-102'>102)</a><a class='footnoteBacklink' href='#footnoteref-102'>102)</a> <div id='footnote-102.sentence-1' class='sentence'>Note that this construction can yield
candidate call functions that cannot be
differentiated one from the other by overload resolution because they have
identical
declarations or differ only in their return type<a class='hidden_link' href='#footnote-102.sentence-1'>.</a></div> <div id='footnote-102.sentence-2' class='sentence'>The call will be ambiguous
if overload
resolution cannot select a match to the call that is uniquely better than such
undifferentiable functions<a class='hidden_link' href='#footnote-102.sentence-2'>.</a></div></div></div></div></div><div id='over.match.oper' class='section'><h4 ><a class='secnum' href='#over.match.oper' style='min-width:95pt'>12.2.2.3</a> Operators in expressions <a class='abbr_ref' href='over.match.oper'>[over.match.oper]</a></h4><div class='texpara'><a class='index' id=':overloading,resolution,operators'></a></div><div class='para' id='over.match.oper-1'><div class='marginalizedparent'><a class='marginalized' href='#over.match.oper-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L619'>#</a></div><div class='texpara'><div id='over.match.oper-1.sentence-1' class='sentence'>If no operand of an operator in an expression has a type that is a class
or an enumeration, the operator is assumed to be a built-in operator
and interpreted according to <a href='expr.compound' title='7.6&emsp;Compound expressions'>[expr.<span class='shy'></span>compound]</a><a class='hidden_link' href='#over.match.oper-1.sentence-1'>.</a></div> <div id='over.match.oper-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#over.match.oper-note-1'>1</a></i>:&ensp;<div id='over.match.oper-1.sentence-2' class='sentence'>Because
<span class='texttt'><span class='operator'>.</span></span>,
<span class='texttt'><span class='operator'>.</span><span class='operator'>*</span></span>,
and
<span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span>
cannot be overloaded,
these operators are always built-in operators interpreted according to
<a href='expr.compound' title='7.6&emsp;Compound expressions'>[expr.<span class='shy'></span>compound]</a><a class='hidden_link' href='#over.match.oper-1.sentence-2'>.</a></div> <div id='over.match.oper-1.sentence-3' class='sentence'><span class='texttt'><span class='operator'>?</span><span class='operator'>:</span></span>
cannot be overloaded, but the rules in this subclause are used to determine
the conversions to be applied to the second and third operands when they
have class or enumeration type (<a href='expr.cond' title='7.6.16&emsp;Conditional operator'>[expr.<span class='shy'></span>cond]</a>)<a class='hidden_link' href='#over.match.oper-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='over.match.oper-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#over.match.oper-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> String <span class='curlybracket'>{</span>
  String <span class='parenthesis'>(</span><span class='keyword'>const</span> String<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  String <span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
  <span class='keyword'>operator</span> <span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> <span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
String <span class='keyword'>operator</span> <span class='operator'>+</span> <span class='parenthesis'>(</span><span class='keyword'>const</span> String<span class='operator'>&amp;</span>, <span class='keyword'>const</span> String<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> p<span class='operator'>=</span> <span class='literal'>"one"</span> <span class='operator'>+</span> <span class='literal'>"two"</span>; <span class='comment'>// error: cannot add two pointers; overloaded <span class='tcode_in_codeblock'><span id=':operator______'><span class='tcode_in_codeblock'>operator</span></span>+</span> not considered</span>
                                <span class='comment'>// because neither operand has class or enumeration type</span>
  <span class='keyword'>int</span> I <span class='operator'>=</span> <span class='literal'>1</span> <span class='operator'>+</span> <span class='literal'>1</span>;                <span class='comment'>// always evaluates to <span class='tcode_in_codeblock'>2</span> even if class or enumeration types exist</span>
                                <span class='comment'>// that would perform the operation.</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='over.match.oper-2'><div class='marginalizedparent'><a class='marginalized' href='#over.match.oper-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L655'>#</a></div><div class='texpara'><div id='over.match.oper-2.sentence-1' class='sentence'>If either operand has a type that is a class or an enumeration, a
user-defined operator function can be declared that implements
this operator or a user-defined conversion can be necessary to
convert the operand to a type that is appropriate for a built-in
operator<a class='hidden_link' href='#over.match.oper-2.sentence-1'>.</a></div> <div id='over.match.oper-2.sentence-2' class='sentence'>In this case, overload resolution is used to determine
which operator function or built-in operator is to be invoked to implement the
operator<a class='hidden_link' href='#over.match.oper-2.sentence-2'>.</a></div> <div id='over.match.oper-2.sentence-3' class='sentence'>Therefore, the operator notation is first transformed
to the equivalent function-call notation as summarized in
Table <a href='#tab:over.match.oper' title='Table 18: Relationship between operator and function call notation'>18</a>
(where <span class='texttt'>@</span> denotes one of the operators covered in the specified subclause)<a class='hidden_link' href='#over.match.oper-2.sentence-3'>.</a></div> <div id='over.match.oper-2.sentence-4' class='sentence'>However, the operands are sequenced in the order prescribed
for the built-in operator (<a href='expr.compound' title='7.6&emsp;Compound expressions'>[expr.<span class='shy'></span>compound]</a>)<a class='hidden_link' href='#over.match.oper-2.sentence-4'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:over.match.oper'>Table <a href='#tab:over.match.oper'>18</a>: Relationship between operator and function call notation&emsp;<a href='./tab:over.match.oper'>[tab:over.match.oper]</a><br><table ><tr id='tab:over.match.oper-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:over.match.oper-row-1'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:over.match.oper-row-1-column-1-sentence-1' class='sentence'><b>Subclause</b></div></div></td><td class='border left'><div class='texpara'><div id='tab:over.match.oper-row-1-column-2-sentence-1' class='sentence'><b>Expression</b></div></div></td><td class='border left'><div class='texpara'><div id='tab:over.match.oper-row-1-column-3-sentence-1' class='sentence'><b>As member function</b></div></div></td><td class='border left'><div class='texpara'><div id='tab:over.match.oper-row-1-column-4-sentence-1' class='sentence'><b>As non-member function</b></div></div></td></tr><tr id='tab:over.match.oper-row-2' class='capsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:over.match.oper-row-2'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:over.match.oper-row-2-column-1-sentence-1' class='sentence'><a href='over.unary' title='12.4.2&emsp;Unary operators'>[over.<span class='shy'></span>unary]</a></div></div></td><td class='border left'><div class='texpara'><div id='tab:over.match.oper-row-2-column-2-sentence-1' class='sentence'><span class='texttt'>@a</span></div></div></td><td class='border left'><div class='texpara'><div id='tab:over.match.oper-row-2-column-3-sentence-1' class='sentence'><span class='texttt'><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span><span class='operator'>.</span><span id=':operator_______'><span class='texttt'><span class='keyword'>operator</span></span></span>@ <span class='parenthesis'>(</span><span style='white-space:nowrap'>&thinsp;</span><span class='parenthesis'>)</span></span></div></div></td><td class='border left'><div class='texpara'><div id='tab:over.match.oper-row-2-column-4-sentence-1' class='sentence'><span class='texttt'><span id=':operator________'><span class='texttt'><span class='keyword'>operator</span></span></span>@<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span></span></div></div></td></tr><tr id='tab:over.match.oper-row-3'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:over.match.oper-row-3'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:over.match.oper-row-3-column-1-sentence-1' class='sentence'><a href='over.binary' title='12.4.3&emsp;Binary operators'>[over.<span class='shy'></span>binary]</a></div></div></td><td class='border left'><div class='texpara'><div id='tab:over.match.oper-row-3-column-2-sentence-1' class='sentence'><span class='texttt'>a@b</span></div></div></td><td class='border left'><div class='texpara'><div id='tab:over.match.oper-row-3-column-3-sentence-1' class='sentence'><span class='texttt'><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span><span class='operator'>.</span><span id=':operator_________'><span class='texttt'><span class='keyword'>operator</span></span></span>@ <span class='parenthesis'>(</span>b<span class='parenthesis'>)</span></span></div></div></td><td class='border left'><div class='texpara'><div id='tab:over.match.oper-row-3-column-4-sentence-1' class='sentence'><span class='texttt'><span id=':operator__________'><span class='texttt'><span class='keyword'>operator</span></span></span>@<span class='parenthesis'>(</span>a, b<span class='parenthesis'>)</span></span></div></div></td></tr><tr id='tab:over.match.oper-row-4'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:over.match.oper-row-4'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:over.match.oper-row-4-column-1-sentence-1' class='sentence'><a href='over.ass' title='12.4.3.2&emsp;Simple assignment'>[over.<span class='shy'></span>ass]</a></div></div></td><td class='border left'><div class='texpara'><div id='tab:over.match.oper-row-4-column-2-sentence-1' class='sentence'><span class='texttt'>a<span class='operator'>=</span>b</span></div></div></td><td class='border left'><div class='texpara'><div id='tab:over.match.oper-row-4-column-3-sentence-1' class='sentence'><span class='texttt'><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span><span class='operator'>.</span><span id=':operator___________'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='operator'>=</span> <span class='parenthesis'>(</span>b<span class='parenthesis'>)</span></span></div></div></td><td class='empty border left'></td></tr><tr id='tab:over.match.oper-row-5'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:over.match.oper-row-5'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:over.match.oper-row-5-column-1-sentence-1' class='sentence'><a href='over.sub' title='12.4.5&emsp;Subscripting'>[over.<span class='shy'></span>sub]</a></div></div></td><td class='border left'><div class='texpara'><div id='tab:over.match.oper-row-5-column-2-sentence-1' class='sentence'><span class='texttt'>a<span class='squarebracket'>[</span>b<span class='squarebracket'>]</span></span></div></div></td><td class='border left'><div class='texpara'><div id='tab:over.match.oper-row-5-column-3-sentence-1' class='sentence'><span class='texttt'><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span><span class='operator'>.</span><span id=':operator____________'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span>b<span class='parenthesis'>)</span></span></div></div></td><td class='empty border left'></td></tr><tr id='tab:over.match.oper-row-6'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:over.match.oper-row-6'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:over.match.oper-row-6-column-1-sentence-1' class='sentence'><a href='over.ref' title='12.4.6&emsp;Class member access'>[over.<span class='shy'></span>ref]</a></div></div></td><td class='border left'><div class='texpara'><div id='tab:over.match.oper-row-6-column-2-sentence-1' class='sentence'><span class='texttt'>a<span class='operator'>-</span><span class='anglebracket'>&gt;</span></span></div></div></td><td class='border left'><div class='texpara'><div id='tab:over.match.oper-row-6-column-3-sentence-1' class='sentence'><span class='texttt'><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span><span class='operator'>.</span><span id=':operator_____________'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span style='white-space:nowrap'>&thinsp;</span><span class='parenthesis'>)</span></span></div></div></td><td class='empty border left'></td></tr><tr id='tab:over.match.oper-row-7'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:over.match.oper-row-7'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:over.match.oper-row-7-column-1-sentence-1' class='sentence'><a href='over.inc' title='12.4.7&emsp;Increment and decrement'>[over.<span class='shy'></span>inc]</a></div></div></td><td class='border left'><div class='texpara'><div id='tab:over.match.oper-row-7-column-2-sentence-1' class='sentence'><span class='texttt'>a@</span></div></div></td><td class='border left'><div class='texpara'><div id='tab:over.match.oper-row-7-column-3-sentence-1' class='sentence'><span class='texttt'><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span><span class='operator'>.</span><span id=':operator______________'><span class='texttt'><span class='keyword'>operator</span></span></span>@ <span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span></span></div></div></td><td class='border left'><div class='texpara'><div id='tab:over.match.oper-row-7-column-4-sentence-1' class='sentence'><span class='texttt'><span id=':operator_______________'><span class='texttt'><span class='keyword'>operator</span></span></span>@<span class='parenthesis'>(</span>a, <span class='literal'>0</span><span class='parenthesis'>)</span></span></div></div></td></tr></table></div></div></div><div class='para' id='over.match.oper-3'><div class='marginalizedparent'><a class='marginalized' href='#over.match.oper-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L683'>#</a></div><div class='texpara'><div id='over.match.oper-3.sentence-1' class='sentence'>For a unary operator <span class='texttt'>@</span>
with an operand of type <i >cv1</i> <span class='texttt'>T1</span>,
and for a binary operator <span class='texttt'>@</span>
with a left operand of type <i >cv1</i> <span class='texttt'>T1</span>
and a right operand of type <i >cv2</i> <span class='texttt'>T2</span>,
four sets of candidate functions, designated
<a class='hidden_link' href='#def:member_candidate' title='12.2.2.3&emsp;Operators in expressions&emsp;[over.match.oper]'><span id='def:member_candidate'><i >member candidates</i></span></a>,
<a class='hidden_link' href='#def:non-member_candidate' title='12.2.2.3&emsp;Operators in expressions&emsp;[over.match.oper]'><span id='def:non-member_candidate'><i >non-member candidates</i></span></a>,
<a class='hidden_link' href='#def:built-in_candidate' title='12.2.2.3&emsp;Operators in expressions&emsp;[over.match.oper]'><span id='def:built-in_candidate'><i >built-in candidates</i></span></a>,
and
<a class='hidden_link' href='#def:rewritten_candidate' title='12.2.2.3&emsp;Operators in expressions&emsp;[over.match.oper]'><span id='def:rewritten_candidate'><i >rewritten candidates</i></span></a>,
are constructed as follows:
<ul class='itemize'><li id='over.match.oper-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.oper-3.1'>(3.1)</a></div><div class='texpara'><div id='over.match.oper-3.1.sentence-1' class='sentence'>If <span class='texttt'>T1</span> is a complete class type or a class currently being defined,
the set of member candidates is the result of a search for
<span class='texttt'><span id=':operator________________'><span class='texttt'><span class='keyword'>operator</span></span></span>@</span> in the scope of <span class='texttt'>T1</span>;
otherwise, the set of member candidates is empty<a class='hidden_link' href='#over.match.oper-3.1.sentence-1'>.</a></div></div></li><li id='over.match.oper-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.oper-3.2'>(3.2)</a></div><div class='texpara'><div id='over.match.oper-3.2.sentence-1' class='sentence'>For the operators <span class='texttt'><span class='operator'>=</span></span>, <span class='texttt'><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>, or <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>,
the set of non-member candidates is empty;
otherwise, it includes the result of unqualified lookup for
<span class='texttt'><span id=':operator_________________'><span class='texttt'><span class='keyword'>operator</span></span></span>@</span>
in the rewritten function call (<a href='basic.lookup.unqual' title='6.5.3&emsp;Unqualified name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>unqual]</a>, <a href='basic.lookup.argdep' title='6.5.4&emsp;Argument-dependent name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>argdep]</a>),
ignoring all member functions<a class='hidden_link' href='#over.match.oper-3.2.sentence-1'>.</a></div> <div id='over.match.oper-3.2.sentence-2' class='sentence'>However, if no operand has a class type, only those non-member
functions in the lookup set that have a first parameter of type
<span class='texttt'>T1</span>
or “reference to <span class='mathit'>cv</span> <span class='texttt'>T1</span>”,
when
<span class='texttt'>T1</span>
is an enumeration type,
or (if there is a right operand) a second parameter of type
<span class='texttt'>T2</span>
or “reference to <span class='mathit'>cv</span> <span class='texttt'>T2</span>”,
when
<span class='texttt'>T2</span>
is an enumeration type,
are candidate functions<a class='hidden_link' href='#over.match.oper-3.2.sentence-2'>.</a></div></div></li><li id='over.match.oper-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.oper-3.3'>(3.3)</a></div><div class='texpara'><div id='over.match.oper-3.3.sentence-1' class='sentence'>For the operator
<span class='texttt'>,</span>,
the unary operator
<span class='texttt'><span class='operator'>&amp;</span></span>,
or the operator
<span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>,
the built-in candidates set is empty<a class='hidden_link' href='#over.match.oper-3.3.sentence-1'>.</a></div> <div id='over.match.oper-3.3.sentence-2' class='sentence'>For all other operators, the built-in candidates include all
of the candidate operator functions defined in <a href='over.built' title='12.5&emsp;Built-in operators'>[over.<span class='shy'></span>built]</a> that,
compared to the given operator,
<ul class='itemize'><li id='over.match.oper-3.3.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.oper-3.3.1'>(3.3.1)</a></div>have the same operator name, and</li><li id='over.match.oper-3.3.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.oper-3.3.2'>(3.3.2)</a></div>accept the same number of operands, and</li><li id='over.match.oper-3.3.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.oper-3.3.3'>(3.3.3)</a></div>accept operand types to which the given operand or
operands can be converted according to <a href='over.best.ics' title='12.2.4.2&emsp;Implicit conversion sequences'>[over.<span class='shy'></span>best.<span class='shy'></span>ics]</a>, and</li><li id='over.match.oper-3.3.4'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.oper-3.3.4'>(3.3.4)</a></div>do not have the same parameter-type-list as any non-member candidate
or rewritten non-member candidate
that is not a function template specialization<a class='hidden_link' href='#over.match.oper-3.3.sentence-2'>.</a></li></ul></div></div></li><li id='over.match.oper-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.oper-3.4'>(3.4)</a></div><div class='texpara'><div id='over.match.oper-3.4.sentence-1' class='sentence'>The rewritten candidate set is determined as follows:
<ul class='itemize'><li id='over.match.oper-3.4.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.oper-3.4.1'>(3.4.1)</a></div><div class='texpara'><div id='over.match.oper-3.4.1.sentence-1' class='sentence'>For the relational (<a href='expr.rel' title='7.6.9&emsp;Relational operators'>[expr.<span class='shy'></span>rel]</a>) operators,
the rewritten candidates include
all non-rewritten candidates
for the expression <span class='texttt'>x <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> y</span><a class='hidden_link' href='#over.match.oper-3.4.1.sentence-1'>.</a></div></div></li><li id='over.match.oper-3.4.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.oper-3.4.2'>(3.4.2)</a></div><div class='texpara'><div id='over.match.oper-3.4.2.sentence-1' class='sentence'>For the
relational (<a href='expr.rel' title='7.6.9&emsp;Relational operators'>[expr.<span class='shy'></span>rel]</a>) and
three-way comparison (<a href='expr.spaceship' title='7.6.8&emsp;Three-way comparison operator'>[expr.<span class='shy'></span>spaceship]</a>)
operators,
the rewritten candidates also include
a synthesized candidate,
with the order of the two parameters reversed,
for each non-rewritten candidate
for the expression
<span class='texttt'>y <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> x</span><a class='hidden_link' href='#over.match.oper-3.4.2.sentence-1'>.</a></div></div></li><li id='over.match.oper-3.4.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.oper-3.4.3'>(3.4.3)</a></div><div class='texpara'><div id='over.match.oper-3.4.3.sentence-1' class='sentence'>For the <span class='texttt'><span class='operator'>!</span><span class='operator'>=</span></span> operator (<a href='expr.eq' title='7.6.10&emsp;Equality operators'>[expr.<span class='shy'></span>eq]</a>),
the rewritten candidates
include all non-rewritten candidates
for the expression <span class='texttt'>x <span class='operator'>=</span><span class='operator'>=</span> y</span>
that are rewrite targets with first operand <span class='texttt'>x</span> (see below)<a class='hidden_link' href='#over.match.oper-3.4.3.sentence-1'>.</a></div></div></li><li id='over.match.oper-3.4.4'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.oper-3.4.4'>(3.4.4)</a></div><div class='texpara'><div id='over.match.oper-3.4.4.sentence-1' class='sentence'>For the equality operators,
the rewritten candidates also include a synthesized candidate,
with the order of the two parameters reversed,
for each non-rewritten candidate
for the expression <span class='texttt'>y <span class='operator'>=</span><span class='operator'>=</span> x</span>
that is a rewrite target with first operand <span class='texttt'>y</span><a class='hidden_link' href='#over.match.oper-3.4.4.sentence-1'>.</a></div></div></li><li id='over.match.oper-3.4.5'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.oper-3.4.5'>(3.4.5)</a></div><div class='texpara'><div id='over.match.oper-3.4.5.sentence-1' class='sentence'>For all other operators, the rewritten candidate set is empty<a class='hidden_link' href='#over.match.oper-3.4.5.sentence-1'>.</a></div></div></li></ul></div> <div id='over.match.oper-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#over.match.oper-note-2'>2</a></i>:&ensp;<div id='over.match.oper-3.4.sentence-2' class='sentence'>A candidate synthesized from a member candidate has its
object parameter as the second parameter, thus implicit conversions
are considered for the first, but not for the second, parameter<a class='hidden_link' href='#over.match.oper-3.4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div></div></div><div class='para' id='over.match.oper-4'><div class='marginalizedparent'><a class='marginalized' href='#over.match.oper-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L790'>#</a></div><div class='texpara'><div id='over.match.oper-4.sentence-1' class='sentence'>A non-template function or function template <span class='texttt'>F</span> named <span class='texttt'><span id=':operator__________________'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='operator'>=</span><span class='operator'>=</span></span>
is a rewrite target with first operand <span class='texttt'>o</span>
unless a search for the name <span class='texttt'><span id=':operator___________________'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='operator'>!</span><span class='operator'>=</span></span> in the scope <span class='math'><span class='mathalpha'>S</span></span>
from the instantiation context of the operator expression
finds a function or function template
that would correspond (<a href='basic.scope.scope' title='6.4.1&emsp;General'>[basic.<span class='shy'></span>scope.<span class='shy'></span>scope]</a>) to <span class='texttt'>F</span>
if its name were <span class='texttt'><span id=':operator____________________'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='operator'>=</span><span class='operator'>=</span></span>,
where <span class='math'><span class='mathalpha'>S</span></span> is the scope of the class type of <span class='texttt'>o</span>
if <span class='texttt'>F</span> is a class member, and
the namespace scope of which <span class='texttt'>F</span> is a member otherwise<a class='hidden_link' href='#over.match.oper-4.sentence-1'>.</a></div> <div id='over.match.oper-4.sentence-2' class='sentence'>A function template specialization named <span class='texttt'><span id=':operator_____________________'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='operator'>=</span><span class='operator'>=</span></span> is a rewrite target
if its function template is a rewrite target<a class='hidden_link' href='#over.match.oper-4.sentence-2'>.</a></div> <div id='over.match.oper-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#over.match.oper-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span>A, T<span class='parenthesis'>)</span>;     <span class='comment'>// #1</span>
<span class='keyword'>bool</span> a1 <span class='operator'>=</span> <span class='literal'>0</span> <span class='operator'>=</span><span class='operator'>=</span> A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                             <span class='comment'>// OK, calls reversed #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span>A, T<span class='parenthesis'>)</span>;
<span class='keyword'>bool</span> a2 <span class='operator'>=</span> <span class='literal'>0</span> <span class='operator'>=</span><span class='operator'>=</span> A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                             <span class='comment'>// error, #1 is not a rewrite target</span>

<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> B<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;    <span class='comment'>// #2</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  C<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  C<span class='parenthesis'>(</span>B<span class='parenthesis'>)</span>;
  <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> B<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;    <span class='comment'>// #3</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>bool</span> c1 <span class='operator'>=</span> B<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> C<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;           <span class='comment'>// OK, calls #2; reversed #2 is not a candidate</span>
                                <span class='comment'>// because search for <span class='tcode_in_codeblock'><span id=':operator______________________'><span class='tcode_in_codeblock'>operator</span></span>!=</span> in <span class='tcode_in_codeblock'>C</span> finds #3</span>
<span class='keyword'>bool</span> c2 <span class='operator'>=</span> C<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;           <span class='comment'>// error: ambiguous between #2 found when searching <span class='tcode_in_codeblock'>C</span> and</span>
                                <span class='comment'>// reversed #2 found when searching <span class='tcode_in_codeblock'>B</span></span>

<span class='keyword'>struct</span> D <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span>D, T<span class='parenthesis'>)</span>;     <span class='comment'>// #4</span>
<span class='keyword'>inline</span> <span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span>D, T<span class='parenthesis'>)</span>;   <span class='comment'>// #5</span>
<span class='curlybracket'>}</span>
<span class='keyword'>bool</span> d1 <span class='operator'>=</span> <span class='literal'>0</span> <span class='operator'>=</span><span class='operator'>=</span> D<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;             <span class='comment'>// OK, calls reversed #4; #5 does not forbid #4 as a rewrite target</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='over.match.oper-5'><div class='marginalizedparent'><a class='marginalized' href='#over.match.oper-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L833'>#</a></div><div class='texpara'><div id='over.match.oper-5.sentence-1' class='sentence'>For the first parameter of the built-in assignment operators,
only standard conversion sequences (<a href='over.ics.scs' title='12.2.4.2.2&emsp;Standard conversion sequences'>[over.<span class='shy'></span>ics.<span class='shy'></span>scs]</a>) are considered<a class='hidden_link' href='#over.match.oper-5.sentence-1'>.</a></div></div></div><div class='para' id='over.match.oper-6'><div class='marginalizedparent'><a class='marginalized' href='#over.match.oper-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L837'>#</a></div><div class='texpara'><div id='over.match.oper-6.sentence-1' class='sentence'>For all other operators, no such restrictions apply<a class='hidden_link' href='#over.match.oper-6.sentence-1'>.</a></div></div></div><div class='para' id='over.match.oper-7'><div class='marginalizedparent'><a class='marginalized' href='#over.match.oper-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L840'>#</a></div><div class='texpara'><div id='over.match.oper-7.sentence-1' class='sentence'>The set of candidate functions for overload resolution
for some operator <span class='texttt'>@</span>
is the
union of
the member candidates,
the non-member candidates,
the built-in candidates,
and the rewritten candidates
for that operator <span class='texttt'>@</span><a class='hidden_link' href='#over.match.oper-7.sentence-1'>.</a></div></div></div><div class='para' id='over.match.oper-8'><div class='marginalizedparent'><a class='marginalized' href='#over.match.oper-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L851'>#</a></div><div class='texpara'><div id='over.match.oper-8.sentence-1' class='sentence'>The argument list contains all of the
operands of the operator<a class='hidden_link' href='#over.match.oper-8.sentence-1'>.</a></div> <div id='over.match.oper-8.sentence-2' class='sentence'>The best function from the set of candidate functions is selected
according to <a href='over.match.viable' title='12.2.3&emsp;Viable functions'>[over.<span class='shy'></span>match.<span class='shy'></span>viable]</a>
and <a href='over.match.best' title='12.2.4&emsp;Best viable function'>[over.<span class='shy'></span>match.<span class='shy'></span>best]</a><a class='hidden_link' href='#over.match.oper-8.sentence-2'>.</a><a class='footnoteref' href='#footnote-103' id='footnoteref-103' title='If the set of candidate functions is empty, overload resolution is unsuccessful.'>103</a></div> <div id='over.match.oper-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#over.match.oper-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
A <span class='keyword'>operator</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='keyword'>const</span> A<span class='operator'>&amp;</span>, <span class='keyword'>const</span> A<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='keyword'>void</span> m<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A a, b;
  a <span class='operator'>+</span> b;                        <span class='comment'>// <span class='tcode_in_codeblock'><span id=':operator_______________________'><span class='tcode_in_codeblock'>operator</span></span>+(a, b)</span> chosen over <span class='tcode_in_codeblock'>int(a) + int(b)</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='over.match.oper-9'><div class='marginalizedparent'><a class='marginalized' href='#over.match.oper-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L874'>#</a></div><div class='texpara'><div id='over.match.oper-9.sentence-1' class='sentence'>If a rewritten <span class='texttt'><span id=':operator________________________'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span></span> candidate
is selected by overload resolution
for an operator <span class='texttt'>@</span>,
<span class='texttt'>x @ y</span>
is interpreted as
<span class='texttt'><span class='literal'>0</span> @ <span class='parenthesis'>(</span>y <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> x<span class='parenthesis'>)</span></span>
if the selected candidate is a synthesized candidate
with reversed order of parameters,
or <span class='texttt'><span class='parenthesis'>(</span>x <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> y<span class='parenthesis'>)</span> @ <span class='literal'>0</span></span> otherwise,
using the selected rewritten <span class='texttt'><span id=':operator_________________________'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span></span> candidate<a class='hidden_link' href='#over.match.oper-9.sentence-1'>.</a></div> <div id='over.match.oper-9.sentence-2' class='sentence'>Rewritten candidates for the operator <span class='texttt'>@</span>
are not considered in the context of the resulting expression<a class='hidden_link' href='#over.match.oper-9.sentence-2'>.</a></div></div></div><div class='para' id='over.match.oper-10'><div class='marginalizedparent'><a class='marginalized' href='#over.match.oper-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L888'>#</a></div><div class='texpara'><div id='over.match.oper-10.sentence-1' class='sentence'>If a rewritten <span class='texttt'><span id=':operator__________________________'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='operator'>=</span><span class='operator'>=</span></span> candidate
is selected by overload resolution
for an operator <span class='texttt'>@</span>,
its return type shall be <span class='mathit'>cv</span> <span class='texttt'><span class='keyword'>bool</span></span>, and
<span class='texttt'>x @ y</span> is interpreted as:
<ul class='itemize'><li id='over.match.oper-10.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.oper-10.1'>(10.1)</a></div>if <span class='texttt'>@</span> is <span class='texttt'><span class='operator'>!</span><span class='operator'>=</span></span>
and the selected candidate is a synthesized candidate
with reversed order of parameters,
<span class='texttt'><span class='operator'>!</span><span class='parenthesis'>(</span>y <span class='operator'>=</span><span class='operator'>=</span> x<span class='parenthesis'>)</span></span>,</li><li id='over.match.oper-10.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.oper-10.2'>(10.2)</a></div>otherwise, if <span class='texttt'>@</span> is <span class='texttt'><span class='operator'>!</span><span class='operator'>=</span></span>,
<span class='texttt'><span class='operator'>!</span><span class='parenthesis'>(</span>x <span class='operator'>=</span><span class='operator'>=</span> y<span class='parenthesis'>)</span></span>,</li><li id='over.match.oper-10.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.oper-10.3'>(10.3)</a></div>otherwise (when <span class='texttt'>@</span> is <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span>),
<span class='texttt'>y <span class='operator'>=</span><span class='operator'>=</span> x</span>,</li></ul>
in each case using the selected rewritten <span class='texttt'><span id=':operator___________________________'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='operator'>=</span><span class='operator'>=</span></span> candidate<a class='hidden_link' href='#over.match.oper-10.sentence-1'>.</a></div></div></div><div class='para' id='over.match.oper-11'><div class='marginalizedparent'><a class='marginalized' href='#over.match.oper-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L909'>#</a></div><div class='texpara'><div id='over.match.oper-11.sentence-1' class='sentence'>If a built-in candidate is selected by overload resolution, the
operands of class type are converted to the types of the corresponding parameters
of the selected operation function, except that the second standard conversion
sequence of a <a href='over.ics.user' title='12.2.4.2.3&emsp;User-defined conversion sequences&emsp;[over.ics.user]'>user-defined conversion sequence</a> is not applied<a class='hidden_link' href='#over.match.oper-11.sentence-1'>.</a></div> <div id='over.match.oper-11.sentence-2' class='sentence'>Then the operator is treated as the corresponding
built-in operator and interpreted according to <a href='expr.compound' title='7.6&emsp;Compound expressions'>[expr.<span class='shy'></span>compound]</a><a class='hidden_link' href='#over.match.oper-11.sentence-2'>.</a></div> <div id='over.match.oper-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#over.match.oper-example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>double</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Y <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>int</span> <span class='operator'>*</span>a <span class='operator'>=</span> Y<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>+</span> <span class='literal'>100.0</span>;           <span class='comment'>// error: pointer arithmetic requires integral operand</span>
<span class='keyword'>int</span> <span class='operator'>*</span>b <span class='operator'>=</span> Y<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>+</span> X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;             <span class='comment'>// error: pointer arithmetic requires integral operand</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='over.match.oper-12'><div class='marginalizedparent'><a class='marginalized' href='#over.match.oper-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L931'>#</a></div><div class='texpara'><div id='over.match.oper-12.sentence-1' class='sentence'>The second operand of operator
<span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
is ignored in selecting an
<span class='texttt'><span id=':operator____________________________'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
function, and is not an argument when the
<span class='texttt'><span id=':operator_____________________________'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
function is called<a class='hidden_link' href='#over.match.oper-12.sentence-1'>.</a></div> <div id='over.match.oper-12.sentence-2' class='sentence'>When
<span class='texttt'><span id=':operator______________________________'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
returns, the operator
<span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
is applied to the value returned, with the original second
operand<a class='hidden_link' href='#over.match.oper-12.sentence-2'>.</a><a class='footnoteref' href='#footnote-104' id='footnoteref-104' title='If the value returned by the operator-&gt; function has class type, this can result in selecting and calling another operator-&gt; function. The process repeats until an operator-&gt; function returns a value of non-class type.'>104</a></div></div></div><div class='para' id='over.match.oper-13'><div class='marginalizedparent'><a class='marginalized' href='#over.match.oper-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L956'>#</a></div><div class='texpara'><div id='over.match.oper-13.sentence-1' class='sentence'>If the operator is the operator
<span class='texttt'>,</span>,
the unary operator
<span class='texttt'><span class='operator'>&amp;</span></span>,
or the operator
<span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>,
and there are no viable functions, then the operator is
assumed to be the built-in operator and interpreted according to
<a href='expr.compound' title='7.6&emsp;Compound expressions'>[expr.<span class='shy'></span>compound]</a><a class='hidden_link' href='#over.match.oper-13.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='over.match.oper-14'><div class='marginalizedparent'><a class='marginalized' href='#over.match.oper-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L967'>#</a></div><div class='texpara'><div id='over.match.oper-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#over.match.oper-note-3'>3</a></i>:&ensp;<div id='over.match.oper-14.sentence-1' class='sentence'>The lookup rules for operators in expressions are different than
the lookup
rules for operator function names in a function call, as shown in the following
example:
<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='operator'>+</span> <span class='parenthesis'>(</span>A, A<span class='parenthesis'>)</span>;

<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='operator'>+</span> <span class='parenthesis'>(</span>B<span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f <span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

A a;

<span class='keyword'>void</span> B<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span><span class='operator'>+</span> <span class='parenthesis'>(</span>a,a<span class='parenthesis'>)</span>;              <span class='comment'>// error: global operator hidden by member</span>
  a <span class='operator'>+</span> a;                        <span class='comment'>// OK, calls global <span class='tcode_in_codeblock'><span id=':operator_______________________________'><span class='tcode_in_codeblock'>operator</span></span>+</span></span>
<span class='curlybracket'>}</span>
</span></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-103'><div class='texpara'><a class='footnotenum' href='#footnote-103'>103)</a><a class='footnoteBacklink' href='#footnoteref-103'>103)</a> <div id='footnote-103.sentence-1' class='sentence'>If the set of candidate functions is empty,
overload resolution is unsuccessful<a class='hidden_link' href='#footnote-103.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-104'><div class='texpara'><a class='footnotenum' href='#footnote-104'>104)</a><a class='footnoteBacklink' href='#footnoteref-104'>104)</a> <div id='footnote-104.sentence-1' class='sentence'>If the value returned by the
<span class='texttt'><span id=':operator___'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
function has class type, this can result in selecting and calling another
<span class='texttt'><span id=':operator____'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
function<a class='hidden_link' href='#footnote-104.sentence-1'>.</a></div> <div id='footnote-104.sentence-2' class='sentence'>The process repeats until an
<span class='texttt'><span id=':operator_____'><span class='texttt'><span class='keyword'>operator</span></span></span><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
function returns a value of non-class type<a class='hidden_link' href='#footnote-104.sentence-2'>.</a></div></div></div></div><div id='over.match.ctor' class='section'><h4 ><a class='secnum' href='#over.match.ctor' style='min-width:95pt'>12.2.2.4</a> Initialization by constructor <a class='abbr_ref' href='over.match.ctor'>[over.match.ctor]</a></h4><div class='texpara'><a class='index' id=':overloading,resolution,initialization'></a></div><div class='para' id='over.match.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#over.match.ctor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L994'>#</a></div><div class='texpara'><div id='over.match.ctor-1.sentence-1' class='sentence'>When objects of class type are <a href='dcl.init#def:direct-initialization' title='9.4&emsp;Initializers&emsp;[dcl.init]'>direct-initialized</a>,
copy-initialized from an expression of the same or a
derived class type (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>),
or <a href='dcl.init#def:default-initialization' title='9.4&emsp;Initializers&emsp;[dcl.init]'>default-initialized</a>,
overload resolution selects the constructor<a class='hidden_link' href='#over.match.ctor-1.sentence-1'>.</a></div> <div id='over.match.ctor-1.sentence-2' class='sentence'>For direct-initialization or default-initialization
(including default-initialization in the context of copy-list-initialization),
the candidate functions are
all the constructors of the class of the object being
initialized<a class='hidden_link' href='#over.match.ctor-1.sentence-2'>.</a></div> <div id='over.match.ctor-1.sentence-3' class='sentence'>Otherwise, the candidate functions are all
the converting constructors (<a href='class.conv.ctor' title='11.4.8.2&emsp;Conversion by constructor'>[class.<span class='shy'></span>conv.<span class='shy'></span>ctor]</a>) of that
class<a class='hidden_link' href='#over.match.ctor-1.sentence-3'>.</a></div> <div id='over.match.ctor-1.sentence-4' class='sentence'>The argument list is the
<a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list____'><span class='textsf'><i >expression-list</i></span></span></a> or <a href='expr.ass#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.ass]'><span id='ntref:assignment-expression'><span class='textsf'><i >assignment-expression</i></span></span></a>
of the <a href='dcl.init.general#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer'><span class='textsf'><i >initializer</i></span></span></a><a class='hidden_link' href='#over.match.ctor-1.sentence-4'>.</a></div> <div id='over.match.ctor-1.sentence-5' class='sentence'>For default-initialization in the context of copy-list-initialization,
if an explicit constructor is chosen, the initialization is ill-formed<a class='hidden_link' href='#over.match.ctor-1.sentence-5'>.</a></div></div></div></div><div id='over.match.copy' class='section'><h4 ><a class='secnum' href='#over.match.copy' style='min-width:95pt'>12.2.2.5</a> Copy-initialization of class by user-defined conversion <a class='abbr_ref' href='over.match.copy'>[over.match.copy]</a></h4><div class='texpara'><a class='index' id=':overloading,resolution,initialization_'></a></div><div class='para' id='over.match.copy-1'><div class='marginalizedparent'><a class='marginalized' href='#over.match.copy-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L1017'>#</a></div><div class='texpara'><div id='over.match.copy-1.sentence-1' class='sentence'>Under the conditions specified in <a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>, as
part of a copy-initialization of an object of class type, a user-defined
conversion can be invoked to convert an initializer expression to the
type of the object being initialized<a class='hidden_link' href='#over.match.copy-1.sentence-1'>.</a></div> <div id='over.match.copy-1.sentence-2' class='sentence'>Overload resolution is used
to select the user-defined conversion to be invoked<a class='hidden_link' href='#over.match.copy-1.sentence-2'>.</a></div> <div id='over.match.copy-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#over.match.copy-note-1'>1</a></i>:&ensp;<div id='over.match.copy-1.sentence-3' class='sentence'>The conversion performed for indirect binding to a reference to a possibly
cv-qualified class type is determined in terms of a corresponding non-reference
copy-initialization<a class='hidden_link' href='#over.match.copy-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='over.match.copy-1.sentence-4' class='sentence'>
Assuming that
“<i >cv1</i> <span class='texttt'>T</span>” is the type of the object being initialized, with
<span class='texttt'>T</span>
a class type,
the candidate functions are selected as follows:
<ul class='itemize'><li id='over.match.copy-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.copy-1.1'>(1.1)</a></div><div class='texpara'><div id='over.match.copy-1.1.sentence-1' class='sentence'>The <a href='class.conv.ctor#def:constructor,converting' title='11.4.8.2&emsp;Conversion by constructor&emsp;[class.conv.ctor]'>converting constructors</a> of
<span class='texttt'>T</span>
are candidate functions<a class='hidden_link' href='#over.match.copy-1.1.sentence-1'>.</a></div></div></li><li id='over.match.copy-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.copy-1.2'>(1.2)</a></div><div class='texpara'><div id='over.match.copy-1.2.sentence-1' class='sentence'>When the type of the initializer expression is a class type
“<span class='mathit'>cv</span> <span class='texttt'>S</span>”,
conversion functions are considered<a class='hidden_link' href='#over.match.copy-1.2.sentence-1'>.</a></div> <div id='over.match.copy-1.2.sentence-2' class='sentence'>The permissible types for non-explicit conversion functions are
<span class='texttt'>T</span> and any class derived from <span class='texttt'>T</span><a class='hidden_link' href='#over.match.copy-1.2.sentence-2'>.</a></div> <div id='over.match.copy-1.2.sentence-3' class='sentence'>When initializing a temporary object (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>)
to be bound to the first parameter of a constructor
where the parameter is of type
“reference to <i >cv2</i> <span class='texttt'>T</span>”
and the constructor is
called with a single argument in the context of
direct-initialization of an object of type “<i >cv3</i> <span class='texttt'>T</span>”,
the permissible types for explicit conversion functions are the same;
otherwise there are none<a class='hidden_link' href='#over.match.copy-1.2.sentence-3'>.</a></div></div></li></ul></div></div></div><div class='para' id='over.match.copy-2'><div class='marginalizedparent'><a class='marginalized' href='#over.match.copy-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L1056'>#</a></div><div class='texpara'><div id='over.match.copy-2.sentence-1' class='sentence'>In both cases, the argument list has one argument, which is the initializer
expression<a class='hidden_link' href='#over.match.copy-2.sentence-1'>.</a></div> <div id='over.match.copy-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#over.match.copy-note-2'>2</a></i>:&ensp;<div id='over.match.copy-2.sentence-2' class='sentence'>This argument will be compared against
the first parameter of the constructors and against the
object parameter of the conversion functions<a class='hidden_link' href='#over.match.copy-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='over.match.conv' class='section'><h4 ><a class='secnum' href='#over.match.conv' style='min-width:95pt'>12.2.2.6</a> Initialization by conversion function <a class='abbr_ref' href='over.match.conv'>[over.match.conv]</a></h4><div class='texpara'><a class='index' id=':overloading,resolution,initialization__'></a></div><div class='para' id='over.match.conv-1'><div class='marginalizedparent'><a class='marginalized' href='#over.match.conv-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L1068'>#</a></div><div class='texpara'><div id='over.match.conv-1.sentence-1' class='sentence'>Under the conditions specified in <a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>, as
part of an initialization of an object of non-class type,
a conversion function can be invoked to convert an initializer
expression of class type to the type of the object
being initialized<a class='hidden_link' href='#over.match.conv-1.sentence-1'>.</a></div> <div id='over.match.conv-1.sentence-2' class='sentence'>Overload resolution is used to select the
conversion function to be invoked<a class='hidden_link' href='#over.match.conv-1.sentence-2'>.</a></div> <div id='over.match.conv-1.sentence-3' class='sentence'>Assuming that “<span class='mathit'>cv</span> <span class='texttt'>T</span>” is the
type of the object being initialized,
the candidate functions are selected as follows:
<ul class='itemize'><li id='over.match.conv-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.conv-1.1'>(1.1)</a></div>The permissible types for non-explicit conversion functions are
those that can be converted to type <span class='texttt'>T</span>
via a standard conversion sequence (<a href='over.ics.scs' title='12.2.4.2.2&emsp;Standard conversion sequences'>[over.<span class='shy'></span>ics.<span class='shy'></span>scs]</a>)<a class='hidden_link' href='#over.match.conv-1.sentence-3'>.</a> <div class='texpara'><div id='over.match.conv-1.1.sentence-2' class='sentence'>For direct-initialization,
the permissible types for explicit conversion functions are
those that can be converted to type <span class='texttt'>T</span>
with a (possibly trivial) qualification conversion (<a href='conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>);
otherwise there are none<a class='hidden_link' href='#over.match.conv-1.1.sentence-2'>.</a></div></div></li></ul></div></div></div><div class='para' id='over.match.conv-2'><div class='marginalizedparent'><a class='marginalized' href='#over.match.conv-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L1091'>#</a></div><div class='texpara'><div id='over.match.conv-2.sentence-1' class='sentence'>The argument list has one argument, which is the initializer expression<a class='hidden_link' href='#over.match.conv-2.sentence-1'>.</a></div> <div id='over.match.conv-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#over.match.conv-note-1'>1</a></i>:&ensp;<div id='over.match.conv-2.sentence-2' class='sentence'>This argument will be compared against
the object parameter of the conversion functions<a class='hidden_link' href='#over.match.conv-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='over.match.ref' class='section'><h4 ><a class='secnum' href='#over.match.ref' style='min-width:95pt'>12.2.2.7</a> Initialization by conversion function for direct reference binding <a class='abbr_ref' href='over.match.ref'>[over.match.ref]</a></h4><div class='texpara'><a class='index' id=':overloading,resolution,initialization___'></a></div><div class='para' id='over.match.ref-1'><div class='marginalizedparent'><a class='marginalized' href='#over.match.ref-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L1101'>#</a></div><div class='texpara'><div id='over.match.ref-1.sentence-1' class='sentence'>Under the conditions specified in <a href='dcl.init.ref' title='9.4.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>, a reference can be bound directly
to the result of applying a conversion
function to an initializer expression<a class='hidden_link' href='#over.match.ref-1.sentence-1'>.</a></div> <div id='over.match.ref-1.sentence-2' class='sentence'>Overload resolution is used to select the
conversion function to be invoked<a class='hidden_link' href='#over.match.ref-1.sentence-2'>.</a></div> <div id='over.match.ref-1.sentence-3' class='sentence'>Assuming that “reference to <i >cv1</i> <span class='texttt'>T</span>” is the
type of the reference being initialized,
the candidate functions are selected as follows:
<ul class='itemize'><li id='over.match.ref-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.ref-1.1'>(1.1)</a></div>Let <span class='math'><span class='mathalpha'>R</span></span> be a set of types including
<ul class='itemize'><li id='over.match.ref-1.1.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.ref-1.1.1'>(1.1.1)</a></div>“lvalue reference to <i >cv2</i> <span class='texttt'>T2</span>”
(when converting to an lvalue) and</li><li id='over.match.ref-1.1.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.ref-1.1.2'>(1.1.2)</a></div>“<i >cv2</i> <span class='texttt'>T2</span>”
and “rvalue reference to <i >cv2</i> <span class='texttt'>T2</span>”
(when converting to an rvalue or an lvalue of function type)</li></ul>
for any <span class='texttt'>T2</span><a class='hidden_link' href='#over.match.ref-1.sentence-3'>.</a> <div class='texpara'><div id='over.match.ref-1.1.sentence-2' class='sentence'>The permissible types for non-explicit conversion functions are
the members of <span class='math'><span class='mathalpha'>R</span></span>
where “<i >cv1</i> <span class='texttt'>T</span>” is reference-compatible (<a href='dcl.init.ref' title='9.4.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>)
with “<i >cv2</i> <span class='texttt'>T2</span>”<a class='hidden_link' href='#over.match.ref-1.1.sentence-2'>.</a></div> <div id='over.match.ref-1.1.sentence-3' class='sentence'>For direct-initialization, the permissible types for explicit
conversion functions are the members of <span class='math'><span class='mathalpha'>R</span></span>
where <span class='texttt'>T2</span> can be converted to type <span class='texttt'>T</span>
with a (possibly trivial) qualification conversion (<a href='conv.qual' title='7.3.6&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>);
otherwise there are none<a class='hidden_link' href='#over.match.ref-1.1.sentence-3'>.</a></div></div></li></ul></div></div></div><div class='para' id='over.match.ref-2'><div class='marginalizedparent'><a class='marginalized' href='#over.match.ref-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L1134'>#</a></div><div class='texpara'><div id='over.match.ref-2.sentence-1' class='sentence'>The argument list has one argument, which is the initializer expression<a class='hidden_link' href='#over.match.ref-2.sentence-1'>.</a></div> <div id='over.match.ref-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#over.match.ref-note-1'>1</a></i>:&ensp;<div id='over.match.ref-2.sentence-2' class='sentence'>This argument will be compared against
the object parameter of the conversion functions<a class='hidden_link' href='#over.match.ref-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='over.match.list' class='section'><h4 ><a class='secnum' href='#over.match.list' style='min-width:95pt'>12.2.2.8</a> Initialization by list-initialization <a class='abbr_ref' href='over.match.list'>[over.match.list]</a></h4><div class='texpara'><a class='index' id=':overloading,resolution,initialization____'></a></div><div class='para' id='over.match.list-1'><div class='marginalizedparent'><a class='marginalized' href='#over.match.list-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L1144'>#</a></div><div class='texpara'><div id='over.match.list-1.sentence-1' class='sentence'>When objects of non-aggregate class type <span class='texttt'>T</span> are
list-initialized such that <a href='dcl.init.list' title='9.4.5&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a> specifies that overload resolution
is performed according to the rules in this subclause
or when forming a list-initialization sequence according to <a href='over.ics.list' title='12.2.4.2.6&emsp;List-initialization sequence'>[over.<span class='shy'></span>ics.<span class='shy'></span>list]</a>,
overload resolution selects the constructor in two phases:
<ul class='itemize'><li id='over.match.list-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.list-1.1'>(1.1)</a></div><div class='texpara'><div id='over.match.list-1.1.sentence-1' class='sentence'>If the initializer list is not empty or <span class='texttt'>T</span> has no default constructor,
overload resolution is first performed
where the candidate functions are the initializer-list constructors (<a href='dcl.init.list' title='9.4.5&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a>)
of the class <span class='texttt'>T</span> and
the argument list consists of the initializer list as a single argument<a class='hidden_link' href='#over.match.list-1.1.sentence-1'>.</a></div></div></li><li id='over.match.list-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.list-1.2'>(1.2)</a></div><div class='texpara'><div id='over.match.list-1.2.sentence-1' class='sentence'>Otherwise, or if no viable initializer-list constructor is found,
overload resolution is
performed again, where the candidate functions are all the constructors of
the class <span class='texttt'>T</span> and
the argument list consists of the elements of the initializer list<a class='hidden_link' href='#over.match.list-1.2.sentence-1'>.</a></div></div></li></ul></div></div><div class='texpara'><div id='over.match.list-1.sentence-2' class='sentence'>In copy-list-initialization, if an explicit constructor is
chosen, the initialization is ill-formed<a class='hidden_link' href='#over.match.list-1.sentence-2'>.</a></div> <div id='over.match.list-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#over.match.list-note-1'>1</a></i>:&ensp;<div id='over.match.list-1.sentence-3' class='sentence'>This differs from other situations (<a href='#over.match.ctor' title='12.2.2.4&emsp;Initialization by constructor'>[over.<span class='shy'></span>match.<span class='shy'></span>ctor]</a>, <a href='#over.match.copy' title='12.2.2.5&emsp;Copy-initialization of class by user-defined conversion'>[over.<span class='shy'></span>match.<span class='shy'></span>copy]</a>),
where only converting constructors are considered for copy-initialization<a class='hidden_link' href='#over.match.list-1.sentence-3'>.</a></div> <div id='over.match.list-1.sentence-4' class='sentence'>This restriction only
applies if this initialization is part of the final result of overload
resolution<a class='hidden_link' href='#over.match.list-1.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='over.match.class.deduct' class='section'><h4 ><a class='secnum' href='#over.match.class.deduct' style='min-width:95pt'>12.2.2.9</a> Class template argument deduction <a class='abbr_ref' href='over.match.class.deduct'>[over.match.class.deduct]</a></h4><div class='texpara'><a class='index' id=':deduction,class_template_arguments'></a></div><div class='para' id='over.match.class.deduct-1'><div class='marginalizedparent'><a class='marginalized' href='#over.match.class.deduct-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L1179'>#</a></div><div class='texpara'><div id='over.match.class.deduct-1.sentence-1' class='sentence'>When resolving a placeholder for a deduced class type (<a href='dcl.type.class.deduct' title='9.2.9.8&emsp;Deduced class template specialization types'>[dcl.<span class='shy'></span>type.<span class='shy'></span>class.<span class='shy'></span>deduct]</a>)
where the <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name'><span class='textsf'><i >template-name</i></span></span></a> names a primary class template <span class='texttt'>C</span>,
a set of functions and function templates, called the guides of <span class='texttt'>C</span>,
is formed comprising:
<ul class='itemize'><li id='over.match.class.deduct-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.class.deduct-1.1'>(1.1)</a></div><div class='texpara'><div id='over.match.class.deduct-1.1.sentence-1' class='sentence'>If <span class='texttt'>C</span> is defined,
for each constructor of <span class='texttt'>C</span>,
a function template with the following properties:
<ul class='itemize'><li id='over.match.class.deduct-1.1.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.class.deduct-1.1.1'>(1.1.1)</a></div><div class='texpara'><div id='over.match.class.deduct-1.1.1.sentence-1' class='sentence'>The template parameters are the template parameters of <span class='texttt'>C</span>
followed
by the template parameters (including default template arguments) of the constructor,
if any<a class='hidden_link' href='#over.match.class.deduct-1.1.1.sentence-1'>.</a></div></div></li><li id='over.match.class.deduct-1.1.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.class.deduct-1.1.2'>(1.1.2)</a></div><div class='texpara'><div id='over.match.class.deduct-1.1.2.sentence-1' class='sentence'>The associated constraints (<a href='temp.constr.decl' title='13.5.3&emsp;Constrained declarations'>[temp.<span class='shy'></span>constr.<span class='shy'></span>decl]</a>) are the conjunction of
the associated constraints of <span class='texttt'>C</span> and
the associated constraints of the constructor, if any<a class='hidden_link' href='#over.match.class.deduct-1.1.2.sentence-1'>.</a></div> <div id='over.match.class.deduct-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#over.match.class.deduct-note-1'>1</a></i>:&ensp;<div id='over.match.class.deduct-1.1.2.sentence-2' class='sentence'>A <a href='temp.constr.decl#nt:constraint-expression' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'><span id='ntref:constraint-expression'><span class='textsf'><i >constraint-expression</i></span></span></a> in
the <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head'><span class='textsf'><i >template-head</i></span></span></a> of <span class='texttt'>C</span>
is checked for satisfaction before any constraints from
the <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head_'><span class='textsf'><i >template-head</i></span></span></a> or trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause'><span class='textsf'><i >requires-clause</i></span></span></a>
of the constructor<a class='hidden_link' href='#over.match.class.deduct-1.1.2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li><li id='over.match.class.deduct-1.1.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.class.deduct-1.1.3'>(1.1.3)</a></div><div class='texpara'><div id='over.match.class.deduct-1.1.3.sentence-1' class='sentence'>The <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> is that of the constructor<a class='hidden_link' href='#over.match.class.deduct-1.1.3.sentence-1'>.</a></div></div></li><li id='over.match.class.deduct-1.1.4'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.class.deduct-1.1.4'>(1.1.4)</a></div><div class='texpara'><div id='over.match.class.deduct-1.1.4.sentence-1' class='sentence'>The return type is the class template specialization
designated by <span class='texttt'>C</span>
and template arguments
corresponding to the template parameters of <span class='texttt'>C</span><a class='hidden_link' href='#over.match.class.deduct-1.1.4.sentence-1'>.</a></div></div></li></ul></div></div></li><li id='over.match.class.deduct-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.class.deduct-1.2'>(1.2)</a></div><div class='texpara'><div id='over.match.class.deduct-1.2.sentence-1' class='sentence'>If <span class='texttt'>C</span>
is not defined or does not declare any constructors,
an additional function template derived as above
from a hypothetical constructor <span class='texttt'>C<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#over.match.class.deduct-1.2.sentence-1'>.</a></div></div></li><li id='over.match.class.deduct-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.class.deduct-1.3'>(1.3)</a></div><div class='texpara'><div id='over.match.class.deduct-1.3.sentence-1' class='sentence'>An additional function template derived as above
from a hypothetical constructor <span class='texttt'>C<span class='parenthesis'>(</span>C<span class='parenthesis'>)</span></span>,
called the <a class='hidden_link' href='#def:copy_deduction_candidate' title='12.2.2.9&emsp;Class template argument deduction&emsp;[over.match.class.deduct]'><span id='def:copy_deduction_candidate'><i >copy deduction candidate</i></span></a><a class='hidden_link' href='#over.match.class.deduct-1.3.sentence-1'>.</a></div></div></li><li id='over.match.class.deduct-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.class.deduct-1.4'>(1.4)</a></div><div class='texpara'><div id='over.match.class.deduct-1.4.sentence-1' class='sentence'>For each <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide'><span class='textsf'><i >deduction-guide</i></span></span></a>,
a function or function template
with the following properties:
<ul class='itemize'><li id='over.match.class.deduct-1.4.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.class.deduct-1.4.1'>(1.4.1)</a></div><div class='texpara'><div id='over.match.class.deduct-1.4.1.sentence-1' class='sentence'>The <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head__'><span class='textsf'><i >template-head</i></span></span></a>, if any,
and <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause_'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a>
are those of the <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide_'><span class='textsf'><i >deduction-guide</i></span></span></a><a class='hidden_link' href='#over.match.class.deduct-1.4.1.sentence-1'>.</a></div></div></li><li id='over.match.class.deduct-1.4.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.class.deduct-1.4.2'>(1.4.2)</a></div><div class='texpara'><div id='over.match.class.deduct-1.4.2.sentence-1' class='sentence'>The return type
is the <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id'><span class='textsf'><i >simple-template-id</i></span></span></a>
of the <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide__'><span class='textsf'><i >deduction-guide</i></span></span></a><a class='hidden_link' href='#over.match.class.deduct-1.4.2.sentence-1'>.</a></div></div></li></ul></div></div></li></ul></div> <div id='over.match.class.deduct-1.sentence-2' class='sentence'>
In addition, if <span class='texttt'>C</span> is defined
and its definition satisfies the conditions for
an aggregate class (<a href='dcl.init.aggr' title='9.4.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>)
with the assumption that any dependent base class has
no virtual functions and no virtual base classes, and
the initializer is a non-empty <a href='dcl.init.general#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list'><span class='textsf'><i >braced-init-list</i></span></span></a> or
parenthesized <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list_____'><span class='textsf'><i >expression-list</i></span></span></a>, and
there are no <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide___'><span class='textsf'><i >deduction-guide</i></span></span></a><i >s</i> for <span class='texttt'>C</span>,
the set contains an additional function template,
called the <a class='hidden_link' href='#def:candidate,aggregate_deduction' title='12.2.2.9&emsp;Class template argument deduction&emsp;[over.match.class.deduct]'><span id='def:candidate,aggregate_deduction'><i >aggregate deduction candidate</i></span></a>, defined as follows<a class='hidden_link' href='#over.match.class.deduct-1.sentence-2'>.</a></div> <div id='over.match.class.deduct-1.sentence-3' class='sentence'>Let <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">…</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span></span> be the elements
of the <a href='dcl.init.general#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list'><span class='textsf'><i >initializer-list</i></span></span></a> or
<a href='dcl.init.general#nt:designated-initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:designated-initializer-list'><span class='textsf'><i >designated-initializer-list</i></span></span></a>
of the <a href='dcl.init.general#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list_'><span class='textsf'><i >braced-init-list</i></span></span></a>, or
of the <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list______'><span class='textsf'><i >expression-list</i></span></span></a><a class='hidden_link' href='#over.match.class.deduct-1.sentence-3'>.</a></div> <div id='over.match.class.deduct-1.sentence-4' class='sentence'>For each <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>, let <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> be the corresponding aggregate element
of <span class='texttt'>C</span> or of one of its (possibly recursive) subaggregates
that would be initialized by <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> (<a href='dcl.init.aggr' title='9.4.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>) if
<ul class='itemize'><li id='over.match.class.deduct-1.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.class.deduct-1.5'>(1.5)</a></div>brace elision is not considered for any aggregate element
that has
<ul class='itemize'><li id='over.match.class.deduct-1.5.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.class.deduct-1.5.1'>(1.5.1)</a></div>a dependent non-array type,</li><li id='over.match.class.deduct-1.5.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.class.deduct-1.5.2'>(1.5.2)</a></div>an array type with a value-dependent bound, or</li><li id='over.match.class.deduct-1.5.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#over.match.class.deduct-1.5.3'>(1.5.3)</a></div>an array type with a dependent array element type and <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is a string literal; and</li></ul></li><li id='over.match.class.deduct-1.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.class.deduct-1.6'>(1.6)</a></div>each non-trailing aggregate element that is a pack expansion
is assumed to correspond to no elements of the initializer list, and</li><li id='over.match.class.deduct-1.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.class.deduct-1.7'>(1.7)</a></div>a trailing aggregate element that is a pack expansion is assumed to correspond
to all remaining elements of the initializer list (if any)<a class='hidden_link' href='#over.match.class.deduct-1.sentence-4'>.</a></li></ul></div> <div id='over.match.class.deduct-1.sentence-5' class='sentence'>
If there is no such aggregate element <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> for any <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>,
the aggregate deduction candidate is not added to the set<a class='hidden_link' href='#over.match.class.deduct-1.sentence-5'>.</a></div> <div id='over.match.class.deduct-1.sentence-6' class='sentence'>The aggregate deduction candidate is derived as above
from a hypothetical constructor <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">C</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">…</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span>,
where
<ul class='itemize'><li id='over.match.class.deduct-1.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.class.deduct-1.8'>(1.8)</a></div>if <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is of array type and
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is a <a href='dcl.init.general#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list__'><span class='textsf'><i >braced-init-list</i></span></span></a>,
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is an rvalue reference to the declared type of <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>, and</li><li id='over.match.class.deduct-1.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.class.deduct-1.9'>(1.9)</a></div>if <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is of array type and
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is a <a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal'><span class='textsf'><i >string-literal</i></span></span></a>,
<span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is an lvalue reference to
the const-qualified declared type of <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>, and</li><li id='over.match.class.deduct-1.10'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.class.deduct-1.10'>(1.10)</a></div>otherwise, <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is the declared type of <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>,</li></ul>
except that additional parameter packs of the form <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">P</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="margin-top: -0.07em; padding-bottom: 0.225em;"><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span></span></span></span></span></span></span></span>
are inserted into the parameter list in their original aggregate element position corresponding to each non-trailing aggregate element of type <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">P</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span>
that was skipped because it was a parameter pack, and
the trailing sequence of parameters corresponding
to a trailing aggregate element that is a pack expansion (if any)
is replaced by a single parameter of the form <span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="margin-top: -0.07em; padding-bottom: 0.225em;"><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span></span></span></span></span></span></span></span><a class='hidden_link' href='#over.match.class.deduct-1.sentence-6'>.</a></div> <div id='over.match.class.deduct-1.sentence-7' class='sentence'>In addition,
if <span class='texttt'>C</span> is defined and
inherits constructors (<a href='namespace.udecl' title='9.9&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>)
from a direct base class denoted in the <a href='class.derived.general#nt:base-specifier-list' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier-list'><span class='textsf'><i >base-specifier-list</i></span></span></a>
by a <a href='class.derived.general#nt:class-or-decltype' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:class-or-decltype'><span class='textsf'><i >class-or-decltype</i></span></span></a> <span class='texttt'>B</span>,
let <span class='texttt'>A</span> be an alias template
whose template parameter list is that of <span class='texttt'>C</span> and
whose <a href='dcl.name#nt:defining-type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:defining-type-id'><span class='textsf'><i >defining-type-id</i></span></span></a> is <span class='texttt'>B</span><a class='hidden_link' href='#over.match.class.deduct-1.sentence-7'>.</a></div> <div id='over.match.class.deduct-1.sentence-8' class='sentence'>If <span class='texttt'>A</span> is a deducible template (<a href='dcl.type.simple' title='9.2.9.3&emsp;Simple type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>simple]</a>),
the set contains the guides of <span class='texttt'>A</span>
with the return type <span class='texttt'>R</span> of each guide
replaced with <span class='texttt'><span class='keyword'>typename</span> CC<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>type</span> given a class template
<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> CC;
</span>
whose primary template is not defined and
with a single partial specialization
whose template parameter list is that of <span class='texttt'>A</span> and
whose template argument list is a specialization of <span class='texttt'>A</span> with
the template argument list of <span class='texttt'>A</span> (<a href='temp.dep.type' title='13.8.3.2&emsp;Dependent types'>[temp.<span class='shy'></span>dep.<span class='shy'></span>type]</a>)
having a member typedef <span class='texttt'>type</span> designating a template specialization with
the template argument list of <span class='texttt'>A</span> but
with <span class='texttt'>C</span> as the template<a class='hidden_link' href='#over.match.class.deduct-1.sentence-8'>.</a></div> <div id='over.match.class.deduct-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#over.match.class.deduct-note-2'>2</a></i>:&ensp;<div id='over.match.class.deduct-1.sentence-9' class='sentence'>Equivalently,
the template parameter list of the specialization is that of <span class='texttt'>C</span>,
the template argument list of the specialization is <span class='texttt'>B</span>, and
the member typedef names <span class='texttt'>C</span> with the template argument list of <span class='texttt'>C</span><a class='hidden_link' href='#over.match.class.deduct-1.sentence-9'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='over.match.class.deduct-2'><div class='marginalizedparent'><a class='marginalized' href='#over.match.class.deduct-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L1330'>#</a></div><div class='texpara'><div id='over.match.class.deduct-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#over.match.class.deduct-example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  B<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> C <span class='operator'>:</span> <span class='keyword'>public</span> B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>B;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> D <span class='operator'>:</span> <span class='keyword'>public</span> B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;

C c<span class='parenthesis'>(</span><span class='literal'>42</span><span class='parenthesis'>)</span>;            <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>C&lt;int&gt;</span></span>
D d<span class='parenthesis'>(</span><span class='literal'>42</span><span class='parenthesis'>)</span>;            <span class='comment'>// error: deduction failed, no inherited deduction guides</span>
B<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> B<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span>;
C c2<span class='parenthesis'>(</span><span class='literal'>42</span><span class='parenthesis'>)</span>;           <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>C&lt;char&gt;</span></span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> E <span class='operator'>:</span> <span class='keyword'>public</span> B<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> B<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B;
<span class='curlybracket'>}</span>;

E e<span class='parenthesis'>(</span><span class='literal'>42</span><span class='parenthesis'>)</span>;            <span class='comment'>// error: deduction failed, arguments of <span class='tcode_in_codeblock'>E</span> cannot be deduced from introduced guides</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T, <span class='keyword'>typename</span> U, <span class='keyword'>typename</span> V<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> F <span class='curlybracket'>{</span>
  F<span class='parenthesis'>(</span>T, U, V<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T, <span class='keyword'>typename</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> G <span class='operator'>:</span> F<span class='anglebracket'>&lt;</span>U, T, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> G<span class='operator'>::</span>F<span class='operator'>::</span>F;
<span class='curlybracket'>}</span>

G g<span class='parenthesis'>(</span><span class='literal'>true</span>, <span class='literal'>'a'</span>, <span class='literal'>1</span><span class='parenthesis'>)</span>;  <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>G&lt;char, bool&gt;</span></span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, std<span class='operator'>::</span>size_t N<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> H <span class='curlybracket'>{</span>
  T array<span class='squarebracket'>[</span>N<span class='squarebracket'>]</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, std<span class='operator'>::</span>size_t N<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> I <span class='curlybracket'>{</span>
  <span class='keyword'>volatile</span> T array<span class='squarebracket'>[</span>N<span class='squarebracket'>]</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>std<span class='operator'>::</span>size_t N<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> J <span class='curlybracket'>{</span>
  <span class='keyword'>unsigned</span> <span class='keyword'>char</span> array<span class='squarebracket'>[</span>N<span class='squarebracket'>]</span>;
<span class='curlybracket'>}</span>;

H h <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>"abc"</span> <span class='curlybracket'>}</span>;    <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>H&lt;char, 4&gt;</span> (not <span class='tcode_in_codeblock'>T = const char</span>)</span>
I i <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>"def"</span> <span class='curlybracket'>}</span>;    <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>I&lt;char, 4&gt;</span></span>
J j <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>"ghi"</span> <span class='curlybracket'>}</span>;    <span class='comment'>// error: cannot bind reference to array of <span class='tcode_in_codeblock'>unsigned char</span> to array of <span class='tcode_in_codeblock'>char</span> in deduction</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='over.match.class.deduct-3'><div class='marginalizedparent'><a class='marginalized' href='#over.match.class.deduct-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L1380'>#</a></div><div class='texpara'><div id='over.match.class.deduct-3.sentence-1' class='sentence'>When resolving a placeholder for a deduced class type (<a href='dcl.type.simple' title='9.2.9.3&emsp;Simple type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>simple]</a>)
where the <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name_'><span class='textsf'><i >template-name</i></span></span></a> names an alias template <span class='texttt'>A</span>,
the <a href='dcl.name#nt:defining-type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:defining-type-id_'><span class='textsf'><i >defining-type-id</i></span></span></a> of <span class='texttt'>A</span> must be of the form
<div class='simplebnf'>
<span id=':typename'><span class='texttt'><span class='keyword'>typename</span></span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier'><span class='textsf'><i >nested-name-specifier</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span id=':template'><span class='texttt'><span class='keyword'>template</span></span></span><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id_'><span class='textsf'><i >simple-template-id</i></span></span></a>
</div>
as specified in <a href='dcl.type.simple' title='9.2.9.3&emsp;Simple type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>simple]</a><a class='hidden_link' href='#over.match.class.deduct-3.sentence-1'>.</a></div> <div id='over.match.class.deduct-3.sentence-2' class='sentence'>The guides of <span class='texttt'>A</span> are the set of functions or function templates
formed as follows<a class='hidden_link' href='#over.match.class.deduct-3.sentence-2'>.</a></div> <div id='over.match.class.deduct-3.sentence-3' class='sentence'>For each function or function template <span class='texttt'>f</span> in the guides of
the template named by the <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id__'><span class='textsf'><i >simple-template-id</i></span></span></a>
of the <a href='dcl.name#nt:defining-type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:defining-type-id__'><span class='textsf'><i >defining-type-id</i></span></span></a>,
the template arguments of the return type of <span class='texttt'>f</span>
are deduced
from the <a href='dcl.name#nt:defining-type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:defining-type-id___'><span class='textsf'><i >defining-type-id</i></span></span></a> of <span class='texttt'>A</span>
according to the process in <a href='temp.deduct.type' title='13.10.3.6&emsp;Deducing template arguments from a type'>[temp.<span class='shy'></span>deduct.<span class='shy'></span>type]</a>
with the exception that deduction does not fail
if not all template arguments are deduced<a class='hidden_link' href='#over.match.class.deduct-3.sentence-3'>.</a></div> <div id='over.match.class.deduct-3.sentence-4' class='sentence'>If deduction fails for another reason,
proceed with an empty set of deduced template arguments<a class='hidden_link' href='#over.match.class.deduct-3.sentence-4'>.</a></div> <div id='over.match.class.deduct-3.sentence-5' class='sentence'>Let <span class='texttt'>g</span> denote the result of substituting
these deductions into <span class='texttt'>f</span><a class='hidden_link' href='#over.match.class.deduct-3.sentence-5'>.</a></div> <div id='over.match.class.deduct-3.sentence-6' class='sentence'>If substitution succeeds,
form a function or function template <span class='texttt'>f'</span>
with the following properties and add it to the set
of guides of <span class='texttt'>A</span>:
<ul class='itemize'><li id='over.match.class.deduct-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.class.deduct-3.1'>(3.1)</a></div><div class='texpara'><div id='over.match.class.deduct-3.1.sentence-1' class='sentence'>The function type of <span class='texttt'>f'</span> is the function type of <span class='texttt'>g</span><a class='hidden_link' href='#over.match.class.deduct-3.1.sentence-1'>.</a></div></div></li><li id='over.match.class.deduct-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.class.deduct-3.2'>(3.2)</a></div><div class='texpara'><div id='over.match.class.deduct-3.2.sentence-1' class='sentence'>If <span class='texttt'>f</span> is a function template,
<span class='texttt'>f'</span> is a function template whose
template parameter list consists of
all the template parameters of <span class='texttt'>A</span>
(including their default template arguments)
that appear in the above deductions or
(recursively) in their default template arguments,
followed by the template parameters of <span class='texttt'>f</span> that were not deduced
(including their default template arguments),
otherwise <span class='texttt'>f'</span> is not a function template<a class='hidden_link' href='#over.match.class.deduct-3.2.sentence-1'>.</a></div></div></li><li id='over.match.class.deduct-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.class.deduct-3.3'>(3.3)</a></div><div class='texpara'><div id='over.match.class.deduct-3.3.sentence-1' class='sentence'>The associated constraints (<a href='temp.constr.decl' title='13.5.3&emsp;Constrained declarations'>[temp.<span class='shy'></span>constr.<span class='shy'></span>decl]</a>) are
the conjunction of the associated constraints of <span class='texttt'>g</span> and
a constraint that is satisfied if and only if
the arguments of <span class='texttt'>A</span> are deducible (see below) from the return type<a class='hidden_link' href='#over.match.class.deduct-3.3.sentence-1'>.</a></div></div></li><li id='over.match.class.deduct-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.class.deduct-3.4'>(3.4)</a></div><div class='texpara'><div id='over.match.class.deduct-3.4.sentence-1' class='sentence'>If <span class='texttt'>f</span> is a copy deduction candidate,
then <span class='texttt'>f'</span> is considered to be so as well<a class='hidden_link' href='#over.match.class.deduct-3.4.sentence-1'>.</a></div></div></li><li id='over.match.class.deduct-3.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.class.deduct-3.5'>(3.5)</a></div><div class='texpara'><div id='over.match.class.deduct-3.5.sentence-1' class='sentence'>If <span class='texttt'>f</span> was generated
from a <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide____'><span class='textsf'><i >deduction-guide</i></span></span></a> (<a href='temp.deduct.guide' title='13.7.2.3&emsp;Deduction guides'>[temp.<span class='shy'></span>deduct.<span class='shy'></span>guide]</a>),
then <span class='texttt'>f'</span> is considered to be so as well<a class='hidden_link' href='#over.match.class.deduct-3.5.sentence-1'>.</a></div></div></li><li id='over.match.class.deduct-3.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.class.deduct-3.6'>(3.6)</a></div><div class='texpara'><div id='over.match.class.deduct-3.6.sentence-1' class='sentence'>The <a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.3&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier_'><span class='textsf'><i >explicit-specifier</i></span></span></a> of <span class='texttt'>f'</span> is
the <a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.3&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier__'><span class='textsf'><i >explicit-specifier</i></span></span></a> of <span class='texttt'>g</span> (if any)<a class='hidden_link' href='#over.match.class.deduct-3.6.sentence-1'>.</a></div></div></li></ul></div> <a class='index' id=':template,deducible_arguments_of'></a></div></div><div class='para' id='over.match.class.deduct-4'><div class='marginalizedparent'><a class='marginalized' href='#over.match.class.deduct-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L1444'>#</a></div><div class='texpara'><div id='over.match.class.deduct-4.sentence-1' class='sentence'>The arguments of a template <span class='texttt'>A</span> are said to be
deducible from a type <span class='texttt'>T</span> if, given a class template
<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> AA;
</span>
with a single partial specialization
whose template parameter list is that of <span class='texttt'>A</span> and
whose template argument list is a specialization of <span class='texttt'>A</span>
with the template argument list of <span class='texttt'>A</span> (<a href='temp.dep.type' title='13.8.3.2&emsp;Dependent types'>[temp.<span class='shy'></span>dep.<span class='shy'></span>type]</a>),
<span class='texttt'>AA<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> matches the partial specialization<a class='hidden_link' href='#over.match.class.deduct-4.sentence-1'>.</a></div></div></div><div class='para' id='over.match.class.deduct-5'><div class='marginalizedparent'><a class='marginalized' href='#over.match.class.deduct-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L1456'>#</a></div><div class='texpara'><div id='over.match.class.deduct-5.sentence-1' class='sentence'>Initialization and overload resolution are performed as described
in <a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a> and <a href='#over.match.ctor' title='12.2.2.4&emsp;Initialization by constructor'>[over.<span class='shy'></span>match.<span class='shy'></span>ctor]</a>, <a href='#over.match.copy' title='12.2.2.5&emsp;Copy-initialization of class by user-defined conversion'>[over.<span class='shy'></span>match.<span class='shy'></span>copy]</a>,
or <a href='#over.match.list' title='12.2.2.8&emsp;Initialization by list-initialization'>[over.<span class='shy'></span>match.<span class='shy'></span>list]</a> (as appropriate for the type of initialization
performed) for an object of a hypothetical class type, where
the guides of the template named by the placeholder are considered to be the
constructors of that class type for the purpose of forming an overload
set, and the initializer is provided by the context in which class
template argument deduction was performed<a class='hidden_link' href='#over.match.class.deduct-5.sentence-1'>.</a></div> <div id='over.match.class.deduct-5.sentence-2' class='sentence'>The following exceptions apply:
<ul class='itemize'><li id='over.match.class.deduct-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.class.deduct-5.1'>(5.1)</a></div><div class='texpara'><div id='over.match.class.deduct-5.1.sentence-1' class='sentence'>The first phase in <a href='#over.match.list' title='12.2.2.8&emsp;Initialization by list-initialization'>[over.<span class='shy'></span>match.<span class='shy'></span>list]</a>
(considering initializer-list constructors)
is omitted if the initializer list consists of
a single expression of type <span class='mathit'>cv</span> <span class='texttt'>U</span>,
where <span class='texttt'>U</span> is, or is derived from,
a specialization of the class template
directly or indirectly named by the placeholder<a class='hidden_link' href='#over.match.class.deduct-5.1.sentence-1'>.</a></div></div></li><li id='over.match.class.deduct-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#over.match.class.deduct-5.2'>(5.2)</a></div><div class='texpara'><div id='over.match.class.deduct-5.2.sentence-1' class='sentence'>During template argument deduction for the aggregate deduction candidate,
the number of elements in a trailing parameter pack
is only deduced from the number of remaining function arguments
if it is not otherwise deduced<a class='hidden_link' href='#over.match.class.deduct-5.2.sentence-1'>.</a></div></div></li></ul></div> <div id='over.match.class.deduct-5.sentence-3' class='sentence'>
If the function or function template was generated from
a constructor or <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide_____'><span class='textsf'><i >deduction-guide</i></span></span></a>
that had an <a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.3&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier___'><span class='textsf'><i >explicit-specifier</i></span></span></a>,
each such notional constructor is considered to have
that same <a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.3&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier____'><span class='textsf'><i >explicit-specifier</i></span></span></a><a class='hidden_link' href='#over.match.class.deduct-5.sentence-3'>.</a></div> <div id='over.match.class.deduct-5.sentence-4' class='sentence'>All such notional constructors are considered to be
public members of the hypothetical class type<a class='hidden_link' href='#over.match.class.deduct-5.sentence-4'>.</a></div></div></div><div class='para nonNormativeOnly' id='over.match.class.deduct-6'><div class='marginalizedparent'><a class='marginalized' href='#over.match.class.deduct-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L1489'>#</a></div><div class='texpara'><div id='over.match.class.deduct-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#over.match.class.deduct-example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>explicit</span> A<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span>, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;               <span class='comment'>// #1</span>
  A<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;                                      <span class='comment'>// #2</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>int</span> i;
A a1 <span class='operator'>=</span> <span class='curlybracket'>{</span> i, i <span class='curlybracket'>}</span>;    <span class='comment'>// error: explicit constructor #1 selected in copy-list-initialization during deduction,</span>
                    <span class='comment'>// cannot deduce from non-forwarding rvalue reference in #2</span>

A a2<span class='curlybracket'>{</span>i, i<span class='curlybracket'>}</span>;         <span class='comment'>// OK, #1 deduces to <span class='tcode_in_codeblock'>A&lt;int&gt;</span> and also initializes</span>
A a3<span class='curlybracket'>{</span><span class='literal'>0</span>, i<span class='curlybracket'>}</span>;         <span class='comment'>// OK, #2 deduces to <span class='tcode_in_codeblock'>A&lt;int&gt;</span> and also initializes</span>
A a4 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>0</span>, i<span class='curlybracket'>}</span>;      <span class='comment'>// OK, #2 deduces to <span class='tcode_in_codeblock'>A&lt;int&gt;</span> and also initializes</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> A<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span>, <span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> A<span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span>;  <span class='comment'>// #3</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>explicit</span> A<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>;    <span class='comment'>// #4</span>

A a5 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>0</span>, <span class='literal'>1</span><span class='curlybracket'>}</span>;      <span class='comment'>// error: explicit deduction guide #4 selected in copy-list-initialization during deduction</span>
A a6<span class='curlybracket'>{</span><span class='literal'>0</span>,<span class='literal'>1</span><span class='curlybracket'>}</span>;          <span class='comment'>// OK, #4 deduces to <span class='tcode_in_codeblock'>A&lt;int&gt;</span> and #2 initializes</span>
A a7 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>0</span>, i<span class='curlybracket'>}</span>;      <span class='comment'>// error: #3 deduces to <span class='tcode_in_codeblock'>A&lt;int&amp;&gt;</span>, #1 and #2 declare same constructor</span>
A a8<span class='curlybracket'>{</span><span class='literal'>0</span>,i<span class='curlybracket'>}</span>;          <span class='comment'>// error: #3 deduces to <span class='tcode_in_codeblock'>A&lt;int&amp;&gt;</span>, #1 and #2 declare same constructor</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> TA <span class='operator'>=</span> T;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> B<span class='parenthesis'>(</span>U, TA<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

B b<span class='curlybracket'>{</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='literal'>0</span>, <span class='parenthesis'>(</span><span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='literal'>0</span><span class='curlybracket'>}</span>;         <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>B&lt;char*&gt;</span></span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  T x;
  T y;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> s;
  T t;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> D <span class='curlybracket'>{</span>
  S<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> s;
  T t;
<span class='curlybracket'>}</span>;

C c1 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span><span class='curlybracket'>}</span>;                  <span class='comment'>// error: deduction failed</span>
C c2 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span><span class='curlybracket'>}</span>;               <span class='comment'>// error: deduction failed</span>
C c3 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='curlybracket'>{</span><span class='literal'>1u</span>, <span class='literal'>2u</span><span class='curlybracket'>}</span>, <span class='literal'>3</span><span class='curlybracket'>}</span>;           <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>C&lt;int&gt;</span></span>

D d1 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span><span class='curlybracket'>}</span>;                  <span class='comment'>// error: deduction failed</span>
D d2 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span><span class='curlybracket'>}</span>;               <span class='comment'>// OK, braces elided, deduces <span class='tcode_in_codeblock'>D&lt;int&gt;</span></span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> E <span class='curlybracket'>{</span>
  T t;
  <span class='keyword'>decltype</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span> t2;
<span class='curlybracket'>}</span>;

E e1 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span><span class='curlybracket'>}</span>;                  <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>E&lt;int&gt;</span></span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> Types <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> F <span class='operator'>:</span> Types<span class='anglebracket'>&lt;</span>T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>, T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> X <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Y <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Z <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> W <span class='curlybracket'>{</span> <span class='keyword'>operator</span> Y<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

F f1 <span class='operator'>=</span> <span class='curlybracket'>{</span>Types<span class='anglebracket'>&lt;</span>X, Y, Z<span class='anglebracket'>&gt;</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, <span class='curlybracket'>{</span><span class='curlybracket'>}</span>, <span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='curlybracket'>}</span>;      <span class='comment'>// OK, <span class='tcode_in_codeblock'>F&lt;X, Y, Z&gt;</span> deduced</span>
F f2 <span class='operator'>=</span> <span class='curlybracket'>{</span>Types<span class='anglebracket'>&lt;</span>X, Y, Z<span class='anglebracket'>&gt;</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, X<span class='curlybracket'>{</span><span class='curlybracket'>}</span>, Y<span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='curlybracket'>}</span>;    <span class='comment'>// OK, <span class='tcode_in_codeblock'>F&lt;X, Y, Z&gt;</span> deduced</span>
F f3 <span class='operator'>=</span> <span class='curlybracket'>{</span>Types<span class='anglebracket'>&lt;</span>X, Y, Z<span class='anglebracket'>&gt;</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, X<span class='curlybracket'>{</span><span class='curlybracket'>}</span>, W<span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='curlybracket'>}</span>;    <span class='comment'>// error: conflicting types deduced; <span class='tcode_in_codeblock'><span id=':operator________________________________'><span class='tcode_in_codeblock'>operator</span></span> Y</span> not considered</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='over.match.class.deduct-7'><div class='marginalizedparent'><a class='marginalized' href='#over.match.class.deduct-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/399b93910d0bb6f5632405ad188e9f4aad0ae99a/source/overloading.tex#L1570'>#</a></div><div class='texpara'><div id='over.match.class.deduct-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#over.match.class.deduct-example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  C<span class='parenthesis'>(</span>T, U<span class='parenthesis'>)</span>;                                      <span class='comment'>// #1</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
  C<span class='parenthesis'>(</span>T, U<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>T, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;     <span class='comment'>// #2</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> V<span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> A <span class='operator'>=</span> C<span class='anglebracket'>&lt;</span>V <span class='operator'>*</span>, V <span class='operator'>*</span><span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>std<span class='operator'>::</span><a href='concepts.arithmetic#concept:integral' title='18.4.7&emsp;Arithmetic concepts&emsp;[concepts.arithmetic]'><span id='conceptref:integral'><span class='tcode_in_codeblock'>integral</span></span></a> W<span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> B <span class='operator'>=</span> A<span class='anglebracket'>&lt;</span>W<span class='anglebracket'>&gt;</span>;

<span class='keyword'>int</span> i<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>double</span> d<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
A a1<span class='parenthesis'>(</span><span class='operator'>&amp;</span>i, <span class='operator'>&amp;</span>i<span class='parenthesis'>)</span>;   <span class='comment'>// deduces <span class='tcode_in_codeblock'>A&lt;int&gt;</span></span>
A a2<span class='parenthesis'>(</span>i, i<span class='parenthesis'>)</span>;     <span class='comment'>// error: cannot deduce <span class='tcode_in_codeblock'>V *</span> from <span class='tcode_in_codeblock'>i</span></span>
A a3<span class='parenthesis'>(</span><span class='operator'>&amp;</span>i, <span class='operator'>&amp;</span>d<span class='parenthesis'>)</span>;   <span class='comment'>// error: #1: cannot deduce <span class='tcode_in_codeblock'>(V*, V*)</span> from <span class='tcode_in_codeblock'>(int *, double *)</span></span>
                <span class='comment'>// #2: cannot deduce <span class='tcode_in_codeblock'>A&lt;V&gt;</span> from <span class='tcode_in_codeblock'>C&lt;int *, double *&gt;</span></span>
B b1<span class='parenthesis'>(</span><span class='operator'>&amp;</span>i, <span class='operator'>&amp;</span>i<span class='parenthesis'>)</span>;   <span class='comment'>// deduces <span class='tcode_in_codeblock'>B&lt;int&gt;</span></span>
B b2<span class='parenthesis'>(</span><span class='operator'>&amp;</span>d, <span class='operator'>&amp;</span>d<span class='parenthesis'>)</span>;   <span class='comment'>// error: cannot deduce <span class='tcode_in_codeblock'>B&lt;W&gt;</span> from <span class='tcode_in_codeblock'>C&lt;double *, double *&gt;</span></span>
</span> <div id='over.match.class.deduct-7.sentence-1' class='sentence'>
Possible exposition-only implementation of the above procedure:
<span class='codeblock'><span class='comment'>// The following concept ensures a specialization of <span class='tcode_in_codeblock'>A</span> is deduced.</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> AA;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> V<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> AA<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&lt;</span>V<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> deduces_A <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='curlybracket'>{</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>AA<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

<span class='comment'>// <span class='tcode_in_codeblock'>f1</span> is formed from the constructor #1 of <span class='tcode_in_codeblock'>C</span>, generating the following function template</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
  <span class='keyword'>auto</span> f1<span class='parenthesis'>(</span>T, U<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>T, U<span class='anglebracket'>&gt;</span>;

<span class='comment'>// Deducing arguments for <span class='tcode_in_codeblock'>C&lt;T, U&gt;</span> from <span class='tcode_in_codeblock'>C&lt;V *, V*&gt;</span> deduces <span class='tcode_in_codeblock'>T</span> as <span class='tcode_in_codeblock'>V *</span> and <span class='tcode_in_codeblock'>U</span> as <span class='tcode_in_codeblock'>V *</span>;</span>
<span class='comment'>// <span class='tcode_in_codeblock'>f1'</span> is obtained by transforming <span class='tcode_in_codeblock'>f1</span> as described by the above procedure.</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> V<span class='anglebracket'>&gt;</span> <span class='keyword'>requires</span> deduces_A<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>V <span class='operator'>*</span>, V <span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>auto</span> f1_prime<span class='parenthesis'>(</span>V <span class='operator'>*</span>, V<span class='operator'>*</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>V <span class='operator'>*</span>, V <span class='operator'>*</span><span class='anglebracket'>&gt;</span>;

<span class='comment'>// <span class='tcode_in_codeblock'>f2</span> is formed from the deduction-guide #2 of <span class='tcode_in_codeblock'>C</span></span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>auto</span> f2<span class='parenthesis'>(</span>T, U<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>T, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;

<span class='comment'>// Deducing arguments for <span class='tcode_in_codeblock'>C&lt;T, std&#x200b;::&#x200b;type_<span class='shy'></span>identity_<span class='shy'></span>t&lt;U&gt;&gt;</span> from <span class='tcode_in_codeblock'>C&lt;V *, V*&gt;</span> deduces <span class='tcode_in_codeblock'>T</span> as <span class='tcode_in_codeblock'>V *</span>;</span>
<span class='comment'>// <span class='tcode_in_codeblock'>f2'</span> is obtained by transforming <span class='tcode_in_codeblock'>f2</span> as described by the above procedure.</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> V, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
  <span class='keyword'>requires</span> deduces_A<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>V <span class='operator'>*</span>, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>auto</span> f2_prime<span class='parenthesis'>(</span>V <span class='operator'>*</span>, U<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>V <span class='operator'>*</span>, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;

<span class='comment'>// The following concept ensures a specialization of <span class='tcode_in_codeblock'>B</span> is deduced.</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> BB;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> V<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> BB<span class='anglebracket'>&lt;</span>B<span class='anglebracket'>&lt;</span>V<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> deduces_B <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='curlybracket'>{</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>BB<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

<span class='comment'>// The guides for <span class='tcode_in_codeblock'>B</span> derived from the above <span class='tcode_in_codeblock'>f1'</span> and <span class='tcode_in_codeblock'>f2'</span> for <span class='tcode_in_codeblock'>A</span> are as follows:</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>std<span class='operator'>::</span><a href='concepts.arithmetic#concept:integral' title='18.4.7&emsp;Arithmetic concepts&emsp;[concepts.arithmetic]'><span id='conceptref:integral_'><span class='tcode_in_codeblock'>integral</span></span></a> W<span class='anglebracket'>&gt;</span>
  <span class='keyword'>requires</span> deduces_A<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>W <span class='operator'>*</span>, W <span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> deduces_B<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>W <span class='operator'>*</span>, W <span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>auto</span> f1_prime_for_B<span class='parenthesis'>(</span>W <span class='operator'>*</span>, W <span class='operator'>*</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>W <span class='operator'>*</span>, W <span class='operator'>*</span><span class='anglebracket'>&gt;</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>std<span class='operator'>::</span><a href='concepts.arithmetic#concept:integral' title='18.4.7&emsp;Arithmetic concepts&emsp;[concepts.arithmetic]'><span id='conceptref:integral__'><span class='tcode_in_codeblock'>integral</span></span></a> W, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
  <span class='keyword'>requires</span> deduces_A<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>W <span class='operator'>*</span>, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
    deduces_B<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>W <span class='operator'>*</span>, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>auto</span> f2_prime_for_B<span class='parenthesis'>(</span>W <span class='operator'>*</span>, U<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>W <span class='operator'>*</span>, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;
</span></div> —&nbsp;<i>end example</i>]</div></div> </div></div></div></div></body></html>