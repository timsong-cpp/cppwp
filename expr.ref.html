<!DOCTYPE html><html lang='en'><head><title>[expr.ref]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>7</a> Expressions <a class='abbr_ref' href='./#expr'>[expr]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>7.6</a> Compound expressions <a class='abbr_ref' href='expr.compound#expr.ref'>[expr.compound]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>7.6.1</a> Postfix expressions <a class='abbr_ref' href='expr.post#expr.ref'>[expr.post]</a></h3><h4 ><a class='secnum' style='min-width:118pt'>7.6.1.4</a> Class member access <a class='abbr_ref'>[expr.ref]</a></h4><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d34fb9a542c3a9873e49e53a8a86eccfdd336109/source/expressions.tex#L3189'>#</a></div><div id='1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,class_member_access'></a></span><span class='indexparent'><a class='index' id=':access_control,class_member'></a></span><span class='indexparent'><a class='index' id=':syntax,class_member'></a></span><span class='indexparent'><a class='index' id=':semantics,class_member'></a></span><span class='indexparent'><a class='index' id=':operator,class_member_access'></a></span><span class='indexparent'><a class='index' id=':operator,class_member_access_'></a></span>A postfix expression followed by a dot <span class='texttt'><span class='operator'>.</span></span> or an arrow <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>,
optionally followed by the keyword
<span class='texttt'><span class='keyword'>template</span></span> (<a href='temp.names'>[temp.names]</a>), and then followed by an
<a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a>, is a postfix expression<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>The postfix
expression before the dot or arrow is evaluated;<a class='footnotenum' href='#footnote-59' id='footnoteref-59'>59</a>
the result of that evaluation, together with the
<a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a>, determines the result of the entire postfix
expression<a class='hidden_link' href='#1.sentence-2'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d34fb9a542c3a9873e49e53a8a86eccfdd336109/source/expressions.tex#L3213'>#</a></div><div id='2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type,incomplete'></a></span>For the first option (dot) the first expression shall be a glvalue<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>For the second option (arrow) the first expression
shall be a prvalue having pointer type<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>The expression <span class='texttt'>E1<span class='operator'>-</span><span class='anglebracket'>&gt;</span>E2</span> is
converted to the equivalent form <span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>(</span>E1<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>.</span>E2</span>; the remainder of
<a href='#expr.ref'>[expr.ref]</a> will address only the first option (dot)<a class='hidden_link' href='#2.sentence-3'>.</a><a class='footnotenum' href='#footnote-60' id='footnoteref-60'>60</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d34fb9a542c3a9873e49e53a8a86eccfdd336109/source/expressions.tex#L3223'>#</a></div><div id='3.sentence-1' class='sentence'>Abbreviating
<a class='grammarterm' href='expr.post#nt:postfix-expression'>postfix-expression</a><span class='texttt'><span class='operator'>.</span></span><a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a>
as <span class='texttt'>E1<span class='operator'>.</span>E2</span>, <span class='texttt'>E1</span> is called the <a class='hidden_link' href='#def:object_expression' id='def:object_expression'><i >object expression</i></a><a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>If the object expression is of scalar type,
<span class='texttt'>E2</span> shall name the pseudo-destructor
of that same type (ignoring cv-qualifications) and
<span class='texttt'>E1<span class='operator'>.</span>E2</span> is an lvalue of type “function of () returning <span class='texttt'><span class='keyword'>void</span></span>”<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.note-1' class='note'>[&nbsp;<a class='note_link' href='#3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='3.sentence-3' class='sentence'>This value can only be used
for a notional function call (<a href='expr.prim.id.dtor'>[expr.prim.id.dtor]</a>)<a class='hidden_link' href='#3.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d34fb9a542c3a9873e49e53a8a86eccfdd336109/source/expressions.tex#L3236'>#</a></div><div id='4.sentence-1' class='sentence'>Otherwise, the object expression shall be of class type<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>The class type shall be complete
unless the class member access appears in the definition of that class<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.note-1' class='note'>[&nbsp;<a class='note_link' href='#4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='4.sentence-3' class='sentence'>If the class is incomplete,
lookup in the complete class type is required to refer
to the same declaration (<a href='basic.scope.class'>[basic.scope.class]</a>)<a class='hidden_link' href='#4.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='4.sentence-4' class='sentence'>
The <a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> shall name a member of the class or of one of
its base classes<a class='hidden_link' href='#4.sentence-4'>.</a></div> <div id='4.note-2' class='note'>[&nbsp;<a class='note_link' href='#4.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='4.sentence-5' class='sentence'>Because the name of a class is inserted in its class scope (<a href='class'>[class]</a>),
the name of a class is also considered a nested
member of that class<a class='hidden_link' href='#4.sentence-5'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='4.note-3' class='note'>[&nbsp;<a class='note_link' href='#4.note-3'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='4.sentence-6' class='sentence'><a href='basic.lookup.classref'>[basic.lookup.classref]</a> describes how names are looked up after the
<span class='texttt'><span class='operator'>.</span></span> and <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> operators<a class='hidden_link' href='#4.sentence-6'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d34fb9a542c3a9873e49e53a8a86eccfdd336109/source/expressions.tex#L3257'>#</a></div><div id='5.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a bit-field, <span class='texttt'>E1<span class='operator'>.</span>E2</span> is a bit-field<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>The
type and value category of <span class='texttt'>E1<span class='operator'>.</span>E2</span> are determined as follows<a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'>In the remainder of <a href='#expr.ref'>[expr.ref]</a>, <span class='textit'>cq</span> represents either
<span class='texttt'><span class='keyword'>const</span></span> or the absence of <span class='texttt'><span class='keyword'>const</span></span> and <span class='textit'>vq</span> represents
either <span class='texttt'><span class='keyword'>volatile</span></span> or the absence of <span class='texttt'><span class='keyword'>volatile</span></span><a class='hidden_link' href='#5.sentence-3'>.</a></div> <div id='5.sentence-4' class='sentence'><span class='textit'>cv</span>
represents an arbitrary set of cv-qualifiers, as defined
in <a href='basic.type.qualifier'>[basic.type.qualifier]</a><a class='hidden_link' href='#5.sentence-4'>.</a></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d34fb9a542c3a9873e49e53a8a86eccfdd336109/source/expressions.tex#L3266'>#</a></div><div id='6.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is declared to have type “reference to <span class='texttt'>T</span>”, then
<span class='texttt'>E1<span class='operator'>.</span>E2</span> is an lvalue; the type of <span class='texttt'>E1<span class='operator'>.</span>E2</span> is <span class='texttt'>T</span><a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>Otherwise, one of the following rules applies<a class='hidden_link' href='#6.sentence-2'>.</a></div><ul class='itemize'><li id='6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.1'>(6.1)</a></div><div id='6.1.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a static data member and the type of <span class='texttt'>E2</span>
is <span class='texttt'>T</span>, then <span class='texttt'>E1<span class='operator'>.</span>E2</span> is an lvalue; the expression designates
the named member of the class<a class='hidden_link' href='#6.1.sentence-1'>.</a></div> <div id='6.1.sentence-2' class='sentence'>The type of <span class='texttt'>E1<span class='operator'>.</span>E2</span> is <span class='texttt'>T</span><a class='hidden_link' href='#6.1.sentence-2'>.</a></div></li><li id='6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.2'>(6.2)</a></div><div id='6.2.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a non-static data member and the type of
<span class='texttt'>E1</span> is “<span class='textit'>cq1 vq1</span> <span class='texttt'>X</span>”, and the type of <span class='texttt'>E2</span>
is “<span class='textit'>cq2 vq2</span> <span class='texttt'>T</span>”, the expression designates the corresponding
member subobject of the object designated by the first expression<a class='hidden_link' href='#6.2.sentence-1'>.</a></div> <div id='6.2.sentence-2' class='sentence'>If <span class='texttt'>E1</span>
is an lvalue, then <span class='texttt'>E1<span class='operator'>.</span>E2</span> is an lvalue;
otherwise <span class='texttt'>E1<span class='operator'>.</span>E2</span> is an xvalue<a class='hidden_link' href='#6.2.sentence-2'>.</a></div> <div id='6.2.sentence-3' class='sentence'>Let the notation <span class='textit'>vq12</span> stand for the “union” of
<span class='textit'>vq1</span> and <span class='textit'>vq2</span>; that is, if <span class='textit'>vq1</span> or <span class='textit'>vq2</span>
is <span class='texttt'><span class='keyword'>volatile</span></span>, then <span class='textit'>vq12</span> is <span class='texttt'><span class='keyword'>volatile</span></span><a class='hidden_link' href='#6.2.sentence-3'>.</a></div> <div id='6.2.sentence-4' class='sentence'>Similarly,
let the notation <span class='textit'>cq12</span> stand for the “union” of <span class='textit'>cq1</span>
and <span class='textit'>cq2</span>; that is, if <span class='textit'>cq1</span> or <span class='textit'>cq2</span> is
<span class='texttt'><span class='keyword'>const</span></span>, then <span class='textit'>cq12</span> is <span class='texttt'><span class='keyword'>const</span></span><a class='hidden_link' href='#6.2.sentence-4'>.</a></div> <div id='6.2.sentence-5' class='sentence'>If <span class='texttt'>E2</span> is
declared to be a <span class='texttt'><span class='keyword'>mutable</span></span> member, then the type of <span class='texttt'>E1<span class='operator'>.</span>E2</span>
is “<span class='textit'>vq12</span> <span class='texttt'>T</span>”<a class='hidden_link' href='#6.2.sentence-5'>.</a></div> <div id='6.2.sentence-6' class='sentence'>If <span class='texttt'>E2</span> is not declared to be a
<span class='texttt'><span class='keyword'>mutable</span></span> member, then the type of <span class='texttt'>E1<span class='operator'>.</span>E2</span> is
“<span class='textit'>cq12</span> <span class='textit'>vq12</span> <span class='texttt'>T</span>”<a class='hidden_link' href='#6.2.sentence-6'>.</a></div></li><li id='6.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.3'>(6.3)</a></div><div id='6.3.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a (possibly overloaded) member function,
function overload resolution (<a href='over.match'>[over.match]</a>)
is used to select the function to which <span class='texttt'>E2</span> refers<a class='hidden_link' href='#6.3.sentence-1'>.</a></div> <div id='6.3.sentence-2' class='sentence'>The type of <span class='texttt'>E1<span class='operator'>.</span>E2</span> is the type of <span class='texttt'>E2</span>
and <span class='texttt'>E1<span class='operator'>.</span>E2</span> refers to the function referred to by <span class='texttt'>E2</span><a class='hidden_link' href='#6.3.sentence-2'>.</a></div><ul class='itemize'><li id='6.3.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#6.3.1'>(6.3.1)</a></div><div id='6.3.1.sentence-1' class='sentence'>If <span class='texttt'>E2</span> refers to a static member function,
<span class='texttt'>E1<span class='operator'>.</span>E2</span> is an lvalue<a class='hidden_link' href='#6.3.1.sentence-1'>.</a></div></li><li id='6.3.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#6.3.2'>(6.3.2)</a></div><div id='6.3.2.sentence-1' class='sentence'>Otherwise (when <span class='texttt'>E2</span> refers to a non-static member function),
<span class='texttt'>E1<span class='operator'>.</span>E2</span> is a prvalue<a class='hidden_link' href='#6.3.2.sentence-1'>.</a></div> <div id='6.3.2.sentence-2' class='sentence'>The expression can be used only as the
left-hand operand of a member function call (<a href='class.mfct'>[class.mfct]</a>)<a class='hidden_link' href='#6.3.2.sentence-2'>.</a></div> <div id='6.3.2.note-1' class='note'>[&nbsp;<a class='note_link' href='#6.3.2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='6.3.2.sentence-3' class='sentence'>Any redundant set of parentheses surrounding the expression
is ignored (<a href='expr.prim.paren'>[expr.prim.paren]</a>)<a class='hidden_link' href='#6.3.2.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </li></ul></li><li id='6.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.4'>(6.4)</a></div><div id='6.4.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a nested type, the expression <span class='texttt'>E1<span class='operator'>.</span>E2</span> is
ill-formed<a class='hidden_link' href='#6.4.sentence-1'>.</a></div></li><li id='6.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.5'>(6.5)</a></div><div id='6.5.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a member enumerator and the type of <span class='texttt'>E2</span>
is <span class='texttt'>T</span>, the expression <span class='texttt'>E1<span class='operator'>.</span>E2</span> is a prvalue<a class='hidden_link' href='#6.5.sentence-1'>.</a></div> <div id='6.5.sentence-2' class='sentence'>The type of
<span class='texttt'>E1<span class='operator'>.</span>E2</span> is <span class='texttt'>T</span><a class='hidden_link' href='#6.5.sentence-2'>.</a></div></li></ul></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d34fb9a542c3a9873e49e53a8a86eccfdd336109/source/expressions.tex#L3320'>#</a></div><div id='7.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a non-static data member or a non-static member
function, the program is ill-formed if the class of which <span class='texttt'>E2</span> is
directly a member is an ambiguous base (<a href='class.member.lookup'>[class.member.lookup]</a>) of
the naming class (<a href='class.access.base'>[class.access.base]</a>) of <span class='texttt'>E2</span><a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.note-1' class='note'>[&nbsp;<a class='note_link' href='#7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='7.sentence-2' class='sentence'>The program is also ill-formed if the naming class is an ambiguous base of the class type
of the object expression; see <a href='class.access.base'>[class.access.base]</a><a class='hidden_link' href='#7.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='footnote' id='footnote-59'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-59'>59)</a></div><div id='footnote-59.sentence-1' class='sentence'>If the class member
access expression is evaluated, the subexpression evaluation happens even if the
result is unnecessary to determine
the value of the entire postfix expression, for example if the
<a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> denotes a static member<a class='hidden_link' href='#footnote-59.sentence-1'>.</a></div> <a href='#footnoteref-59'>⮥</a></div><div class='footnote' id='footnote-60'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-60'>60)</a></div><div id='footnote-60.sentence-1' class='sentence'>Note that
<span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>(</span>E1<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> is an lvalue<a class='hidden_link' href='#footnote-60.sentence-1'>.</a></div> <a href='#footnoteref-60'>⮥</a></div></div></body></html>