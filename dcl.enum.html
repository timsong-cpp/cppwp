<!DOCTYPE html><html lang='en'><head><title>[dcl.enum]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>9</a> Declarations <a class='abbr_ref' href='./#dcl.dcl'>[dcl.dcl]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>9.7</a> Enumerations <a class='abbr_ref' href='enum#dcl.enum'>[enum]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>9.7.1</a> Enumeration declarations <a class='abbr_ref'>[dcl.enum]</a></h3><span class='indexparent'><a class='index' id=':enumeration'></a></span><span class='indexparent'><a class='index' id=':{},enum_declaration'></a></span><span class='indexparent'><a class='index' id=':enum,type_of'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/81f1d689f51fe823d7f6faa659f03b2d787aebf6/source/declarations.tex#L6590'>#</a></div><div id='1.sentence-1' class='sentence'>An enumeration is a distinct type (<a href='basic.compound'>[basic.compound]</a>) with named
constants<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>Its name becomes an <i ><a href='#nt:enum-name'>enum-name</a></i> within its scope<a class='hidden_link' href='#1.sentence-2'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:enum-name' id='nt:enum-name'>enum-name:</a>
&#9;<i ><a href='lex.name#nt:identifier'>identifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:enum-specifier' id='nt:enum-specifier'>enum-specifier:</a>
&#9;<i ><a href='#nt:enum-head'>enum-head</a></i> <span class='terminal'><span class='curlybracket'>{</span></span> <i ><a href='#nt:enumerator-list'>enumerator-list</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='curlybracket'>}</span></span>
&#9;<i ><a href='#nt:enum-head'>enum-head</a></i> <span class='terminal'><span class='curlybracket'>{</span></span> <i ><a href='#nt:enumerator-list'>enumerator-list</a></i> <span class='terminal'>,</span> <span class='terminal'><span class='curlybracket'>}</span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:enum-head' id='nt:enum-head'>enum-head:</a>
&#9;<i ><a href='#nt:enum-key'>enum-key</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='#nt:enum-head-name'>enum-head-name</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='#nt:enum-base'>enum-base</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:enum-head-name' id='nt:enum-head-name'>enum-head-name:</a>
&#9;<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:opaque-enum-declaration' id='nt:opaque-enum-declaration'>opaque-enum-declaration:</a>
&#9;<i ><a href='#nt:enum-key'>enum-key</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='#nt:enum-head-name'>enum-head-name</a></i> <i ><a href='#nt:enum-base'>enum-base</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>;</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:enum-key' id='nt:enum-key'>enum-key:</a>
&#9;<span class='texttt'><span class='keyword'>enum</span></span><span class='indexparent'><a class='index' id=':enum'></a></span>
&#9;<span class='texttt'><span class='keyword'>enum</span></span><span class='indexparent'><a class='index' id=':enum_'></a></span> <span class='texttt'><span class='keyword'>class</span></span><span class='indexparent'><a class='index' id=':class'></a></span>
&#9;<span class='texttt'><span class='keyword'>enum</span></span><span class='indexparent'><a class='index' id=':enum__'></a></span> <span class='texttt'><span class='keyword'>struct</span></span><span class='indexparent'><a class='index' id=':struct'></a></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:enum-base' id='nt:enum-base'>enum-base:</a>
&#9;<span class='terminal'><span class='operator'>:</span></span> <i ><a href='dcl.type#nt:type-specifier-seq'>type-specifier-seq</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:enumerator-list' id='nt:enumerator-list'>enumerator-list:</a>
&#9;<i ><a href='#nt:enumerator-definition'>enumerator-definition</a></i>
&#9;<i ><a href='#nt:enumerator-list'>enumerator-list</a></i> <span class='terminal'>,</span> <i ><a href='#nt:enumerator-definition'>enumerator-definition</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:enumerator-definition' id='nt:enumerator-definition'>enumerator-definition:</a>
&#9;<i ><a href='#nt:enumerator'>enumerator</a></i>
&#9;<i ><a href='#nt:enumerator'>enumerator</a></i> <span class='terminal'><span class='operator'>=</span></span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:enumerator' id='nt:enumerator'>enumerator:</a>
&#9;<i ><a href='lex.name#nt:identifier'>identifier</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><div id='1.sentence-3' class='sentence'>The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> in the <i ><a href='#nt:enum-head'>enum-head</a></i> and
the <i ><a href='#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i> appertains to the enumeration; the attributes
in that <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> are thereafter considered attributes of the
enumeration whenever it is named<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>A <span class='texttt'><span class='operator'>:</span></span> following
“<span class='texttt'><span class='keyword'>enum</span></span> <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i>”
within the <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> of a <i ><a href='class.mem#nt:member-declaration'>member-declaration</a></i>
is parsed as part of an <i ><a href='#nt:enum-base'>enum-base</a></i><a class='hidden_link' href='#1.sentence-4'>.</a></div> <div id='1.note-1' class='note'>[&nbsp;<a class='note_link' href='#1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='1.sentence-5' class='sentence'>This resolves a potential ambiguity between the declaration of an enumeration
with an <i ><a href='#nt:enum-base'>enum-base</a></i> and the declaration of an unnamed bit-field of enumeration
type<a class='hidden_link' href='#1.sentence-5'>.</a></div> <div id='1.example-1' class='example'>[&nbsp;<a class='example_link' href='#1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>enum</span> E <span class='operator'>:</span> <span class='keyword'>int</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
  <span class='keyword'>enum</span> E <span class='operator'>:</span> <span class='keyword'>int</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;              <span class='comment'>// error: redeclaration of enumeration</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='1.sentence-6' class='sentence'>
If the <i ><a href='#nt:enum-head-name'>enum-head-name</a></i> of an <i ><a href='#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i> contains
a <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>,
the declaration shall be an <a href='temp.expl.spec'>explicit specialization</a><a class='hidden_link' href='#1.sentence-6'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/81f1d689f51fe823d7f6faa659f03b2d787aebf6/source/declarations.tex#L6675'>#</a></div><div id='2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':constant,enumeration'></a></span>The enumeration type declared with an <i ><a href='#nt:enum-key'>enum-key</a></i>
of only <span class='texttt'><span class='keyword'>enum</span></span> is an <a class='hidden_link' href='#def:enumeration,unscoped' id='def:enumeration,unscoped'><i >unscoped enumeration</i></a>,
and its <i ><a href='#nt:enumerator'>enumerator</a></i><span class='textit'>s</span> are <a class='hidden_link' href='#def:enumerator,unscoped' id='def:enumerator,unscoped'><i >unscoped enumerators</i></a><a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>The <i ><a href='#nt:enum-key'>enum-key</a></i><span class='textit'>s</span> <span class='texttt'><span class='keyword'>enum</span> <span class='keyword'>class</span></span> and
<span class='texttt'><span class='keyword'>enum</span> <span class='keyword'>struct</span></span> are semantically equivalent; an enumeration
type declared with one of these is a <a class='hidden_link' href='#def:enumeration,scoped' id='def:enumeration,scoped'><i >scoped enumeration</i></a>,
and its <i ><a href='#nt:enumerator'>enumerator</a></i><span class='textit'>s</span> are <a class='hidden_link' href='#def:enumerator,scoped' id='def:enumerator,scoped'><i >scoped enumerators</i></a><a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>The optional <i ><a href='#nt:enum-head-name'>enum-head-name</a></i> shall not be omitted in the declaration of a scoped enumeration<a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='2.sentence-4' class='sentence'>The <i ><a href='dcl.type#nt:type-specifier-seq'>type-specifier-seq</a></i> of an <i ><a href='#nt:enum-base'>enum-base</a></i>
shall name an integral type; any cv-qualification is ignored<a class='hidden_link' href='#2.sentence-4'>.</a></div> <div id='2.sentence-5' class='sentence'>An <i ><a href='#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i> declaring an unscoped enumeration shall
not omit the <i ><a href='#nt:enum-base'>enum-base</a></i><a class='hidden_link' href='#2.sentence-5'>.</a></div> <div id='2.sentence-6' class='sentence'>The identifiers in an <i ><a href='#nt:enumerator-list'>enumerator-list</a></i> are declared as
constants, and can appear wherever constants are required<a class='hidden_link' href='#2.sentence-6'>.</a></div> <div id='2.sentence-7' class='sentence'><span class='indexparent'><a class='index' id=':enumerator,value_of'></a></span>An <i ><a href='#nt:enumerator-definition'>enumerator-definition</a></i> with <span class='texttt'><span class='operator'>=</span></span> gives the associated
<i ><a href='#nt:enumerator'>enumerator</a></i> the value indicated by the
<i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i><a class='hidden_link' href='#2.sentence-7'>.</a></div> <div id='2.sentence-8' class='sentence'>If the first <i ><a href='#nt:enumerator'>enumerator</a></i>
has no <i ><a href='dcl.init#nt:initializer'>initializer</a></i>, the value of the corresponding constant
is zero<a class='hidden_link' href='#2.sentence-8'>.</a></div> <div id='2.sentence-9' class='sentence'>An <i ><a href='#nt:enumerator-definition'>enumerator-definition</a></i> without an
<i ><a href='dcl.init#nt:initializer'>initializer</a></i> gives the <i ><a href='#nt:enumerator'>enumerator</a></i> the value
obtained by increasing the value of the previous <i ><a href='#nt:enumerator'>enumerator</a></i>
by one<a class='hidden_link' href='#2.sentence-9'>.</a></div> <div id='2.example-1' class='example'>[&nbsp;<a class='example_link' href='#2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='2.sentence-10' class='sentence'><pre class='codeblock'>
<span class='keyword'>enum</span> <span class='curlybracket'>{</span> a, b, c<span class='operator'>=</span><span class='literal'>0</span> <span class='curlybracket'>}</span>;
<span class='keyword'>enum</span> <span class='curlybracket'>{</span> d, e, f<span class='operator'>=</span>e<span class='operator'>+</span><span class='literal'>2</span> <span class='curlybracket'>}</span>;
</pre>
defines <span class='texttt'>a</span>, <span class='texttt'>c</span>, and <span class='texttt'>d</span> to be zero, <span class='texttt'>b</span> and
<span class='texttt'>e</span> to be <span class='texttt'><span class='literal'>1</span></span>, and <span class='texttt'>f</span> to be <span class='texttt'><span class='literal'>3</span></span><a class='hidden_link' href='#2.sentence-10'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='2.sentence-11' class='sentence'>
The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> in an
<i ><a href='#nt:enumerator'>enumerator</a></i> appertains to that enumerator<a class='hidden_link' href='#2.sentence-11'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/81f1d689f51fe823d7f6faa659f03b2d787aebf6/source/declarations.tex#L6712'>#</a></div><div id='3.sentence-1' class='sentence'>An <i ><a href='#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i> is either a redeclaration
of an enumeration in the current scope or a declaration of a new enumeration<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.note-1' class='note'>[&nbsp;<a class='note_link' href='#3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='3.sentence-2' class='sentence'>An enumeration declared by an
<i ><a href='#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i> has a fixed underlying type and is a
complete type<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>The list of enumerators can be provided in a later redeclaration
with an <i ><a href='#nt:enum-specifier'>enum-specifier</a></i><a class='hidden_link' href='#3.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='3.sentence-4' class='sentence'>
A scoped enumeration
shall not be later redeclared as unscoped or with a different underlying type<a class='hidden_link' href='#3.sentence-4'>.</a></div> <div id='3.sentence-5' class='sentence'>An unscoped enumeration shall not be later redeclared as scoped and each
redeclaration shall include an <i ><a href='#nt:enum-base'>enum-base</a></i> specifying the same
underlying type as in the original declaration<a class='hidden_link' href='#3.sentence-5'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/81f1d689f51fe823d7f6faa659f03b2d787aebf6/source/declarations.tex#L6727'>#</a></div><div id='4.sentence-1' class='sentence'>If an <i ><a href='#nt:enum-head-name'>enum-head-name</a></i> contains a
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>,
it shall not begin with a <i ><a href='dcl.type.decltype#nt:decltype-specifier'>decltype-specifier</a></i> and
the enclosing <i ><a href='#nt:enum-specifier'>enum-specifier</a></i>
or <i ><a href='#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i> shall
refer to an enumeration that was previously declared directly in the class or
namespace to which the <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> refers,
or in an element of the inline namespace
set (<a href='namespace.def'>[namespace.def]</a>) of that namespace (i.e., neither
inherited nor introduced by a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>), and the
<i ><a href='#nt:enum-specifier'>enum-specifier</a></i> or <i ><a href='#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i>
shall appear in a namespace enclosing the previous
declaration<a class='hidden_link' href='#4.sentence-1'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/81f1d689f51fe823d7f6faa659f03b2d787aebf6/source/declarations.tex#L6742'>#</a></div><div id='5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':enum,type_of_'></a></span>Each enumeration defines a type that is different from all other types<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>Each enumeration also has an <a class='hidden_link' href='#def:type,underlying,enumeration' id='def:type,underlying,enumeration'><i >underlying type</i></a><a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'>The underlying type can be explicitly specified using an <i ><a href='#nt:enum-base'>enum-base</a></i><a class='hidden_link' href='#5.sentence-3'>.</a></div> <div id='5.sentence-4' class='sentence'>For a scoped enumeration type, the underlying type is <span class='texttt'><span class='keyword'>int</span></span> if it is not
explicitly specified<a class='hidden_link' href='#5.sentence-4'>.</a></div> <div id='5.sentence-5' class='sentence'>In both of these cases, the underlying type is said to be
<a class='hidden_link' href='#def:type,underlying,fixed' id='def:type,underlying,fixed'><i >fixed</i></a><a class='hidden_link' href='#5.sentence-5'>.</a></div> <div id='5.sentence-6' class='sentence'>Following the closing brace of an <i ><a href='#nt:enum-specifier'>enum-specifier</a></i>, each
enumerator has the type of its enumeration<a class='hidden_link' href='#5.sentence-6'>.</a></div> <div id='5.sentence-7' class='sentence'>If the underlying type is fixed, the type of each enumerator
prior to the closing brace is the underlying
type
and the <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> in the <i ><a href='#nt:enumerator-definition'>enumerator-definition</a></i>
shall be a
<a href='expr.const#def:expression,converted_constant'>converted constant expression</a>
of the underlying type<a class='hidden_link' href='#5.sentence-7'>.</a></div> <div id='5.sentence-8' class='sentence'>If the underlying
type is not fixed,
the type of each enumerator prior to the closing brace is determined as
follows:</div><ul class='itemize'><li id='5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#5.1'>(5.1)</a></div><div id='5.1.sentence-1' class='sentence'>If an
initializer is specified for an enumerator, the
<i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> shall be an
<a href='expr.const#def:expression,integral_constant'>integral constant expression</a><a class='hidden_link' href='#5.1.sentence-1'>.</a></div> <div id='5.1.sentence-2' class='sentence'>If the expression has
unscoped enumeration type, the enumerator has the underlying type of that
enumeration type, otherwise it has the same type as the expression<a class='hidden_link' href='#5.1.sentence-2'>.</a></div></li><li id='5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#5.2'>(5.2)</a></div><div id='5.2.sentence-1' class='sentence'>If no initializer is specified for the
first enumerator, its type is an unspecified signed integral type<a class='hidden_link' href='#5.2.sentence-1'>.</a></div></li><li id='5.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#5.3'>(5.3)</a></div><div id='5.3.sentence-1' class='sentence'>Otherwise
the type of the enumerator is the same as that of the
preceding enumerator unless the incremented value is not representable
in that type, in which case the type is an unspecified integral type
sufficient to contain the incremented value<a class='hidden_link' href='#5.3.sentence-1'>.</a></div> <div id='5.3.sentence-2' class='sentence'>If no such type exists, the program
is ill-formed<a class='hidden_link' href='#5.3.sentence-2'>.</a></div></li></ul></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/81f1d689f51fe823d7f6faa659f03b2d787aebf6/source/declarations.tex#L6785'>#</a></div><div id='6.sentence-1' class='sentence'>An enumeration whose underlying type is fixed is an incomplete type from its
<a href='basic.scope.pdecl#def:point_of_declaration'>point of declaration</a> to immediately after its
<i ><a href='#nt:enum-base'>enum-base</a></i> (if any), at which point it becomes a complete type<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>An enumeration whose underlying type is not fixed is an incomplete type from
its point of declaration to immediately after the closing <span class='texttt'><span class='curlybracket'>}</span></span> of its
<i ><a href='#nt:enum-specifier'>enum-specifier</a></i>, at which point it becomes a complete type<a class='hidden_link' href='#6.sentence-2'>.</a></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/81f1d689f51fe823d7f6faa659f03b2d787aebf6/source/declarations.tex#L6793'>#</a></div><div id='7.sentence-1' class='sentence'>For an enumeration whose underlying type is not fixed,
the underlying type
is an
integral type that can represent all the enumerator values defined in
the enumeration<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>If no integral type can represent all the enumerator
values, the enumeration is ill-formed<a class='hidden_link' href='#7.sentence-2'>.</a></div> <div id='7.sentence-3' class='sentence'>It is <span class='indexparent'><a class='index' id=':underlying_type_for_enumeration'></a></span>implementation-defined
which integral type is used as the underlying type
except that the underlying type shall not be larger than <span class='texttt'><span class='keyword'>int</span></span>
unless the value of an enumerator cannot fit in an <span class='texttt'><span class='keyword'>int</span></span> or
<span class='texttt'><span class='keyword'>unsigned</span> <span class='keyword'>int</span></span><a class='hidden_link' href='#7.sentence-3'>.</a></div> <div id='7.sentence-4' class='sentence'>If the <i ><a href='#nt:enumerator-list'>enumerator-list</a></i> is empty, the
underlying type is as if the enumeration had a single enumerator with
value 0<a class='hidden_link' href='#7.sentence-4'>.</a></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/81f1d689f51fe823d7f6faa659f03b2d787aebf6/source/declarations.tex#L6807'>#</a></div><div id='8.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':signed_integer_representation,two&#39;s_complement'></a></span>For an enumeration whose underlying type is fixed, the values of
the enumeration are the values of the underlying type<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>Otherwise,
the values of the enumeration are the values representable by
a hypothetical integer type with minimal width <span class='math'><span class='mathalpha'>M</span></span>
such that all enumerators can be represented<a class='hidden_link' href='#8.sentence-2'>.</a></div> <div id='8.sentence-3' class='sentence'>The width of the smallest bit-field large enough to hold all the values of the
enumeration type is <span class='math'><span class='mathalpha'>M</span></span><a class='hidden_link' href='#8.sentence-3'>.</a></div> <div id='8.sentence-4' class='sentence'>It is possible to define an enumeration that has values not defined by
any of its enumerators<a class='hidden_link' href='#8.sentence-4'>.</a></div> <div id='8.sentence-5' class='sentence'>If the <i ><a href='#nt:enumerator-list'>enumerator-list</a></i> is empty, the
values of the enumeration are as if the enumeration had a single enumerator with
value 0<a class='hidden_link' href='#8.sentence-5'>.</a><a class='footnotenum' href='#footnote-96' id='footnoteref-96'>96</a></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/81f1d689f51fe823d7f6faa659f03b2d787aebf6/source/declarations.tex#L6824'>#</a></div><div id='9.sentence-1' class='sentence'>Two enumeration types are <a class='hidden_link' href='#def:layout-compatible,enumeration' id='def:layout-compatible,enumeration'><i >layout-compatible enumerations</i></a>
if they have the same underlying type<a class='hidden_link' href='#9.sentence-1'>.</a></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/81f1d689f51fe823d7f6faa659f03b2d787aebf6/source/declarations.tex#L6828'>#</a></div><div id='10.sentence-1' class='sentence'>The value of an enumerator or an object of an unscoped enumeration type is
converted to an integer by <a href='conv.prom#def:integral_promotions'>integral promotion</a><a class='hidden_link' href='#10.sentence-1'>.</a></div> <div id='10.example-1' class='example'>[&nbsp;<a class='example_link' href='#10.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='10.sentence-2' class='sentence'><pre class='codeblock'>
<span class='keyword'>enum</span> color <span class='curlybracket'>{</span> red, yellow, green<span class='operator'>=</span><span class='literal'>20</span>, blue <span class='curlybracket'>}</span>;
color col <span class='operator'>=</span> red;
color<span class='operator'>*</span> cp <span class='operator'>=</span> <span class='operator'>&amp;</span>col;
<span class='keyword'>if</span> <span class='parenthesis'>(</span><span class='operator'>*</span>cp <span class='operator'>=</span><span class='operator'>=</span> blue<span class='parenthesis'>)</span>                <span class='comment'>// ...</span>
</pre>
makes <span class='texttt'>color</span> a type describing various colors, and then declares
<span class='texttt'>col</span> as an object of that type, and <span class='texttt'>cp</span> as a pointer to an
object of that type<a class='hidden_link' href='#10.sentence-2'>.</a></div> <div id='10.sentence-3' class='sentence'>The possible values of an object of type
<span class='texttt'>color</span> are <span class='texttt'>red</span>, <span class='texttt'>yellow</span>, <span class='texttt'>green</span>,
<span class='texttt'>blue</span>; these values can be converted to the integral values
<span class='texttt'><span class='literal'>0</span></span>, <span class='texttt'><span class='literal'>1</span></span>, <span class='texttt'><span class='literal'>20</span></span>, and <span class='texttt'><span class='literal'>21</span></span><a class='hidden_link' href='#10.sentence-3'>.</a></div> <div id='10.sentence-4' class='sentence'>Since enumerations are
distinct types, objects of type <span class='texttt'>color</span> can be assigned only
values of type <span class='texttt'>color</span><a class='hidden_link' href='#10.sentence-4'>.</a></div> <pre class='codeblock'>
color c <span class='operator'>=</span> <span class='literal'>1</span>;                    <span class='comment'>// error: type mismatch, no conversion from <span class='tcode_in_codeblock'>int</span> to <span class='tcode_in_codeblock'>color</span></span>
<span class='keyword'>int</span> i <span class='operator'>=</span> yellow;                 <span class='comment'>// OK: <span class='tcode_in_codeblock'>yellow</span> converted to integral value <span class='tcode_in_codeblock'>1</span>, integral promotion</span>
</pre> <div id='10.sentence-5' class='sentence'>
Note that this implicit <span class='texttt'><span class='keyword'>enum</span></span> to <span class='texttt'><span class='keyword'>int</span></span>
conversion is not provided for a scoped enumeration:
<pre class='codeblock'>
<span class='keyword'>enum</span> <span class='keyword'>class</span> Col <span class='curlybracket'>{</span> red, yellow, green <span class='curlybracket'>}</span>;
<span class='keyword'>int</span> x <span class='operator'>=</span> Col<span class='operator'>::</span>red;               <span class='comment'>// error: no <span class='tcode_in_codeblock'>Col</span> to <span class='tcode_in_codeblock'>int</span> conversion</span>
Col y <span class='operator'>=</span> Col<span class='operator'>::</span>red;
<span class='keyword'>if</span> <span class='parenthesis'>(</span>y<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>                      <span class='comment'>// error: no <span class='tcode_in_codeblock'>Col</span> to <span class='tcode_in_codeblock'>bool</span> conversion</span>
</pre></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/81f1d689f51fe823d7f6faa659f03b2d787aebf6/source/declarations.tex#L6860'>#</a></div><div id='11.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':class,scope_of_enumerator'></a></span>Each <i ><a href='#nt:enum-name'>enum-name</a></i> and each unscoped <i ><a href='#nt:enumerator'>enumerator</a></i> is
declared in the scope that immediately contains the <i ><a href='#nt:enum-specifier'>enum-specifier</a></i><a class='hidden_link' href='#11.sentence-1'>.</a></div> <div id='11.sentence-2' class='sentence'>Each scoped <i ><a href='#nt:enumerator'>enumerator</a></i> is declared in the scope of the
enumeration<a class='hidden_link' href='#11.sentence-2'>.</a></div> <div id='11.sentence-3' class='sentence'>These names obey the scope rules defined for all names
in <a href='basic.scope'>[basic.scope]</a> and <a href='basic.lookup'>[basic.lookup]</a><a class='hidden_link' href='#11.sentence-3'>.</a></div> <div id='11.example-1' class='example'>[&nbsp;<a class='example_link' href='#11.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>enum</span> direction <span class='curlybracket'>{</span> left<span class='operator'>=</span><span class='literal'>'l'</span>, right<span class='operator'>=</span><span class='literal'>'r'</span> <span class='curlybracket'>}</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>  <span class='curlybracket'>{</span>
  direction d;                  <span class='comment'>// OK</span>
  d <span class='operator'>=</span> left;                     <span class='comment'>// OK</span>
  d <span class='operator'>=</span> direction<span class='operator'>::</span>right;         <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>

<span class='keyword'>enum</span> <span class='keyword'>class</span> altitude <span class='curlybracket'>{</span> high<span class='operator'>=</span><span class='literal'>'h'</span>, low<span class='operator'>=</span><span class='literal'>'l'</span> <span class='curlybracket'>}</span>;

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>  <span class='curlybracket'>{</span>
  altitude a;                   <span class='comment'>// OK</span>
  a <span class='operator'>=</span> high;                     <span class='comment'>// error: <span class='tcode_in_codeblock'>high</span> not in scope</span>
  a <span class='operator'>=</span> altitude<span class='operator'>::</span>low;            <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='11.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':member,enumerator'></a></span>An enumerator declared in class scope can be referred to using the class
member access operators (<span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span>, <span class='texttt'><span class='operator'>.</span></span> (dot) and <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
(arrow)), see <a href='expr.ref'>[expr.ref]</a><a class='hidden_link' href='#11.sentence-4'>.</a></div> <div id='11.example-2' class='example'>[&nbsp;<a class='example_link' href='#11.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>enum</span> direction <span class='curlybracket'>{</span> left<span class='operator'>=</span><span class='literal'>'l'</span>, right<span class='operator'>=</span><span class='literal'>'r'</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> i<span class='operator'>=</span><span class='operator'>=</span>left <span class='operator'>?</span> <span class='literal'>0</span> <span class='operator'>:</span> i<span class='operator'>=</span><span class='operator'>=</span>right <span class='operator'>?</span> <span class='literal'>1</span> <span class='operator'>:</span> <span class='literal'>2</span>; <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span>X<span class='operator'>*</span> p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  direction d;                  <span class='comment'>// error: <span class='tcode_in_codeblock'>direction</span> not in scope</span>
  <span class='keyword'>int</span> i;
  i <span class='operator'>=</span> p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>f<span class='parenthesis'>(</span>left<span class='parenthesis'>)</span>;               <span class='comment'>// error: <span class='tcode_in_codeblock'>left</span> not in scope</span>
  i <span class='operator'>=</span> p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>f<span class='parenthesis'>(</span>X<span class='operator'>::</span>right<span class='parenthesis'>)</span>;           <span class='comment'>// OK</span>
  i <span class='operator'>=</span> p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>f<span class='parenthesis'>(</span>p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>left<span class='parenthesis'>)</span>;            <span class='comment'>// OK</span>
  <span class='comment'>// ...</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='footnote' id='footnote-96'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-96'>96)</a></div><div id='footnote-96.sentence-1' class='sentence'>This set of values is used to define promotion and
conversion semantics for the enumeration type<a class='hidden_link' href='#footnote-96.sentence-1'>.</a></div> <div id='footnote-96.sentence-2' class='sentence'>It does not preclude an
expression of enumeration type from having a value that falls outside
this range<a class='hidden_link' href='#footnote-96.sentence-2'>.</a></div> <a href='#footnoteref-96'>⮥</a></div></div></body></html>