<!DOCTYPE html><html lang='en'><head><title>[thread.req]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>33</a> Thread support library <a class='abbr_ref' href='./#thread'>[thread]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>33.2</a> Requirements <a class='abbr_ref'>[thread.req]</a></h2><div id='paramname' class='section'><h3 ><a class='secnum' href='#paramname' style='min-width:103pt'>33.2.1</a> Template parameter names <a class='abbr_ref' href='thread.req.paramname'>[thread.req.paramname]</a></h3><div class='para' id='paramname-1'><div class='marginalizedparent'><a class='marginalized' href='#paramname-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L25'>#</a></div><div id='paramname-1.sentence-1' class='sentence'>Throughout this Clause, the names of template parameters are used to express type
requirements<a class='hidden_link' href='#paramname-1.sentence-1'>.</a></div> <div id='paramname-1.sentence-2' class='sentence'>If a template parameter is named <span class='texttt'>Predicate</span>, <span class='texttt'>operator()</span> applied to
the template argument shall return a value that is convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#paramname-1.sentence-2'>.</a></div></div></div><div id='exception' class='section'><h3 ><a class='secnum' href='#exception' style='min-width:103pt'>33.2.2</a> Exceptions <a class='abbr_ref' href='thread.req.exception'>[thread.req.exception]</a></h3><div class='para' id='exception-1'><div class='marginalizedparent'><a class='marginalized' href='#exception-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L33'>#</a></div><div id='exception-1.sentence-1' class='sentence'>Some functions described in this Clause are specified to throw exceptions of type
<a href='syserr.syserr'><span class='texttt'>system_&shy;error</span></a><a class='hidden_link' href='#exception-1.sentence-1'>.</a></div> <div id='exception-1.sentence-2' class='sentence'>Such exceptions shall be thrown if
any of the function's error conditions is detected or
a call to
an operating system or other underlying API results in an error that prevents the
library function from
meeting its specifications<a class='hidden_link' href='#exception-1.sentence-2'>.</a></div> <div id='exception-1.sentence-3' class='sentence'>Failure to allocate storage shall be reported as described
in <a href='res.on.exception.handling'>[res.on.exception.handling]</a><a class='hidden_link' href='#exception-1.sentence-3'>.</a></div><div style='height:0.6em;display:block'></div><div id='exception-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#exception-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='exception-1.sentence-4' class='sentence'>Consider a function in this clause that is specified to throw exceptions of type
<span class='texttt'>system_&shy;error</span> and specifies error conditions that include
<span class='texttt'>operation_&shy;not_&shy;permitted</span> for a thread that does not have the privilege to
perform the operation<a class='hidden_link' href='#exception-1.sentence-4'>.</a></div> <div id='exception-1.sentence-5' class='sentence'>Assume that, during the execution of this function, an <span class='texttt'>errno</span>
of <span class='texttt'>EPERM</span> is reported by a POSIX API call used by the implementation<a class='hidden_link' href='#exception-1.sentence-5'>.</a></div> <div id='exception-1.sentence-6' class='sentence'>Since POSIX
specifies an <span class='texttt'>errno</span> of <span class='texttt'>EPERM</span> when “the caller does not have the privilege
to perform the operation”, the implementation maps <span class='texttt'>EPERM</span> to an
<span class='texttt'>error_&shy;condition</span> of <span class='texttt'>operation_&shy;not_&shy;permitted</span> (<a href='syserr'>[syserr]</a>) and an exception
of type <span class='texttt'>system_&shy;error</span> is thrown<a class='hidden_link' href='#exception-1.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='exception-2'><div class='marginalizedparent'><a class='marginalized' href='#exception-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L55'>#</a></div><div id='exception-2.sentence-1' class='sentence'>The <span class='texttt'>error_&shy;code</span> reported by such an exception's <span class='texttt'>code()</span> member function
shall compare equal to one of the conditions specified in the function's error condition
element<a class='hidden_link' href='#exception-2.sentence-1'>.</a></div></div></div><div id='native' class='section'><h3 ><a class='secnum' href='#native' style='min-width:103pt'>33.2.3</a> Native handles <a class='abbr_ref' href='thread.req.native'>[thread.req.native]</a></h3><div class='para' id='native-1'><div class='marginalizedparent'><a class='marginalized' href='#native-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L62'>#</a></div><div id='native-1.sentence-1' class='sentence'>Several classes described in this Clause have members <span class='texttt'>native_&shy;handle_&shy;type</span> and
<span class='texttt'>native_&shy;handle</span><a class='hidden_link' href='#native-1.sentence-1'>.</a></div> <div id='native-1.sentence-2' class='sentence'>The presence of these members and their semantics is
<span class='indexparent'><a class='index' id=':presence_and_meaning_of_native_handle_type_and_native_handle'></a></span>implementation-defined<a class='hidden_link' href='#native-1.sentence-2'>.</a></div> <div id='native-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#native-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='native-1.sentence-3' class='sentence'>These members allow implementations to provide access
to implementation details<a class='hidden_link' href='#native-1.sentence-3'>.</a></div> <div id='native-1.sentence-4' class='sentence'>Their names are specified to facilitate portable compile-time
detection<a class='hidden_link' href='#native-1.sentence-4'>.</a></div> <div id='native-1.sentence-5' class='sentence'>Actual use of these members is inherently non-portable<a class='hidden_link' href='#native-1.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='timing' class='section'><h3 ><a class='secnum' href='#timing' style='min-width:103pt'>33.2.4</a> Timing specifications <a class='abbr_ref' href='thread.req.timing'>[thread.req.timing]</a></h3><div class='para' id='timing-1'><div class='marginalizedparent'><a class='marginalized' href='#timing-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L72'>#</a></div><div id='timing-1.sentence-1' class='sentence'>Several functions described in this Clause take an argument to specify a timeout<a class='hidden_link' href='#timing-1.sentence-1'>.</a></div> <div id='timing-1.sentence-2' class='sentence'>These
timeouts are specified as either a <span class='texttt'>duration</span> or a <span class='texttt'>time_&shy;point</span> type as
specified in <a href='time'>[time]</a><a class='hidden_link' href='#timing-1.sentence-2'>.</a></div></div><div class='para' id='timing-2'><div class='marginalizedparent'><a class='marginalized' href='#timing-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L77'>#</a></div><div id='timing-2.sentence-1' class='sentence'>Implementations necessarily have some delay in returning from a timeout<a class='hidden_link' href='#timing-2.sentence-1'>.</a></div> <div id='timing-2.sentence-2' class='sentence'>Any overhead in
interrupt response, function return, and scheduling induces a “quality of implementation”
delay, expressed as duration <span class="mjx-chtml"><span class="mjx-math" aria-label="D_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><a class='hidden_link' href='#timing-2.sentence-2'>.</a></div> <div id='timing-2.sentence-3' class='sentence'>Ideally, this delay would be zero<a class='hidden_link' href='#timing-2.sentence-3'>.</a></div> <div id='timing-2.sentence-4' class='sentence'>Further, any contention for
processor and memory resources induces a “quality of management” delay, expressed as duration
<span class="mjx-chtml"><span class="mjx-math" aria-label="D_m"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span></span></span></span></span></span><a class='hidden_link' href='#timing-2.sentence-4'>.</a></div> <div id='timing-2.sentence-5' class='sentence'>The delay durations may vary from timeout to timeout, but in all cases shorter is better<a class='hidden_link' href='#timing-2.sentence-5'>.</a></div></div><div class='para' id='timing-3'><div class='marginalizedparent'><a class='marginalized' href='#timing-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L84'>#</a></div><div id='timing-3.sentence-1' class='sentence'>The functions whose names end in <span class='texttt'>_&shy;for</span> take an argument that
specifies a duration<a class='hidden_link' href='#timing-3.sentence-1'>.</a></div> <div id='timing-3.sentence-2' class='sentence'>These functions produce relative timeouts<a class='hidden_link' href='#timing-3.sentence-2'>.</a></div> <div id='timing-3.sentence-3' class='sentence'>Implementations
should use a steady clock to measure time for these functions<a class='hidden_link' href='#timing-3.sentence-3'>.</a><a class='footnotenum' href='#footnote-332'>332</a></div> <div id='timing-3.sentence-4' class='sentence'> Given a duration
argument <span class="mjx-chtml"><span class="mjx-math" aria-label="D_t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span>, the real-time duration of the timeout is <span class="mjx-chtml"><span class="mjx-math" aria-label="D_t + D_i + D_m"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span></span></span></span></span></span><a class='hidden_link' href='#timing-3.sentence-4'>.</a></div></div><div class='para' id='timing-4'><div class='marginalizedparent'><a class='marginalized' href='#timing-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L92'>#</a></div><div id='timing-4.sentence-1' class='sentence'>The functions whose names end in <span class='texttt'>_&shy;until</span> take an argument that specifies a time
point<a class='hidden_link' href='#timing-4.sentence-1'>.</a></div> <div id='timing-4.sentence-2' class='sentence'>These functions produce absolute timeouts<a class='hidden_link' href='#timing-4.sentence-2'>.</a></div> <div id='timing-4.sentence-3' class='sentence'>Implementations should use the clock
specified in the time point to measure time for these functions<a class='hidden_link' href='#timing-4.sentence-3'>.</a></div> <div id='timing-4.sentence-4' class='sentence'>Given a clock time point
argument <span class="mjx-chtml"><span class="mjx-math" aria-label="C_t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.045em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.045em;">C</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span>, the clock time point of the return from timeout should be <span class="mjx-chtml"><span class="mjx-math" aria-label="C_t + D_i + D_m"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.045em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.045em;">C</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span></span></span></span></span></span>
when the clock is not adjusted during the timeout<a class='hidden_link' href='#timing-4.sentence-4'>.</a></div> <div id='timing-4.sentence-5' class='sentence'>If the clock is adjusted to the time <span class="mjx-chtml"><span class="mjx-math" aria-label="C_a"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.045em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.045em;">C</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">a</span></span></span></span></span></span></span>
during the timeout, the behavior should be as follows:</div><div id='timing-4.sentence-6' class='sentence'><ul class='itemize'><li id='timing-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#timing-4.1'>(4.1)</a></div><div id='timing-4.1.sentence-1' class='sentence'>if <span class="mjx-chtml"><span class="mjx-math" aria-label="C_a > C_t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.045em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.045em;">C</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">a</span></span></span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&gt;</span></span><span class="mjx-msubsup MJXc-space3"><span class="mjx-base" style="margin-right: -0.045em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.045em;">C</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span>, the waiting function should wake as soon as possible, i.e., <span class="mjx-chtml"><span class="mjx-math" aria-label="C_a + D_i + D_m"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.045em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.045em;">C</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">a</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span></span></span></span></span></span>,
since the timeout is already satisfied<a class='hidden_link' href='#timing-4.1.sentence-1'>.</a></div> <div id='timing-4.1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#timing-4.1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='timing-4.1.sentence-2' class='sentence'>This specification may result in the total
duration of the wait decreasing when measured against a steady clock<a class='hidden_link' href='#timing-4.1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='timing-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#timing-4.2'>(4.2)</a></div><div id='timing-4.2.sentence-1' class='sentence'>if <span class="mjx-chtml"><span class="mjx-math" aria-label="C_a \leq {}C_t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.045em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.045em;">C</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">a</span></span></span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.045em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.045em;">C</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span>, the waiting function should not time out until <span class='texttt'>Clock&#x200b;::&#x200b;now()</span> returns a
time <span class="mjx-chtml"><span class="mjx-math" aria-label="C_n \geq {}C_t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.045em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.045em;">C</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≥</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.045em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.045em;">C</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span>, i.e., waking at <span class="mjx-chtml"><span class="mjx-math" aria-label="C_t + D_i + D_m"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.045em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.045em;">C</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span></span></span></span></span></span><a class='hidden_link' href='#timing-4.2.sentence-1'>.</a></div> <div id='timing-4.2.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#timing-4.2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='timing-4.2.sentence-2' class='sentence'>When the clock is adjusted
backwards, this specification may result in the total duration of the wait increasing when
measured against a steady clock<a class='hidden_link' href='#timing-4.2.sentence-2'>.</a></div> <div id='timing-4.2.sentence-3' class='sentence'>When the clock is adjusted forwards, this specification may
result in the total duration of the wait decreasing when measured against a steady clock<a class='hidden_link' href='#timing-4.2.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </li></ul></div><div id='timing-4.sentence-7' class='sentence'>An implementation shall return from such a timeout at any point from the time specified above to
the time it would return from a steady-clock relative timeout on the difference between <span class="mjx-chtml"><span class="mjx-math" aria-label="C_t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.045em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.045em;">C</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span>
and the time point of the call to the <span class='texttt'>_&shy;until</span> function<a class='hidden_link' href='#timing-4.sentence-7'>.</a></div> <div id='timing-4.note-3' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#timing-4.note-3'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='timing-4.sentence-8' class='sentence'>Implementations
should decrease the duration of the wait when the clock is adjusted forwards<a class='hidden_link' href='#timing-4.sentence-8'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='timing-5'><div class='marginalizedparent'><a class='marginalized' href='#timing-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L121'>#</a></div><div id='timing-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#timing-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='timing-5.sentence-1' class='sentence'>If the clock is not synchronized with a steady clock, e.g., a CPU time clock, these
timeouts might not provide useful functionality<a class='hidden_link' href='#timing-5.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='timing-6'><div class='marginalizedparent'><a class='marginalized' href='#timing-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L125'>#</a></div><div id='timing-6.sentence-1' class='sentence'>The resolution of timing provided by an implementation depends on both operating system
and hardware<a class='hidden_link' href='#timing-6.sentence-1'>.</a></div> <div id='timing-6.sentence-2' class='sentence'>The finest resolution provided by an implementation is called the
<a class='hidden_link' href='#def:native_resolution' id='def:native_resolution'><i>native resolution</i></a><a class='hidden_link' href='#timing-6.sentence-2'>.</a></div></div><div class='para' id='timing-7'><div class='marginalizedparent'><a class='marginalized' href='#timing-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L130'>#</a></div><div id='timing-7.sentence-1' class='sentence'>Implementation-provided clocks that are used for these functions shall meet the
<a href='time.clock.req'><span class='texttt'>TrivialClock</span></a> requirements<a class='hidden_link' href='#timing-7.sentence-1'>.</a></div></div><div class='para' id='timing-8'><div class='marginalizedparent'><a class='marginalized' href='#timing-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L134'>#</a></div><div id='timing-8.sentence-1' class='sentence'>A function that takes an argument which specifies a timeout will throw if,
during its execution, a clock, time point, or time duration throws an exception<a class='hidden_link' href='#timing-8.sentence-1'>.</a></div> <div id='timing-8.sentence-2' class='sentence'>Such exceptions are referred to as <a class='hidden_link' href='#def:timeout-related_exceptions' id='def:timeout-related_exceptions'><i>timeout-related exceptions</i></a><a class='hidden_link' href='#timing-8.sentence-2'>.</a></div> <div id='timing-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#timing-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='timing-8.sentence-3' class='sentence'>Instantiations of clock, time point and duration types supplied by
the implementation as specified in <a href='time.clock'>[time.clock]</a> do not throw exceptions<a class='hidden_link' href='#timing-8.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-332'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-332'>332)</a></div><div id='footnote-332.sentence-1' class='sentence'>All
implementations for which standard time units are meaningful must necessarily
have a steady clock within their hardware implementation<a class='hidden_link' href='#footnote-332.sentence-1'>.</a></div></div></div><div id='lockable' class='section'><h3 ><a class='secnum' href='#lockable' style='min-width:103pt'>33.2.5</a> Requirements for <span class='texttt'>Lockable</span> types <a class='abbr_ref' href='thread.req.lockable'>[thread.req.lockable]</a></h3><div id='lockable.general' class='section'><h4 ><a class='secnum' href='#lockable.general' style='min-width:118pt'>33.2.5.1</a> In general <a class='abbr_ref' href='thread.req.lockable.general'>[thread.req.lockable.general]</a></h4><div class='para' id='lockable.general-1'><div class='marginalizedparent'><a class='marginalized' href='#lockable.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L146'>#</a></div><div id='lockable.general-1.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:execution_agent' id='def:execution_agent'><i >execution agent</i></a> is an entity such as a thread that may perform work in parallel with
other execution agents<a class='hidden_link' href='#lockable.general-1.sentence-1'>.</a></div> <div id='lockable.general-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#lockable.general-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='lockable.general-1.sentence-3' class='sentence'>Implementations or users may introduce other kinds of
agents such as processes or thread-pool tasks<a class='hidden_link' href='#lockable.general-1.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='lockable.general-1.sentence-2' class='sentence'> The calling agent is determined by
context, e.g., the calling thread that contains the call, and so on<a class='hidden_link' href='#lockable.general-1.sentence-2'>.</a></div></div><div class='para' id='lockable.general-2'><div class='marginalizedparent'><a class='marginalized' href='#lockable.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L152'>#</a></div><div id='lockable.general-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#lockable.general-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='lockable.general-2.sentence-1' class='sentence'>Some lockable objects are “agent oblivious” in that they work for any
execution agent model because they do not determine or store the agent's ID (e.g., an
ordinary spin lock)<a class='hidden_link' href='#lockable.general-2.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='lockable.general-3'><div class='marginalizedparent'><a class='marginalized' href='#lockable.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L157'>#</a></div><div id='lockable.general-3.sentence-1' class='sentence'>The standard library templates <span class='texttt'>unique_&shy;lock</span> (<a href='thread.lock.unique'>[thread.lock.unique]</a>),
<span class='texttt'>shared_&shy;lock</span> (<a href='thread.lock.shared'>[thread.lock.shared]</a>),
<span class='texttt'>scoped_&shy;lock</span> (<a href='thread.lock.scoped'>[thread.lock.scoped]</a>),
<span class='texttt'>lock_&shy;guard</span> (<a href='thread.lock.guard'>[thread.lock.guard]</a>), <span class='texttt'>lock</span>,
<span class='texttt'>try_&shy;lock</span> (<a href='thread.lock.algorithm'>[thread.lock.algorithm]</a>), and
<span class='texttt'>condition_&shy;variable_&shy;any</span> (<a href='thread.condition.condvarany'>[thread.condition.condvarany]</a>) all operate on user-supplied
lockable objects<a class='hidden_link' href='#lockable.general-3.sentence-1'>.</a></div> <div id='lockable.general-3.sentence-2' class='sentence'>The <span class='texttt'>BasicLockable</span> requirements, the <span class='texttt'>Lockable</span> requirements,
and the <span class='texttt'>TimedLockable</span> requirements list the requirements imposed by these library types
in order to acquire or release ownership of a <span class='texttt'>lock</span> by a given execution agent<a class='hidden_link' href='#lockable.general-3.sentence-2'>.</a></div> <div id='lockable.general-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#lockable.general-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='lockable.general-3.sentence-3' class='sentence'>The nature of any lock ownership and any synchronization it may entail are not part
of these requirements<a class='hidden_link' href='#lockable.general-3.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='lockable.basic' class='section'><h4 ><a class='secnum' href='#lockable.basic' style='min-width:118pt'>33.2.5.2</a> <span class='texttt'>BasicLockable</span> requirements <a class='abbr_ref' href='thread.req.lockable.basic'>[thread.req.lockable.basic]</a></h4><div class='para' id='lockable.basic-1'><div class='marginalizedparent'><a class='marginalized' href='#lockable.basic-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L172'>#</a></div><div id='lockable.basic-1.sentence-1' class='sentence'>A type <span class='texttt'>L</span> meets the <span class='texttt'>BasicLockable</span> requirements if the following expressions are
well-formed and have the specified semantics (<span class='texttt'>m</span> denotes a value of type <span class='texttt'>L</span>)<a class='hidden_link' href='#lockable.basic-1.sentence-1'>.</a></div></div><code class='itemdecl'>m.lock()
</code><div class='itemdescr'></div><div class='para' id='lockable.basic-2'><div class='marginalizedparent'><a class='marginalized' href='#lockable.basic-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L181'>#</a></div><div id='lockable.basic-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> Blocks until a lock can be acquired for the current execution agent<a class='hidden_link' href='#lockable.basic-2.sentence-1'>.</a></div> <div id='lockable.basic-2.sentence-2' class='sentence'>If an exception
is thrown then a lock shall not have been acquired for the current execution agent<a class='hidden_link' href='#lockable.basic-2.sentence-2'>.</a></div></div></div><code class='itemdecl'>m.unlock()
</code><div class='itemdescr'></div><div class='para' id='lockable.basic-3'><div class='marginalizedparent'><a class='marginalized' href='#lockable.basic-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L191'>#</a></div><div id='lockable.basic-3.sentence-1' class='sentence'><span class='textit'>Requires:</span> The current execution agent shall hold a lock on <span class='texttt'>m</span><a class='hidden_link' href='#lockable.basic-3.sentence-1'>.</a></div></div></div><div class='para' id='lockable.basic-4'><div class='marginalizedparent'><a class='marginalized' href='#lockable.basic-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L194'>#</a></div><div id='lockable.basic-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> Releases a lock on <span class='texttt'>m</span> held by the current execution agent<a class='hidden_link' href='#lockable.basic-4.sentence-1'>.</a></div></div></div><div class='para' id='lockable.basic-5'><div class='marginalizedparent'><a class='marginalized' href='#lockable.basic-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L197'>#</a></div><div id='lockable.basic-5.sentence-1' class='sentence'><span class='textit'>Throws:</span> Nothing<a class='hidden_link' href='#lockable.basic-5.sentence-1'>.</a></div></div></div></div><div id='lockable.req' class='section'><h4 ><a class='secnum' href='#lockable.req' style='min-width:118pt'>33.2.5.3</a> <span class='texttt'>Lockable</span> requirements <a class='abbr_ref' href='thread.req.lockable.req'>[thread.req.lockable.req]</a></h4><div class='para' id='lockable.req-1'><div class='marginalizedparent'><a class='marginalized' href='#lockable.req-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L203'>#</a></div><div id='lockable.req-1.sentence-1' class='sentence'>A type <span class='texttt'>L</span> meets the <span class='texttt'>Lockable</span> requirements if it meets the <span class='texttt'>BasicLockable</span>
requirements and the following expressions are well-formed and have the specified semantics
(<span class='texttt'>m</span> denotes a value of type <span class='texttt'>L</span>)<a class='hidden_link' href='#lockable.req-1.sentence-1'>.</a></div></div><code class='itemdecl'>m.try_lock()
</code><div class='itemdescr'></div><div class='para' id='lockable.req-2'><div class='marginalizedparent'><a class='marginalized' href='#lockable.req-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L213'>#</a></div><div id='lockable.req-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> Attempts to acquire a lock for the current execution agent without blocking<a class='hidden_link' href='#lockable.req-2.sentence-1'>.</a></div> <div id='lockable.req-2.sentence-2' class='sentence'>If an
exception is thrown then a lock shall not have been acquired for the current execution agent<a class='hidden_link' href='#lockable.req-2.sentence-2'>.</a></div></div></div><div class='para' id='lockable.req-3'><div class='marginalizedparent'><a class='marginalized' href='#lockable.req-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L217'>#</a></div><div id='lockable.req-3.sentence-1' class='sentence'><span class='textit'>Return type:</span> <span class='texttt'>bool</span><a class='hidden_link' href='#lockable.req-3.sentence-1'>.</a></div></div></div><div class='para' id='lockable.req-4'><div class='marginalizedparent'><a class='marginalized' href='#lockable.req-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L220'>#</a></div><div id='lockable.req-4.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>true</span> if the lock was acquired, <span class='texttt'>false</span> otherwise<a class='hidden_link' href='#lockable.req-4.sentence-1'>.</a></div></div></div></div><div id='lockable.timed' class='section'><h4 ><a class='secnum' href='#lockable.timed' style='min-width:118pt'>33.2.5.4</a> <span class='texttt'>TimedLockable</span> requirements <a class='abbr_ref' href='thread.req.lockable.timed'>[thread.req.lockable.timed]</a></h4><div class='para' id='lockable.timed-1'><div class='marginalizedparent'><a class='marginalized' href='#lockable.timed-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L226'>#</a></div><div id='lockable.timed-1.sentence-1' class='sentence'>A type <span class='texttt'>L</span> meets the <span class='texttt'>TimedLockable</span> requirements if it meets the <span class='texttt'>Lockable</span>
requirements and the following expressions are well-formed and have the specified semantics
(<span class='texttt'>m</span> denotes a value of type <span class='texttt'>L</span>, <span class='texttt'>rel_&shy;time</span> denotes a value of an
instantiation of <a href='time.duration'><span class='texttt'>duration</span></a>, and <span class='texttt'>abs_&shy;time</span> denotes a value
of an instantiation of <a href='time.point'><span class='texttt'>time_&shy;point</span></a>)<a class='hidden_link' href='#lockable.timed-1.sentence-1'>.</a></div></div><code class='itemdecl'>m.try_lock_for(rel_time)
</code><div class='itemdescr'></div><div class='para' id='lockable.timed-2'><div class='marginalizedparent'><a class='marginalized' href='#lockable.timed-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L238'>#</a></div><div id='lockable.timed-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> Attempts to acquire a lock for the current execution agent within the relative
timeout (<a href='thread.req.timing'>[thread.req.timing]</a>) specified by <span class='texttt'>rel_&shy;time</span><a class='hidden_link' href='#lockable.timed-2.sentence-1'>.</a></div> <div id='lockable.timed-2.sentence-2' class='sentence'>The function shall not return
within the timeout specified by <span class='texttt'>rel_&shy;time</span> unless it has obtained a lock on <span class='texttt'>m</span>
for the current execution agent<a class='hidden_link' href='#lockable.timed-2.sentence-2'>.</a></div> <div id='lockable.timed-2.sentence-3' class='sentence'>If an exception is thrown then a lock shall not have been
acquired for the current execution agent<a class='hidden_link' href='#lockable.timed-2.sentence-3'>.</a></div></div></div><div class='para' id='lockable.timed-3'><div class='marginalizedparent'><a class='marginalized' href='#lockable.timed-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L245'>#</a></div><div id='lockable.timed-3.sentence-1' class='sentence'><span class='textit'>Return type:</span> <span class='texttt'>bool</span><a class='hidden_link' href='#lockable.timed-3.sentence-1'>.</a></div></div></div><div class='para' id='lockable.timed-4'><div class='marginalizedparent'><a class='marginalized' href='#lockable.timed-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L248'>#</a></div><div id='lockable.timed-4.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>true</span> if the lock was acquired, <span class='texttt'>false</span> otherwise<a class='hidden_link' href='#lockable.timed-4.sentence-1'>.</a></div></div></div><code class='itemdecl'>m.try_lock_until(abs_time)
</code><div class='itemdescr'></div><div class='para' id='lockable.timed-5'><div class='marginalizedparent'><a class='marginalized' href='#lockable.timed-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L257'>#</a></div><div id='lockable.timed-5.sentence-1' class='sentence'><span class='textit'>Effects:</span> Attempts to acquire a lock for the current execution agent before the absolute
timeout (<a href='thread.req.timing'>[thread.req.timing]</a>) specified by <span class='texttt'>abs_&shy;time</span><a class='hidden_link' href='#lockable.timed-5.sentence-1'>.</a></div> <div id='lockable.timed-5.sentence-2' class='sentence'>The function shall not return
before the timeout specified by <span class='texttt'>abs_&shy;time</span> unless it has obtained a lock on <span class='texttt'>m</span> for
the current execution agent<a class='hidden_link' href='#lockable.timed-5.sentence-2'>.</a></div> <div id='lockable.timed-5.sentence-3' class='sentence'>If an exception is thrown then a lock shall not have been acquired
for the current execution agent<a class='hidden_link' href='#lockable.timed-5.sentence-3'>.</a></div></div></div><div class='para' id='lockable.timed-6'><div class='marginalizedparent'><a class='marginalized' href='#lockable.timed-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L264'>#</a></div><div id='lockable.timed-6.sentence-1' class='sentence'><span class='textit'>Return type:</span> <span class='texttt'>bool</span><a class='hidden_link' href='#lockable.timed-6.sentence-1'>.</a></div></div></div><div class='para' id='lockable.timed-7'><div class='marginalizedparent'><a class='marginalized' href='#lockable.timed-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L267'>#</a></div><div id='lockable.timed-7.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>true</span> if the lock was acquired, <span class='texttt'>false</span> otherwise<a class='hidden_link' href='#lockable.timed-7.sentence-1'>.</a></div></div></div></div></div><div id='thread.decaycopy' class='section'><h3 ><a class='secnum' href='#thread.decaycopy' style='min-width:103pt'>33.2.6</a> <span class='texttt'>decay_&shy;copy</span> <a class='abbr_ref' href='thread.decaycopy'>[thread.decaycopy]</a></h3><div class='para' id='thread.decaycopy-1'><div class='marginalizedparent'><a class='marginalized' href='#thread.decaycopy-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d29bd8c6591fe74b095e5bd277f986462ba40b24/source/threads.tex#L273'>#</a></div><div id='thread.decaycopy-1.sentence-1' class='sentence'>In several places in this Clause the operation
<span class='indexparent'><a class='index' id=':DECAY_COPY'></a></span><span class='indexparent'><a class='index' id='lib:DECAY_COPY'></a></span><span class='texttt'><span class='textit'>DECAY_&shy;COPY</span>(x)</span> is used<a class='hidden_link' href='#thread.decaycopy-1.sentence-1'>.</a></div> <div id='thread.decaycopy-1.sentence-2' class='sentence'>All
such uses mean call the function <span class='texttt'>decay_&shy;copy(x)</span> and use the
result, where <span class='texttt'>decay_&shy;copy</span> is defined as follows:</div><pre class='codeblock'>
template &lt;class T&gt; decay_t&lt;T&gt; decay_copy(T&amp;&amp; v)
  { return std::forward&lt;T&gt;(v); }</pre></div></div></div></body></html>