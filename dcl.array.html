<!DOCTYPE html><html lang='en'><head><title>[dcl.array]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>11</a> Declarators <a class='abbr_ref' href='./#dcl.decl'>[dcl.decl]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>11.3</a> Meaning of declarators <a class='abbr_ref' href='dcl.meaning#dcl.array'>[dcl.meaning]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>11.3.4</a> Arrays <a class='abbr_ref'>[dcl.array]</a></h3><span class='indexparent'><a class='index' id=':declarator,array'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/95ac3d662c788cdabc382509be4c273e5c80b334/source/declarators.tex#L930'>#</a></div><div id='1.sentence-1' class='sentence'>In a declaration
<span class='texttt'>T</span>
<span class='texttt'>D</span>
where
<span class='texttt'>D</span>
has the form</div><pre class='ncsimplebnf'><span class='terminal'>D1 [</span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>]</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><div id='1.sentence-2' class='sentence'>and the type of the identifier in the declaration
<span class='texttt'>T</span>
<span class='texttt'>D1</span>
is
“<span class='textit'>derived-declarator-type-list</span>
<span class='texttt'>T</span>”,
then the type of the identifier of
<span class='texttt'>D</span>
is an array type; if the type of the identifier of <span class='texttt'>D</span>
contains the <span class='texttt'>auto</span> <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i>,
the program is ill-formed<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'><span class='texttt'>T</span>
is called the array
<a class='hidden_link' href='#def:element_type' id='def:element_type'><i>element type</i></a>;
this type shall not be a reference type, <span class='textit'>cv</span> <span class='texttt'>void</span>,
a function type or an abstract class type<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':declaration,array'></a></span>If the
<i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> is present, it shall be a converted constant
expression of type <span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span> and
its value shall be greater than zero<a class='hidden_link' href='#1.sentence-4'>.</a></div> <div id='1.sentence-5' class='sentence'>The constant expression specifies the
<span class='indexparent'><a class='index' id=':array,bound'></a></span><span class='indexparent'><a class='index' id=':bound,_of_array'></a></span><a class='hidden_link' href='#def:bound' id='def:bound'><i>bound</i></a>
of (number of elements in) the array<a class='hidden_link' href='#1.sentence-5'>.</a></div> <div id='1.sentence-6' class='sentence'>If the value of the constant expression is
<span class='texttt'>N</span>,
the array has
<span class='texttt'>N</span>
elements numbered
<span class='texttt'>0</span>
to
<span class='texttt'>N-1</span>,
and the type of the identifier of
<span class='texttt'>D</span>
is “<span class='textit'>derived-declarator-type-list</span> array of
<span class='texttt'>N</span>
<span class='texttt'>T</span>”<a class='hidden_link' href='#1.sentence-6'>.</a></div> <div id='1.sentence-7' class='sentence'>An object of array type contains a contiguously allocated non-empty set of
<span class='texttt'>N</span>
subobjects of type
<span class='texttt'>T</span><a class='hidden_link' href='#1.sentence-7'>.</a></div> <div id='1.sentence-8' class='sentence'>Except as noted below, if
the constant expression is omitted, the type of the identifier of
<span class='texttt'>D</span>
is “<span class='textit'>derived-declarator-type-list</span> array of unknown bound of
<span class='texttt'>T</span>”,
an incomplete object type<a class='hidden_link' href='#1.sentence-8'>.</a></div> <div id='1.sentence-9' class='sentence'>The type “<span class='textit'>derived-declarator-type-list</span> array of
<span class='texttt'>N</span>
<span class='texttt'>T</span>”
is a different type from the type
“<span class='textit'>derived-declarator-type-list</span> array of unknown bound of
<span class='texttt'>T</span>”,
see <a href='basic.types'>[basic.types]</a><a class='hidden_link' href='#1.sentence-9'>.</a></div> <div id='1.sentence-10' class='sentence'>Any type of the form
“<i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i> array of
<span class='texttt'>N</span>
<span class='texttt'>T</span>”
is adjusted to
“array of
<span class='texttt'>N</span>
<i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i>
<span class='texttt'>T</span>”,
and similarly for
“array of unknown bound of
<span class='texttt'>T</span>”<a class='hidden_link' href='#1.sentence-10'>.</a></div> <div id='1.sentence-11' class='sentence'>The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> appertains to the array<a class='hidden_link' href='#1.sentence-11'>.</a></div> <div id='1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef int A[5], AA[2][3];
typedef const A CA;             <span class='comment'>// type is “array of 5 <span class='tcode_in_codeblock'>const int</span>”
</span>typedef const AA CAA;           <span class='comment'>// type is “array of 2 array of 3 <span class='tcode_in_codeblock'>const int</span>”
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='1.sentence-12' class='sentence'>An
“array of
<span class='texttt'>N</span>
<span class='grammarterm'>cv-qualifier-seq</span>
<span class='texttt'>T</span>”
has cv-qualified type; see <a href='basic.type.qualifier'>[basic.type.qualifier]</a><a class='hidden_link' href='#1.sentence-12'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/95ac3d662c788cdabc382509be4c273e5c80b334/source/declarators.tex#L1029'>#</a></div><div id='2.sentence-1' class='sentence'>An array can be constructed from one of the fundamental types
(except
<span class='texttt'>void</span>),
from a pointer,
from a pointer to member, from a class,
from an enumeration type,
or from another array<a class='hidden_link' href='#2.sentence-1'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/95ac3d662c788cdabc382509be4c273e5c80b334/source/declarators.tex#L1038'>#</a></div><div id='3.sentence-1' class='sentence'>When several “array of” specifications are adjacent, a multidimensional
array type is created;
only the first of
the constant expressions that specify the bounds
of the arrays may be omitted<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>In addition to declarations in which an incomplete object type is allowed,
an array bound may be omitted in some cases in the declaration of a function
parameter (<a href='dcl.fct'>[dcl.fct]</a>)<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>An array bound may also be omitted
when the declarator is followed by an
<i ><a href='dcl.init#nt:initializer'>initializer</a></i> or
when a declarator for a static data member is followed by a
<i ><a href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a></i> (<a href='class.mem'>[class.mem]</a>)<a class='hidden_link' href='#3.sentence-3'>.</a></div> <div id='3.sentence-4' class='sentence'>In both cases the bound is calculated from the number
<span class='indexparent'><a class='index' id=':array_size,default'></a></span>of initial elements (say,
<span class='texttt'>N</span>)
supplied
(<a href='dcl.init.aggr'>[dcl.init.aggr]</a>), and the type of the identifier of
<span class='texttt'>D</span>
is “array of
<span class='texttt'>N</span>
<span class='texttt'>T</span>”<a class='hidden_link' href='#3.sentence-4'>.</a></div> <div id='3.sentence-5' class='sentence'>Furthermore, if there is a preceding declaration of the entity in the same
scope in which the bound was specified, an omitted array bound is taken to
be the same as in that earlier declaration, and similarly for the definition
of a static data member of a class<a class='hidden_link' href='#3.sentence-5'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/95ac3d662c788cdabc382509be4c273e5c80b334/source/declarators.tex#L1067'>#</a></div><div id='4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <span class='indexparent'><a class='index' id=':example,subscripting'></a></span><span class='indexparent'><a class='index' id=':example,array'></a></span><pre class='codeblock'>
float fa[17], *afp[17];</pre><div id='4.sentence-1' class='sentence'>declares an array of
<span class='texttt'>float</span>
numbers and an array of
pointers to
<span class='texttt'>float</span>
numbers<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':declarator,multidimensional_array'></a></span>For another example,</div><pre class='codeblock'>
static int x3d[3][5][7];</pre><div id='4.sentence-3' class='sentence'>declares a static three-dimensional array of integers,
with rank <span class="mjx-chtml"><span class="mjx-math" aria-label="3 \times {}5 \times {}7"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">3</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-texatom MJXc-space2"><span class="mjx-mrow"></span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">5</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-texatom MJXc-space2"><span class="mjx-mrow"></span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">7</span></span></span></span></span><a class='hidden_link' href='#4.sentence-3'>.</a></div> <div id='4.sentence-4' class='sentence'>In complete detail,
<span class='texttt'>x3d</span>
is an array of three items;
each item is an array of five arrays;
each of the latter arrays is an array of seven
integers<a class='hidden_link' href='#4.sentence-4'>.</a></div> <div id='4.sentence-5' class='sentence'>Any of the expressions
<span class='texttt'>x3d</span>,
<span class='texttt'>x3d[i]</span>,
<span class='texttt'>x3d[i][j]</span>,
<span class='texttt'>x3d[i][j][k]</span>
can reasonably appear in an expression<a class='hidden_link' href='#4.sentence-5'>.</a></div> <div id='4.sentence-6' class='sentence'>Finally,
<pre class='codeblock'>
extern int x[10];
struct S {
  static int y[10];
};

int x[];                <span class='comment'>// OK: bound is 10
</span>int S::y[];             <span class='comment'>// OK: bound is 10
</span>
void f() {
  extern int x[];
  int i = sizeof(x);    <span class='comment'>// error: incomplete object type
</span>}</pre></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/95ac3d662c788cdabc382509be4c273e5c80b334/source/declarators.tex#L1118'>#</a></div><div id='5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='5.sentence-1' class='sentence'>Conversions affecting expressions of array type are described in <a href='conv.array'>[conv.array]</a><a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>Objects of array types cannot be modified, see <a href='basic.lval'>[basic.lval]</a><a class='hidden_link' href='#5.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/95ac3d662c788cdabc382509be4c273e5c80b334/source/declarators.tex#L1124'>#</a></div><div id='6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='6.sentence-1' class='sentence'>Except where it has been declared for a class (<a href='over.sub'>[over.sub]</a>),
the subscript operator
<span class='texttt'>[]</span>
is interpreted
in such a way that
<span class='texttt'>E1[E2]</span>
is identical to
<span class='texttt'>*((E1)+(E2))</span> (<a href='expr.sub'>[expr.sub]</a>)<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>Because of the conversion rules
that apply to
<span class='texttt'>+</span>,
if
<span class='texttt'>E1</span>
is an array and
<span class='texttt'>E2</span>
an integer,
then
<span class='texttt'>E1[E2]</span>
refers to the
<span class='texttt'>E2</span>-th
member of
<span class='texttt'>E1</span><a class='hidden_link' href='#6.sentence-2'>.</a></div> <div id='6.sentence-3' class='sentence'>Therefore,
despite its asymmetric
appearance, subscripting is a commutative operation<a class='hidden_link' href='#6.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/95ac3d662c788cdabc382509be4c273e5c80b334/source/declarators.tex#L1153'>#</a></div><div id='7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='7.sentence-1' class='sentence'>A consistent rule is followed for
<span class='indexparent'><a class='index' id=':array,multidimensional'></a></span>multidimensional arrays<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>If
<span class='texttt'>E</span>
is an
<span class='textit'>n</span>-dimensional
array
of rank
<span class="mjx-chtml"><span class="mjx-math" aria-label="i \times {}j \times {}\dotsb {}\times {}k"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-texatom MJXc-space2"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-texatom MJXc-space2"><span class="mjx-mrow"></span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋯</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-texatom MJXc-space2"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span>,
then
<span class='texttt'>E</span>
appearing in an expression
that is subject to the array-to-pointer conversion (<a href='conv.array'>[conv.array]</a>)
is converted to
a pointer to an <span class="mjx-chtml"><span class="mjx-math" aria-label="(n-1)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>-dimensional
array with rank
<span class="mjx-chtml"><span class="mjx-math" aria-label="j \times {}\dotsb {}\times {}k"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-texatom MJXc-space2"><span class="mjx-mrow"></span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋯</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-texatom MJXc-space2"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span><a class='hidden_link' href='#7.sentence-2'>.</a></div> <div id='7.sentence-3' class='sentence'>If the
<span class='texttt'>*</span>
operator, either explicitly
or implicitly as a result of subscripting,
is applied to this pointer,
the result is the pointed-to <span class="mjx-chtml"><span class="mjx-math" aria-label="(n-1)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>-dimensional array,
which itself is immediately converted into a pointer<a class='hidden_link' href='#7.sentence-3'>.</a></div> <div id='7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='7.sentence-4' class='sentence'>Consider</div><pre class='codeblock'>
int x[3][5];</pre><div id='7.sentence-5' class='sentence'>Here
<span class='texttt'>x</span>
is a <span class="mjx-chtml"><span class="mjx-math" aria-label="3 \times {}5"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">3</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-texatom MJXc-space2"><span class="mjx-mrow"></span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">5</span></span></span></span></span> array of integers<a class='hidden_link' href='#7.sentence-5'>.</a></div> <div id='7.sentence-6' class='sentence'>When
<span class='texttt'>x</span>
appears in an expression, it is converted
to a pointer to (the first of three) five-membered arrays of integers<a class='hidden_link' href='#7.sentence-6'>.</a></div> <div id='7.sentence-7' class='sentence'>In the expression
<span class='texttt'>x[i]</span>
which is equivalent to
<span class='texttt'>*(x+i)</span>,
<span class='texttt'>x</span>
is first converted to a pointer as described;
then
<span class='texttt'>x+i</span>
is converted to the type of
<span class='texttt'>x</span>,
which involves multiplying
<span class='texttt'>i</span>
by the
length of the object to which the pointer points,
namely five integer objects<a class='hidden_link' href='#7.sentence-7'>.</a></div> <div id='7.sentence-8' class='sentence'>The results are added and indirection applied to
yield an array (of five integers), which in turn is converted to
a pointer to the first of the integers<a class='hidden_link' href='#7.sentence-8'>.</a></div> <div id='7.sentence-9' class='sentence'>If there is another subscript the same argument applies
again; this time the result is an integer<a class='hidden_link' href='#7.sentence-9'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/95ac3d662c788cdabc382509be4c273e5c80b334/source/declarators.tex#L1217'>#</a></div><div id='8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='8.sentence-1' class='sentence'>It follows from all this that arrays in C++ are stored
row-wise (last subscript varies fastest)
<span class='indexparent'><a class='index' id=':array,storage_of'></a></span>and that the first subscript in the declaration helps determine
the amount of storage consumed by an array
but plays no other part in subscript calculations<a class='hidden_link' href='#8.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div></body></html>