<!DOCTYPE html><html lang='en'><head><title>[depr.func.adaptor.binding]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='annexnum' style='min-width:73pt'>Annex D&emsp;(normative)</a> Compatibility features <a class='abbr_ref' href='./#depr'>[depr]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>D.9</a> Old adaptable function bindings <a class='abbr_ref'>[depr.func.adaptor.binding]</a></h2><div id='depr.weak.result_type' class='section'><h3 ><a class='secnum' href='#depr.weak.result_type' style='min-width:103pt'>D.9.1</a> Weak result types <a class='abbr_ref' href='depr.weak.result_type'>[depr.weak.result_type]</a></h3><div class='para' id='depr.weak.result_type-1'><div class='marginalizedparent'><a class='marginalized' href='#depr.weak.result_type-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b64354a7503c1cdc358d7f5dd1405ed903e170ef/source/future.tex#L1361'>#</a></div><div id='depr.weak.result_type-1.sentence-1' class='sentence'>A <a href='func.def#def:call_wrapper'>call wrapper</a> may have a <a class='hidden_link' href='#def:weak_result_type' id='def:weak_result_type'><i >weak result type</i></a><a class='hidden_link' href='#depr.weak.result_type-1.sentence-1'>.</a></div> <div id='depr.weak.result_type-1.sentence-2' class='sentence'>If it does, the type of its member type <span class='texttt'>result_&shy;type</span>
is based on the type <span class='texttt'>T</span> of the wrapper's target object:
<ul class='itemize'><li id='depr.weak.result_type-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#depr.weak.result_type-1.1'>(1.1)</a></div><div id='depr.weak.result_type-1.1.sentence-1' class='sentence'>if <span class='texttt'>T</span> is a pointer to function type,
<span class='texttt'>result_&shy;type</span> shall be a synonym for the return type of <span class='texttt'>T</span>;</div></li><li id='depr.weak.result_type-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#depr.weak.result_type-1.2'>(1.2)</a></div><div id='depr.weak.result_type-1.2.sentence-1' class='sentence'>if <span class='texttt'>T</span> is a pointer to member function,
<span class='texttt'>result_&shy;type</span> shall be a synonym for the return type of <span class='texttt'>T</span>;</div></li><li id='depr.weak.result_type-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#depr.weak.result_type-1.3'>(1.3)</a></div><div id='depr.weak.result_type-1.3.sentence-1' class='sentence'>if <span class='texttt'>T</span> is a class type
and the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>T&#x200b;::&#x200b;result_&shy;type</span> is valid and denotes a type (<a href='temp.deduct'>[temp.deduct]</a>),
then <span class='texttt'>result_&shy;type</span> shall be a synonym for <span class='texttt'>T&#x200b;::&#x200b;result_&shy;type</span>;</div></li><li id='depr.weak.result_type-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#depr.weak.result_type-1.4'>(1.4)</a></div><div id='depr.weak.result_type-1.4.sentence-1' class='sentence'>otherwise <span class='texttt'>result_&shy;type</span> shall not be defined<a class='hidden_link' href='#depr.weak.result_type-1.4.sentence-1'>.</a></div></li></ul></div></div></div><div id='depr.func.adaptor.typedefs' class='section'><h3 ><a class='secnum' href='#depr.func.adaptor.typedefs' style='min-width:103pt'>D.9.2</a> Typedefs to support function binders <a class='abbr_ref' href='depr.func.adaptor.typedefs'>[depr.func.adaptor.typedefs]</a></h3><div class='para' id='depr.func.adaptor.typedefs-1'><div class='marginalizedparent'><a class='marginalized' href='#depr.func.adaptor.typedefs-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b64354a7503c1cdc358d7f5dd1405ed903e170ef/source/future.tex#L1378'>#</a></div><div id='depr.func.adaptor.typedefs-1.sentence-1' class='sentence'>To enable old function adaptors to manipulate function objects
that take one or two arguments,
many of the function objects in this document
correspondingly provide <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i><span class='textit'>s</span>
<span class='texttt'>argument_&shy;type</span> and <span class='texttt'>result_&shy;type</span>
for function objects that take one argument and
<span class='texttt'>first_&shy;argument_&shy;type</span>, <span class='texttt'>second_&shy;argument_&shy;type</span>, and <span class='texttt'>result_&shy;type</span>
for function objects that take two arguments<a class='hidden_link' href='#depr.func.adaptor.typedefs-1.sentence-1'>.</a></div></div><div class='para' id='depr.func.adaptor.typedefs-2'><div class='marginalizedparent'><a class='marginalized' href='#depr.func.adaptor.typedefs-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b64354a7503c1cdc358d7f5dd1405ed903e170ef/source/future.tex#L1388'>#</a></div><div id='depr.func.adaptor.typedefs-2.sentence-1' class='sentence'>The following member names are defined in addition to names specified in <a href='function.objects'>[function.objects]</a>:</div><span class='indexparent'><a class='index' id='lib:result_type,owner_less'></a></span><span class='indexparent'><a class='index' id='lib:owner_less,result_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,owner_less'></a></span><span class='indexparent'><a class='index' id='lib:owner_less,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,owner_less'></a></span><span class='indexparent'><a class='index' id='lib:owner_less,second_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,owner_less_'></a></span><span class='indexparent'><a class='index' id='lib:owner_less,result_type_'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,owner_less_'></a></span><span class='indexparent'><a class='index' id='lib:owner_less,first_argument_type_'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,owner_less_'></a></span><span class='indexparent'><a class='index' id='lib:owner_less,second_argument_type_'></a></span><span class='indexparent'><a class='index' id='lib:result_type,plus'></a></span><span class='indexparent'><a class='index' id='lib:plus,result_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,plus'></a></span><span class='indexparent'><a class='index' id='lib:plus,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,plus'></a></span><span class='indexparent'><a class='index' id='lib:plus,second_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,minus'></a></span><span class='indexparent'><a class='index' id='lib:minus,result_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,minus'></a></span><span class='indexparent'><a class='index' id='lib:minus,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,minus'></a></span><span class='indexparent'><a class='index' id='lib:minus,second_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,multiplies'></a></span><span class='indexparent'><a class='index' id='lib:multiplies,result_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,multiplies'></a></span><span class='indexparent'><a class='index' id='lib:multiplies,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,multiplies'></a></span><span class='indexparent'><a class='index' id='lib:multiplies,second_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,divides'></a></span><span class='indexparent'><a class='index' id='lib:divides,result_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,divides'></a></span><span class='indexparent'><a class='index' id='lib:divides,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,divides'></a></span><span class='indexparent'><a class='index' id='lib:divides,second_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,modulus'></a></span><span class='indexparent'><a class='index' id='lib:modulus,result_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,modulus'></a></span><span class='indexparent'><a class='index' id='lib:modulus,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,modulus'></a></span><span class='indexparent'><a class='index' id='lib:modulus,second_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,negate'></a></span><span class='indexparent'><a class='index' id='lib:negate,result_type'></a></span><span class='indexparent'><a class='index' id='lib:argument_type,negate'></a></span><span class='indexparent'><a class='index' id='lib:negate,argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,equal_to'></a></span><span class='indexparent'><a class='index' id='lib:equal_to,result_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,equal_to'></a></span><span class='indexparent'><a class='index' id='lib:equal_to,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,equal_to'></a></span><span class='indexparent'><a class='index' id='lib:equal_to,second_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,not_equal_to'></a></span><span class='indexparent'><a class='index' id='lib:not_equal_to,result_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,not_equal_to'></a></span><span class='indexparent'><a class='index' id='lib:not_equal_to,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,not_equal_to'></a></span><span class='indexparent'><a class='index' id='lib:not_equal_to,second_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,greater'></a></span><span class='indexparent'><a class='index' id='lib:greater,result_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,greater'></a></span><span class='indexparent'><a class='index' id='lib:greater,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,greater'></a></span><span class='indexparent'><a class='index' id='lib:greater,second_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,less'></a></span><span class='indexparent'><a class='index' id='lib:less,result_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,less'></a></span><span class='indexparent'><a class='index' id='lib:less,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,less'></a></span><span class='indexparent'><a class='index' id='lib:less,second_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,greater_equal'></a></span><span class='indexparent'><a class='index' id='lib:greater_equal,result_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,greater_equal'></a></span><span class='indexparent'><a class='index' id='lib:greater_equal,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,greater_equal'></a></span><span class='indexparent'><a class='index' id='lib:greater_equal,second_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,less_equal'></a></span><span class='indexparent'><a class='index' id='lib:less_equal,result_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,less_equal'></a></span><span class='indexparent'><a class='index' id='lib:less_equal,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,less_equal'></a></span><span class='indexparent'><a class='index' id='lib:less_equal,second_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,logical_and'></a></span><span class='indexparent'><a class='index' id='lib:logical_and,result_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,logical_and'></a></span><span class='indexparent'><a class='index' id='lib:logical_and,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,logical_and'></a></span><span class='indexparent'><a class='index' id='lib:logical_and,second_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,logical_or'></a></span><span class='indexparent'><a class='index' id='lib:logical_or,result_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,logical_or'></a></span><span class='indexparent'><a class='index' id='lib:logical_or,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,logical_or'></a></span><span class='indexparent'><a class='index' id='lib:logical_or,second_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,logical_not'></a></span><span class='indexparent'><a class='index' id='lib:logical_not,result_type'></a></span><span class='indexparent'><a class='index' id='lib:argument_type,logical_not'></a></span><span class='indexparent'><a class='index' id='lib:logical_not,argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,bit_and'></a></span><span class='indexparent'><a class='index' id='lib:bit_and,result_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,bit_and'></a></span><span class='indexparent'><a class='index' id='lib:bit_and,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,bit_and'></a></span><span class='indexparent'><a class='index' id='lib:bit_and,second_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,bit_or'></a></span><span class='indexparent'><a class='index' id='lib:bit_or,result_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,bit_or'></a></span><span class='indexparent'><a class='index' id='lib:bit_or,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,bit_or'></a></span><span class='indexparent'><a class='index' id='lib:bit_or,second_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,bit_xor'></a></span><span class='indexparent'><a class='index' id='lib:bit_xor,result_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,bit_xor'></a></span><span class='indexparent'><a class='index' id='lib:bit_xor,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,bit_xor'></a></span><span class='indexparent'><a class='index' id='lib:bit_xor,second_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,bit_not'></a></span><span class='indexparent'><a class='index' id='lib:bit_not,result_type'></a></span><span class='indexparent'><a class='index' id='lib:argument_type,bit_not'></a></span><span class='indexparent'><a class='index' id='lib:bit_not,argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,function'></a></span><span class='indexparent'><a class='index' id='lib:function,result_type'></a></span><span class='indexparent'><a class='index' id='lib:argument_type,function'></a></span><span class='indexparent'><a class='index' id='lib:function,argument_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,function'></a></span><span class='indexparent'><a class='index' id='lib:function,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,function'></a></span><span class='indexparent'><a class='index' id='lib:function,second_argument_type'></a></span><pre class='codeblock'>
namespace std {
  template&lt;class T&gt; struct owner_less&lt;shared_ptr&lt;T&gt;&gt; {
    using result_type          = bool;
    using first_argument_type  = shared_ptr&lt;T&gt;;
    using second_argument_type = shared_ptr&lt;T&gt;;
  };

  template&lt;class T&gt; struct owner_less&lt;weak_ptr&lt;T&gt;&gt; {
    using result_type          = bool;
    using first_argument_type  = weak_ptr&lt;T&gt;;
    using second_argument_type = weak_ptr&lt;T&gt;;
  };

  template &lt;class T&gt; class reference_wrapper {
  public:
    using result_type          = <span class='textit'><span class='texttt'>see below</span></span>; <span class='comment'>// not always defined
</span>    using argument_type        = <span class='textit'><span class='texttt'>see below</span></span>; <span class='comment'>// not always defined
</span>    using first_argument_type  = <span class='textit'><span class='texttt'>see below</span></span>; <span class='comment'>// not always defined
</span>    using second_argument_type = <span class='textit'><span class='texttt'>see below</span></span>; <span class='comment'>// not always defined
</span>  };

  template &lt;class T&gt; struct plus {
    using first_argument_type  = T;
    using second_argument_type = T;
    using result_type          = T;
  };

  template &lt;class T&gt; struct minus {
    using first_argument_type  = T;
    using second_argument_type = T;
    using result_type          = T;
  };

  template &lt;class T&gt; struct multiplies {
    using first_argument_type  = T;
    using second_argument_type = T;
    using result_type          = T;
  };

  template &lt;class T&gt; struct divides {
    using first_argument_type  = T;
    using second_argument_type = T;
    using result_type          = T;
  };

  template &lt;class T&gt; struct modulus {
    using first_argument_type  = T;
    using second_argument_type = T;
    using result_type          = T;
  };

  template &lt;class T&gt; struct negate {
    using argument_type = T;
    using result_type   = T;
  };

  template &lt;class T&gt; struct equal_to {
    using first_argument_type  = T;
    using second_argument_type = T;
    using result_type          = bool;
  };

  template &lt;class T&gt; struct not_equal_to {
    using first_argument_type  = T;
    using second_argument_type = T;
    using result_type          = bool;
  };

  template &lt;class T&gt; struct greater {
    using first_argument_type  = T;
    using second_argument_type = T;
    using result_type          = bool;
  };

  template &lt;class T&gt; struct less {
    using first_argument_type  = T;
    using second_argument_type = T;
    using result_type          = bool;
  };

  template &lt;class T&gt; struct greater_equal {
    using first_argument_type  = T;
    using second_argument_type = T;
    using result_type          = bool;
  };

  template &lt;class T&gt; struct less_equal {
    using first_argument_type  = T;
    using second_argument_type = T;
    using result_type          = bool;
  };

  template &lt;class T&gt; struct logical_and {
    using first_argument_type  = T;
    using second_argument_type = T;
    using result_type          = bool;
  };

  template &lt;class T&gt; struct logical_or {
    using first_argument_type  = T;
    using second_argument_type = T;
    using result_type          = bool;
  };

  template &lt;class T&gt; struct logical_not {
    using argument_type = T;
    using result_type   = bool;
  };

  template &lt;class T&gt; struct bit_and {
    using first_argument_type  = T;
    using second_argument_type = T;
    using result_type          = T;
  };

  template &lt;class T&gt; struct bit_or {
    using first_argument_type  = T;
    using second_argument_type = T;
    using result_type          = T;
  };

  template &lt;class T&gt; struct bit_xor {
    using first_argument_type  = T;
    using second_argument_type = T;
    using result_type          = T;
  };

  template &lt;class T&gt; struct bit_not {
    using argument_type = T;
    using result_type   = T;
  };

  template&lt;class R, class T1&gt; class function&lt;R(T1)&gt; {
  public:
    using argument_type = T1;
  };

  template&lt;class R, class T1, class T2&gt; class function&lt;R(T1, T2)&gt; {
  public:
    using first_argument_type  = T1;
    using second_argument_type = T2;
  };
}</pre><span class='indexparent'><a class='index' id='lib:reference_wrapper,weak_result_type'></a></span></div><div class='para' id='depr.func.adaptor.typedefs-3'><div class='marginalizedparent'><a class='marginalized' href='#depr.func.adaptor.typedefs-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b64354a7503c1cdc358d7f5dd1405ed903e170ef/source/future.tex#L1602'>#</a></div><div id='depr.func.adaptor.typedefs-3.sentence-1' class='sentence'><span class='texttt'>reference_&shy;wrapper&lt;T&gt;</span> has a <a href='depr.weak.result_type#def:weak_result_type'>weak result type</a><a class='hidden_link' href='#depr.func.adaptor.typedefs-3.sentence-1'>.</a></div> <div id='depr.func.adaptor.typedefs-3.sentence-2' class='sentence'>If <span class='texttt'>T</span> is a function type,
<span class='texttt'>result_&shy;type</span> shall be a synonym for the return type of <span class='texttt'>T</span><a class='hidden_link' href='#depr.func.adaptor.typedefs-3.sentence-2'>.</a></div> <span class='indexparent'><a class='index' id='lib:argument_type,reference_wrapper'></a></span><span class='indexparent'><a class='index' id='lib:reference_wrapper,argument_type'></a></span></div><div class='para' id='depr.func.adaptor.typedefs-4'><div class='marginalizedparent'><a class='marginalized' href='#depr.func.adaptor.typedefs-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b64354a7503c1cdc358d7f5dd1405ed903e170ef/source/future.tex#L1608'>#</a></div><div id='depr.func.adaptor.typedefs-4.sentence-1' class='sentence'>The template specialization <span class='texttt'>reference_&shy;wrapper&lt;T&gt;</span>
shall define a nested type named <span class='texttt'>argument_&shy;type</span>
as a synonym for <span class='texttt'>T1</span>
only if the type <span class='texttt'>T</span> is any of the following:
<ul class='itemize'><li id='depr.func.adaptor.typedefs-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#depr.func.adaptor.typedefs-4.1'>(4.1)</a></div><div id='depr.func.adaptor.typedefs-4.1.sentence-1' class='sentence'>a function type or a pointer to function type taking one argument of type <span class='texttt'>T1</span></div></li><li id='depr.func.adaptor.typedefs-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#depr.func.adaptor.typedefs-4.2'>(4.2)</a></div><div id='depr.func.adaptor.typedefs-4.2.sentence-1' class='sentence'>a pointer to member function <span class='texttt'>R T0&#x200b;::&#x200b;f()</span> <span class='textit'>cv</span> (where <span class='textit'>cv</span> represents the member function's cv-qualifiers); the type <span class='texttt'>T1</span> is <span class='textit'>cv</span> <span class='texttt'>T0*</span></div></li><li id='depr.func.adaptor.typedefs-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#depr.func.adaptor.typedefs-4.3'>(4.3)</a></div><div id='depr.func.adaptor.typedefs-4.3.sentence-1' class='sentence'>a class type where the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>T&#x200b;::&#x200b;argument_&shy;type</span>
is valid and denotes a type (<a href='temp.deduct'>[temp.deduct]</a>);
the type <span class='texttt'>T1</span> is <span class='texttt'>T&#x200b;::&#x200b;argument_&shy;type</span><a class='hidden_link' href='#depr.func.adaptor.typedefs-4.3.sentence-1'>.</a></div></li></ul></div> <span class='indexparent'><a class='index' id='lib:first_argument_type,reference_wrapper'></a></span><span class='indexparent'><a class='index' id='lib:reference_wrapper,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,reference_wrapper'></a></span><span class='indexparent'><a class='index' id='lib:reference_wrapper,second_argument_type'></a></span></div><div class='para' id='depr.func.adaptor.typedefs-5'><div class='marginalizedparent'><a class='marginalized' href='#depr.func.adaptor.typedefs-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b64354a7503c1cdc358d7f5dd1405ed903e170ef/source/future.tex#L1623'>#</a></div><div id='depr.func.adaptor.typedefs-5.sentence-1' class='sentence'>The template instantiation <span class='texttt'>reference_&shy;wrapper&lt;T&gt;</span>
shall define two nested types
named <span class='texttt'>first_&shy;argument_&shy;type</span> and <span class='texttt'>second_&shy;argument_&shy;type</span>
as synonyms for <span class='texttt'>T1</span> and <span class='texttt'>T2</span>, respectively,
only if the type <span class='texttt'>T</span> is any of the following:
<ul class='itemize'><li id='depr.func.adaptor.typedefs-5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#depr.func.adaptor.typedefs-5.1'>(5.1)</a></div><div id='depr.func.adaptor.typedefs-5.1.sentence-1' class='sentence'>a function type or a pointer to function type taking two arguments of types <span class='texttt'>T1</span> and <span class='texttt'>T2</span></div></li><li id='depr.func.adaptor.typedefs-5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#depr.func.adaptor.typedefs-5.2'>(5.2)</a></div><div id='depr.func.adaptor.typedefs-5.2.sentence-1' class='sentence'>a pointer to member function <span class='texttt'>R T0&#x200b;::&#x200b;f(T2)</span> <span class='textit'>cv</span> (where <span class='textit'>cv</span> represents the member function's cv-qualifiers); the type <span class='texttt'>T1</span> is <span class='textit'>cv</span> <span class='texttt'>T0*</span></div></li><li id='depr.func.adaptor.typedefs-5.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#depr.func.adaptor.typedefs-5.3'>(5.3)</a></div><div id='depr.func.adaptor.typedefs-5.3.sentence-1' class='sentence'>a class type where the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i><span class='textit'>s</span>
<span class='texttt'>T&#x200b;::&#x200b;first_&shy;argument_&shy;type</span> and <span class='texttt'>T&#x200b;::&#x200b;second_&shy;argument_&shy;type</span>
are both valid and both denote types (<a href='temp.deduct'>[temp.deduct]</a>);
the type <span class='texttt'>T1</span> is <span class='texttt'>T&#x200b;::&#x200b;first_&shy;argument_&shy;type</span> and
the type <span class='texttt'>T2</span> is <span class='texttt'>T&#x200b;::&#x200b;second_&shy;argument_&shy;type</span><a class='hidden_link' href='#depr.func.adaptor.typedefs-5.3.sentence-1'>.</a></div></li></ul></div> <span class='indexparent'><a class='index' id='lib:result_type,hash'></a></span><span class='indexparent'><a class='index' id='lib:hash,result_type'></a></span><span class='indexparent'><a class='index' id='lib:argument_type,hash'></a></span><span class='indexparent'><a class='index' id='lib:hash,argument_type'></a></span></div><div class='para' id='depr.func.adaptor.typedefs-6'><div class='marginalizedparent'><a class='marginalized' href='#depr.func.adaptor.typedefs-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b64354a7503c1cdc358d7f5dd1405ed903e170ef/source/future.tex#L1641'>#</a></div><div id='depr.func.adaptor.typedefs-6.sentence-1' class='sentence'>All enabled specializations <span class='texttt'>hash&lt;Key&gt;</span> of <span class='texttt'>hash</span> (<a href='unord.hash'>[unord.hash]</a>)
provide two nested types, <span class='texttt'>result_&shy;type</span> and <span class='texttt'>argument_&shy;type</span>,
which shall be synonyms for <span class='texttt'>size_&shy;t</span> and <span class='texttt'>Key</span>, respectively<a class='hidden_link' href='#depr.func.adaptor.typedefs-6.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id='lib:bind,weak_result_type'></a></span></div><div class='para' id='depr.func.adaptor.typedefs-7'><div class='marginalizedparent'><a class='marginalized' href='#depr.func.adaptor.typedefs-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b64354a7503c1cdc358d7f5dd1405ed903e170ef/source/future.tex#L1647'>#</a></div><div id='depr.func.adaptor.typedefs-7.sentence-1' class='sentence'>The forwarding call wrapper <span class='texttt'>g</span>
returned by a call to <span class='texttt'>bind(f, bound_&shy;args...)</span> (<a href='func.bind.bind'>[func.bind.bind]</a>)
shall have a <a href='depr.weak.result_type#def:weak_result_type'>weak result type</a><a class='hidden_link' href='#depr.func.adaptor.typedefs-7.sentence-1'>.</a></div></div><div class='para' id='depr.func.adaptor.typedefs-8'><div class='marginalizedparent'><a class='marginalized' href='#depr.func.adaptor.typedefs-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b64354a7503c1cdc358d7f5dd1405ed903e170ef/source/future.tex#L1652'>#</a></div><div id='depr.func.adaptor.typedefs-8.sentence-1' class='sentence'>The forwarding call wrapper <span class='texttt'>g</span>
returned by a call to <span class='texttt'>bind&lt;R&gt;(f, bound_&shy;args...)</span> (<a href='func.bind.bind'>[func.bind.bind]</a>)
shall have a nested type <span class='texttt'>result_&shy;type</span> defined as a synonym for <span class='texttt'>R</span><a class='hidden_link' href='#depr.func.adaptor.typedefs-8.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id='lib:result_type,mem_fn'></a></span><span class='indexparent'><a class='index' id='lib:mem_fn,result_type'></a></span></div><div class='para' id='depr.func.adaptor.typedefs-9'><div class='marginalizedparent'><a class='marginalized' href='#depr.func.adaptor.typedefs-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b64354a7503c1cdc358d7f5dd1405ed903e170ef/source/future.tex#L1658'>#</a></div><div id='depr.func.adaptor.typedefs-9.sentence-1' class='sentence'>The simple call wrapper
returned from a call to <span class='texttt'>mem_&shy;fn(pm)</span>
shall have a nested type <span class='texttt'>result_&shy;type</span>
that is a synonym for
the return type of <span class='texttt'>pm</span>
when <span class='texttt'>pm</span> is a pointer to member function<a class='hidden_link' href='#depr.func.adaptor.typedefs-9.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id='lib:result_type,mem_fn_'></a></span><span class='indexparent'><a class='index' id='lib:mem_fn,result_type_'></a></span><span class='indexparent'><a class='index' id='lib:argument_type,mem_fn'></a></span><span class='indexparent'><a class='index' id='lib:mem_fn,argument_type'></a></span></div><div class='para' id='depr.func.adaptor.typedefs-10'><div class='marginalizedparent'><a class='marginalized' href='#depr.func.adaptor.typedefs-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b64354a7503c1cdc358d7f5dd1405ed903e170ef/source/future.tex#L1668'>#</a></div><div id='depr.func.adaptor.typedefs-10.sentence-1' class='sentence'>The simple call wrapper
returned from a call to <span class='texttt'>mem_&shy;fn(pm)</span>
shall define two nested types
named <span class='texttt'>argument_&shy;type</span> and <span class='texttt'>result_&shy;type</span>
as synonyms for <span class='textit'>cv</span> <span class='texttt'>T*</span> and <span class='texttt'>Ret</span>, respectively,
when <span class='texttt'>pm</span> is a pointer to member function
with cv-qualifier <span class='textit'>cv</span>
and taking no arguments,
where <span class='texttt'>Ret</span> is <span class='texttt'>pm</span>'s return type<a class='hidden_link' href='#depr.func.adaptor.typedefs-10.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id='lib:result_type,mem_fn__'></a></span><span class='indexparent'><a class='index' id='lib:mem_fn,result_type__'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,mem_fn'></a></span><span class='indexparent'><a class='index' id='lib:mem_fn,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,mem_fn'></a></span><span class='indexparent'><a class='index' id='lib:mem_fn,second_argument_type'></a></span></div><div class='para' id='depr.func.adaptor.typedefs-11'><div class='marginalizedparent'><a class='marginalized' href='#depr.func.adaptor.typedefs-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b64354a7503c1cdc358d7f5dd1405ed903e170ef/source/future.tex#L1682'>#</a></div><div id='depr.func.adaptor.typedefs-11.sentence-1' class='sentence'>The simple call wrapper
returned from a call to <span class='texttt'>mem_&shy;fn(pm)</span>
shall define three nested types
named <span class='texttt'>first_&shy;argument_&shy;type</span>, <span class='texttt'>second_&shy;argument_&shy;type</span>, and <span class='texttt'>result_&shy;type</span>
as synonyms for <span class='textit'>cv</span> <span class='texttt'>T*</span>, <span class='texttt'>T1</span>, and <span class='texttt'>Ret</span>, respectively,
when <span class='texttt'>pm</span> is a pointer to member function
with cv-qualifier <span class='textit'>cv</span>
and taking one argument of type <span class='texttt'>T1</span>,
where <span class='texttt'>Ret</span> is <span class='texttt'>pm</span>'s return type<a class='hidden_link' href='#depr.func.adaptor.typedefs-11.sentence-1'>.</a></div></div><div class='para' id='depr.func.adaptor.typedefs-12'><div class='marginalizedparent'><a class='marginalized' href='#depr.func.adaptor.typedefs-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b64354a7503c1cdc358d7f5dd1405ed903e170ef/source/future.tex#L1693'>#</a></div><div id='depr.func.adaptor.typedefs-12.sentence-1' class='sentence'>The following member names are defined in addition to names specified in <a href='containers'>[containers]</a>:</div><span class='indexparent'><a class='index' id='lib:result_type,map::value_compare'></a></span><span class='indexparent'><a class='index' id='lib:map::value_compare,result_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,map::value_compare'></a></span><span class='indexparent'><a class='index' id='lib:map::value_compare,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,map::value_compare'></a></span><span class='indexparent'><a class='index' id='lib:map::value_compare,second_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,multimap::value_compare'></a></span><span class='indexparent'><a class='index' id='lib:multimap::value_compare,result_type'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,multimap::value_compare'></a></span><span class='indexparent'><a class='index' id='lib:multimap::value_compare,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,multimap::value_compare'></a></span><span class='indexparent'><a class='index' id='lib:multimap::value_compare,second_argument_type'></a></span><pre class='codeblock'>
namespace std {
  template &lt;class Key, class T, class Compare, class Allocator&gt;
  class map&lt;Key, T, Compare, Allocator&gt;::value_compare {
  public:
    using result_type          = bool;
    using first_argument_type  = value_type;
    using second_argument_type = value_type;
  };

  template &lt;class Key, class T, class Compare, class Allocator&gt;
  class multimap&lt;Key, T, Compare, Allocator&gt;::value_compare {
  public:
    using result_type          = bool;
    using first_argument_type  = value_type;
    using second_argument_type = value_type;
  };
}</pre></div></div><div id='depr.negators' class='section'><h3 ><a class='secnum' href='#depr.negators' style='min-width:103pt'>D.9.3</a> Negators <a class='abbr_ref' href='depr.negators'>[depr.negators]</a></h3><div class='para' id='depr.negators-1'><div class='marginalizedparent'><a class='marginalized' href='#depr.negators-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b64354a7503c1cdc358d7f5dd1405ed903e170ef/source/future.tex#L1724'>#</a></div><div id='depr.negators-1.sentence-1' class='sentence'>The header
<span class='indexparent'><a class='index' id=':<functional>'></a></span><span class='indexparent'><a class='index' id='lib:<functional>'></a></span><span class='texttt'>&lt;functional&gt;</span> has the following additions:</div><span class='indexparent'><a class='index' id='lib:unary_negate'></a></span><span class='indexparent'><a class='index' id='lib:not1'></a></span><span class='indexparent'><a class='index' id='lib:binary_negate'></a></span><span class='indexparent'><a class='index' id='lib:not2'></a></span><pre class='codeblock'>
namespace std {
  template &lt;class Predicate&gt; class unary_negate;
  template &lt;class Predicate&gt;
    constexpr unary_negate&lt;Predicate&gt; not1(const Predicate&amp;);
  template &lt;class Predicate&gt; class binary_negate;
  template &lt;class Predicate&gt;
    constexpr binary_negate&lt;Predicate&gt; not2(const Predicate&amp;);
}</pre></div><div class='para' id='depr.negators-2'><div class='marginalizedparent'><a class='marginalized' href='#depr.negators-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b64354a7503c1cdc358d7f5dd1405ed903e170ef/source/future.tex#L1744'>#</a></div><div id='depr.negators-2.sentence-1' class='sentence'>Negators <span class='texttt'>not1</span> and <span class='texttt'>not2</span>
take a unary and a binary predicate, respectively,
and return their logical negations (<a href='expr.unary.op'>[expr.unary.op]</a>)<a class='hidden_link' href='#depr.negators-2.sentence-1'>.</a></div><span class='indexparent'><a class='index' id='lib:unary_negate_'></a></span><span class='indexparent'><a class='index' id='lib:argument_type,unary_negate'></a></span><span class='indexparent'><a class='index' id='lib:unary_negate,argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,unary_negate'></a></span><span class='indexparent'><a class='index' id='lib:unary_negate,result_type'></a></span><pre class='codeblock'>
template &lt;class Predicate&gt;
class unary_negate {
public:
  constexpr explicit unary_negate(const Predicate&amp; pred);
  constexpr bool operator()(const typename Predicate::argument_type&amp; x) const;
  using argument_type = typename Predicate::argument_type;
  using result_type   = bool;
};</pre><span class='indexparent'><a class='index' id='lib:operator(),unary_negate'></a></span><span class='indexparent'><a class='index' id='lib:unary_negate,operator()'></a></span></div><code class='itemdecl'>constexpr bool operator()(const typename Predicate::argument_type&amp; x) const;
</code><div class='itemdescr'></div><div class='para' id='depr.negators-3'><div class='marginalizedparent'><a class='marginalized' href='#depr.negators-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b64354a7503c1cdc358d7f5dd1405ed903e170ef/source/future.tex#L1769'>#</a></div><div id='depr.negators-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>!pred(x)</span><a class='hidden_link' href='#depr.negators-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:not1_'></a></span><code class='itemdecl'>template &lt;class Predicate&gt;
   constexpr unary_negate&lt;Predicate&gt; not1(const Predicate&amp; pred);
</code><div class='itemdescr'></div><div class='para' id='depr.negators-4'><div class='marginalizedparent'><a class='marginalized' href='#depr.negators-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b64354a7503c1cdc358d7f5dd1405ed903e170ef/source/future.tex#L1779'>#</a></div><div id='depr.negators-4.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>unary_&shy;negate&lt;Predicate&gt;(pred)</span><a class='hidden_link' href='#depr.negators-4.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:binary_negate_'></a></span><span class='indexparent'><a class='index' id='lib:first_argument_type,binary_negate'></a></span><span class='indexparent'><a class='index' id='lib:binary_negate,first_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:second_argument_type,binary_negate'></a></span><span class='indexparent'><a class='index' id='lib:binary_negate,second_argument_type'></a></span><span class='indexparent'><a class='index' id='lib:result_type,binary_negate'></a></span><span class='indexparent'><a class='index' id='lib:binary_negate,result_type'></a></span><pre class='codeblock'>
template &lt;class Predicate&gt;
class binary_negate {
public:
  constexpr explicit binary_negate(const Predicate&amp; pred);
  constexpr bool operator()(const typename Predicate::first_argument_type&amp; x,
                            const typename Predicate::second_argument_type&amp; y) const;
  using first_argument_type  = typename Predicate::first_argument_type;
  using second_argument_type = typename Predicate::second_argument_type;
  using result_type          = bool;

};</pre><span class='indexparent'><a class='index' id='lib:operator(),binary_negate'></a></span><span class='indexparent'><a class='index' id='lib:binary_negate,operator()'></a></span><code class='itemdecl'>constexpr bool operator()(const typename Predicate::first_argument_type&amp; x,
                          const typename Predicate::second_argument_type&amp; y) const;
</code><div class='itemdescr'></div><div class='para' id='depr.negators-5'><div class='marginalizedparent'><a class='marginalized' href='#depr.negators-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b64354a7503c1cdc358d7f5dd1405ed903e170ef/source/future.tex#L1807'>#</a></div><div id='depr.negators-5.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>!pred(x,y)</span><a class='hidden_link' href='#depr.negators-5.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:not2_'></a></span><code class='itemdecl'>template &lt;class Predicate&gt;
  constexpr binary_negate&lt;Predicate&gt; not2(const Predicate&amp; pred);
</code><div class='itemdescr'></div><div class='para' id='depr.negators-6'><div class='marginalizedparent'><a class='marginalized' href='#depr.negators-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b64354a7503c1cdc358d7f5dd1405ed903e170ef/source/future.tex#L1817'>#</a></div><div id='depr.negators-6.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>binary_&shy;negate&lt;Predicate&gt;(pred)</span><a class='hidden_link' href='#depr.negators-6.sentence-1'>.</a></div></div></div></div></div></body></html>