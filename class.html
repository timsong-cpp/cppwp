<!DOCTYPE html><html lang='en'><head><title>[class]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>11</a> Classes <a class='abbr_ref' href='./#class'>[class]</a></h1><div class='texpara'><a class='index' id=':class'></a></div><div class='texpara'></div><div id='pre' class='section'><h2 ><a class='secnum' href='#pre' style='min-width:65pt'>11.1</a> Preamble <a class='abbr_ref' href='class.pre'>[class.pre]</a></h2><div class='para' id='pre-1'><div class='marginalizedparent'><a class='marginalized' href='#pre-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L11'>#</a></div><div class='texpara'><div id='pre-1.sentence-1' class='sentence'><a class='index' id=':{},class_declaration'></a><a class='index' id=':{},class_definition'></a><a class='index' id=':type,class_and'></a>A class is a type<a class='hidden_link' href='#pre-1.sentence-1'>.</a></div> <div id='pre-1.sentence-2' class='sentence'>Its name becomes a <a href='#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name'><span class='textsf'><i >class-name</i></span></span></a> (<a href='#name' title='11.3&emsp;Class names'>[class.<span class='shy'></span>name]</a>) within its
scope<a class='hidden_link' href='#pre-1.sentence-2'>.</a></div></div><div class='texpara'><div class='bnf' id='nt:class-name'>
<a class='hidden_link' href='#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='nt:class-name'><span id=':class-name'>class-name<span class='textnormal'>:</span></span></span></a><br/><a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier'><span class='textsf'><i >identifier</i></span></span></a><br/><a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id'><span class='textsf'><i >simple-template-id</i></span></span></a>
</div></div><div class='texpara'><div id='pre-1.sentence-3' class='sentence'>A <a href='#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-specifier'><span class='textsf'><i >class-specifier</i></span></span></a> or
an <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.4&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a> (<a href='dcl.type.elab' title='9.2.9.4&emsp;Elaborated type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>elab]</a>) is used to
make a <a href='#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name_'><span class='textsf'><i >class-name</i></span></span></a><a class='hidden_link' href='#pre-1.sentence-3'>.</a></div> <div id='pre-1.sentence-4' class='sentence'>An object of a class consists of a
(possibly empty) sequence of members and base class objects<a class='hidden_link' href='#pre-1.sentence-4'>.</a></div></div><div class='texpara'><div class='bnf' id='nt:class-specifier'>
<a class='hidden_link' href='#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='nt:class-specifier'><span id=':class-specifier'>class-specifier<span class='textnormal'>:</span></span></span></a><br/><a href='#nt:class-head' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-head'><span class='textsf'><i >class-head</i></span></span></a> <span class='terminal'><span class='curlybracket'>{</span></span> <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification'><span class='textsf'><i >member-specification</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='curlybracket'>}</span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:class-head'>
<a class='hidden_link' href='#nt:class-head' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='nt:class-head'><span id=':class-head'>class-head<span class='textnormal'>:</span></span></span></a><br/><a href='#nt:class-key' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-key'><span class='textsf'><i >class-key</i></span></span></a> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='#nt:class-head-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-head-name'><span class='textsf'><i >class-head-name</i></span></span></a> <a href='#nt:class-virt-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-virt-specifier'><span class='textsf'><i >class-virt-specifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='#nt:base-clause' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-clause'><span class='textsf'><i >base-clause</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><br/><a href='#nt:class-key' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-key_'><span class='textsf'><i >class-key</i></span></span></a> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq_'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='#nt:base-clause' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-clause_'><span class='textsf'><i >base-clause</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:class-head-name'>
<a class='hidden_link' href='#nt:class-head-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='nt:class-head-name'><span id=':class-head-name'>class-head-name<span class='textnormal'>:</span></span></span></a><br/><a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier'><span class='textsf'><i >nested-name-specifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name__'><span class='textsf'><i >class-name</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:class-virt-specifier'>
<a class='hidden_link' href='#nt:class-virt-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='nt:class-virt-specifier'><span id=':class-virt-specifier'>class-virt-specifier<span class='textnormal'>:</span></span></span></a><br/><span id=':final'><span class='texttt'><span class='keyword'>final</span></span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:class-key'>
<a class='hidden_link' href='#nt:class-key' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='nt:class-key'><span id=':class-key'>class-key<span class='textnormal'>:</span></span></span></a><br/><span id=':class'><span class='texttt'><span class='keyword'>class</span></span></span><br/><span id=':struct'><span class='texttt'><span class='keyword'>struct</span></span></span><br/><span id=':union'><span class='texttt'><span class='keyword'>union</span></span></span>
</div></div><div class='texpara'><div id='pre-1.sentence-5' class='sentence'>A class declaration where the <a href='#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name___'><span class='textsf'><i >class-name</i></span></span></a>
in the <a href='#nt:class-head-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-head-name_'><span class='textsf'><i >class-head-name</i></span></span></a> is a <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id_'><span class='textsf'><i >simple-template-id</i></span></span></a>
shall be an explicit specialization (<a href='temp.expl.spec' title='13.9.4&emsp;Explicit specialization'>[temp.<span class='shy'></span>expl.<span class='shy'></span>spec]</a>) or
a partial specialization (<a href='temp.spec.partial' title='13.7.6&emsp;Partial specialization'>[temp.<span class='shy'></span>spec.<span class='shy'></span>partial]</a>)<a class='hidden_link' href='#pre-1.sentence-5'>.</a></div> <div id='pre-1.sentence-6' class='sentence'>A <a href='#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-specifier_'><span class='textsf'><i >class-specifier</i></span></span></a> whose
<a href='#nt:class-head' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-head_'><span class='textsf'><i >class-head</i></span></span></a> omits the
<a href='#nt:class-head-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-head-name__'><span class='textsf'><i >class-head-name</i></span></span></a> defines an <a class='hidden_link' href='#def:class,unnamed' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='def:class,unnamed'><i >unnamed class</i></span></a><a class='hidden_link' href='#pre-1.sentence-6'>.</a></div> <div id='pre-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#pre-note-1'>1</a></i>: <div id='pre-1.sentence-7' class='sentence'>An unnamed class thus can't
be <span class='texttt'><span class='keyword'>final</span></span><a class='hidden_link' href='#pre-1.sentence-7'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='pre-1.sentence-8' class='sentence'>
Otherwise, the <a href='#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name____'><span class='textsf'><i >class-name</i></span></span></a> is an <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_'><span class='textsf'><i >identifier</i></span></span></a>;
it is not looked up, and the <a href='#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-specifier__'><span class='textsf'><i >class-specifier</i></span></span></a> introduces it<a class='hidden_link' href='#pre-1.sentence-8'>.</a></div></div></div><div class='para' id='pre-2'><div class='marginalizedparent'><a class='marginalized' href='#pre-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L74'>#</a></div><div class='texpara'><div id='pre-2.sentence-1' class='sentence'>The
<a href='#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name_____'><span class='textsf'><i >class-name</i></span></span></a> is also bound in the scope of the class (template)
itself; this is known as the <a class='hidden_link' href='#def:injected-class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='def:injected-class-name'><i >injected-class-name</i></span></a><a class='hidden_link' href='#pre-2.sentence-1'>.</a></div> <div id='pre-2.sentence-2' class='sentence'>For purposes of access checking, the injected-class-name is treated as
if it were a public member name<a class='hidden_link' href='#pre-2.sentence-2'>.</a></div> <div id='pre-2.sentence-3' class='sentence'>A <a href='#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-specifier___'><span class='textsf'><i >class-specifier</i></span></span></a> is commonly referred to as a <a class='hidden_link' href='#def:definition,class' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='def:definition,class'><i >class
definition</i></span></a><a class='hidden_link' href='#pre-2.sentence-3'>.</a></div> <div id='pre-2.sentence-4' class='sentence'>A class is considered defined after the closing brace of its
<a href='#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-specifier____'><span class='textsf'><i >class-specifier</i></span></span></a> has been seen even though its member
functions are in general not yet defined<a class='hidden_link' href='#pre-2.sentence-4'>.</a></div> <div id='pre-2.sentence-5' class='sentence'>The optional <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq__'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a> appertains to the class; the attributes in
the <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq___'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a> are thereafter considered attributes of the class
whenever it is named<a class='hidden_link' href='#pre-2.sentence-5'>.</a></div></div></div><div class='para' id='pre-3'><div class='marginalizedparent'><a class='marginalized' href='#pre-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L89'>#</a></div><div class='texpara'><div id='pre-3.sentence-1' class='sentence'>If a <a href='#nt:class-head-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-head-name___'><span class='textsf'><i >class-head-name</i></span></span></a> contains a <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_'><span class='textsf'><i >nested-name-specifier</i></span></span></a>,
the <a href='#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-specifier_____'><span class='textsf'><i >class-specifier</i></span></span></a> shall not inhabit a class scope<a class='hidden_link' href='#pre-3.sentence-1'>.</a></div> <div id='pre-3.sentence-2' class='sentence'>If its <a href='#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name______'><span class='textsf'><i >class-name</i></span></span></a> is an <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier__'><span class='textsf'><i >identifier</i></span></span></a>,
the <a href='#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-specifier______'><span class='textsf'><i >class-specifier</i></span></span></a> shall correspond to
one or more declarations nominable in
the class, class template, or namespace to which the
<a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier__'><span class='textsf'><i >nested-name-specifier</i></span></span></a> refers;
they shall all have the same target scope, and the target scope of the
<a href='#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-specifier_______'><span class='textsf'><i >class-specifier</i></span></span></a> is that scope<a class='hidden_link' href='#pre-3.sentence-2'>.</a></div> <div id='pre-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#pre-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
    <span class='keyword'>struct</span> B;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>using</span> N<span class='operator'>::</span>A;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>B <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;    <span class='comment'>// OK</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span><span class='keyword'>void</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;           <span class='comment'>// OK</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='pre-4'><div class='marginalizedparent'><a class='marginalized' href='#pre-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L113'>#</a></div><div class='texpara'><div id='pre-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#pre-note-2'>2</a></i>: <div id='pre-4.sentence-1' class='sentence'>The <a href='#nt:class-key' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-key__'><span class='textsf'><i >class-key</i></span></span></a> determines
whether the class is a union (<a href='#union' title='11.5&emsp;Unions'>[class.<span class='shy'></span>union]</a>) and
whether access is public or private by default (<a href='#access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>)<a class='hidden_link' href='#pre-4.sentence-1'>.</a></div> <div id='pre-4.sentence-2' class='sentence'>A union holds the value of at most one data member at a time<a class='hidden_link' href='#pre-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='pre-5'><div class='marginalizedparent'><a class='marginalized' href='#pre-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L121'>#</a></div><div class='texpara'><div id='pre-5.sentence-1' class='sentence'>If a class is marked with the <a href='#nt:class-virt-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-virt-specifier_'><span class='textsf'><i >class-virt-specifier</i></span></span></a> <span class='texttt'><span class='keyword'>final</span></span> and it appears
as a <a href='#nt:class-or-decltype' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:class-or-decltype'><span class='textsf'><i >class-or-decltype</i></span></span></a> in a <a href='#nt:base-clause' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-clause__'><span class='textsf'><i >base-clause</i></span></span></a> (<a href='#derived' title='11.7&emsp;Derived classes'>[class.<span class='shy'></span>derived]</a>),
the program is ill-formed<a class='hidden_link' href='#pre-5.sentence-1'>.</a></div> <div id='pre-5.sentence-2' class='sentence'>Whenever a
<a href='#nt:class-key' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-key___'><span class='textsf'><i >class-key</i></span></span></a> is followed by a <a href='#nt:class-head-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-head-name____'><span class='textsf'><i >class-head-name</i></span></span></a>, the
<a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier___'><span class='textsf'><i >identifier</i></span></span></a> <span class='texttt'><span class='keyword'>final</span></span>, and a colon or left brace, <span class='texttt'><span class='keyword'>final</span></span> is
interpreted as a <a href='#nt:class-virt-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-virt-specifier__'><span class='textsf'><i >class-virt-specifier</i></span></span></a><a class='hidden_link' href='#pre-5.sentence-2'>.</a></div> <div id='pre-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#pre-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A;
<span class='keyword'>struct</span> A <span class='keyword'>final</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;      <span class='comment'>// OK, definition of <span class='tcode_in_codeblock'>struct A</span>,</span>
                        <span class='comment'>// not value-initialization of variable <span class='tcode_in_codeblock'>final</span></span>

<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
 <span class='keyword'>struct</span> C <span class='curlybracket'>{</span> <span class='keyword'>constexpr</span> <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>5</span>; <span class='curlybracket'>}</span> <span class='curlybracket'>}</span>;
 <span class='keyword'>struct</span> B <span class='keyword'>final</span> <span class='operator'>:</span> C<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;  <span class='comment'>// OK, definition of nested class <span class='tcode_in_codeblock'>B</span>,</span>
                        <span class='comment'>// not declaration of a bit-field member <span class='tcode_in_codeblock'>final</span></span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='pre-6'><div class='marginalizedparent'><a class='marginalized' href='#pre-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L142'>#</a></div><div class='texpara'><div id='pre-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#pre-note-3'>3</a></i>: <div id='pre-6.sentence-1' class='sentence'>Complete objects of class type have nonzero size<a class='hidden_link' href='#pre-6.sentence-1'>.</a></div> <div id='pre-6.sentence-2' class='sentence'>Base class subobjects and
members declared with the <span class='texttt'>no_<span class='shy'></span>unique_<span class='shy'></span>address</span> attribute (<a href='dcl.attr.nouniqueaddr' title='9.12.11&emsp;No unique address attribute'>[dcl.<span class='shy'></span>attr.<span class='shy'></span>nouniqueaddr]</a>)
are not so constrained<a class='hidden_link' href='#pre-6.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='pre-7'><div class='marginalizedparent'><a class='marginalized' href='#pre-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L150'>#</a></div><div class='texpara'><div id='pre-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#pre-note-4'>4</a></i>: <div id='pre-7.sentence-1' class='sentence'>Class objects can be assigned (<a href='over.ass' title='12.4.3.2&emsp;Simple assignment'>[over.<span class='shy'></span>ass]</a>, <a href='#copy.assign' title='11.4.6&emsp;Copy/move assignment operator'>[class.<span class='shy'></span>copy.<span class='shy'></span>assign]</a>),
passed as arguments to functions (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>, <a href='#copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>), and
returned by functions (except objects of classes for which copying or moving has
been restricted; see <a href='dcl.fct.def.delete' title='9.5.3&emsp;Deleted definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>delete]</a> and <a href='#access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>)<a class='hidden_link' href='#pre-7.sentence-1'>.</a></div> <div id='pre-7.sentence-2' class='sentence'>Other plausible operators, such as equality comparison,
can be defined by the user; see <a href='over.oper' title='12.4&emsp;Overloaded operators'>[over.<span class='shy'></span>oper]</a><a class='hidden_link' href='#pre-7.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='prop' class='section'><h2 ><a class='secnum' href='#prop' style='min-width:65pt'>11.2</a> Properties of classes <a class='abbr_ref' href='class.prop'>[class.prop]</a></h2><div class='para' id='prop-1'><div class='marginalizedparent'><a class='marginalized' href='#prop-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L162'>#</a></div><div class='texpara'><div id='prop-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:class,trivially_copyable' title='11.2&emsp;Properties of classes&emsp;[class.prop]'><span id='def:class,trivially_copyable'><i >trivially copyable class</i></span></a> is a class:
<ul class='itemize'><li id='prop-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prop-1.1'>(1.1)</a></div>that has at least one eligible
copy constructor, move constructor,
copy assignment operator, or
move assignment operator (<a href='#special' title='11.4.4&emsp;Special member functions'>[special]</a>, <a href='#copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>, <a href='#copy.assign' title='11.4.6&emsp;Copy/move assignment operator'>[class.<span class='shy'></span>copy.<span class='shy'></span>assign]</a>),</li><li id='prop-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prop-1.2'>(1.2)</a></div>where each eligible copy constructor, move constructor, copy assignment operator,
and move assignment operator is trivial, and</li><li id='prop-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prop-1.3'>(1.3)</a></div>that has a trivial, non-deleted destructor (<a href='#dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a>)<a class='hidden_link' href='#prop-1.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='prop-2'><div class='marginalizedparent'><a class='marginalized' href='#prop-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L174'>#</a></div><div class='texpara'><div id='prop-2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:class,trivial' title='11.2&emsp;Properties of classes&emsp;[class.prop]'><span id='def:class,trivial'><i >trivial class</i></span></a> is a class that is trivially copyable and
has one or more eligible default constructors (<a href='#default.ctor' title='11.4.5.2&emsp;Default constructors'>[class.<span class='shy'></span>default.<span class='shy'></span>ctor]</a>),
all of which are trivial<a class='hidden_link' href='#prop-2.sentence-1'>.</a></div> <div id='prop-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prop-note-1'>1</a></i>: <div id='prop-2.sentence-2' class='sentence'>In particular, a trivially copyable or trivial class does not have
virtual functions or virtual base classes<a class='hidden_link' href='#prop-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='prop-3'><div class='marginalizedparent'><a class='marginalized' href='#prop-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L183'>#</a></div><div class='texpara'><div id='prop-3.sentence-1' class='sentence'>A class <span class='texttt'>S</span> is a <a class='hidden_link' href='#def:class,standard-layout' title='11.2&emsp;Properties of classes&emsp;[class.prop]'><span id='def:class,standard-layout'><i >standard-layout class</i></span></a> if it:
<ul class='itemize'><li id='prop-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prop-3.1'>(3.1)</a></div>has no non-static data members of type non-standard-layout class
(or array of such types) or reference,</li><li id='prop-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prop-3.2'>(3.2)</a></div>has no <a href='#virtual' title='11.7.3&emsp;Virtual functions&emsp;[class.virtual]'>virtual functions</a> and no
<a href='#mi' title='11.7.2&emsp;Multiple base classes&emsp;[class.mi]'>virtual base classes</a>,</li><li id='prop-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prop-3.3'>(3.3)</a></div>has the same <a href='#access' title='11.8&emsp;Member access control&emsp;[class.access]'>access control</a>
for all non-static data members,</li><li id='prop-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prop-3.4'>(3.4)</a></div>has no non-standard-layout base classes,</li><li id='prop-3.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prop-3.5'>(3.5)</a></div>has at most one base class subobject of any given type,</li><li id='prop-3.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prop-3.6'>(3.6)</a></div>has all non-static data members and bit-fields in the class and
its base classes first declared in the same class, and</li><li id='prop-3.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prop-3.7'>(3.7)</a></div>has no element of the set <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>S</span>)</span> of types
as a base class,
where for any type <span class='texttt'>X</span>, <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> is defined as follows<a class='hidden_link' href='#prop-3.sentence-1'>.</a><a class='footnoteref' href='#footnote-93' id='footnoteref-93' title='This ensures that two subobjects that have the same class type and that belong to the same most derived object are not allocated at the same address ([expr.eq]).'>93</a> <div class='texpara'><div id='prop-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prop-note-2'>2</a></i>: <div id='prop-3.7.sentence-2' class='sentence'><span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> is the set of the types of all non-base-class subobjects
that can be at a zero offset in <span class='texttt'>X</span><a class='hidden_link' href='#prop-3.7.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><ul class='itemize'><li id='prop-3.7.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#prop-3.7.1'>(3.7.1)</a></div><div class='texpara'><div id='prop-3.7.1.sentence-1' class='sentence'>If <span class='texttt'>X</span> is a non-union class type with no non-static data members,
the set <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> is empty<a class='hidden_link' href='#prop-3.7.1.sentence-1'>.</a></div></div></li><li id='prop-3.7.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#prop-3.7.2'>(3.7.2)</a></div><div class='texpara'><div id='prop-3.7.2.sentence-1' class='sentence'>If <span class='texttt'>X</span> is a non-union class type with a non-static data
member of type <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">X</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>
that is either of zero size or
is the first non-static data member of <span class='texttt'>X</span>
(where said member may be an anonymous union),
the set <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> consists of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">X</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span> and the elements of
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">X</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span><a class='hidden_link' href='#prop-3.7.2.sentence-1'>.</a></div></div></li><li id='prop-3.7.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#prop-3.7.3'>(3.7.3)</a></div><div class='texpara'><div id='prop-3.7.3.sentence-1' class='sentence'>If <span class='texttt'>X</span> is a union type, the set <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> is
the union of all <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em; padding-right: 0.003em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> and the set containing all <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em; padding-right: 0.003em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>,
where each <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em; padding-right: 0.003em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is the type of the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> non-static data member
of <span class='texttt'>X</span><a class='hidden_link' href='#prop-3.7.3.sentence-1'>.</a></div></div></li><li id='prop-3.7.4'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#prop-3.7.4'>(3.7.4)</a></div><div class='texpara'><div id='prop-3.7.4.sentence-1' class='sentence'>If <span class='texttt'>X</span> is an array type with element type <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">X</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span></span></span></span></span>,
the set <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> consists of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">X</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span></span></span></span></span>
and the elements of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">X</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span><a class='hidden_link' href='#prop-3.7.4.sentence-1'>.</a></div></div></li><li id='prop-3.7.5'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#prop-3.7.5'>(3.7.5)</a></div><div class='texpara'><div id='prop-3.7.5.sentence-1' class='sentence'>If <span class='texttt'>X</span> is a non-class, non-array type, the set <span class='math'><span class='mathalpha'>M</span>(<span class='mathtt'>X</span>)</span> is empty<a class='hidden_link' href='#prop-3.7.5.sentence-1'>.</a></div></div></li></ul></div></li></ul></div></div></div><div class='para nonNormativeOnly' id='prop-4'><div class='marginalizedparent'><a class='marginalized' href='#prop-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L241'>#</a></div><div class='texpara'><div id='prop-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prop-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='keyword'>int</span> i; <span class='curlybracket'>}</span>;            <span class='comment'>// standard-layout class</span>
<span class='keyword'>struct</span> C <span class='operator'>:</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;               <span class='comment'>// standard-layout class</span>
<span class='keyword'>struct</span> D <span class='operator'>:</span> C <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;               <span class='comment'>// standard-layout class</span>
<span class='keyword'>struct</span> E <span class='operator'>:</span> D <span class='curlybracket'>{</span> <span class='keyword'>char</span> <span class='operator'>:</span> <span class='literal'>4</span>; <span class='curlybracket'>}</span>;     <span class='comment'>// not a standard-layout class</span>

<span class='keyword'>struct</span> Q <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> S <span class='operator'>:</span> Q <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> T <span class='operator'>:</span> Q <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> U <span class='operator'>:</span> S, T <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;            <span class='comment'>// not a standard-layout class</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='prop-5'><div class='marginalizedparent'><a class='marginalized' href='#prop-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L256'>#</a></div><div class='texpara'><div id='prop-5.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:struct,standard-layout' title='11.2&emsp;Properties of classes&emsp;[class.prop]'><span id='def:struct,standard-layout'><i >standard-layout struct</i></span></a> is a standard-layout class
defined with the <a href='#nt:class-key' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-key____'><span class='textsf'><i >class-key</i></span></span></a> <span id=':struct_'><span class='texttt'><span class='keyword'>struct</span></span></span> or the
<a href='#nt:class-key' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-key_____'><span class='textsf'><i >class-key</i></span></span></a> <span id=':class_'><span class='texttt'><span class='keyword'>class</span></span></span><a class='hidden_link' href='#prop-5.sentence-1'>.</a></div> <div id='prop-5.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:union,standard-layout' title='11.2&emsp;Properties of classes&emsp;[class.prop]'><span id='def:union,standard-layout'><i >standard-layout union</i></span></a> is a standard-layout class
defined with the
<a href='#nt:class-key' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-key______'><span class='textsf'><i >class-key</i></span></span></a> <span id=':union_'><span class='texttt'><span class='keyword'>union</span></span></span><a class='hidden_link' href='#prop-5.sentence-2'>.</a></div></div></div><div class='para nonNormativeOnly' id='prop-6'><div class='marginalizedparent'><a class='marginalized' href='#prop-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L264'>#</a></div><div class='texpara'><div id='prop-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prop-note-3'>3</a></i>: <div id='prop-6.sentence-1' class='sentence'>Standard-layout classes are useful for communicating with
code written in other programming languages<a class='hidden_link' href='#prop-6.sentence-1'>.</a></div> <div id='prop-6.sentence-2' class='sentence'>Their layout is specified
in <a href='#mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a><a class='hidden_link' href='#prop-6.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='prop-7'><div class='marginalizedparent'><a class='marginalized' href='#prop-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L271'>#</a></div><div class='texpara'><div id='prop-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#prop-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>struct</span> N <span class='curlybracket'>{</span>          <span class='comment'>// neither trivial nor standard-layout</span>
  <span class='keyword'>int</span> i;
  <span class='keyword'>int</span> j;
  <span class='keyword'>virtual</span> <span class='operator'>~</span>N<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> T <span class='curlybracket'>{</span>          <span class='comment'>// trivial but not standard-layout</span>
  <span class='keyword'>int</span> i;
<span class='keyword'>private</span><span class='operator'>:</span>
  <span class='keyword'>int</span> j;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> SL <span class='curlybracket'>{</span>         <span class='comment'>// standard-layout but not trivial</span>
  <span class='keyword'>int</span> i;
  <span class='keyword'>int</span> j;
  <span class='operator'>~</span>SL<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> POD <span class='curlybracket'>{</span>        <span class='comment'>// both trivial and standard-layout</span>
  <span class='keyword'>int</span> i;
  <span class='keyword'>int</span> j;
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='prop-8'><div class='marginalizedparent'><a class='marginalized' href='#prop-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L299'>#</a></div><div class='texpara'><div id='prop-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#prop-note-4'>4</a></i>: <div id='prop-8.sentence-1' class='sentence'>Aggregates of class type are described in <a href='dcl.init.aggr' title='9.4.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a><a class='hidden_link' href='#prop-8.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='prop-9'><div class='marginalizedparent'><a class='marginalized' href='#prop-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L304'>#</a></div><div class='texpara'><div id='prop-9.sentence-1' class='sentence'>A class <span class='texttt'>S</span> is an <a class='hidden_link' href='#def:class,implicit-lifetime' title='11.2&emsp;Properties of classes&emsp;[class.prop]'><span id='def:class,implicit-lifetime'><i >implicit-lifetime class</i></span></a> if
<ul class='itemize'><li id='prop-9.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prop-9.1'>(9.1)</a></div>it is an aggregate whose destructor is not user-provided or</li><li id='prop-9.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#prop-9.2'>(9.2)</a></div>it has at least one trivial eligible constructor and
a trivial, non-deleted destructor<a class='hidden_link' href='#prop-9.sentence-1'>.</a></li></ul></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-93'><div class='texpara'><a class='footnotenum' href='#footnote-93'>93)</a><a class='footnoteBacklink' href='#footnoteref-93'>93)</a> <div id='footnote-93.sentence-1' class='sentence'>This ensures that two subobjects that have the same class type and that
belong to the same most derived object are not allocated at the same
address (<a href='expr.eq' title='7.6.10&emsp;Equality operators'>[expr.<span class='shy'></span>eq]</a>)<a class='hidden_link' href='#footnote-93.sentence-1'>.</a></div></div></div></div><div id='name' class='section'><h2 ><a class='secnum' href='#name' style='min-width:65pt'>11.3</a> Class names <a class='abbr_ref' href='class.name'>[class.name]</a></h2><div class='texpara'><a class='index' id=':definition,class_name_as_type'></a><a class='index' id=':equivalence,type'></a></div><div class='para' id='name-1'><div class='marginalizedparent'><a class='marginalized' href='#name-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L319'>#</a></div><div class='texpara'><div id='name-1.sentence-1' class='sentence'>A class definition introduces a new type<a class='hidden_link' href='#name-1.sentence-1'>.</a></div> <div id='name-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#name-example-1'>1</a></i>: <div id='name-1.sentence-2' class='sentence'><span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Y <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='curlybracket'>}</span>;
X a1;
Y a2;
<span class='keyword'>int</span> a3;
</span>
declares three variables of three different types<a class='hidden_link' href='#name-1.sentence-2'>.</a></div> <div id='name-1.sentence-3' class='sentence'>This implies that
<span class='codeblock'>a1 <span class='operator'>=</span> a2;                        <span class='comment'>// error: <span class='tcode_in_codeblock'>Y</span> assigned to <span class='tcode_in_codeblock'>X</span></span>
a1 <span class='operator'>=</span> a3;                        <span class='comment'>// error: <span class='tcode_in_codeblock'>int</span> assigned to <span class='tcode_in_codeblock'>X</span></span>
</span>
are type mismatches, and that
<span class='codeblock'><span class='keyword'>int</span> f<span class='parenthesis'>(</span>X<span class='parenthesis'>)</span>;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span>Y<span class='parenthesis'>)</span>;
</span>
<a class='index' id=':overloading'></a>declare overloads (<a href='over' title='12&emsp;Overloading'>[over]</a>) named <span class='texttt'>f</span> and not
simply a single function <span class='texttt'>f</span> twice<a class='hidden_link' href='#name-1.sentence-3'>.</a></div> <div id='name-1.sentence-4' class='sentence'>For the same reason,
<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='curlybracket'>}</span>;            <span class='comment'>// error: double definition</span>
</span>
is ill-formed because it defines <span class='texttt'>S</span> twice<a class='hidden_link' href='#name-1.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='name-2'><div class='marginalizedparent'><a class='marginalized' href='#name-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L349'>#</a></div><div class='texpara'><a class='index' id=':definition,scope_of_class'></a><div id='name-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#name-note-1'>1</a></i>: <div id='name-2.sentence-1' class='sentence'>It can be necessary to use an <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.4&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier_'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a>
to refer to a class
that belongs to a scope in which its name is also bound to
a variable, function, or enumerator (<a href='basic.lookup.elab' title='6.5.6&emsp;Elaborated type specifiers'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>elab]</a>)<a class='hidden_link' href='#name-2.sentence-1'>.</a></div> <div id='name-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#name-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>struct</span> stat <span class='curlybracket'>{</span>
  <span class='comment'>// ...</span>
<span class='curlybracket'>}</span>;

stat gstat;                     <span class='comment'>// use plain <span class='tcode_in_codeblock'>stat</span> to define variable</span>

<span class='keyword'>int</span> stat<span class='parenthesis'>(</span><span class='keyword'>struct</span> stat<span class='operator'>*</span><span class='parenthesis'>)</span>;         <span class='comment'>// <span class='tcode_in_codeblock'>stat</span> now also names a function</span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> stat<span class='operator'>*</span> ps;              <span class='comment'>// <span id=':struct__'><span class='tcode_in_codeblock'>struct</span></span> prefix needed to name <span class='tcode_in_codeblock'>struct stat</span></span>
  stat<span class='parenthesis'>(</span>ps<span class='parenthesis'>)</span>;                     <span class='comment'>// call <span class='tcode_in_codeblock'>stat</span> function</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='name-2.sentence-2' class='sentence'><a class='index' id=':class_name,elaborated'></a><a class='index' id=':declaration,forward_class'></a>An <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.4&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier__'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a> can also be used to declare
an <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier____'><span class='textsf'><i >identifier</i></span></span></a> as a <a href='#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name_______'><span class='textsf'><i >class-name</i></span></span></a><a class='hidden_link' href='#name-2.sentence-2'>.</a></div> <div id='name-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#name-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>struct</span> s <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='curlybracket'>}</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> s;                     <span class='comment'>// hide global <span class='tcode_in_codeblock'>struct s</span> with a block-scope declaration</span>
  s<span class='operator'>*</span> p;                         <span class='comment'>// refer to local <span class='tcode_in_codeblock'>struct s</span></span>
  <span class='keyword'>struct</span> s <span class='curlybracket'>{</span> <span class='keyword'>char</span><span class='operator'>*</span> p; <span class='curlybracket'>}</span>;        <span class='comment'>// define local <span class='tcode_in_codeblock'>struct s</span></span>
  <span class='keyword'>struct</span> s;                     <span class='comment'>// redeclaration, has no effect</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='name-2.sentence-3' class='sentence'>
Such declarations allow definition of classes that refer to each other<a class='hidden_link' href='#name-2.sentence-3'>.</a></div> <div id='name-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#name-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>class</span> Vector;

<span class='keyword'>class</span> Matrix <span class='curlybracket'>{</span>
  <span class='comment'>// ...</span>
  <span class='keyword'>friend</span> Vector <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='keyword'>const</span> Matrix<span class='operator'>&amp;</span>, <span class='keyword'>const</span> Vector<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> Vector <span class='curlybracket'>{</span>
  <span class='comment'>// ...</span>
  <span class='keyword'>friend</span> Vector <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='keyword'>const</span> Matrix<span class='operator'>&amp;</span>, <span class='keyword'>const</span> Vector<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
</span> <div id='name-2.sentence-4' class='sentence'>
Declaration of friends is described in <a href='#friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>,
operator functions in <a href='over.oper' title='12.4&emsp;Overloaded operators'>[over.<span class='shy'></span>oper]</a><a class='hidden_link' href='#name-2.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='name-3'><div class='marginalizedparent'><a class='marginalized' href='#name-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L408'>#</a></div><div class='texpara'><a class='index' id=':class_name,elaborated_'></a><div id='name-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#name-note-2'>2</a></i>: <div id='name-3.sentence-1' class='sentence'>An <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.4&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier___'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a> (<a href='dcl.type.elab' title='9.2.9.4&emsp;Elaborated type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>elab]</a>) can also
be used as a <a href='dcl.type.general#nt:type-specifier' title='9.2.9.1&emsp;General&emsp;[dcl.type.general]'><span id='ntref:type-specifier'><span class='textsf'><i >type-specifier</i></span></span></a> as part of a declaration<a class='hidden_link' href='#name-3.sentence-1'>.</a></div> <div id='name-3.sentence-2' class='sentence'>It
differs from a class declaration in that it can refer to
an existing class of the given name<a class='hidden_link' href='#name-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div>
<div id='name-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#name-example-5'>5</a></i>: <span class='codeblock'><span class='keyword'>struct</span> s <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='curlybracket'>}</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span> s<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> s<span class='operator'>*</span> p <span class='operator'>=</span> <span class='keyword'>new</span> <span class='keyword'>struct</span> s;   <span class='comment'>// global <span class='tcode_in_codeblock'>s</span></span>
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>a <span class='operator'>=</span> s;                     <span class='comment'>// parameter <span class='tcode_in_codeblock'>s</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='name-4'><div class='marginalizedparent'><a class='marginalized' href='#name-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L428'>#</a></div><div class='texpara'><a class='index' id=':class_name,point_of_declaration'></a><div id='name-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#name-note-3'>3</a></i>: <div id='name-4.sentence-1' class='sentence'>The declaration of a class name takes effect immediately after the
<a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_____'><span class='textsf'><i >identifier</i></span></span></a> is seen in the class definition or
<a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.4&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier____'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a><a class='hidden_link' href='#name-4.sentence-1'>.</a></div> <div id='name-4.sentence-2' class='sentence'>For example,
<span class='codeblock'><span class='keyword'>class</span> A <span class='operator'>*</span> A;
</span>
first specifies <span class='texttt'>A</span> to be the name of a class and then redefines
it as the name of a pointer to an object of that class<a class='hidden_link' href='#name-4.sentence-2'>.</a></div> <div id='name-4.sentence-3' class='sentence'>This means that
the elaborated form <span id=':class__'><span class='texttt'><span class='keyword'>class</span></span></span> <span class='texttt'>A</span> must be used to refer to the
class<a class='hidden_link' href='#name-4.sentence-3'>.</a></div> <div id='name-4.sentence-4' class='sentence'>Such artistry with names can be confusing and is best avoided<a class='hidden_link' href='#name-4.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='name-5'><div class='marginalizedparent'><a class='marginalized' href='#name-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L443'>#</a></div><div class='texpara'><div id='name-5.sentence-1' class='sentence'><a class='index' id=':class_name,typedef'></a>A <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id__'><span class='textsf'><i >simple-template-id</i></span></span></a> is only a <a href='#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name________'><span class='textsf'><i >class-name</i></span></span></a>
if its <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name'><span class='textsf'><i >template-name</i></span></span></a> names a class template<a class='hidden_link' href='#name-5.sentence-1'>.</a></div></div></div></div><div id='mem' class='section'><h2 ><a class='secnum' href='#mem' style='min-width:65pt'>11.4</a> Class members <a class='abbr_ref' href='class.mem'>[class.mem]</a></h2><div id='mem.general' class='section'><h3 ><a class='secnum' href='#mem.general' style='min-width:80pt'>11.4.1</a> General <a class='abbr_ref' href='class.mem.general'>[class.mem.general]</a></h3><div class='texpara'><a class='index' id=':declaration,member'></a></div><div class='texpara'><div class='bnf' id='nt:member-specification'>
<a class='hidden_link' href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='nt:member-specification'><span id=':member-specification'>member-specification<span class='textnormal'>:</span></span></span></a><br/><a href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration'><span class='textsf'><i >member-declaration</i></span></span></a> <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification_'><span class='textsf'><i >member-specification</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><br/><a href='#nt:access-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:access-specifier'><span class='textsf'><i >access-specifier</i></span></span></a> <span class='terminal'><span class='operator'>:</span></span> <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification__'><span class='textsf'><i >member-specification</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:member-declaration'>
<a class='hidden_link' href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='nt:member-declaration'><span id=':member-declaration'>member-declaration<span class='textnormal'>:</span></span></span></a><br/><a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq____'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='dcl.spec.general#nt:decl-specifier-seq' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier-seq'><span class='textsf'><i >decl-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='#nt:member-declarator-list' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator-list'><span class='textsf'><i >member-declarator-list</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>;</span><br/><a href='dcl.fct.def.general#nt:function-definition' title='9.5.1&emsp;In general&emsp;[dcl.fct.def.general]'><span id='ntref:function-definition'><span class='textsf'><i >function-definition</i></span></span></a><br/><a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration'><span class='textsf'><i >using-declaration</i></span></span></a><br/><a href='enum.udecl#nt:using-enum-declaration' title='9.7.2&emsp;The using enum declaration&emsp;[enum.udecl]'><span id='ntref:using-enum-declaration'><span class='textsf'><i >using-enum-declaration</i></span></span></a><br/><a href='dcl.pre#nt:static_assert-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:static_assert-declaration'><span class='textsf'><i >static_assert-declaration</i></span></span></a><br/><a href='temp.pre#nt:template-declaration' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-declaration'><span class='textsf'><i >template-declaration</i></span></span></a><br/><a href='temp.expl.spec#nt:explicit-specialization' title='13.9.4&emsp;Explicit specialization&emsp;[temp.expl.spec]'><span id='ntref:explicit-specialization'><span class='textsf'><i >explicit-specialization</i></span></span></a><br/><a href='temp.deduct.guide#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide'><span class='textsf'><i >deduction-guide</i></span></span></a><br/><a href='dcl.pre#nt:alias-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:alias-declaration'><span class='textsf'><i >alias-declaration</i></span></span></a><br/><a href='dcl.enum#nt:opaque-enum-declaration' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:opaque-enum-declaration'><span class='textsf'><i >opaque-enum-declaration</i></span></span></a><br/><a href='dcl.pre#nt:empty-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:empty-declaration'><span class='textsf'><i >empty-declaration</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:member-declarator-list'>
<a class='hidden_link' href='#nt:member-declarator-list' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='nt:member-declarator-list'><span id=':member-declarator-list'>member-declarator-list<span class='textnormal'>:</span></span></span></a><br/><a href='#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator'><span class='textsf'><i >member-declarator</i></span></span></a><br/><a href='#nt:member-declarator-list' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator-list_'><span class='textsf'><i >member-declarator-list</i></span></span></a> <span class='terminal'>,</span> <a href='#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator_'><span class='textsf'><i >member-declarator</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:member-declarator'>
<a class='hidden_link' href='#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='nt:member-declarator'><span id=':member-declarator'>member-declarator<span class='textnormal'>:</span></span></span></a><br/><a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator'><span class='textsf'><i >declarator</i></span></span></a> <a href='#nt:virt-specifier-seq' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:virt-specifier-seq'><span class='textsf'><i >virt-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='#nt:pure-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:pure-specifier'><span class='textsf'><i >pure-specifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><br/><a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator_'><span class='textsf'><i >declarator</i></span></span></a> <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause'><span class='textsf'><i >requires-clause</i></span></span></a><br/><a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator__'><span class='textsf'><i >declarator</i></span></span></a> <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><br/><a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier______'><span class='textsf'><i >identifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq_____'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='operator'>:</span></span> <a href='expr.const#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression'><span class='textsf'><i >constant-expression</i></span></span></a> <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer_'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:virt-specifier-seq'>
<a class='hidden_link' href='#nt:virt-specifier-seq' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='nt:virt-specifier-seq'><span id=':virt-specifier-seq'>virt-specifier-seq<span class='textnormal'>:</span></span></span></a><br/><a href='#nt:virt-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:virt-specifier'><span class='textsf'><i >virt-specifier</i></span></span></a><br/><a href='#nt:virt-specifier-seq' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:virt-specifier-seq_'><span class='textsf'><i >virt-specifier-seq</i></span></span></a> <a href='#nt:virt-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:virt-specifier_'><span class='textsf'><i >virt-specifier</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:virt-specifier'>
<a class='hidden_link' href='#nt:virt-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='nt:virt-specifier'><span id=':virt-specifier'>virt-specifier<span class='textnormal'>:</span></span></span></a><br/><span id=':override'><span class='texttt'><span class='keyword'>override</span></span></span><br/><span id=':final_'><span class='texttt'><span class='keyword'>final</span></span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:pure-specifier'>
<a class='hidden_link' href='#nt:pure-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='nt:pure-specifier'><span id=':pure-specifier'>pure-specifier<span class='textnormal'>:</span></span></span></a><br/><span class='terminal'><span class='operator'>=</span></span> <span class='terminal'><span class='literal'>0</span></span>
</div></div><div class='para' id='mem.general-1'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L506'>#</a></div><div class='texpara'><div id='mem.general-1.sentence-1' class='sentence'><a class='index' id=':definition,class'></a>The <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification___'><span class='textsf'><i >member-specification</i></span></span></a> in a class definition declares the
full set of members of the class; no member can be added elsewhere<a class='hidden_link' href='#mem.general-1.sentence-1'>.</a></div> <div id='mem.general-1.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:member,direct' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:member,direct'><i >direct member</i></span></a> of a class <span class='texttt'>X</span> is a member of <span class='texttt'>X</span>
that was first declared within the <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification____'><span class='textsf'><i >member-specification</i></span></span></a> of <span class='texttt'>X</span>,
including anonymous union members (<a href='#union.anon' title='11.5.2&emsp;Anonymous unions'>[class.<span class='shy'></span>union.<span class='shy'></span>anon]</a>) and direct members thereof<a class='hidden_link' href='#mem.general-1.sentence-2'>.</a></div> <div id='mem.general-1.sentence-3' class='sentence'>Members of a class are data members, member
functions (<a href='#mfct' title='11.4.2&emsp;Member functions'>[class.<span class='shy'></span>mfct]</a>), nested types, enumerators,
and member templates (<a href='temp.mem' title='13.7.3&emsp;Member templates'>[temp.<span class='shy'></span>mem]</a>) and specializations thereof<a class='hidden_link' href='#mem.general-1.sentence-3'>.</a></div> <div id='mem.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mem.general-note-1'>1</a></i>: <div id='mem.general-1.sentence-4' class='sentence'>A specialization of a static data member template is a static data member<a class='hidden_link' href='#mem.general-1.sentence-4'>.</a></div> <div id='mem.general-1.sentence-5' class='sentence'>A specialization of a member function template is a member function<a class='hidden_link' href='#mem.general-1.sentence-5'>.</a></div> <div id='mem.general-1.sentence-6' class='sentence'>A specialization of a member class template is a nested class<a class='hidden_link' href='#mem.general-1.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='mem.general-2'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L522'>#</a></div><div class='texpara'><div id='mem.general-2.sentence-1' class='sentence'>A <a href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration_'><span class='textsf'><i >member-declaration</i></span></span></a> does not declare new members of the class
if it is
<ul class='itemize'><li id='mem.general-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-2.1'>(2.1)</a></div>a friend declaration (<a href='#friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>),</li><li id='mem.general-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-2.2'>(2.2)</a></div>a <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.2.3&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide_'><span class='textsf'><i >deduction-guide</i></span></span></a> (<a href='temp.deduct.guide' title='13.7.2.3&emsp;Deduction guides'>[temp.<span class='shy'></span>deduct.<span class='shy'></span>guide]</a>),</li><li id='mem.general-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-2.3'>(2.3)</a></div>a <a href='temp.pre#nt:template-declaration' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-declaration_'><span class='textsf'><i >template-declaration</i></span></span></a> whose <a href='dcl.pre#nt:declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:declaration'><span class='textsf'><i >declaration</i></span></span></a> is one of the above,</li><li id='mem.general-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-2.4'>(2.4)</a></div>a <a href='dcl.pre#nt:static_assert-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:static_assert-declaration_'><span class='textsf'><i >static_assert-declaration</i></span></span></a>,</li><li id='mem.general-2.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-2.5'>(2.5)</a></div>a <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration_'><span class='textsf'><i >using-declaration</i></span></span></a> (<a href='namespace.udecl' title='9.9&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>), or</li><li id='mem.general-2.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-2.6'>(2.6)</a></div>an <a href='dcl.pre#nt:empty-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:empty-declaration_'><span class='textsf'><i >empty-declaration</i></span></span></a><a class='hidden_link' href='#mem.general-2.sentence-1'>.</a></li></ul></div> <div id='mem.general-2.sentence-2' class='sentence'>
For any other <a href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration__'><span class='textsf'><i >member-declaration</i></span></span></a>,
each declared entity
that is not an <a href='#def:bit-field,unnamed' title='11.4.10&emsp;Bit-fields&emsp;[class.bit]'>unnamed bit-field</a>
is a member of the class,
and each such <a href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration___'><span class='textsf'><i >member-declaration</i></span></span></a>
shall either
declare at least one member name of the class
or declare at least one unnamed bit-field<a class='hidden_link' href='#mem.general-2.sentence-2'>.</a></div></div></div><div class='para' id='mem.general-3'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L542'>#</a></div><div class='texpara'><div id='mem.general-3.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:data_member' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:data_member'><i >data member</i></span></a> is a non-function member introduced by a
<a href='#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator__'><span class='textsf'><i >member-declarator</i></span></span></a><a class='hidden_link' href='#mem.general-3.sentence-1'>.</a></div> <div id='mem.general-3.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:member_function' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:member_function'><i >member function</i></span></a> is a member that is a function<a class='hidden_link' href='#mem.general-3.sentence-2'>.</a></div> <div id='mem.general-3.sentence-3' class='sentence'>Nested types are classes (<a href='#name' title='11.3&emsp;Class names'>[class.<span class='shy'></span>name]</a>, <a href='#nest' title='11.4.12&emsp;Nested class declarations'>[class.<span class='shy'></span>nest]</a>) and
enumerations (<a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>) declared in the class and arbitrary types
declared as members by use of a typedef declaration (<a href='dcl.typedef' title='9.2.4&emsp;The typedef specifier'>[dcl.<span class='shy'></span>typedef]</a>)
or <a href='dcl.pre#nt:alias-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:alias-declaration_'><span class='textsf'><i >alias-declaration</i></span></span></a><a class='hidden_link' href='#mem.general-3.sentence-3'>.</a></div> <div id='mem.general-3.sentence-4' class='sentence'>The enumerators of an <a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'>unscoped enumeration</a> defined in the class
are members of the class<a class='hidden_link' href='#mem.general-3.sentence-4'>.</a></div></div></div><div class='para' id='mem.general-4'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L553'>#</a></div><div class='texpara'><div id='mem.general-4.sentence-1' class='sentence'>A data member or member function
may be declared <span id=':static'><span class='texttt'><span class='keyword'>static</span></span></span> in its <a href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration____'><span class='textsf'><i >member-declaration</i></span></span></a>,
in which case it is a <a class='hidden_link' href='#def:member,static' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:member,static'><i >static member</i></span></a> (see <a href='#static' title='11.4.9&emsp;Static members'>[class.<span class='shy'></span>static]</a>)
(a <a class='hidden_link' href='#def:data_member,static' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:data_member,static'><i >static data member</i></span></a> (<a href='#static.data' title='11.4.9.3&emsp;Static data members'>[class.<span class='shy'></span>static.<span class='shy'></span>data]</a>) or
<a class='hidden_link' href='#def:member_function,static' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:member_function,static'><i >static member function</i></span></a> (<a href='#static.mfct' title='11.4.9.2&emsp;Static member functions'>[class.<span class='shy'></span>static.<span class='shy'></span>mfct]</a>), respectively)
of the class<a class='hidden_link' href='#mem.general-4.sentence-1'>.</a></div> <div id='mem.general-4.sentence-2' class='sentence'>Any other data member or member function is a <a class='hidden_link' href='#def:member,non-static' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:member,non-static'><i >non-static member</i></span></a>
(a <a class='hidden_link' href='#def:data_member,non-static' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:data_member,non-static'><i >non-static data member</i></span></a> or
<a class='hidden_link' href='#def:member_function,non-static' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:member_function,non-static'><i >non-static member function</i></span></a> (<a href='#mfct.non.static' title='11.4.3&emsp;Non-static member functions'>[class.<span class='shy'></span>mfct.<span class='shy'></span>non.<span class='shy'></span>static]</a>), respectively)<a class='hidden_link' href='#mem.general-4.sentence-2'>.</a></div> <div id='mem.general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mem.general-note-2'>2</a></i>: <div id='mem.general-4.sentence-3' class='sentence'>A non-static data member of non-reference
type is a <a href='intro.object#def:member_subobject' title='6.7.2&emsp;Object model&emsp;[intro.object]'>member subobject</a> of a class object<a class='hidden_link' href='#mem.general-4.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='mem.general-5'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L568'>#</a></div><div class='texpara'><div id='mem.general-5.sentence-1' class='sentence'>A member shall not be declared twice in the
<a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification_____'><span class='textsf'><i >member-specification</i></span></span></a>, except that
<ul class='itemize'><li id='mem.general-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-5.1'>(5.1)</a></div>a nested class or member
class template can be declared and then later defined, and</li><li id='mem.general-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-5.2'>(5.2)</a></div>an
enumeration can be introduced with an <a href='dcl.enum#nt:opaque-enum-declaration' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:opaque-enum-declaration_'><span class='textsf'><i >opaque-enum-declaration</i></span></span></a> and later
redeclared with an <a href='dcl.enum#nt:enum-specifier' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:enum-specifier'><span class='textsf'><i >enum-specifier</i></span></span></a><a class='hidden_link' href='#mem.general-5.sentence-1'>.</a></li></ul></div> <div id='mem.general-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mem.general-note-3'>3</a></i>: <div id='mem.general-5.sentence-2' class='sentence'>A single name can denote several member functions provided their types
are sufficiently different (<a href='basic.scope.scope' title='6.4.1&emsp;General'>[basic.<span class='shy'></span>scope.<span class='shy'></span>scope]</a>)<a class='hidden_link' href='#mem.general-5.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='mem.general-6'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L583'>#</a></div><div class='texpara'><div id='mem.general-6.sentence-1' class='sentence'>A redeclaration of a class member outside its class definition shall be
a definition,
an explicit specialization, or
an explicit instantiation (<a href='temp.expl.spec' title='13.9.4&emsp;Explicit specialization'>[temp.<span class='shy'></span>expl.<span class='shy'></span>spec]</a>, <a href='temp.explicit' title='13.9.3&emsp;Explicit instantiation'>[temp.<span class='shy'></span>explicit]</a>)<a class='hidden_link' href='#mem.general-6.sentence-1'>.</a></div> <div id='mem.general-6.sentence-2' class='sentence'>The member shall not be a non-static data member<a class='hidden_link' href='#mem.general-6.sentence-2'>.</a></div></div></div><div class='para' id='mem.general-7'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L590'>#</a></div><div class='texpara'><div id='mem.general-7.sentence-1' class='sentence'><a class='index' id=':completely_defined'></a>A <a class='hidden_link' href='#def:complete-class_context' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:complete-class_context'><i >complete-class context</i></span></a> of a class (template) is a
<ul class='itemize'><li id='mem.general-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-7.1'>(7.1)</a></div>function body (<a href='dcl.fct.def.general' title='9.5.1&emsp;In general'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>general]</a>),</li><li id='mem.general-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-7.2'>(7.2)</a></div>default argument (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>),</li><li id='mem.general-7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-7.3'>(7.3)</a></div>default template argument (<a href='temp.param' title='13.2&emsp;Template parameters'>[temp.<span class='shy'></span>param]</a>),</li><li id='mem.general-7.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-7.4'>(7.4)</a></div><a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier'><span class='textsf'><i >noexcept-specifier</i></span></span></a> (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>), or</li><li id='mem.general-7.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-7.5'>(7.5)</a></div>default member initializer</li></ul>
within the <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification______'><span class='textsf'><i >member-specification</i></span></span></a> of the class or class template<a class='hidden_link' href='#mem.general-7.sentence-1'>.</a></div> <div id='mem.general-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mem.general-note-4'>4</a></i>: <div id='mem.general-7.sentence-2' class='sentence'>A complete-class context of a nested class is also a complete-class
context of any enclosing class, if the nested class is defined within
the <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification_______'><span class='textsf'><i >member-specification</i></span></span></a> of the enclosing class<a class='hidden_link' href='#mem.general-7.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='mem.general-8'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L607'>#</a></div><div class='texpara'><div id='mem.general-8.sentence-1' class='sentence'>A class <span class='texttt'>C</span> is complete at a program point <span class='math'><span class='mathalpha'>P</span></span>
if the definition of <span class='texttt'>C</span> is reachable from <span class='math'><span class='mathalpha'>P</span></span> (<a href='module.reach' title='10.7&emsp;Reachability'>[module.<span class='shy'></span>reach]</a>)
or if <span class='math'><span class='mathalpha'>P</span></span> is in a complete-class context of <span class='texttt'>C</span><a class='hidden_link' href='#mem.general-8.sentence-1'>.</a></div> <div id='mem.general-8.sentence-2' class='sentence'>Otherwise, <span class='texttt'>C</span> is incomplete at <span class='math'><span class='mathalpha'>P</span></span><a class='hidden_link' href='#mem.general-8.sentence-2'>.</a></div></div></div><div class='para' id='mem.general-9'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L613'>#</a></div><div class='texpara'><div id='mem.general-9.sentence-1' class='sentence'>In a <a href='#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator___'><span class='textsf'><i >member-declarator</i></span></span></a>,
an <span class='texttt'><span class='operator'>=</span></span> immediately following the <a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator___'><span class='textsf'><i >declarator</i></span></span></a>
is interpreted as introducing a <a href='#nt:pure-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:pure-specifier_'><span class='textsf'><i >pure-specifier</i></span></span></a>
if the <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id'><span class='textsf'><i >declarator-id</i></span></span></a> has function type,
otherwise it is interpreted as introducing
a <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer__'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a><a class='hidden_link' href='#mem.general-9.sentence-1'>.</a></div> <div id='mem.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#mem.general-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> T <span class='operator'>=</span> <span class='keyword'>void</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  T <span class='operator'>*</span> p <span class='operator'>=</span> <span class='literal'>0</span>;        <span class='comment'>// OK, <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer___'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a></span>
  <span class='keyword'>virtual</span> T f <span class='operator'>=</span> <span class='literal'>0</span>;  <span class='comment'>// OK, <a href='#nt:pure-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:pure-specifier__'><span class='textsf'><i >pure-specifier</i></span></span></a></span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='mem.general-10'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L630'>#</a></div><div class='texpara'><div id='mem.general-10.sentence-1' class='sentence'>In a <a href='#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator____'><span class='textsf'><i >member-declarator</i></span></span></a> for a bit-field,
the <a href='expr.const#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression_'><span class='textsf'><i >constant-expression</i></span></span></a> is parsed as
the longest sequence of tokens
that could syntactically form a <a href='expr.const#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression__'><span class='textsf'><i >constant-expression</i></span></span></a><a class='hidden_link' href='#mem.general-10.sentence-1'>.</a></div> <div id='mem.general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#mem.general-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>int</span> a;
<span class='keyword'>const</span> <span class='keyword'>int</span> b <span class='operator'>=</span> <span class='literal'>0</span>;
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x1 <span class='operator'>:</span> <span class='literal'>8</span> <span class='operator'>=</span> <span class='literal'>42</span>;              <span class='comment'>// OK, <span class='tcode_in_codeblock'>"= 42"</span> is <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer____'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a></span>
  <span class='keyword'>int</span> x2 <span class='operator'>:</span> <span class='literal'>8</span> <span class='curlybracket'>{</span> <span class='literal'>42</span> <span class='curlybracket'>}</span>;            <span class='comment'>// OK, <span class='tcode_in_codeblock'>"{ 42 }"</span> is <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer_____'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a></span>
  <span class='keyword'>int</span> y1 <span class='operator'>:</span> <span class='literal'>true</span> <span class='operator'>?</span> <span class='literal'>8</span> <span class='operator'>:</span> a <span class='operator'>=</span> <span class='literal'>42</span>;   <span class='comment'>// OK, <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer______'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a> is absent</span>
  <span class='keyword'>int</span> y2 <span class='operator'>:</span> <span class='literal'>true</span> <span class='operator'>?</span> <span class='literal'>8</span> <span class='operator'>:</span> b <span class='operator'>=</span> <span class='literal'>42</span>;   <span class='comment'>// error: cannot assign to <span class='tcode_in_codeblock'>const int</span></span>
  <span class='keyword'>int</span> y3 <span class='operator'>:</span> <span class='parenthesis'>(</span><span class='literal'>true</span> <span class='operator'>?</span> <span class='literal'>8</span> <span class='operator'>:</span> b<span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='literal'>42</span>; <span class='comment'>// OK, <span class='tcode_in_codeblock'>"= 42"</span> is <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer_______'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a></span>
  <span class='keyword'>int</span> z <span class='operator'>:</span> <span class='literal'>1</span> <span class='operator'>|</span><span class='operator'>|</span> <span class='keyword'>new</span> <span class='keyword'>int</span> <span class='curlybracket'>{</span> <span class='literal'>0</span> <span class='curlybracket'>}</span>;   <span class='comment'>// OK, <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer________'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a> is absent</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='mem.general-11'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L650'>#</a></div><div class='texpara'><div id='mem.general-11.sentence-1' class='sentence'>A <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer_________'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a> shall appear only in the
declaration of a data member<a class='hidden_link' href='#mem.general-11.sentence-1'>.</a></div> <div id='mem.general-11.sentence-2' class='sentence'>(For static data members,
see <a href='#static.data' title='11.4.9.3&emsp;Static data members'>[class.<span class='shy'></span>static.<span class='shy'></span>data]</a>; for non-static data members,
see <a href='#base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a> and <a href='dcl.init.aggr' title='9.4.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>)<a class='hidden_link' href='#mem.general-11.sentence-2'>.</a></div> <div id='mem.general-11.sentence-3' class='sentence'>A <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer__________'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a> for a non-static data member
<a class='index' id=':member,default_initializer'></a>specifies a <a class='hidden_link' href='#def:default_member_initializer' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:default_member_initializer'><i >default member initializer</i></span></a> for the member, and
shall not directly or indirectly cause the implicit definition of a
defaulted default constructor for the enclosing class or the
exception specification of that constructor<a class='hidden_link' href='#mem.general-11.sentence-3'>.</a></div> <div id='mem.general-11.sentence-4' class='sentence'>An immediate invocation (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>) that
is a potentially-evaluated subexpression (<a href='intro.execution' title='6.9.1&emsp;Sequential execution'>[intro.<span class='shy'></span>execution]</a>)
of a default member initializer
is neither evaluated nor checked for whether it
is a constant expression at the point where the subexpression appears<a class='hidden_link' href='#mem.general-11.sentence-4'>.</a></div></div></div><div class='para' id='mem.general-12'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L667'>#</a></div><div class='texpara'><div id='mem.general-12.sentence-1' class='sentence'>A member shall not be declared with the <span id=':extern'><span class='texttt'><span class='keyword'>extern</span></span></span>
<a href='dcl.stc#nt:storage-class-specifier' title='9.2.2&emsp;Storage class specifiers&emsp;[dcl.stc]'><span id='ntref:storage-class-specifier'><span class='textsf'><i >storage-class-specifier</i></span></span></a><a class='hidden_link' href='#mem.general-12.sentence-1'>.</a></div> <div id='mem.general-12.sentence-2' class='sentence'>Within a class definition, a member shall not be declared with the <span id=':thread_local'><span class='texttt'><span class='keyword'>thread_<span class='shy'></span>local</span></span></span> <a href='dcl.stc#nt:storage-class-specifier' title='9.2.2&emsp;Storage class specifiers&emsp;[dcl.stc]'><span id='ntref:storage-class-specifier_'><span class='textsf'><i >storage-class-specifier</i></span></span></a> unless also declared <span id=':static_'><span class='texttt'><span class='keyword'>static</span></span></span><a class='hidden_link' href='#mem.general-12.sentence-2'>.</a></div></div></div><div class='para' id='mem.general-13'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L671'>#</a></div><div class='texpara'><div id='mem.general-13.sentence-1' class='sentence'>The <a href='dcl.spec.general#nt:decl-specifier-seq' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier-seq_'><span class='textsf'><i >decl-specifier-seq</i></span></span></a> may be omitted in constructor, destructor,
and conversion function declarations only;
when declaring another kind of member the <a href='dcl.spec.general#nt:decl-specifier-seq' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier-seq__'><span class='textsf'><i >decl-specifier-seq</i></span></span></a>
shall contain a <a href='dcl.type.general#nt:type-specifier' title='9.2.9.1&emsp;General&emsp;[dcl.type.general]'><span id='ntref:type-specifier_'><span class='textsf'><i >type-specifier</i></span></span></a> that is not a <a href='dcl.decl.general#nt:cv-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier'><span class='textsf'><i >cv-qualifier</i></span></span></a><a class='hidden_link' href='#mem.general-13.sentence-1'>.</a></div> <div id='mem.general-13.sentence-2' class='sentence'>The
<a href='#nt:member-declarator-list' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator-list__'><span class='textsf'><i >member-declarator-list</i></span></span></a> can be omitted only after a
<a href='#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-specifier________'><span class='textsf'><i >class-specifier</i></span></span></a> or an <a href='dcl.enum#nt:enum-specifier' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'><span id='ntref:enum-specifier_'><span class='textsf'><i >enum-specifier</i></span></span></a> or in a
<a href='#friend' title='11.8.4&emsp;Friends&emsp;[class.friend]'>friend declaration</a><a class='hidden_link' href='#mem.general-13.sentence-2'>.</a></div> <div id='mem.general-13.sentence-3' class='sentence'>A
<a href='#nt:pure-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:pure-specifier___'><span class='textsf'><i >pure-specifier</i></span></span></a> shall be used only in the declaration of a
<a href='#virtual' title='11.7.3&emsp;Virtual functions&emsp;[class.virtual]'>virtual function</a>
that is not a friend declaration<a class='hidden_link' href='#mem.general-13.sentence-3'>.</a></div></div></div><div class='para' id='mem.general-14'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L684'>#</a></div><div class='texpara'><div id='mem.general-14.sentence-1' class='sentence'>The optional <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq______'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a> in a <a href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration_____'><span class='textsf'><i >member-declaration</i></span></span></a>
appertains to each of the entities declared by the <a href='#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator_____'><span class='textsf'><i >member-declarator</i></span></span></a><i >s</i>;
it shall not appear if the optional <a href='#nt:member-declarator-list' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator-list___'><span class='textsf'><i >member-declarator-list</i></span></span></a> is omitted<a class='hidden_link' href='#mem.general-14.sentence-1'>.</a></div></div></div><div class='para' id='mem.general-15'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L689'>#</a></div><div class='texpara'><div id='mem.general-15.sentence-1' class='sentence'>A <a href='#nt:virt-specifier-seq' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:virt-specifier-seq__'><span class='textsf'><i >virt-specifier-seq</i></span></span></a> shall contain at most one of each
<a href='#nt:virt-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:virt-specifier__'><span class='textsf'><i >virt-specifier</i></span></span></a><a class='hidden_link' href='#mem.general-15.sentence-1'>.</a></div> <div id='mem.general-15.sentence-2' class='sentence'>A <a href='#nt:virt-specifier-seq' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:virt-specifier-seq___'><span class='textsf'><i >virt-specifier-seq</i></span></span></a>
shall appear only in the first declaration of a virtual member
function (<a href='#virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>)<a class='hidden_link' href='#mem.general-15.sentence-2'>.</a></div></div></div><div class='para' id='mem.general-16'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L696'>#</a></div><div class='texpara'><div id='mem.general-16.sentence-1' class='sentence'><a class='index' id=':class_object,member'></a>The type of a non-static data member shall not be an
incomplete type (<a href='basic.types.general#term.incomplete.type' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>),
an abstract class type (<a href='#abstract' title='11.7.4&emsp;Abstract classes'>[class.<span class='shy'></span>abstract]</a>),
or a (possibly multidimensional) array thereof<a class='hidden_link' href='#mem.general-16.sentence-1'>.</a></div> <div id='mem.general-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mem.general-note-5'>5</a></i>: <div id='mem.general-16.sentence-2' class='sentence'>In particular, a class <span class='texttt'>C</span> cannot contain
a non-static member of class <span class='texttt'>C</span>,
but it can contain a pointer or reference to an object of class <span class='texttt'>C</span><a class='hidden_link' href='#mem.general-16.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='mem.general-17'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L708'>#</a></div><div class='texpara'><div id='mem.general-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mem.general-note-6'>6</a></i>: <div id='mem.general-17.sentence-1' class='sentence'>See <a href='expr.prim.id' title='7.5.4&emsp;Names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id]</a> for restrictions on the use of non-static data
members and non-static member functions<a class='hidden_link' href='#mem.general-17.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='mem.general-18'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L714'>#</a></div><div class='texpara'><div id='mem.general-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mem.general-note-7'>7</a></i>: <div id='mem.general-18.sentence-1' class='sentence'>The type of a non-static member function is an ordinary function type,
and the type of a non-static data member is an ordinary object type<a class='hidden_link' href='#mem.general-18.sentence-1'>.</a></div> <div id='mem.general-18.sentence-2' class='sentence'>There are no special member function types or data member types<a class='hidden_link' href='#mem.general-18.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='mem.general-19'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L721'>#</a></div><div class='texpara'><div id='mem.general-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#mem.general-example-3'>3</a></i>: <div id='mem.general-19.sentence-1' class='sentence'>A simple example of a class definition is
<span class='codeblock'><span class='keyword'>struct</span> tnode <span class='curlybracket'>{</span>
  <span class='keyword'>char</span> tword<span class='squarebracket'>[</span><span class='literal'>20</span><span class='squarebracket'>]</span>;
  <span class='keyword'>int</span> count;
  tnode<span class='operator'>*</span> left;
  tnode<span class='operator'>*</span> right;
<span class='curlybracket'>}</span>;
</span>
which contains an array of twenty characters, an integer, and two
pointers to objects of the same type<a class='hidden_link' href='#mem.general-19.sentence-1'>.</a></div> <div id='mem.general-19.sentence-2' class='sentence'>Once this definition has been
given, the declaration
<span class='codeblock'>tnode s, <span class='operator'>*</span>sp;
</span>
declares <span class='texttt'>s</span> to be a <span class='texttt'>tnode</span> and <span class='texttt'>sp</span> to be a pointer
to a <span class='texttt'>tnode</span><a class='hidden_link' href='#mem.general-19.sentence-2'>.</a></div> <div id='mem.general-19.sentence-3' class='sentence'>With these declarations, <span class='texttt'>sp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>count</span> refers to
the <span class='texttt'>count</span> member of the object to which <span class='texttt'>sp</span> points;
<span class='texttt'>s<span class='operator'>.</span>left</span> refers to the <span class='texttt'>left</span> subtree pointer of the object
<span class='texttt'>s</span>; and <span class='texttt'>s<span class='operator'>.</span>right<span class='operator'>-</span><span class='anglebracket'>&gt;</span>tword<span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span></span> refers to the initial character
of the <span class='texttt'>tword</span> member of the <span class='texttt'>right</span> subtree of <span class='texttt'>s</span><a class='hidden_link' href='#mem.general-19.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='mem.general-20'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L746'>#</a></div><div class='texpara'><div id='mem.general-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mem.general-note-8'>8</a></i>: <div id='mem.general-20.sentence-1' class='sentence'><a class='index' id=':layout,class_object'></a>Non-variant non-static data members of
non-zero size (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>)
are allocated so that later
members have higher addresses within a class object (<a href='expr.rel' title='7.6.9&emsp;Relational operators'>[expr.<span class='shy'></span>rel]</a>)<a class='hidden_link' href='#mem.general-20.sentence-1'>.</a></div> <div id='mem.general-20.sentence-2' class='sentence'>Implementation alignment requirements can cause two adjacent members
not to be allocated immediately after each other; so can requirements
for space for managing virtual functions (<a href='#virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>) and
virtual base classes (<a href='#mi' title='11.7.2&emsp;Multiple base classes'>[class.<span class='shy'></span>mi]</a>)<a class='hidden_link' href='#mem.general-20.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='mem.general-21'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-21'>21</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L759'>#</a></div><div class='texpara'><div id='mem.general-21.sentence-1' class='sentence'>If <span class='texttt'>T</span> is the name of a class, then each of the following shall
have a name different from <span class='texttt'>T</span>:
<ul class='itemize'><li id='mem.general-21.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-21.1'>(21.1)</a></div>every static data member of class <span class='texttt'>T</span>;</li><li id='mem.general-21.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-21.2'>(21.2)</a></div>every member function of class <span class='texttt'>T</span>;
<div id='mem.general-note-9' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mem.general-note-9'>9</a></i>: <div id='mem.general-21.2.sentence-1' class='sentence'>This restriction does not apply to <a href='#ctor' title='11.4.5&emsp;Constructors&emsp;[class.ctor]'>constructors</a>,
which do not have names</div> —&nbsp;<i>end note</i>]</div></div></li><li id='mem.general-21.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-21.3'>(21.3)</a></div>every member of class <span class='texttt'>T</span> that is itself a type;</li><li id='mem.general-21.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-21.4'>(21.4)</a></div>every member template of class <span class='texttt'>T</span>;</li><li id='mem.general-21.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-21.5'>(21.5)</a></div>every enumerator of every member of class <span class='texttt'>T</span> that is an
unscoped enumeration type; and</li><li id='mem.general-21.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-21.6'>(21.6)</a></div>every member of every anonymous union that is a member of class
<span class='texttt'>T</span><a class='hidden_link' href='#mem.general-21.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='mem.general-22'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-22'>22</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L782'>#</a></div><div class='texpara'><div id='mem.general-22.sentence-1' class='sentence'>In addition, if class <span class='texttt'>T</span> has a user-declared
<a href='#ctor' title='11.4.5&emsp;Constructors&emsp;[class.ctor]'>constructor</a>, every non-static data member of class
<span class='texttt'>T</span> shall have a name different from <span class='texttt'>T</span><a class='hidden_link' href='#mem.general-22.sentence-1'>.</a></div></div></div><div class='para' id='mem.general-23'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-23'>23</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L787'>#</a></div><div class='texpara'><div id='mem.general-23.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:common_initial_sequence' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:common_initial_sequence'><i >common initial sequence</i></span></a> of two standard-layout struct (<a href='#prop' title='11.2&emsp;Properties of classes'>[class.<span class='shy'></span>prop]</a>)
types is the longest sequence of non-static data
members and bit-fields in declaration order, starting with the first
such entity in each of the structs, such that
<ul class='itemize'><li id='mem.general-23.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-23.1'>(23.1)</a></div>corresponding entities
have layout-compatible types (<a href='basic.types' title='6.8&emsp;Types'>[basic.<span class='shy'></span>types]</a>),</li><li id='mem.general-23.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-23.2'>(23.2)</a></div>corresponding entities have the same alignment requirements (<a href='basic.align' title='6.7.6&emsp;Alignment'>[basic.<span class='shy'></span>align]</a>),</li><li id='mem.general-23.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-23.3'>(23.3)</a></div>either both entities are declared with
the <span class='texttt'>no_<span class='shy'></span>unique_<span class='shy'></span>address</span> attribute (<a href='dcl.attr.nouniqueaddr' title='9.12.11&emsp;No unique address attribute'>[dcl.<span class='shy'></span>attr.<span class='shy'></span>nouniqueaddr]</a>)
or neither is, and</li><li id='mem.general-23.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#mem.general-23.4'>(23.4)</a></div>either both entities are bit-fields with the same width
or neither is a bit-field<a class='hidden_link' href='#mem.general-23.sentence-1'>.</a></li></ul></div> <div id='mem.general-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#mem.general-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='keyword'>char</span> b; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='keyword'>const</span> <span class='keyword'>int</span> b1; <span class='keyword'>volatile</span> <span class='keyword'>char</span> b2; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='curlybracket'>{</span> <span class='keyword'>int</span> c; <span class='keyword'>unsigned</span> <span class='operator'>:</span> <span class='literal'>0</span>; <span class='keyword'>char</span> b; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='curlybracket'>{</span> <span class='keyword'>int</span> d; <span class='keyword'>char</span> b <span class='operator'>:</span> <span class='literal'>4</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> E <span class='curlybracket'>{</span> <span class='keyword'>unsigned</span> <span class='keyword'>int</span> e; <span class='keyword'>char</span> b; <span class='curlybracket'>}</span>;
</span> <div id='mem.general-23.sentence-2' class='sentence'>
The common initial sequence of <span class='texttt'>A</span> and <span class='texttt'>B</span> comprises all members
of either class<a class='hidden_link' href='#mem.general-23.sentence-2'>.</a></div> <div id='mem.general-23.sentence-3' class='sentence'>The common initial sequence of <span class='texttt'>A</span> and <span class='texttt'>C</span> and
of <span class='texttt'>A</span> and <span class='texttt'>D</span> comprises the first member in each case<a class='hidden_link' href='#mem.general-23.sentence-3'>.</a></div> <div id='mem.general-23.sentence-4' class='sentence'>The common initial sequence of <span class='texttt'>A</span> and <span class='texttt'>E</span> is empty<a class='hidden_link' href='#mem.general-23.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='mem.general-24'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-24'>24</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L820'>#</a></div><div class='texpara'><div id='mem.general-24.sentence-1' class='sentence'>Two standard-layout struct (<a href='#prop' title='11.2&emsp;Properties of classes'>[class.<span class='shy'></span>prop]</a>) types are
<a class='hidden_link' href='#def:layout-compatible,class' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='def:layout-compatible,class'><i >layout-compatible classes</i></span></a> if
their common initial sequence comprises all members and bit-fields of
both classes (<a href='basic.types' title='6.8&emsp;Types'>[basic.<span class='shy'></span>types]</a>)<a class='hidden_link' href='#mem.general-24.sentence-1'>.</a></div></div></div><div class='para' id='mem.general-25'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-25'>25</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L826'>#</a></div><div class='texpara'><div id='mem.general-25.sentence-1' class='sentence'>Two standard-layout unions are layout-compatible if they
have the same number of non-static data members and corresponding
non-static data members (in any order) have layout-compatible
types (<a href='basic.types.general#term.layout.compatible.type' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>)<a class='hidden_link' href='#mem.general-25.sentence-1'>.</a></div></div></div><div class='para' id='mem.general-26'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-26'>26</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L832'>#</a></div><div class='texpara'><div id='mem.general-26.sentence-1' class='sentence'>In a standard-layout union with an <a href='#def:active,union_member' title='11.5&emsp;Unions&emsp;[class.union]'>active member</a>
of struct type <span class='texttt'>T1</span>, it is permitted to read a non-static
data member <span class='texttt'>m</span> of another union member of struct type <span class='texttt'>T2</span>
provided <span class='texttt'>m</span> is part of the common initial sequence of <span class='texttt'>T1</span> and <span class='texttt'>T2</span>;
the behavior is as if the corresponding member of <span class='texttt'>T1</span> were nominated<a class='hidden_link' href='#mem.general-26.sentence-1'>.</a></div> <div id='mem.general-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#mem.general-example-5'>5</a></i>: <span class='codeblock'><span class='keyword'>struct</span> T1 <span class='curlybracket'>{</span> <span class='keyword'>int</span> a, b; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> T2 <span class='curlybracket'>{</span> <span class='keyword'>int</span> c; <span class='keyword'>double</span> d; <span class='curlybracket'>}</span>;
<span class='keyword'>union</span> U <span class='curlybracket'>{</span> T1 t1; T2 t2; <span class='curlybracket'>}</span>;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  U u <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span> <span class='curlybracket'>}</span> <span class='curlybracket'>}</span>;   <span class='comment'>// active member is <span class='tcode_in_codeblock'>t1</span></span>
  <span class='keyword'>return</span> u<span class='operator'>.</span>t2<span class='operator'>.</span>c;        <span class='comment'>// OK, as if <span class='tcode_in_codeblock'>u.t1.a</span> were nominated</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='mem.general-note-10' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mem.general-note-10'>10</a></i>: <div id='mem.general-26.sentence-2' class='sentence'>Reading a volatile object through a glvalue of non-volatile type has
undefined behavior (<a href='dcl.type.cv' title='9.2.9.2&emsp;The cv-qualifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>cv]</a>)<a class='hidden_link' href='#mem.general-26.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='mem.general-27'><div class='marginalizedparent'><a class='marginalized' href='#mem.general-27'>27</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L854'>#</a></div><div class='texpara'><div id='mem.general-27.sentence-1' class='sentence'>If a standard-layout class object has any non-static data members, its address
is the same as the address of its first non-static data member
if that member is not a bit-field<a class='hidden_link' href='#mem.general-27.sentence-1'>.</a></div> <div id='mem.general-27.sentence-2' class='sentence'>Its
address is also the same as the address of each of its base class subobjects<a class='hidden_link' href='#mem.general-27.sentence-2'>.</a></div> <div id='mem.general-note-11' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mem.general-note-11'>11</a></i>: <div id='mem.general-27.sentence-3' class='sentence'>There can therefore be unnamed padding within a standard-layout struct object
inserted by an implementation, but
not at its beginning, as necessary to achieve appropriate alignment<a class='hidden_link' href='#mem.general-27.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='mem.general-note-12' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mem.general-note-12'>12</a></i>: <div id='mem.general-27.sentence-4' class='sentence'>The object and its first subobject are
pointer-interconvertible (<a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>, <a href='expr.static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>)<a class='hidden_link' href='#mem.general-27.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='mfct' class='section'><h3 ><a class='secnum' href='#mfct' style='min-width:80pt'>11.4.2</a> Member functions <a class='abbr_ref' href='class.mfct'>[class.mfct]</a></h3><div class='texpara'><a class='index' id=':member_function,class'></a></div><div class='para' id='mfct-1'><div class='marginalizedparent'><a class='marginalized' href='#mfct-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L872'>#</a></div><div class='texpara'><div id='mfct-1.sentence-1' class='sentence'><a class='index' id=':member_function,inline'></a><a class='index' id=':definition,member_function'></a>If a member function is attached to the global module and is defined (<a href='dcl.fct.def' title='9.5&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a>) in its class definition,
it is inline (<a href='dcl.inline' title='9.2.8&emsp;The inline specifier'>[dcl.<span class='shy'></span>inline]</a>)<a class='hidden_link' href='#mfct-1.sentence-1'>.</a></div> <div id='mfct-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mfct-note-1'>1</a></i>: <div id='mfct-1.sentence-2' class='sentence'>A member function is also inline if it is declared
<span id=':inline'><span class='texttt'><span class='keyword'>inline</span></span></span>, <span id=':constexpr'><span class='texttt'><span class='keyword'>constexpr</span></span></span>, or <span id=':consteval'><span class='texttt'><span class='keyword'>consteval</span></span></span><a class='hidden_link' href='#mfct-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='mfct-2'><div class='marginalizedparent'><a class='marginalized' href='#mfct-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L882'>#</a></div><div class='texpara'><a class='index' id=':operator,scope_resolution'></a><div id='mfct-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#mfct-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>int</span> T;
  <span class='keyword'>static</span> T count;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>void</span> X<span class='operator'>::</span>f<span class='parenthesis'>(</span>T t <span class='operator'>=</span> count<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
</span></div><div class='texpara'><div id='mfct-2.sentence-1' class='sentence'>The definition of the member function <span class='texttt'>f</span> of class <span class='texttt'>X</span> inhabits the global
scope; the notation <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>f</span> indicates that the function <span class='texttt'>f</span>
is a member of class <span class='texttt'>X</span> and in the scope of class <span class='texttt'>X</span><a class='hidden_link' href='#mfct-2.sentence-1'>.</a></div> <div id='mfct-2.sentence-2' class='sentence'>In
the function definition, the parameter type <span class='texttt'>T</span> refers to the
typedef member <span class='texttt'>T</span> declared in class <span class='texttt'>X</span> and the default
argument <span class='texttt'>count</span> refers to the static data member <span class='texttt'>count</span>
declared in class <span class='texttt'>X</span><a class='hidden_link' href='#mfct-2.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='mfct-3'><div class='marginalizedparent'><a class='marginalized' href='#mfct-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L903'>#</a></div><div class='texpara'><div id='mfct-3.sentence-1' class='sentence'><a class='index' id=':local_class,member_function_in'></a>Member functions of a local class shall be defined inline in their class
definition, if they are defined at all<a class='hidden_link' href='#mfct-3.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='mfct-4'><div class='marginalizedparent'><a class='marginalized' href='#mfct-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L908'>#</a></div><div class='texpara'><div id='mfct-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mfct-note-2'>2</a></i>: <div id='mfct-4.sentence-1' class='sentence'>A member function can be declared (but not defined) using a typedef for
a function type<a class='hidden_link' href='#mfct-4.sentence-1'>.</a></div> <div id='mfct-4.sentence-2' class='sentence'>The resulting member function has exactly the same type
as it would have if the function declarator were provided explicitly,
see <a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a><a class='hidden_link' href='#mfct-4.sentence-2'>.</a></div> <div id='mfct-4.sentence-3' class='sentence'>For example,</div></div><div class='texpara'><span class='codeblock'><span class='keyword'>typedef</span> <span class='keyword'>void</span> fv<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>typedef</span> <span class='keyword'>void</span> fvc<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  fv memfunc1;      <span class='comment'>// equivalent to: <span class='tcode_in_codeblock'>void memfunc1();</span></span>
  <span class='keyword'>void</span> memfunc2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  fvc memfunc3;     <span class='comment'>// equivalent to: <span class='tcode_in_codeblock'>void memfunc3() const;</span></span>
<span class='curlybracket'>}</span>;
fv  S<span class='operator'>::</span><span class='operator'>*</span> pmfv1 <span class='operator'>=</span> <span class='operator'>&amp;</span>S<span class='operator'>::</span>memfunc1;
fv  S<span class='operator'>::</span><span class='operator'>*</span> pmfv2 <span class='operator'>=</span> <span class='operator'>&amp;</span>S<span class='operator'>::</span>memfunc2;
fvc S<span class='operator'>::</span><span class='operator'>*</span> pmfv3 <span class='operator'>=</span> <span class='operator'>&amp;</span>S<span class='operator'>::</span>memfunc3;
</span></div><div class='texpara'><div id='mfct-4.sentence-4' class='sentence'>Also see <a href='temp.arg' title='13.4&emsp;Template arguments'>[temp.<span class='shy'></span>arg]</a><a class='hidden_link' href='#mfct-4.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='mfct.non.static' class='section'><h3 ><a class='secnum' href='#mfct.non.static' style='min-width:80pt'>11.4.3</a> Non-static member functions <a class='abbr_ref' href='class.mfct.non.static'>[class.mfct.non.static]</a></h3><div class='texpara'><a class='index' id=':member_function,non-static'></a></div><div class='para' id='mfct.non.static-1'><div class='marginalizedparent'><a class='marginalized' href='#mfct.non.static-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L935'>#</a></div><div class='texpara'><div id='mfct.non.static-1.sentence-1' class='sentence'>A non-static member function may be called for an object of
its class type, or for an object of a class derived (<a href='#derived' title='11.7&emsp;Derived classes'>[class.<span class='shy'></span>derived]</a>)
from its class type, using the class member
access syntax (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>, <a href='over.match.call' title='12.2.2.2&emsp;Function call syntax'>[over.<span class='shy'></span>match.<span class='shy'></span>call]</a>)<a class='hidden_link' href='#mfct.non.static-1.sentence-1'>.</a></div> <div id='mfct.non.static-1.sentence-2' class='sentence'>A non-static
member function may also be called directly using the function call
syntax (<a href='expr.call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>, <a href='over.match.call' title='12.2.2.2&emsp;Function call syntax'>[over.<span class='shy'></span>match.<span class='shy'></span>call]</a>) from within
its class or a class derived from its class, or
a member thereof, as described below<a class='hidden_link' href='#mfct.non.static-1.sentence-2'>.</a></div></div></div><div class='para' id='mfct.non.static-2'><div class='marginalizedparent'><a class='marginalized' href='#mfct.non.static-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L945'>#</a></div><div class='texpara'><div id='mfct.non.static-2.sentence-1' class='sentence'>When an <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression'><span class='textsf'><i >id-expression</i></span></span></a> (<a href='expr.prim.id' title='7.5.4&emsp;Names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id]</a>) that is
neither part of a class member access syntax (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>)
nor the unparenthesized operand of
the unary <span class='texttt'><span class='operator'>&amp;</span></span> operator (<a href='expr.unary.op' title='7.6.2.2&emsp;Unary operators'>[expr.<span class='shy'></span>unary.<span class='shy'></span>op]</a>) is used
where the current class is <span class='texttt'>X</span> (<a href='expr.prim.this' title='7.5.2&emsp;This'>[expr.<span class='shy'></span>prim.<span class='shy'></span>this]</a>),
if name
lookup (<a href='basic.lookup' title='6.5&emsp;Name lookup'>[basic.<span class='shy'></span>lookup]</a>) resolves the name in the
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_'><span class='textsf'><i >id-expression</i></span></span></a> to a non-static non-type member of some class
<span class='texttt'>C</span>,
and if either the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression__'><span class='textsf'><i >id-expression</i></span></span></a> is potentially evaluated or
<span class='texttt'>C</span> is <span class='texttt'>X</span> or a base class of <span class='texttt'>X</span>,
the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression___'><span class='textsf'><i >id-expression</i></span></span></a> is transformed into a class
member access expression (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>) using
<span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span> as the <a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression'><span class='textsf'><i >postfix-expression</i></span></span></a>
to the left of the <span class='texttt'><span class='operator'>.</span></span> operator<a class='hidden_link' href='#mfct.non.static-2.sentence-1'>.</a></div> <div id='mfct.non.static-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mfct.non.static-note-1'>1</a></i>: <div id='mfct.non.static-2.sentence-2' class='sentence'>If <span class='texttt'>C</span> is not <span class='texttt'>X</span> or a base class of <span class='texttt'>X</span>, the class
member access expression is ill-formed<a class='hidden_link' href='#mfct.non.static-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='mfct.non.static-2.sentence-3' class='sentence'>
This transformation does not apply in the
template definition context (<a href='temp.dep.type' title='13.8.3.2&emsp;Dependent types'>[temp.<span class='shy'></span>dep.<span class='shy'></span>type]</a>)<a class='hidden_link' href='#mfct.non.static-2.sentence-3'>.</a></div> <div id='mfct.non.static-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#mfct.non.static-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> tnode <span class='curlybracket'>{</span>
  <span class='keyword'>char</span> tword<span class='squarebracket'>[</span><span class='literal'>20</span><span class='squarebracket'>]</span>;
  <span class='keyword'>int</span> count;
  tnode<span class='operator'>*</span> left;
  tnode<span class='operator'>*</span> right;
  <span class='keyword'>void</span> set<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>, tnode<span class='operator'>*</span> l, tnode<span class='operator'>*</span> r<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> tnode<span class='operator'>::</span>set<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> w, tnode<span class='operator'>*</span> l, tnode<span class='operator'>*</span> r<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  count <span class='operator'>=</span> strlen<span class='parenthesis'>(</span>w<span class='parenthesis'>)</span><span class='operator'>+</span><span class='literal'>1</span>;
  <span class='keyword'>if</span> <span class='parenthesis'>(</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>tword<span class='parenthesis'>)</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span>count<span class='parenthesis'>)</span>
      perror<span class='parenthesis'>(</span><span class='literal'>"tnode string too long"</span><span class='parenthesis'>)</span>;
  strcpy<span class='parenthesis'>(</span>tword,w<span class='parenthesis'>)</span>;
  left <span class='operator'>=</span> l;
  right <span class='operator'>=</span> r;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>tnode n1, tnode n2<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  n1<span class='operator'>.</span>set<span class='parenthesis'>(</span><span class='literal'>"abc"</span>,<span class='operator'>&amp;</span>n2,<span class='literal'>0</span><span class='parenthesis'>)</span>;
  n2<span class='operator'>.</span>set<span class='parenthesis'>(</span><span class='literal'>"def"</span>,<span class='literal'>0</span>,<span class='literal'>0</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><div id='mfct.non.static-2.sentence-4' class='sentence'>In the body of the member function <span class='texttt'>tnode<span class='operator'>&#x200b;::&#x200b;</span>set</span>, the member names
<span class='texttt'>tword</span>, <span class='texttt'>count</span>, <span class='texttt'>left</span>, and <span class='texttt'>right</span> refer to
members of the object for which the function is called<a class='hidden_link' href='#mfct.non.static-2.sentence-4'>.</a></div> <div id='mfct.non.static-2.sentence-5' class='sentence'>Thus, in the
call <span class='texttt'>n1<span class='operator'>.</span>set<span class='parenthesis'>(</span><span class='literal'>"abc"</span>,<span class='operator'>&amp;</span>n2,<span class='literal'>0</span><span class='parenthesis'>)</span></span>, <span class='texttt'>tword</span> refers to
<span class='texttt'>n1<span class='operator'>.</span>tword</span>, and in the call <span class='texttt'>n2<span class='operator'>.</span>set<span class='parenthesis'>(</span><span class='literal'>"def"</span>,<span class='literal'>0</span>,<span class='literal'>0</span><span class='parenthesis'>)</span></span>, it refers
to <span class='texttt'>n2<span class='operator'>.</span>tword</span><a class='hidden_link' href='#mfct.non.static-2.sentence-5'>.</a></div> <div id='mfct.non.static-2.sentence-6' class='sentence'>The functions <span class='texttt'>strlen</span>, <span class='texttt'>perror</span>, and
<span class='texttt'>strcpy</span> are not members of the class <span class='texttt'>tnode</span> and should be
declared elsewhere<a class='hidden_link' href='#mfct.non.static-2.sentence-6'>.</a><a class='footnoteref' href='#footnote-94' id='footnoteref-94' title='See, for example, &lt;cstring&gt;.'>94</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='mfct.non.static-3'><div class='marginalizedparent'><a class='marginalized' href='#mfct.non.static-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1005'>#</a></div><div class='texpara'><a class='index' id=':member_function,const'></a><a class='index' id=':member_function,volatile'></a><a class='index' id=':member_function,const_volatile'></a><div id='mfct.non.static-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mfct.non.static-note-2'>2</a></i>: <div id='mfct.non.static-3.sentence-1' class='sentence'>An implicit object member function can be declared with
<a href='dcl.decl.general#nt:cv-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier_'><span class='textsf'><i >cv-qualifier</i></span></span></a><i >s</i>, which affect the type of the <span id=':this'><span class='texttt'><span class='keyword'>this</span></span></span>
pointer (<a href='expr.prim.this' title='7.5.2&emsp;This'>[expr.<span class='shy'></span>prim.<span class='shy'></span>this]</a>),
and/or a <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier'><span class='textsf'><i >ref-qualifier</i></span></span></a> (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>);
both affect overload resolution (<a href='over.match.funcs' title='12.2.2&emsp;Candidate functions and argument lists'>[over.<span class='shy'></span>match.<span class='shy'></span>funcs]</a>)</div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='mfct.non.static-4'><div class='marginalizedparent'><a class='marginalized' href='#mfct.non.static-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1017'>#</a></div><div class='texpara'><div id='mfct.non.static-4.sentence-1' class='sentence'>An implicit object member function may be declared
virtual (<a href='#virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>) or pure virtual (<a href='#abstract' title='11.7.4&emsp;Abstract classes'>[class.<span class='shy'></span>abstract]</a>)<a class='hidden_link' href='#mfct.non.static-4.sentence-1'>.</a></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-94'><div class='texpara'><a class='footnotenum' href='#footnote-94'>94)</a><a class='footnoteBacklink' href='#footnoteref-94'>94)</a> <div id='footnote-94.sentence-1' class='sentence'>See, for example, <a href='cstring.syn#header:%3ccstring%3e' title='23.5.3&emsp;Header &lt;cstring&gt; synopsis&emsp;[cstring.syn]'><span id='headerref:<cstring>'><span class='texttt'>&lt;cstring&gt;</span></span></a><a class='hidden_link' href='#footnote-94.sentence-1'>.</a></div></div></div></div><div id='special' class='section'><h3 ><a class='secnum' href='#special' style='min-width:80pt'>11.4.4</a> Special member functions <a class='abbr_ref' href='special'>[special]</a></h3><div class='texpara'></div><div class='para' id='special-1'><div class='marginalizedparent'><a class='marginalized' href='#special-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1028'>#</a></div><div class='texpara'><div id='special-1.sentence-1' class='sentence'><a class='index' id=':constructor,default'></a><a class='index' id=':constructor,copy'></a><a class='index' id=':constructor,move'></a><a class='index' id=':assignment_operator,copy'></a><a class='index' id=':assignment_operator,move'></a>Default constructors (<a href='#default.ctor' title='11.4.5.2&emsp;Default constructors'>[class.<span class='shy'></span>default.<span class='shy'></span>ctor]</a>),
copy constructors, move constructors (<a href='#copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>),
copy assignment operators, move assignment operators (<a href='#copy.assign' title='11.4.6&emsp;Copy/move assignment operator'>[class.<span class='shy'></span>copy.<span class='shy'></span>assign]</a>),
and prospective destructors (<a href='#dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a>) are
<a class='hidden_link' href='#def:special_member_functions' id='def:special_member_functions'><i>special member functions</i></a><a class='hidden_link' href='#special-1.sentence-1'>.</a></div> <div id='special-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#special-note-1'>1</a></i>: <div id='special-1.sentence-2' class='sentence'>The implementation will implicitly declare these member functions for some class
types when the program does not explicitly declare them<a class='hidden_link' href='#special-1.sentence-2'>.</a></div> <div id='special-1.sentence-3' class='sentence'>The implementation will implicitly define them
as needed (<a href='dcl.fct.def.default' title='9.5.2&emsp;Explicitly-defaulted functions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>default]</a>)<a class='hidden_link' href='#special-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='special-1.sentence-4' class='sentence'>
An implicitly-declared special member function is declared at the closing
<span class='texttt'><span class='curlybracket'>}</span></span> of the <a href='#nt:class-specifier' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-specifier_________'><span class='textsf'><i >class-specifier</i></span></span></a><a class='hidden_link' href='#special-1.sentence-4'>.</a></div> <div id='special-1.sentence-5' class='sentence'>Programs shall not define implicitly-declared special member functions<a class='hidden_link' href='#special-1.sentence-5'>.</a></div></div></div><div class='para' id='special-2'><div class='marginalizedparent'><a class='marginalized' href='#special-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1049'>#</a></div><div class='texpara'><div id='special-2.sentence-1' class='sentence'>Programs may explicitly refer to implicitly-declared special member functions<a class='hidden_link' href='#special-2.sentence-1'>.</a></div> <div id='special-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#special-example-1'>1</a></i>: <div id='special-2.sentence-2' class='sentence'>A program may explicitly call or form a pointer to member
to an implicitly-declared special member function<a class='hidden_link' href='#special-2.sentence-2'>.</a></div></div><div class='texpara'><span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                   <span class='comment'>// implicitly declared <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;operator=</span></span>
<span class='keyword'>struct</span> B <span class='operator'>:</span> A <span class='curlybracket'>{</span>
  B<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> B <span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
B<span class='operator'>&amp;</span> B<span class='operator'>::</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> B<span class='operator'>&amp;</span> s<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>A<span class='operator'>::</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>s<span class='parenthesis'>)</span>;        <span class='comment'>// well-formed</span>
  <span class='keyword'>return</span> <span class='operator'>*</span><span class='keyword'>this</span>;
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='special-3'><div class='marginalizedparent'><a class='marginalized' href='#special-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1067'>#</a></div><div class='texpara'><div id='special-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#special-note-2'>2</a></i>: <div id='special-3.sentence-1' class='sentence'>The special member functions affect the way objects of class type are created,
copied, moved, and destroyed, and how values can be converted to values of other types<a class='hidden_link' href='#special-3.sentence-1'>.</a></div> <div id='special-3.sentence-2' class='sentence'>Often such special member functions are called implicitly<a class='hidden_link' href='#special-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='special-4'><div class='marginalizedparent'><a class='marginalized' href='#special-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1074'>#</a></div><div class='texpara'><div id='special-4.sentence-1' class='sentence'><a class='index' id=':access_control,member_function_and'></a>Special member functions obey the usual access rules (<a href='#access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>)<a class='hidden_link' href='#special-4.sentence-1'>.</a></div> <div id='special-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#special-example-2'>2</a></i>: <div id='special-4.sentence-2' class='sentence'>Declaring a constructor protected
ensures that only derived classes and friends can create objects using it<a class='hidden_link' href='#special-4.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='special-5'><div class='marginalizedparent'><a class='marginalized' href='#special-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1082'>#</a></div><div class='texpara'><div id='special-5.sentence-1' class='sentence'>Two special member functions are of the same kind if:
<ul class='itemize'><li id='special-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#special-5.1'>(5.1)</a></div>they are both default constructors,</li><li id='special-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#special-5.2'>(5.2)</a></div>they are both copy or move constructors
with the same first parameter type, or</li><li id='special-5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#special-5.3'>(5.3)</a></div>they are both copy or move assignment operators
with the same first parameter type
and the same <a href='dcl.decl.general#nt:cv-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier__'><span class='textsf'><i >cv-qualifier</i></span></span></a><i >s</i> and <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier_'><span class='textsf'><i >ref-qualifier</i></span></span></a>, if any<a class='hidden_link' href='#special-5.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='special-6'><div class='marginalizedparent'><a class='marginalized' href='#special-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1093'>#</a></div><div class='texpara'><div id='special-6.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:special_member_function,eligible' title='11.4.4&emsp;Special member functions&emsp;[special]'><span id='def:special_member_function,eligible'><i >eligible special member function</i></span></a> is a special member function for which:
<ul class='itemize'><li id='special-6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#special-6.1'>(6.1)</a></div>the function is not deleted,</li><li id='special-6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#special-6.2'>(6.2)</a></div>the associated constraints (<a href='temp.constr' title='13.5&emsp;Template constraints'>[temp.<span class='shy'></span>constr]</a>), if any, are satisfied, and</li><li id='special-6.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#special-6.3'>(6.3)</a></div>no special member function of the same kind is more constrained (<a href='temp.constr.order' title='13.5.5&emsp;Partial ordering by constraints'>[temp.<span class='shy'></span>constr.<span class='shy'></span>order]</a>)<a class='hidden_link' href='#special-6.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='special-7'><div class='marginalizedparent'><a class='marginalized' href='#special-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1101'>#</a></div><div class='texpara'><div id='special-7.sentence-1' class='sentence'>For a class, its non-static data members, its non-virtual direct base classes,
and, if the class is not abstract (<a href='#abstract' title='11.7.4&emsp;Abstract classes'>[class.<span class='shy'></span>abstract]</a>), its virtual base
classes are called its <a class='hidden_link' href='#def:potentially_constructed_subobjects' id='def:potentially_constructed_subobjects'><i>potentially constructed subobjects</i></a><a class='hidden_link' href='#special-7.sentence-1'>.</a></div></div></div></div><div id='ctor' class='section'><h3 ><a class='secnum' href='#ctor' style='min-width:80pt'>11.4.5</a> Constructors <a class='abbr_ref' href='class.ctor'>[class.ctor]</a></h3><div id='ctor.general' class='section'><h4 ><a class='secnum' href='#ctor.general' style='min-width:95pt'>11.4.5.1</a> General <a class='abbr_ref' href='class.ctor.general'>[class.ctor.general]</a></h4><div class='texpara'><a class='index' id=':constructor'></a></div><div class='para' id='ctor.general-1'><div class='marginalizedparent'><a class='marginalized' href='#ctor.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1112'>#</a></div><div class='texpara'><div id='ctor.general-1.sentence-1' class='sentence'>A <a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator____'><span class='textsf'><i >declarator</i></span></span></a> declares a <a class='hidden_link' href='#def:constructor' title='11.4.5.1&emsp;General&emsp;[class.ctor.general]'><span id='def:constructor'><i >constructor</i></span></a> if it is a
function declarator (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) of the form
<div class='bnf'>
<a href='dcl.decl.general#nt:ptr-declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ptr-declarator'><span class='textsf'><i >ptr-declarator</i></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier_'><span class='textsf'><i >noexcept-specifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq_______'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div>
where the <a href='dcl.decl.general#nt:ptr-declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ptr-declarator_'><span class='textsf'><i >ptr-declarator</i></span></span></a> consists solely of an
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression____'><span class='textsf'><i >id-expression</i></span></span></a>, an optional <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq________'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a>,
and optional surrounding parentheses, and the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_____'><span class='textsf'><i >id-expression</i></span></span></a> has
one of the following forms:
<ul class='itemize'><li id='ctor.general-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#ctor.general-1.1'>(1.1)</a></div>in a friend declaration (<a href='#friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>),
the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression______'><span class='textsf'><i >id-expression</i></span></span></a> is a <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id'><span class='textsf'><i >qualified-id</i></span></span></a>
that names a constructor (<a href='class.qual' title='6.5.5.2&emsp;Class members'>[class.<span class='shy'></span>qual]</a>);</li><li id='ctor.general-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#ctor.general-1.2'>(1.2)</a></div>otherwise, in a <a href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration______'><span class='textsf'><i >member-declaration</i></span></span></a> that belongs to the
<a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification________'><span class='textsf'><i >member-specification</i></span></span></a> of a class or class template,
the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_______'><span class='textsf'><i >id-expression</i></span></span></a> is the
injected-class-name (<a href='#pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>) of the immediately-enclosing entity;</li><li id='ctor.general-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#ctor.general-1.3'>(1.3)</a></div>otherwise, the
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression________'><span class='textsf'><i >id-expression</i></span></span></a> is a <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id_'><span class='textsf'><i >qualified-id</i></span></span></a>
whose <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id'><span class='textsf'><i >unqualified-id</i></span></span></a> is
the injected-class-name of its lookup context<a class='hidden_link' href='#ctor.general-1.sentence-1'>.</a></li></ul></div> <div id='ctor.general-1.sentence-2' class='sentence'>
Constructors do not have names<a class='hidden_link' href='#ctor.general-1.sentence-2'>.</a></div> <div id='ctor.general-1.sentence-3' class='sentence'>In a constructor declaration, each <a href='dcl.spec.general#nt:decl-specifier' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier'><span class='textsf'><i >decl-specifier</i></span></span></a> in the optional
<a href='dcl.spec.general#nt:decl-specifier-seq' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier-seq___'><span class='textsf'><i >decl-specifier-seq</i></span></span></a> shall be
<span id=':friend'><span class='texttt'><span class='keyword'>friend</span></span></span>,
<span id=':inline_'><span class='texttt'><span class='keyword'>inline</span></span></span>,
<span id=':constexpr_'><span class='texttt'><span class='keyword'>constexpr</span></span></span>,
<span id=':consteval_'><span class='texttt'><span class='keyword'>consteval</span></span></span>, or
an <a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.3&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier'><span class='textsf'><i >explicit-specifier</i></span></span></a><a class='hidden_link' href='#ctor.general-1.sentence-3'>.</a></div> <div id='ctor.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#ctor.general-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  S<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// declares the constructor</span>
<span class='curlybracket'>}</span>;

S<span class='operator'>::</span>S<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>          <span class='comment'>// defines the constructor</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='ctor.general-2'><div class='marginalizedparent'><a class='marginalized' href='#ctor.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1157'>#</a></div><div class='texpara'><div id='ctor.general-2.sentence-1' class='sentence'><a class='index' id=':constructor,explicit_call'></a>A constructor is used to initialize objects of its class type<a class='hidden_link' href='#ctor.general-2.sentence-1'>.</a></div> <div id='ctor.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ctor.general-note-1'>1</a></i>: <div id='ctor.general-2.sentence-2' class='sentence'>Because constructors do not have names, they are never found during
unqualified name lookup; however an explicit type conversion using the functional
notation (<a href='expr.type.conv' title='7.6.1.4&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>) will cause a constructor to be called to
initialize an object<a class='hidden_link' href='#ctor.general-2.sentence-2'>.</a></div> <div id='ctor.general-2.sentence-3' class='sentence'>The syntax looks like an explicit call of the constructor<a class='hidden_link' href='#ctor.general-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='ctor.general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#ctor.general-example-2'>2</a></i>: <span class='codeblock'>complex zz <span class='operator'>=</span> complex<span class='parenthesis'>(</span><span class='literal'>1</span>,<span class='literal'>2.3</span><span class='parenthesis'>)</span>;
cprint<span class='parenthesis'>(</span> complex<span class='parenthesis'>(</span><span class='literal'>7.8</span>,<span class='literal'>1.2</span><span class='parenthesis'>)</span> <span class='parenthesis'>)</span>;
</span> —&nbsp;<i>end example</i>]</div></div> <div id='ctor.general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ctor.general-note-2'>2</a></i>: <div id='ctor.general-2.sentence-4' class='sentence'>For initialization of objects of class type see <a href='#init' title='11.9&emsp;Initialization'>[class.<span class='shy'></span>init]</a><a class='hidden_link' href='#ctor.general-2.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='ctor.general-3'><div class='marginalizedparent'><a class='marginalized' href='#ctor.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1177'>#</a></div><div class='texpara'><div id='ctor.general-3.sentence-1' class='sentence'><a class='index' id=':object,unnamed'></a>An object created in this way is unnamed<a class='hidden_link' href='#ctor.general-3.sentence-1'>.</a></div> <div id='ctor.general-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ctor.general-note-3'>3</a></i>: <div id='ctor.general-3.sentence-2' class='sentence'><a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a> describes the lifetime of temporary objects<a class='hidden_link' href='#ctor.general-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='ctor.general-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ctor.general-note-4'>4</a></i>: <div id='ctor.general-3.sentence-3' class='sentence'>Explicit constructor calls do not yield lvalues, see <a href='basic.lval' title='7.2.1&emsp;Value category'>[basic.<span class='shy'></span>lval]</a><a class='hidden_link' href='#ctor.general-3.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='ctor.general-4'><div class='marginalizedparent'><a class='marginalized' href='#ctor.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1187'>#</a></div><div class='texpara'><div id='ctor.general-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ctor.general-note-5'>5</a></i>: <div id='ctor.general-4.sentence-1' class='sentence'><a class='index' id=':member_function,constructor_and'></a>Some language constructs have special semantics when used during construction;
see <a href='#base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a> and <a href='#cdtor' title='11.9.5&emsp;Construction and destruction'>[class.<span class='shy'></span>cdtor]</a><a class='hidden_link' href='#ctor.general-4.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='ctor.general-5'><div class='marginalizedparent'><a class='marginalized' href='#ctor.general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1194'>#</a></div><div class='texpara'><div id='ctor.general-5.sentence-1' class='sentence'><a class='index' id=':const,constructor_and'></a><a class='index' id=':volatile,constructor_and'></a>A constructor can be invoked for a
<span id=':const'><span class='texttt'><span class='keyword'>const</span></span></span>,
<span class='texttt'><span class='keyword'>volatile</span></span>
or
<span id=':const_'><span class='texttt'><span class='keyword'>const</span></span></span>
<span class='texttt'><span class='keyword'>volatile</span></span>
object<a class='hidden_link' href='#ctor.general-5.sentence-1'>.</a></div> <div id='ctor.general-5.sentence-2' class='sentence'><a class='index' id=':restriction,constructor'></a><span id=':const__'><span class='texttt'><span class='keyword'>const</span></span></span>
and
<span class='texttt'><span class='keyword'>volatile</span></span>
semantics (<a href='dcl.type.cv' title='9.2.9.2&emsp;The cv-qualifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>cv]</a>) are not applied on an object under construction<a class='hidden_link' href='#ctor.general-5.sentence-2'>.</a></div> <div id='ctor.general-5.sentence-3' class='sentence'>They come into effect when the constructor for the
most derived object (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>) ends<a class='hidden_link' href='#ctor.general-5.sentence-3'>.</a></div></div></div><div class='para' id='ctor.general-6'><div class='marginalizedparent'><a class='marginalized' href='#ctor.general-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1212'>#</a></div><div class='texpara'><div id='ctor.general-6.sentence-1' class='sentence'><a class='index' id=':constructor,address_of'></a>The address of a constructor shall not be taken<a class='hidden_link' href='#ctor.general-6.sentence-1'>.</a></div> <a class='index' id=':restriction,constructor_'></a><div id='ctor.general-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ctor.general-note-6'>6</a></i>: <div id='ctor.general-6.sentence-2' class='sentence'>A <span class='texttt'><span class='keyword'>return</span></span> statement in the body of a constructor
cannot specify a return value (<a href='stmt.return' title='8.7.4&emsp;The return statement'>[stmt.<span class='shy'></span>return]</a>)<a class='hidden_link' href='#ctor.general-6.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='ctor.general-7'><div class='marginalizedparent'><a class='marginalized' href='#ctor.general-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1221'>#</a></div><div class='texpara'><div id='ctor.general-7.sentence-1' class='sentence'>A constructor shall not be a coroutine<a class='hidden_link' href='#ctor.general-7.sentence-1'>.</a></div></div></div><div class='para' id='ctor.general-8'><div class='marginalizedparent'><a class='marginalized' href='#ctor.general-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1224'>#</a></div><div class='texpara'><div id='ctor.general-8.sentence-1' class='sentence'>A constructor shall not have an explicit object parameter (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#ctor.general-8.sentence-1'>.</a></div></div></div></div><div id='default.ctor' class='section'><h4 ><a class='secnum' href='#default.ctor' style='min-width:95pt'>11.4.5.2</a> Default constructors <a class='abbr_ref' href='class.default.ctor'>[class.default.ctor]</a></h4><div class='para' id='default.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#default.ctor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1229'>#</a></div><div class='texpara'><div id='default.ctor-1.sentence-1' class='sentence'><a class='index' id=':constructor,inheritance_of'></a><a class='index' id=':constructor,non-trivial'></a>A <a class='hidden_link' href='#def:constructor,default' title='11.4.5.2&emsp;Default constructors&emsp;[class.default.ctor]'><span id='def:constructor,default'><i >default constructor</i></span></a> for a class <span class='texttt'>X</span>
is a constructor of class <span class='texttt'>X</span>
for which each parameter
that is not a function parameter pack
has a default argument
(including the case of a constructor with no parameters)<a class='hidden_link' href='#default.ctor-1.sentence-1'>.</a></div> <div id='default.ctor-1.sentence-2' class='sentence'><a class='index' id=':implicitly-declared_default_constructor'></a>If there is no user-declared constructor for class
<span class='texttt'>X</span>,
a non-explicit constructor having no parameters is implicitly declared
as defaulted (<a href='dcl.fct.def' title='9.5&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a>)<a class='hidden_link' href='#default.ctor-1.sentence-2'>.</a></div> <div id='default.ctor-1.sentence-3' class='sentence'>An implicitly-declared default constructor is an
inline public member of its class<a class='hidden_link' href='#default.ctor-1.sentence-3'>.</a></div></div></div><div class='para' id='default.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#default.ctor-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1246'>#</a></div><div class='texpara'><div id='default.ctor-2.sentence-1' class='sentence'>A defaulted default constructor for class <span class='texttt'>X</span> is defined as deleted if:
<ul class='itemize'><li id='default.ctor-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#default.ctor-2.1'>(2.1)</a></div>any non-static data member with no default member initializer (<a href='#mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>) is
of reference type,</li><li id='default.ctor-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#default.ctor-2.2'>(2.2)</a></div>any non-variant non-static data member of const-qualified type
(or possibly multi-dimensional array thereof)
with no <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer___________'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a>
is not const-default-constructible (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>),</li><li id='default.ctor-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#default.ctor-2.3'>(2.3)</a></div><span class='texttt'>X</span> is a union and all of its variant members are of const-qualified
type (or possibly multi-dimensional array thereof),</li><li id='default.ctor-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#default.ctor-2.4'>(2.4)</a></div><span class='texttt'>X</span> is a non-union class and all members of any anonymous union member are
of const-qualified type (or possibly multi-dimensional array thereof),</li><li id='default.ctor-2.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#default.ctor-2.5'>(2.5)</a></div>any potentially constructed subobject, except for a non-static data member
with a <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer____________'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a>
or a variant member of a union where another non-static data member
has a <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer_____________'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a>,
has class type <span class='texttt'>M</span> (or possibly multi-dimensional array thereof)
and overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>)
as applied to find <span class='texttt'>M</span>'s corresponding constructor
either does not result in a usable candidate (<a href='over.match.general' title='12.2.1&emsp;General'>[over.<span class='shy'></span>match.<span class='shy'></span>general]</a>)
or, in the case of a variant member, selects a non-trivial function, or</li><li id='default.ctor-2.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#default.ctor-2.6'>(2.6)</a></div>any potentially constructed subobject has
class type <span class='texttt'>M</span> (or possibly multi-dimensional array thereof) and
<span class='texttt'>M</span> has
a destructor that is deleted or inaccessible from the defaulted default
constructor<a class='hidden_link' href='#default.ctor-2.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='default.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#default.ctor-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1280'>#</a></div><div class='texpara'><div id='default.ctor-3.sentence-1' class='sentence'>A default constructor is
<a class='hidden_link' href='#def:constructor,default,trivial' title='11.4.5.2&emsp;Default constructors&emsp;[class.default.ctor]'><span id='def:constructor,default,trivial'><i >trivial</i></span></a>
if it is not user-provided and if:
<ul class='itemize'><li id='default.ctor-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#default.ctor-3.1'>(3.1)</a></div>its class has no virtual functions (<a href='#virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>) and no virtual base
classes (<a href='#mi' title='11.7.2&emsp;Multiple base classes'>[class.<span class='shy'></span>mi]</a>), and</li><li id='default.ctor-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#default.ctor-3.2'>(3.2)</a></div>no non-static data member of its class has
a default member initializer (<a href='#mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>), and</li><li id='default.ctor-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#default.ctor-3.3'>(3.3)</a></div>all the direct base classes of its class have trivial default constructors, and</li><li id='default.ctor-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#default.ctor-3.4'>(3.4)</a></div>for all the non-static data members of its class that are of class
type (or array thereof), each such class has a trivial default constructor<a class='hidden_link' href='#default.ctor-3.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='default.ctor-3.sentence-2' class='sentence'>Otherwise, the default constructor is
<a class='hidden_link' href='#def:constructor,default,non-trivial' title='11.4.5.2&emsp;Default constructors&emsp;[class.default.ctor]'><span id='def:constructor,default,non-trivial'><i >non-trivial</i></span></a><a class='hidden_link' href='#default.ctor-3.sentence-2'>.</a></div></div></div><div class='para' id='default.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#default.ctor-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1303'>#</a></div><div class='texpara'><div id='default.ctor-4.sentence-1' class='sentence'>An implicitly-defined (<a href='dcl.fct.def.default' title='9.5.2&emsp;Explicitly-defaulted functions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>default]</a>) default constructor performs the set of
initializations of the class that would be performed by a user-written default
constructor for that class with no
<a href='#nt:ctor-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:ctor-initializer'><span class='textsf'><i >ctor-initializer</i></span></span></a> (<a href='#base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>) and an empty
<a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement'><span class='textsf'><i >compound-statement</i></span></span></a><a class='hidden_link' href='#default.ctor-4.sentence-1'>.</a></div> <div id='default.ctor-4.sentence-2' class='sentence'>If that user-written default constructor would be ill-formed,
the program is ill-formed<a class='hidden_link' href='#default.ctor-4.sentence-2'>.</a></div> <div id='default.ctor-4.sentence-3' class='sentence'>If that user-written default constructor would be constexpr-suitable (<a href='dcl.constexpr' title='9.2.6&emsp;The constexpr and consteval specifiers'>[dcl.<span class='shy'></span>constexpr]</a>),
the implicitly-defined
default constructor is <span id=':constexpr__'><span class='texttt'><span class='keyword'>constexpr</span></span></span><a class='hidden_link' href='#default.ctor-4.sentence-3'>.</a></div> <div id='default.ctor-4.sentence-4' class='sentence'>Before the defaulted default constructor for a class is
implicitly defined,
all the non-user-provided default constructors for its base classes and
its non-static data members are implicitly defined<a class='hidden_link' href='#default.ctor-4.sentence-4'>.</a></div> <div id='default.ctor-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#default.ctor-note-1'>1</a></i>: <div id='default.ctor-4.sentence-5' class='sentence'>An implicitly-declared default constructor has an
exception specification (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>)<a class='hidden_link' href='#default.ctor-4.sentence-5'>.</a></div> <div id='default.ctor-4.sentence-6' class='sentence'>An explicitly-defaulted definition might have an
implicit exception specification, see <a href='dcl.fct.def' title='9.5&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a><a class='hidden_link' href='#default.ctor-4.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='default.ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#default.ctor-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1325'>#</a></div><div class='texpara'><div id='default.ctor-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#default.ctor-note-2'>2</a></i>: <div id='default.ctor-5.sentence-1' class='sentence'><a class='index' id=':constructor,implicitly_invoked'></a>A default constructor is implicitly invoked to initialize
a class object when no initializer is specified (<a href='dcl.init.general' title='9.4.1&emsp;General'>[dcl.<span class='shy'></span>init.<span class='shy'></span>general]</a>)<a class='hidden_link' href='#default.ctor-5.sentence-1'>.</a></div> <div id='default.ctor-5.sentence-2' class='sentence'>Such a default constructor is required to be accessible (<a href='#access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>)<a class='hidden_link' href='#default.ctor-5.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='default.ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#default.ctor-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1333'>#</a></div><div class='texpara'><div id='default.ctor-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#default.ctor-note-3'>3</a></i>: <div id='default.ctor-6.sentence-1' class='sentence'><a class='index' id=':order_of_execution,base_class_constructor'></a><a class='index' id=':order_of_execution,member_constructor'></a><a href='#base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a> describes the order in which constructors for base
classes and non-static data members are called and
describes how arguments can be specified for the calls to these constructors<a class='hidden_link' href='#default.ctor-6.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='copy.ctor' class='section'><h4 ><a class='secnum' href='#copy.ctor' style='min-width:95pt'>11.4.5.3</a> Copy/move constructors <a class='abbr_ref' href='class.copy.ctor'>[class.copy.ctor]</a></h4><div class='para' id='copy.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1344'>#</a></div><div class='texpara'><div id='copy.ctor-1.sentence-1' class='sentence'><a class='index' id=':constructor,copy_'></a><a class='index' id=':constructor,move_'></a>A non-template constructor for class
<span class='texttt'>X</span>
is
a
copy
constructor if its first parameter is of type
<span class='texttt'>X<span class='operator'>&amp;</span></span>,
<span class='texttt'><span class='keyword'>const</span> X<span class='operator'>&amp;</span></span>,
<span class='texttt'><span class='keyword'>volatile</span> X<span class='operator'>&amp;</span></span>
or
<span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> X<span class='operator'>&amp;</span></span>,
and either there are no other parameters
or else all other parameters have default arguments (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>)<a class='hidden_link' href='#copy.ctor-1.sentence-1'>.</a></div> <div id='copy.ctor-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#copy.ctor-example-1'>1</a></i>: <div id='copy.ctor-1.sentence-2' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span></span>
and
<span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span>,<span class='keyword'>int</span><span class='operator'>=</span><span class='literal'>1</span><span class='parenthesis'>)</span></span>
are copy constructors<a class='hidden_link' href='#copy.ctor-1.sentence-2'>.</a></div></div><div class='texpara'><span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span>, <span class='keyword'>int</span> <span class='operator'>=</span> <span class='literal'>1</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
X a<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;             <span class='comment'>// calls <span class='tcode_in_codeblock'>X(int);</span></span>
X b<span class='parenthesis'>(</span>a, <span class='literal'>0</span><span class='parenthesis'>)</span>;          <span class='comment'>// calls <span class='tcode_in_codeblock'>X(const X&amp;, int);</span></span>
X c <span class='operator'>=</span> b;            <span class='comment'>// calls <span class='tcode_in_codeblock'>X(const X&amp;, int);</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='copy.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1379'>#</a></div><div class='texpara'><div id='copy.ctor-2.sentence-1' class='sentence'>A non-template constructor for class <span class='texttt'>X</span> is a move constructor if its
first parameter is of type <span class='texttt'>X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, <span class='texttt'><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>,
<span class='texttt'><span class='keyword'>volatile</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, or <span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, and either there are
no other parameters or else all other parameters have default
arguments (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>)<a class='hidden_link' href='#copy.ctor-2.sentence-1'>.</a></div> <div id='copy.ctor-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#copy.ctor-example-2'>2</a></i>: <div id='copy.ctor-2.sentence-2' class='sentence'><span class='texttt'>Y<span class='operator'>&#x200b;::&#x200b;</span>Y<span class='parenthesis'>(</span>Y<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span></span> is a move constructor<a class='hidden_link' href='#copy.ctor-2.sentence-2'>.</a></div> <span class='codeblock'><span class='keyword'>struct</span> Y <span class='curlybracket'>{</span>
  Y<span class='parenthesis'>(</span><span class='keyword'>const</span> Y<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  Y<span class='parenthesis'>(</span>Y<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>extern</span> Y f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
Y d<span class='parenthesis'>(</span>f<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;          <span class='comment'>// calls <span class='tcode_in_codeblock'>Y(Y&amp;&amp;)</span></span>
Y e <span class='operator'>=</span> d;            <span class='comment'>// calls <span class='tcode_in_codeblock'>Y(const Y&amp;)</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='copy.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1398'>#</a></div><div class='texpara'><div id='copy.ctor-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#copy.ctor-note-1'>1</a></i>: <div id='copy.ctor-3.sentence-1' class='sentence'>All forms of copy/move constructor can be declared for a class<a class='hidden_link' href='#copy.ctor-3.sentence-1'>.</a></div> <div id='copy.ctor-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#copy.ctor-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;            <span class='comment'>// OK</span>
  X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;     <span class='comment'>// OK, but possibly not sensible</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='copy.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1413'>#</a></div><div class='texpara'><div id='copy.ctor-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#copy.ctor-note-2'>2</a></i>: <div id='copy.ctor-4.sentence-1' class='sentence'>If a class
<span class='texttt'>X</span>
only has a copy constructor with a parameter of type
<span class='texttt'>X<span class='operator'>&amp;</span></span>,
an initializer of type
<span id=':const___'><span class='texttt'><span class='keyword'>const</span></span></span>
<span class='texttt'>X</span>
or
<span class='texttt'><span class='keyword'>volatile</span></span>
<span class='texttt'>X</span>
cannot initialize an object of type
<span class='mathit'>cv</span> <span class='texttt'>X</span><a class='hidden_link' href='#copy.ctor-4.sentence-1'>.</a></div> <div id='copy.ctor-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#copy.ctor-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// default constructor</span>
  X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;            <span class='comment'>// copy constructor with a non-const parameter</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>const</span> X cx;
X x <span class='operator'>=</span> cx;           <span class='comment'>// error: <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;X(X&amp;)</span> cannot copy <span class='tcode_in_codeblock'>cx</span> into <span class='tcode_in_codeblock'>x</span></span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='copy.ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1439'>#</a></div><div class='texpara'><div id='copy.ctor-5.sentence-1' class='sentence'>A declaration of a constructor for a class
<span class='texttt'>X</span>
is ill-formed if its first parameter is of type
<span class='mathit'>cv</span> <span class='texttt'>X</span>
and either there are no other parameters or else all other parameters have
default arguments<a class='hidden_link' href='#copy.ctor-5.sentence-1'>.</a></div> <div id='copy.ctor-5.sentence-2' class='sentence'>A member function template is never instantiated to
produce such a constructor signature<a class='hidden_link' href='#copy.ctor-5.sentence-2'>.</a></div> <div id='copy.ctor-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#copy.ctor-example-5'>5</a></i>: <span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> S<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  S<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

S g;

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  S a<span class='parenthesis'>(</span>g<span class='parenthesis'>)</span>;           <span class='comment'>// does not instantiate the member template to produce <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;S&lt;S&gt;(S)</span>;</span>
                    <span class='comment'>// uses the implicitly declared copy constructor</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='copy.ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1464'>#</a></div><div class='texpara'><div id='copy.ctor-6.sentence-1' class='sentence'>If the class definition does not explicitly declare a copy constructor,
a non-explicit one is declared <a class='hidden_link' href='#def:constructor,copy,implicitly_declared' title='11.4.5.3&emsp;Copy/move constructors&emsp;[class.copy.ctor]'><span id='def:constructor,copy,implicitly_declared'><i >implicitly</i></span></a><a class='hidden_link' href='#copy.ctor-6.sentence-1'>.</a></div> <div id='copy.ctor-6.sentence-2' class='sentence'>If the class definition declares a move
constructor or move assignment operator, the implicitly declared copy
constructor is defined as deleted; otherwise, it is
defaulted (<a href='dcl.fct.def' title='9.5&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a>)<a class='hidden_link' href='#copy.ctor-6.sentence-2'>.</a></div> <div id='copy.ctor-6.sentence-3' class='sentence'>The latter case is deprecated if the class has a user-declared copy assignment
operator or a user-declared destructor  (<a href='depr.impldec' title='D.8&emsp;Implicit declaration of copy functions'>[depr.<span class='shy'></span>impldec]</a>)<a class='hidden_link' href='#copy.ctor-6.sentence-3'>.</a></div></div></div><div class='para' id='copy.ctor-7'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1474'>#</a></div><div class='texpara'><div id='copy.ctor-7.sentence-1' class='sentence'>The implicitly-declared copy constructor for a class
<span class='texttt'>X</span>
will have the form
<span class='codeblock'>X<span class='operator'>::</span>X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</span>
if each potentially constructed subobject of a class type
<span class='texttt'>M</span>
(or array thereof)
has a copy constructor whose first parameter is of type
<span id=':const____'><span class='texttt'><span class='keyword'>const</span></span></span>
<span class='texttt'>M<span class='operator'>&amp;</span></span>
or
<span id=':const_____'><span class='texttt'><span class='keyword'>const</span></span></span>
<span class='texttt'><span class='keyword'>volatile</span></span>
<span class='texttt'>M<span class='operator'>&amp;</span></span><a class='hidden_link' href='#copy.ctor-7.sentence-1'>.</a><a class='footnoteref' href='#footnote-95' id='footnoteref-95' title='This implies that the reference parameter of the implicitly-declared copy constructor cannot bind to a volatile lvalue; see [diff.class].'>95</a></div> <div id='copy.ctor-7.sentence-2' class='sentence'>
Otherwise, the implicitly-declared copy constructor will have the form
<span class='codeblock'>X<span class='operator'>::</span>X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</span></div></div></div><div class='para' id='copy.ctor-8'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1503'>#</a></div><div class='texpara'><div id='copy.ctor-8.sentence-1' class='sentence'><a class='index' id=':constructor,move,implicitly_declared'></a>If the definition of a class <span class='texttt'>X</span> does not explicitly declare
a move constructor, a non-explicit one will be
implicitly declared as defaulted if and only if
<ul class='itemize'><li id='copy.ctor-8.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.ctor-8.1'>(8.1)</a></div><span class='texttt'>X</span> does not have a user-declared copy constructor,</li><li id='copy.ctor-8.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.ctor-8.2'>(8.2)</a></div><span class='texttt'>X</span> does not have a user-declared copy assignment operator,</li><li id='copy.ctor-8.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.ctor-8.3'>(8.3)</a></div><span class='texttt'>X</span> does not have a user-declared move assignment operator, and</li><li id='copy.ctor-8.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.ctor-8.4'>(8.4)</a></div><span class='texttt'>X</span> does not have a user-declared destructor<a class='hidden_link' href='#copy.ctor-8.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='copy.ctor-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#copy.ctor-note-3'>3</a></i>: <div id='copy.ctor-8.sentence-2' class='sentence'>When the move constructor is not implicitly declared or explicitly supplied,
expressions that otherwise would have invoked the move constructor might instead invoke
a copy constructor<a class='hidden_link' href='#copy.ctor-8.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='copy.ctor-9'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1528'>#</a></div><div class='texpara'><div id='copy.ctor-9.sentence-1' class='sentence'>The implicitly-declared move constructor for class <span class='texttt'>X</span> will have the form
<span class='codeblock'>X<span class='operator'>::</span>X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</span></div></div></div><div class='para' id='copy.ctor-10'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1534'>#</a></div><div class='texpara'><div id='copy.ctor-10.sentence-1' class='sentence'>An implicitly-declared copy/move constructor is an
inline public member of its class<a class='hidden_link' href='#copy.ctor-10.sentence-1'>.</a></div> <div id='copy.ctor-10.sentence-2' class='sentence'>A defaulted copy/&#x200b;move constructor for a class
  <span class='texttt'>X</span> is defined as deleted (<a href='dcl.fct.def.delete' title='9.5.3&emsp;Deleted definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>delete]</a>) if <span class='texttt'>X</span> has:
<ul class='itemize'><li id='copy.ctor-10.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.ctor-10.1'>(10.1)</a></div>a potentially constructed subobject of type
  <span class='texttt'>M</span> (or possibly multi-dimensional array thereof) for which
  overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>), as applied to find
  <span class='texttt'>M</span>'s corresponding constructor,
  either does not result in a usable candidate (<a href='over.match.general' title='12.2.1&emsp;General'>[over.<span class='shy'></span>match.<span class='shy'></span>general]</a>) or,
  in the case of a variant member, selects a non-trivial function,</li><li id='copy.ctor-10.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.ctor-10.2'>(10.2)</a></div>any potentially constructed subobject of
  class type <span class='texttt'>M</span> (or possibly multi-dimensional array thereof)
  where <span class='texttt'>M</span> has
  a destructor that is deleted or inaccessible from the defaulted
  constructor, or,</li><li id='copy.ctor-10.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.ctor-10.3'>(10.3)</a></div>for the copy constructor, a non-static data member of rvalue reference type<a class='hidden_link' href='#copy.ctor-10.sentence-2'>.</a></li></ul></div></div><div class='texpara'><div id='copy.ctor-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#copy.ctor-note-4'>4</a></i>: <div id='copy.ctor-10.sentence-3' class='sentence'>A defaulted move constructor that is defined as deleted is ignored by overload
resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>, <a href='over.over' title='12.3&emsp;Address of an overload set'>[over.<span class='shy'></span>over]</a>)<a class='hidden_link' href='#copy.ctor-10.sentence-3'>.</a></div> <div id='copy.ctor-10.sentence-4' class='sentence'>Such a constructor would otherwise interfere with initialization from
an rvalue which can use the copy constructor instead<a class='hidden_link' href='#copy.ctor-10.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='copy.ctor-11'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1563'>#</a></div><div class='texpara'><div id='copy.ctor-11.sentence-1' class='sentence'><a class='index' id=':constructor,copy,trivial'></a><a class='index' id=':constructor,move,trivial'></a>A copy/move constructor for class
<span class='texttt'>X</span>
is
trivial
if it is not user-provided and if:
<ul class='itemize'><li id='copy.ctor-11.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.ctor-11.1'>(11.1)</a></div>class
<span class='texttt'>X</span>
has no virtual functions (<a href='#virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>)
and no virtual base classes (<a href='#mi' title='11.7.2&emsp;Multiple base classes'>[class.<span class='shy'></span>mi]</a>), and</li><li id='copy.ctor-11.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.ctor-11.2'>(11.2)</a></div>the constructor selected to copy/move each direct base class subobject is trivial, and</li><li id='copy.ctor-11.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.ctor-11.3'>(11.3)</a></div>for each non-static data member of
<span class='texttt'>X</span>
that is of class type (or array thereof),
the constructor selected to copy/move that member is trivial;</li></ul>
<a class='index' id=':constructor,move,non-trivial'></a>otherwise the copy/move constructor is
<a class='hidden_link' href='#def:constructor,copy,nontrivial' title='11.4.5.3&emsp;Copy/move constructors&emsp;[class.copy.ctor]'><span id='def:constructor,copy,nontrivial'><i >non-trivial</i></span></a><a class='hidden_link' href='#copy.ctor-11.sentence-1'>.</a></div></div></div><div class='para' id='copy.ctor-12'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1591'>#</a></div><div class='texpara'><div id='copy.ctor-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#copy.ctor-note-5'>5</a></i>: <div id='copy.ctor-12.sentence-1' class='sentence'>The copy/move constructor is implicitly defined even if the implementation elided
its odr-use (<a href='basic.def.odr#term.odr.use' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>, <a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>)<a class='hidden_link' href='#copy.ctor-12.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='copy.ctor-12.sentence-2' class='sentence'>
If an implicitly-defined (<a href='dcl.fct.def.default' title='9.5.2&emsp;Explicitly-defaulted functions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>default]</a>) constructor would be constexpr-suitable (<a href='dcl.constexpr' title='9.2.6&emsp;The constexpr and consteval specifiers'>[dcl.<span class='shy'></span>constexpr]</a>),
the implicitly-defined
constructor is <span id=':constexpr___'><span class='texttt'><span class='keyword'>constexpr</span></span></span><a class='hidden_link' href='#copy.ctor-12.sentence-2'>.</a></div></div></div><div class='para' id='copy.ctor-13'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1600'>#</a></div><div class='texpara'><div id='copy.ctor-13.sentence-1' class='sentence'>Before the defaulted copy/move constructor for a class is
implicitly defined,
all non-user-provided copy/move constructors for its
potentially constructed subobjects
are implicitly defined<a class='hidden_link' href='#copy.ctor-13.sentence-1'>.</a></div> <div id='copy.ctor-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#copy.ctor-note-6'>6</a></i>: <div id='copy.ctor-13.sentence-2' class='sentence'>An implicitly-declared copy/move constructor has an
implied exception specification (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>)<a class='hidden_link' href='#copy.ctor-13.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='copy.ctor-14'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1611'>#</a></div><div class='texpara'><div id='copy.ctor-14.sentence-1' class='sentence'>The implicitly-defined copy/move constructor for a non-union class
<span class='texttt'>X</span>
performs a memberwise copy/move of its bases and members<a class='hidden_link' href='#copy.ctor-14.sentence-1'>.</a></div> <div id='copy.ctor-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#copy.ctor-note-7'>7</a></i>: <div id='copy.ctor-14.sentence-2' class='sentence'>Default member initializers of non-static data members are ignored<a class='hidden_link' href='#copy.ctor-14.sentence-2'>.</a></div> <div id='copy.ctor-14.sentence-3' class='sentence'>See also the example in <a href='#base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a><a class='hidden_link' href='#copy.ctor-14.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='copy.ctor-14.sentence-4' class='sentence'>
The order of initialization is the same as the order of initialization of bases
and members in a user-defined constructor (see <a href='#base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#copy.ctor-14.sentence-4'>.</a></div> <div id='copy.ctor-14.sentence-5' class='sentence'>Let <span class='texttt'>x</span> be either the parameter of the constructor or, for the move constructor, an
xvalue referring to the parameter<a class='hidden_link' href='#copy.ctor-14.sentence-5'>.</a></div> <div id='copy.ctor-14.sentence-6' class='sentence'>Each base or non-static data member
is copied/moved in the manner appropriate to its type:
<ul class='itemize'><li id='copy.ctor-14.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.ctor-14.1'>(14.1)</a></div>if the member is an array, each element is
direct-initialized with the corresponding subobject of <span class='texttt'>x</span>;</li><li id='copy.ctor-14.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.ctor-14.2'>(14.2)</a></div>if a member <span class='texttt'>m</span> has rvalue reference type <span class='texttt'>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, it is direct-initialized with
<span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>x<span class='operator'>.</span>m<span class='parenthesis'>)</span></span>;</li><li id='copy.ctor-14.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.ctor-14.3'>(14.3)</a></div>otherwise, the base or member is direct-initialized with the corresponding base or member of <span class='texttt'>x</span><a class='hidden_link' href='#copy.ctor-14.sentence-6'>.</a></li></ul></div></div><div class='texpara'><div id='copy.ctor-14.sentence-7' class='sentence'><a class='index' id=':initialization,virtual_base_class'></a>Virtual base class subobjects shall be initialized only once by
the implicitly-defined copy/move constructor (see <a href='#base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#copy.ctor-14.sentence-7'>.</a></div></div></div><div class='para' id='copy.ctor-15'><div class='marginalizedparent'><a class='marginalized' href='#copy.ctor-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1641'>#</a></div><div class='texpara'><div id='copy.ctor-15.sentence-1' class='sentence'>The implicitly-defined copy/move constructor for a union
<span class='texttt'>X</span> copies the object representation (<a href='basic.types.general#term.object.representation' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>) of <span class='texttt'>X</span><a class='hidden_link' href='#copy.ctor-15.sentence-1'>.</a></div> <div id='copy.ctor-15.sentence-2' class='sentence'>For each object nested within (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>)
the object that is the source of the copy,
a corresponding object <span class='math'><span class='mathalpha'>o</span></span> nested within the destination
is identified (if the object is a subobject) or created (otherwise),
and the lifetime of <span class='math'><span class='mathalpha'>o</span></span> begins before the copy is performed<a class='hidden_link' href='#copy.ctor-15.sentence-2'>.</a></div> 
</div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-95'><div class='texpara'><a class='footnotenum' href='#footnote-95'>95)</a><a class='footnoteBacklink' href='#footnoteref-95'>95)</a> <div id='footnote-95.sentence-1' class='sentence'>This implies that the reference parameter of the
implicitly-declared copy constructor
cannot bind to a
<span class='texttt'><span class='keyword'>volatile</span></span>
lvalue; see <a href='diff.class' title='C.7.7&emsp;[class]: classes'>[diff.<span class='shy'></span>class]</a><a class='hidden_link' href='#footnote-95.sentence-1'>.</a></div></div></div></div></div><div id='copy.assign' class='section'><h3 ><a class='secnum' href='#copy.assign' style='min-width:80pt'>11.4.6</a> Copy/move assignment operator <a class='abbr_ref' href='class.copy.assign'>[class.copy.assign]</a></h3><div class='para' id='copy.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#copy.assign-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1654'>#</a></div><div class='texpara'><div id='copy.assign-1.sentence-1' class='sentence'><a class='index' id=':assignment_operator,copy_'></a><a class='index' id=':assignment_operator,move_'></a>A user-declared <a class='hidden_link' href='#def:copy' id='def:copy'><i>copy</i></a> assignment operator <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='operator'>=</span></span> is a
non-static non-template member function of class <span class='texttt'>X</span> with exactly one
non-object parameter of type <span class='texttt'>X</span>, <span class='texttt'>X<span class='operator'>&amp;</span></span>, <span class='texttt'><span class='keyword'>const</span> X<span class='operator'>&amp;</span></span>,
<span class='texttt'><span class='keyword'>volatile</span> X<span class='operator'>&amp;</span></span>, or <span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> X<span class='operator'>&amp;</span></span><a class='hidden_link' href='#copy.assign-1.sentence-1'>.</a><a class='footnoteref' href='#footnote-96' id='footnoteref-96' title='Because a template assignment operator or an assignment operator taking an rvalue reference parameter is never a copy assignment operator, the presence of such an assignment operator does not suppress the implicit declaration of a copy assignment operator. Such assignment operators participate in overload resolution with other assignment operators, including copy assignment operators, and, if selected, will be used to assign an object.'>96</a></div> <div id='copy.assign-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#copy.assign-note-1'>1</a></i>: <div id='copy.assign-1.sentence-2' class='sentence'>More than one form of copy assignment operator can be declared for a class<a class='hidden_link' href='#copy.assign-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='copy.assign-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#copy.assign-note-2'>2</a></i>: <div id='copy.assign-1.sentence-3' class='sentence'>If a class
<span class='texttt'>X</span>
only has a copy assignment operator with a parameter of type
<span class='texttt'>X<span class='operator'>&amp;</span></span>,
an expression of type const
<span class='texttt'>X</span>
cannot be assigned to an object of type
<span class='texttt'>X</span><a class='hidden_link' href='#copy.assign-1.sentence-3'>.</a></div> <div id='copy.assign-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#copy.assign-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  X<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>const</span> X cx;
X x;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  x <span class='operator'>=</span> cx;           <span class='comment'>// error: <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;operator=(X&amp;)</span> cannot assign <span class='tcode_in_codeblock'>cx</span> into <span class='tcode_in_codeblock'>x</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='copy.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#copy.assign-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1702'>#</a></div><div class='texpara'><div id='copy.assign-2.sentence-1' class='sentence'>If the class definition does not explicitly declare a copy assignment operator,
one is declared <a class='hidden_link' href='#def:assignment_operator,copy,implicitly_declared' title='11.4.6&emsp;Copy/move assignment operator&emsp;[class.copy.assign]'><span id='def:assignment_operator,copy,implicitly_declared'><i >implicitly</i></span></a><a class='hidden_link' href='#copy.assign-2.sentence-1'>.</a></div> <div id='copy.assign-2.sentence-2' class='sentence'>If the class definition declares a move
constructor or move assignment operator, the implicitly declared copy
assignment operator is defined as deleted; otherwise, it is
defaulted (<a href='dcl.fct.def' title='9.5&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a>)<a class='hidden_link' href='#copy.assign-2.sentence-2'>.</a></div> <div id='copy.assign-2.sentence-3' class='sentence'>The latter case is deprecated if the class has a user-declared copy constructor
or a user-declared destructor  (<a href='depr.impldec' title='D.8&emsp;Implicit declaration of copy functions'>[depr.<span class='shy'></span>impldec]</a>)<a class='hidden_link' href='#copy.assign-2.sentence-3'>.</a></div> <div id='copy.assign-2.sentence-4' class='sentence'>The implicitly-declared copy assignment operator for a class
<span class='texttt'>X</span>
will have the form
<span class='codeblock'>X<span class='operator'>&amp;</span> X<span class='operator'>::</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</span>
if
<ul class='itemize'><li id='copy.assign-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.assign-2.1'>(2.1)</a></div>each direct base class <span class='texttt'>B</span> of <span class='texttt'>X</span>
has a copy assignment operator whose parameter is of type
<span class='texttt'><span class='keyword'>const</span> B<span class='operator'>&amp;</span></span>, <span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> B<span class='operator'>&amp;</span></span>, or <span class='texttt'>B</span>, and</li><li id='copy.assign-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.assign-2.2'>(2.2)</a></div>for all the non-static data members of <span class='texttt'>X</span>
that are of a class type <span class='texttt'>M</span> (or array thereof),
each such class type has a copy assignment operator whose parameter is of type
<span class='texttt'><span class='keyword'>const</span> M<span class='operator'>&amp;</span></span>, <span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> M<span class='operator'>&amp;</span></span>,
or <span class='texttt'>M</span><a class='hidden_link' href='#copy.assign-2.sentence-4'>.</a><a class='footnoteref' href='#footnote-97' id='footnoteref-97' title='This implies that the reference parameter of the implicitly-declared copy assignment operator cannot bind to a volatile lvalue; see [diff.class].'>97</a></li></ul></div></div><div class='texpara'><div id='copy.assign-2.sentence-5' class='sentence'>Otherwise, the implicitly-declared copy assignment operator
will have the form
<span class='codeblock'>X<span class='operator'>&amp;</span> X<span class='operator'>::</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</span></div></div></div><div class='para' id='copy.assign-3'><div class='marginalizedparent'><a class='marginalized' href='#copy.assign-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1742'>#</a></div><div class='texpara'><div id='copy.assign-3.sentence-1' class='sentence'>A user-declared move assignment operator <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='operator'>=</span></span> is
a non-static non-template member function of class <span class='texttt'>X</span> with exactly
one non-object parameter of type <span class='texttt'>X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, <span class='texttt'><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, <span class='texttt'><span class='keyword'>volatile</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, or
<span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span><a class='hidden_link' href='#copy.assign-3.sentence-1'>.</a></div> <div id='copy.assign-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#copy.assign-note-3'>3</a></i>: <div id='copy.assign-3.sentence-2' class='sentence'>An overloaded assignment operator must be
declared to have only one parameter; see <a href='over.ass' title='12.4.3.2&emsp;Simple assignment'>[over.<span class='shy'></span>ass]</a><a class='hidden_link' href='#copy.assign-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> 
<div id='copy.assign-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#copy.assign-note-4'>4</a></i>: <div id='copy.assign-3.sentence-3' class='sentence'>More than one form of move assignment operator can be declared for a class<a class='hidden_link' href='#copy.assign-3.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='copy.assign-4'><div class='marginalizedparent'><a class='marginalized' href='#copy.assign-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1756'>#</a></div><div class='texpara'><div id='copy.assign-4.sentence-1' class='sentence'><a class='index' id=':assignment_operator,move,implicitly_declared'></a>If the definition of a class <span class='texttt'>X</span> does not explicitly declare a
move assignment operator, one
will be implicitly declared as defaulted if and only if
<ul class='itemize'><li id='copy.assign-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.assign-4.1'>(4.1)</a></div><span class='texttt'>X</span> does not have a user-declared copy constructor,</li><li id='copy.assign-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.assign-4.2'>(4.2)</a></div><span class='texttt'>X</span> does not have a user-declared move constructor,</li><li id='copy.assign-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.assign-4.3'>(4.3)</a></div><span class='texttt'>X</span> does not have a user-declared copy assignment operator, and</li><li id='copy.assign-4.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.assign-4.4'>(4.4)</a></div><span class='texttt'>X</span> does not have a user-declared destructor<a class='hidden_link' href='#copy.assign-4.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='copy.assign-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#copy.assign-example-2'>2</a></i>: <div id='copy.assign-4.sentence-2' class='sentence'>The class definition
<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;
  S<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> S<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
<span class='curlybracket'>}</span>;
</span>
will not have a default move assignment operator implicitly declared because the
copy assignment operator has been user-declared<a class='hidden_link' href='#copy.assign-4.sentence-2'>.</a></div> <div id='copy.assign-4.sentence-3' class='sentence'>The move assignment operator may
be explicitly defaulted<a class='hidden_link' href='#copy.assign-4.sentence-3'>.</a></div></div><div class='texpara'><span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;
  S<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> S<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
  S<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>S<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='copy.assign-5'><div class='marginalizedparent'><a class='marginalized' href='#copy.assign-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1796'>#</a></div><div class='texpara'><div id='copy.assign-5.sentence-1' class='sentence'>The implicitly-declared move assignment operator for a class <span class='texttt'>X</span> will have the form
<span class='codeblock'>X<span class='operator'>&amp;</span> X<span class='operator'>::</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</span></div></div></div><div class='para' id='copy.assign-6'><div class='marginalizedparent'><a class='marginalized' href='#copy.assign-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1802'>#</a></div><div class='texpara'><div id='copy.assign-6.sentence-1' class='sentence'>The implicitly-declared copy/move assignment operator for class
<span class='texttt'>X</span>
has the return type
<span class='texttt'>X<span class='operator'>&amp;</span></span><a class='hidden_link' href='#copy.assign-6.sentence-1'>.</a></div> <div id='copy.assign-6.sentence-2' class='sentence'>An implicitly-declared copy/move assignment operator is an
inline public member of its class<a class='hidden_link' href='#copy.assign-6.sentence-2'>.</a></div></div></div><div class='para' id='copy.assign-7'><div class='marginalizedparent'><a class='marginalized' href='#copy.assign-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1810'>#</a></div><div class='texpara'><div id='copy.assign-7.sentence-1' class='sentence'>A defaulted copy/move assignment operator for
class <span class='texttt'>X</span> is defined as deleted if <span class='texttt'>X</span> has:
<ul class='itemize'><li id='copy.assign-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.assign-7.1'>(7.1)</a></div>a non-static data member of <span id=':const______'><span class='texttt'><span class='keyword'>const</span></span></span> non-class
  type (or possibly multi-dimensional array thereof), or</li><li id='copy.assign-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.assign-7.2'>(7.2)</a></div>a non-static data member of reference type, or</li><li id='copy.assign-7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.assign-7.3'>(7.3)</a></div>a direct non-static data member of class type <span class='texttt'>M</span>
  (or possibly multi-dimensional array thereof) or
  a direct base class <span class='texttt'>M</span>
  that cannot be copied/moved because overload resolution
  (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>), as applied to find <span class='texttt'>M</span>'s corresponding
  assignment operator,
  either does not result in a usable candidate (<a href='over.match.general' title='12.2.1&emsp;General'>[over.<span class='shy'></span>match.<span class='shy'></span>general]</a>) or,
  in the case of a variant member, selects a non-trivial function<a class='hidden_link' href='#copy.assign-7.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='copy.assign-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#copy.assign-note-5'>5</a></i>: <div id='copy.assign-7.sentence-2' class='sentence'>A defaulted move assignment operator that is defined as deleted is ignored by
overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>, <a href='over.over' title='12.3&emsp;Address of an overload set'>[over.<span class='shy'></span>over]</a>)<a class='hidden_link' href='#copy.assign-7.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='copy.assign-8'><div class='marginalizedparent'><a class='marginalized' href='#copy.assign-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1834'>#</a></div><div class='texpara'><div id='copy.assign-8.sentence-1' class='sentence'><a class='index' id=':assignment_operator,copy,hidden'></a><a class='index' id=':assignment_operator,move,hidden'></a>Because a copy/move assignment operator is implicitly declared for a class
if not declared by the user,
a base class copy/move assignment operator is always hidden
by the corresponding assignment operator of a derived class (<a href='over.ass' title='12.4.3.2&emsp;Simple assignment'>[over.<span class='shy'></span>ass]</a>)<a class='hidden_link' href='#copy.assign-8.sentence-1'>.</a></div> <div id='copy.assign-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#copy.assign-note-6'>6</a></i>: <div id='copy.assign-8.sentence-2' class='sentence'>A <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration__'><span class='textsf'><i >using-declaration</i></span></span></a> in a derived class <span class='texttt'>C</span>
that names an assignment operator from a base class
never suppresses the implicit declaration of
an assignment operator of <span class='texttt'>C</span>,
even if the base class assignment operator would be
a copy or move assignment operator
if declared as a member of <span class='texttt'>C</span><a class='hidden_link' href='#copy.assign-8.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='copy.assign-9'><div class='marginalizedparent'><a class='marginalized' href='#copy.assign-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1851'>#</a></div><div class='texpara'><div id='copy.assign-9.sentence-1' class='sentence'><a class='index' id=':assignment_operator,copy,trivial'></a><a class='index' id=':assignment_operator,move,trivial'></a>A copy/move assignment operator for class
<span class='texttt'>X</span>
is
trivial
if it is not user-provided and if:
<ul class='itemize'><li id='copy.assign-9.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.assign-9.1'>(9.1)</a></div>class
<span class='texttt'>X</span>
has no virtual functions (<a href='#virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>)
and no virtual base classes (<a href='#mi' title='11.7.2&emsp;Multiple base classes'>[class.<span class='shy'></span>mi]</a>), and</li><li id='copy.assign-9.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.assign-9.2'>(9.2)</a></div>the assignment operator selected to copy/move each direct
base class subobject is trivial, and</li><li id='copy.assign-9.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.assign-9.3'>(9.3)</a></div>for each non-static data member of
<span class='texttt'>X</span>
that is of class type (or array thereof),
the assignment operator selected to copy/move that member is trivial;</li></ul>
<a class='index' id=':assignment_operator,move,non-trivial'></a>otherwise the copy/move assignment operator is
<a class='hidden_link' href='#def:assignment_operator,copy,non-trivial' title='11.4.6&emsp;Copy/move assignment operator&emsp;[class.copy.assign]'><span id='def:assignment_operator,copy,non-trivial'><i >non-trivial</i></span></a><a class='hidden_link' href='#copy.assign-9.sentence-1'>.</a></div></div></div><div class='para' id='copy.assign-10'><div class='marginalizedparent'><a class='marginalized' href='#copy.assign-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1879'>#</a></div><div class='texpara'><div id='copy.assign-10.sentence-1' class='sentence'>An implicitly-defined (<a href='dcl.fct.def.default' title='9.5.2&emsp;Explicitly-defaulted functions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>default]</a>) copy/move assignment operator is <span id=':constexpr____'><span class='texttt'><span class='keyword'>constexpr</span></span></span><a class='hidden_link' href='#copy.assign-10.sentence-1'>.</a></div></div></div><div class='para' id='copy.assign-11'><div class='marginalizedparent'><a class='marginalized' href='#copy.assign-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1882'>#</a></div><div class='texpara'><div id='copy.assign-11.sentence-1' class='sentence'>Before the defaulted copy/move assignment operator for a class is
implicitly defined,
all non-user-provided copy/move assignment operators for
its direct base classes and
its non-static data members are implicitly defined<a class='hidden_link' href='#copy.assign-11.sentence-1'>.</a></div> <div id='copy.assign-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#copy.assign-note-7'>7</a></i>: <div id='copy.assign-11.sentence-2' class='sentence'>An implicitly-declared copy/move assignment operator has an
implied exception specification (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>)<a class='hidden_link' href='#copy.assign-11.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='copy.assign-12'><div class='marginalizedparent'><a class='marginalized' href='#copy.assign-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1893'>#</a></div><div class='texpara'><div id='copy.assign-12.sentence-1' class='sentence'>The implicitly-defined copy/move assignment operator for a
non-union class <span class='texttt'>X</span> performs memberwise copy/move assignment of its subobjects<a class='hidden_link' href='#copy.assign-12.sentence-1'>.</a></div> <div id='copy.assign-12.sentence-2' class='sentence'>The direct
base classes of <span class='texttt'>X</span> are assigned first, in the order of their declaration in the
<a href='#nt:base-specifier-list' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier-list'><span class='textsf'><i >base-specifier-list</i></span></span></a>, and then the immediate non-static data members of
<span class='texttt'>X</span> are assigned, in the order in which they were declared in the class
definition<a class='hidden_link' href='#copy.assign-12.sentence-2'>.</a></div> <div id='copy.assign-12.sentence-3' class='sentence'>Let <span class='texttt'>x</span> be either the parameter of the function or, for the move operator, an
xvalue referring to the parameter<a class='hidden_link' href='#copy.assign-12.sentence-3'>.</a></div> <div id='copy.assign-12.sentence-4' class='sentence'>Each subobject is assigned in the manner appropriate to its type:
<ul class='itemize'><li id='copy.assign-12.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.assign-12.1'>(12.1)</a></div>if the subobject is of class type,
as if by a call to <span class='texttt'><span class='keyword'>operator</span><span class='operator'>=</span></span> with the subobject as the object expression
and the corresponding subobject of <span class='texttt'>x</span> as a single function argument
(as if by explicit qualification; that is,
ignoring any possible virtual overriding functions in more derived classes);</li><li id='copy.assign-12.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.assign-12.2'>(12.2)</a></div>if the subobject is an array, each element is assigned,
in the manner appropriate to the element type;</li><li id='copy.assign-12.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.assign-12.3'>(12.3)</a></div>if the subobject is of scalar type,
the built-in assignment operator is used<a class='hidden_link' href='#copy.assign-12.sentence-4'>.</a></li></ul></div></div><div class='texpara'><div id='copy.assign-12.sentence-5' class='sentence'><a class='index' id=':assignment_operator,copy,virtual_bases_and'></a>It is unspecified whether subobjects representing virtual base classes
are assigned more than once by the implicitly-defined copy/move assignment
operator<a class='hidden_link' href='#copy.assign-12.sentence-5'>.</a></div> <div id='copy.assign-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#copy.assign-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>struct</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> A <span class='operator'>:</span> <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='operator'>:</span> B, A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='copy.assign-12.sentence-6' class='sentence'>It is unspecified whether the virtual base class subobject
<span class='texttt'>V</span>
is assigned twice by the implicitly-defined copy/move assignment operator for
<span class='texttt'>C</span><a class='hidden_link' href='#copy.assign-12.sentence-6'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='copy.assign-13'><div class='marginalizedparent'><a class='marginalized' href='#copy.assign-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1936'>#</a></div><div class='texpara'><div id='copy.assign-13.sentence-1' class='sentence'>The implicitly-defined copy/move assignment operator for a
union <span class='texttt'>X</span> copies the object representation (<a href='basic.types.general#term.object.representation' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>) of <span class='texttt'>X</span><a class='hidden_link' href='#copy.assign-13.sentence-1'>.</a></div> <div id='copy.assign-13.sentence-2' class='sentence'>If the source and destination of the assignment are not the same object, then
for each object nested within (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>)
the object that is the source of the copy,
a corresponding object <span class='math'><span class='mathalpha'>o</span></span> nested within the destination is created,
and the lifetime of <span class='math'><span class='mathalpha'>o</span></span> begins before the copy is performed<a class='hidden_link' href='#copy.assign-13.sentence-2'>.</a></div></div></div><div class='para' id='copy.assign-14'><div class='marginalizedparent'><a class='marginalized' href='#copy.assign-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1945'>#</a></div><div class='texpara'><div id='copy.assign-14.sentence-1' class='sentence'>The implicitly-defined copy/move assignment operator for a class
returns the object for which the assignment operator is invoked,
that is, the object assigned to<a class='hidden_link' href='#copy.assign-14.sentence-1'>.</a></div> 
</div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-96'><div class='texpara'><a class='footnotenum' href='#footnote-96'>96)</a><a class='footnoteBacklink' href='#footnoteref-96'>96)</a> <div id='footnote-96.sentence-1' class='sentence'>Because
a template assignment operator or an assignment operator
taking an rvalue reference parameter is never a copy assignment operator,
the presence of such an assignment operator does not suppress the
implicit declaration of a copy assignment operator<a class='hidden_link' href='#footnote-96.sentence-1'>.</a></div> <div id='footnote-96.sentence-2' class='sentence'>Such assignment operators
participate in overload resolution with other assignment operators, including
copy assignment operators, and, if selected, will be used to assign an object<a class='hidden_link' href='#footnote-96.sentence-2'>.</a></div></div></div><div class='footnote' id='footnote-97'><div class='texpara'><a class='footnotenum' href='#footnote-97'>97)</a><a class='footnoteBacklink' href='#footnoteref-97'>97)</a> <div id='footnote-97.sentence-1' class='sentence'>This implies that the reference parameter of the
implicitly-declared copy assignment operator cannot bind to a
<span class='texttt'><span class='keyword'>volatile</span></span> lvalue; see <a href='diff.class' title='C.7.7&emsp;[class]: classes'>[diff.<span class='shy'></span>class]</a><a class='hidden_link' href='#footnote-97.sentence-1'>.</a></div></div></div></div><div id='dtor' class='section'><h3 ><a class='secnum' href='#dtor' style='min-width:80pt'>11.4.7</a> Destructors <a class='abbr_ref' href='class.dtor'>[class.dtor]</a></h3><div class='texpara'><a class='index' id=':destructor'></a></div><div class='para' id='dtor-1'><div class='marginalizedparent'><a class='marginalized' href='#dtor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1955'>#</a></div><div class='texpara'><div id='dtor-1.sentence-1' class='sentence'>A declaration whose <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id_'><span class='textsf'><i >declarator-id</i></span></span></a>
has an <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id_'><span class='textsf'><i >unqualified-id</i></span></span></a> that begins with a <span class='texttt'><span class='operator'>~</span></span>
declares a <a class='hidden_link' href='#def:destructor,prospective' title='11.4.7&emsp;Destructors&emsp;[class.dtor]'><span id='def:destructor,prospective'><i >prospective destructor</i></span></a>;
its <a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator_____'><span class='textsf'><i >declarator</i></span></span></a> shall be a function declarator (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) of the form
<div class='bnf'>
<a href='dcl.decl.general#nt:ptr-declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ptr-declarator__'><span class='textsf'><i >ptr-declarator</i></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause_'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier__'><span class='textsf'><i >noexcept-specifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq_________'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div>
where the <a href='dcl.decl.general#nt:ptr-declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ptr-declarator___'><span class='textsf'><i >ptr-declarator</i></span></span></a> consists solely of an
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_________'><span class='textsf'><i >id-expression</i></span></span></a>, an optional <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq__________'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a>,
and optional surrounding parentheses, and the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression__________'><span class='textsf'><i >id-expression</i></span></span></a> has
one of the following forms:
<ul class='itemize'><li id='dtor-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#dtor-1.1'>(1.1)</a></div>in a <a href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration_______'><span class='textsf'><i >member-declaration</i></span></span></a> that belongs to the
<a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification_________'><span class='textsf'><i >member-specification</i></span></span></a> of a class or class template
but is not a friend
declaration (<a href='#friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>), the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression___________'><span class='textsf'><i >id-expression</i></span></span></a> is
<span class='texttt'><span class='operator'>~</span></span><a href='#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name_________'><span class='textsf'><i >class-name</i></span></span></a> and the <a href='#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name__________'><span class='textsf'><i >class-name</i></span></span></a> is the
injected-class-name (<a href='#pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>) of the immediately-enclosing entity or</li><li id='dtor-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#dtor-1.2'>(1.2)</a></div>otherwise, the
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression____________'><span class='textsf'><i >id-expression</i></span></span></a> is <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier___'><span class='textsf'><i >nested-name-specifier</i></span></span></a>
<span class='texttt'><span class='operator'>~</span></span><a href='#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name___________'><span class='textsf'><i >class-name</i></span></span></a> and the <a href='#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name____________'><span class='textsf'><i >class-name</i></span></span></a>
is the injected-class-name of the
class nominated by the <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier____'><span class='textsf'><i >nested-name-specifier</i></span></span></a><a class='hidden_link' href='#dtor-1.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='dtor-1.sentence-2' class='sentence'>A prospective destructor shall take no arguments (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#dtor-1.sentence-2'>.</a></div> <div id='dtor-1.sentence-3' class='sentence'>Each <a href='dcl.spec.general#nt:decl-specifier' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier_'><span class='textsf'><i >decl-specifier</i></span></span></a> of the <a href='dcl.spec.general#nt:decl-specifier-seq' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier-seq____'><span class='textsf'><i >decl-specifier-seq</i></span></span></a>
of a prospective destructor declaration (if any)
shall be
<span id=':friend_'><span class='texttt'><span class='keyword'>friend</span></span></span>,
<span id=':inline__'><span class='texttt'><span class='keyword'>inline</span></span></span>,
<span id=':virtual'><span class='texttt'><span class='keyword'>virtual</span></span></span>,
<span id=':constexpr_____'><span class='texttt'><span class='keyword'>constexpr</span></span></span>, or
<span id=':consteval__'><span class='texttt'><span class='keyword'>consteval</span></span></span><a class='hidden_link' href='#dtor-1.sentence-3'>.</a></div></div></div><div class='para' id='dtor-2'><div class='marginalizedparent'><a class='marginalized' href='#dtor-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L1994'>#</a></div><div class='texpara'><div id='dtor-2.sentence-1' class='sentence'><a class='index' id=':destructor,default'></a>If a class has no user-declared
prospective destructor,
a prospective destructor is implicitly
declared as defaulted (<a href='dcl.fct.def' title='9.5&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a>)<a class='hidden_link' href='#dtor-2.sentence-1'>.</a></div> <div id='dtor-2.sentence-2' class='sentence'>An implicitly-declared prospective destructor is an
inline public member of its class<a class='hidden_link' href='#dtor-2.sentence-2'>.</a></div></div></div><div class='para' id='dtor-3'><div class='marginalizedparent'><a class='marginalized' href='#dtor-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2004'>#</a></div><div class='texpara'><div id='dtor-3.sentence-1' class='sentence'>An implicitly-declared prospective destructor for a class <span class='texttt'>X</span> will have the form
<span class='codeblock'><span class='operator'>~</span>X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
</span></div></div></div><div class='para' id='dtor-4'><div class='marginalizedparent'><a class='marginalized' href='#dtor-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2010'>#</a></div><div class='texpara'><div id='dtor-4.sentence-1' class='sentence'>At the end of the definition of a class,
overload resolution is performed
among the prospective destructors declared in that class
with an empty argument list
to select the <a class='hidden_link' href='#def:destructor' title='11.4.7&emsp;Destructors&emsp;[class.dtor]'><span id='def:destructor'><i >destructor</i></span></a> for the class,
also known as the <a class='hidden_link' href='#def:destructor,selected' title='11.4.7&emsp;Destructors&emsp;[class.dtor]'><span id='def:destructor,selected'><i >selected destructor</i></span></a><a class='hidden_link' href='#dtor-4.sentence-1'>.</a></div> <div id='dtor-4.sentence-2' class='sentence'>The program is ill-formed if overload resolution fails<a class='hidden_link' href='#dtor-4.sentence-2'>.</a></div> <div id='dtor-4.sentence-3' class='sentence'>Destructor selection does not constitute
a reference to,
or odr-use (<a href='basic.def.odr#term.odr.use' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>) of,
the selected destructor,
and in particular,
the selected destructor may be deleted (<a href='dcl.fct.def.delete' title='9.5.3&emsp;Deleted definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>delete]</a>)<a class='hidden_link' href='#dtor-4.sentence-3'>.</a></div></div></div><div class='para' id='dtor-5'><div class='marginalizedparent'><a class='marginalized' href='#dtor-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2025'>#</a></div><div class='texpara'><div id='dtor-5.sentence-1' class='sentence'><a class='index' id=':destructor,address_of'></a>The address of a destructor shall not be taken<a class='hidden_link' href='#dtor-5.sentence-1'>.</a></div> <div id='dtor-5.sentence-3' class='sentence'><a class='index' id=':restriction,destructor'></a><div id='dtor-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#dtor-note-1'>1</a></i>: <div id='dtor-5.sentence-2' class='sentence'>A <span class='texttt'><span class='keyword'>return</span></span> statement in the body of a destructor
cannot specify a return value (<a href='stmt.return' title='8.7.4&emsp;The return statement'>[stmt.<span class='shy'></span>return]</a>)<a class='hidden_link' href='#dtor-5.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div>
<a class='index' id=':const,destructor_and'></a><a class='index' id=':volatile,destructor_and'></a>A destructor can be invoked for a
<span id=':const_______'><span class='texttt'><span class='keyword'>const</span></span></span>,
<span class='texttt'><span class='keyword'>volatile</span></span>
or
<span id=':const________'><span class='texttt'><span class='keyword'>const</span></span></span>
<span class='texttt'><span class='keyword'>volatile</span></span>
object<a class='hidden_link' href='#dtor-5.sentence-3'>.</a></div> <div id='dtor-5.sentence-4' class='sentence'><span id=':const_________'><span class='texttt'><span class='keyword'>const</span></span></span>
and
<span class='texttt'><span class='keyword'>volatile</span></span>
semantics (<a href='dcl.type.cv' title='9.2.9.2&emsp;The cv-qualifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>cv]</a>) are not applied on an object under destruction<a class='hidden_link' href='#dtor-5.sentence-4'>.</a></div> <div id='dtor-5.sentence-5' class='sentence'>They stop being in effect when the destructor for the
most derived object (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>) starts<a class='hidden_link' href='#dtor-5.sentence-5'>.</a></div></div></div><div class='para nonNormativeOnly' id='dtor-6'><div class='marginalizedparent'><a class='marginalized' href='#dtor-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2049'>#</a></div><div class='texpara'><div id='dtor-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#dtor-note-2'>2</a></i>: <div id='dtor-6.sentence-1' class='sentence'>A declaration of a destructor that does not have a <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier___'><span class='textsf'><i >noexcept-specifier</i></span></span></a>
has the same exception specification as if it had been implicitly declared (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>)<a class='hidden_link' href='#dtor-6.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='dtor-7'><div class='marginalizedparent'><a class='marginalized' href='#dtor-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2055'>#</a></div><div class='texpara'><div id='dtor-7.sentence-1' class='sentence'>A defaulted destructor for a class
  <span class='texttt'>X</span> is defined as deleted if:
<ul class='itemize'><li id='dtor-7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#dtor-7.1'>(7.1)</a></div>any potentially constructed subobject has class type
  <span class='texttt'>M</span> (or possibly multi-dimensional array thereof) and
  <span class='texttt'>M</span> has a destructor that is deleted or
  is inaccessible from the defaulted destructor or,
  in the case of a variant member, is non-trivial,</li><li id='dtor-7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#dtor-7.2'>(7.2)</a></div>or, for a virtual destructor, lookup of the non-array deallocation
  function results in an ambiguity or in a function that is deleted or
  inaccessible from the defaulted destructor<a class='hidden_link' href='#dtor-7.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='dtor-8'><div class='marginalizedparent'><a class='marginalized' href='#dtor-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2070'>#</a></div><div class='texpara'><div id='dtor-8.sentence-1' class='sentence'>A destructor is trivial if it is not user-provided and if:
<ul class='itemize'><li id='dtor-8.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#dtor-8.1'>(8.1)</a></div>the destructor is not virtual,</li><li id='dtor-8.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#dtor-8.2'>(8.2)</a></div>all of the direct base classes of its class have trivial destructors, and</li><li id='dtor-8.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#dtor-8.3'>(8.3)</a></div>for all of the non-static data members of its class that are of class
type (or array thereof), each such class has a trivial destructor<a class='hidden_link' href='#dtor-8.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='dtor-8.sentence-2' class='sentence'>Otherwise, the destructor is
<a class='hidden_link' href='#def:destructor,non-trivial' title='11.4.7&emsp;Destructors&emsp;[class.dtor]'><span id='def:destructor,non-trivial'><i >non-trivial</i></span></a><a class='hidden_link' href='#dtor-8.sentence-2'>.</a></div></div></div><div class='para' id='dtor-9'><div class='marginalizedparent'><a class='marginalized' href='#dtor-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2084'>#</a></div><div class='texpara'><div id='dtor-9.sentence-1' class='sentence'>A defaulted destructor is a constexpr destructor
if it is constexpr-suitable (<a href='dcl.constexpr' title='9.2.6&emsp;The constexpr and consteval specifiers'>[dcl.<span class='shy'></span>constexpr]</a>)<a class='hidden_link' href='#dtor-9.sentence-1'>.</a></div></div></div><div class='para' id='dtor-10'><div class='marginalizedparent'><a class='marginalized' href='#dtor-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2088'>#</a></div><div class='texpara'><div id='dtor-10.sentence-1' class='sentence'>Before a
defaulted destructor for a class is implicitly defined, all the non-user-provided
destructors for its base classes and its non-static data members are
implicitly defined<a class='hidden_link' href='#dtor-10.sentence-1'>.</a></div></div></div><div class='para' id='dtor-11'><div class='marginalizedparent'><a class='marginalized' href='#dtor-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2094'>#</a></div><div class='texpara'><div id='dtor-11.sentence-1' class='sentence'><a class='index' id=':destructor,virtual'></a><a class='index' id=':destructor,pure_virtual'></a>A prospective destructor can be
declared <span id=':virtual_'><span class='texttt'><span class='keyword'>virtual</span></span></span> (<a href='#virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>)
and with a <a href='#nt:pure-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:pure-specifier____'><span class='textsf'><i >pure-specifier</i></span></span></a> (<a href='#abstract' title='11.7.4&emsp;Abstract classes'>[class.<span class='shy'></span>abstract]</a>)<a class='hidden_link' href='#dtor-11.sentence-1'>.</a></div> <div id='dtor-11.sentence-2' class='sentence'>If the destructor of a class is virtual and
any objects of that class or any derived class are created in the program,
the destructor shall be defined<a class='hidden_link' href='#dtor-11.sentence-2'>.</a></div></div></div><div class='para nonNormativeOnly' id='dtor-12'><div class='marginalizedparent'><a class='marginalized' href='#dtor-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2104'>#</a></div><div class='texpara'><div id='dtor-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#dtor-note-3'>3</a></i>: <div id='dtor-12.sentence-1' class='sentence'><a class='index' id=':member_function,destructor_and'></a>Some language constructs have special semantics when used during destruction;
see <a href='#cdtor' title='11.9.5&emsp;Construction and destruction'>[class.<span class='shy'></span>cdtor]</a><a class='hidden_link' href='#dtor-12.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='dtor-13'><div class='marginalizedparent'><a class='marginalized' href='#dtor-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2111'>#</a></div><div class='texpara'><div id='dtor-13.sentence-1' class='sentence'><a class='index' id=':order_of_execution,destructor'></a><a class='index' id=':order_of_execution,base_class_destructor'></a><a class='index' id=':order_of_execution,member_destructor'></a>After executing the body of the destructor and destroying
any objects with automatic storage duration allocated within the body, a
destructor for class
<span class='texttt'>X</span>
calls the destructors for
<span class='texttt'>X</span>'s
direct non-variant non-static data members, the destructors for
<span class='texttt'>X</span>'s
non-virtual direct base classes and, if
<span class='texttt'>X</span>
is the most derived class (<a href='#base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>),
its destructor calls the destructors for
<span class='texttt'>X</span>'s
virtual base classes<a class='hidden_link' href='#dtor-13.sentence-1'>.</a></div> <div id='dtor-13.sentence-2' class='sentence'>All destructors are called as if they were referenced with a qualified name,
that is, ignoring any possible virtual overriding destructors in more
derived classes<a class='hidden_link' href='#dtor-13.sentence-2'>.</a></div> <div id='dtor-13.sentence-3' class='sentence'>Bases and members are destroyed in the reverse order of the completion of
their constructor (see <a href='#base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#dtor-13.sentence-3'>.</a></div> <div id='dtor-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#dtor-note-4'>4</a></i>: <div id='dtor-13.sentence-4' class='sentence'>A
<span class='texttt'><span class='keyword'>return</span></span>
statement (<a href='stmt.return' title='8.7.4&emsp;The return statement'>[stmt.<span class='shy'></span>return]</a>) in a destructor might not directly return to the
caller; before transferring control to the caller, the destructors for the
members and bases are called<a class='hidden_link' href='#dtor-13.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='dtor-13.sentence-5' class='sentence'><a class='index' id=':order_of_execution,destructor_and_array'></a>Destructors for elements of an array are called in reverse order of their
construction (see <a href='#init' title='11.9&emsp;Initialization'>[class.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#dtor-13.sentence-5'>.</a></div></div></div><div class='para' id='dtor-14'><div class='marginalizedparent'><a class='marginalized' href='#dtor-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2145'>#</a></div><div class='texpara'><div id='dtor-14.sentence-1' class='sentence'><a class='index' id=':destructor,implicit_call'></a><a class='index' id=':destructor,program_termination_and'></a>A destructor is invoked implicitly
<ul class='itemize'><li id='dtor-14.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#dtor-14.1'>(14.1)</a></div>for a constructed object with static storage duration (<a href='basic.stc.static' title='6.7.5.2&emsp;Static storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>static]</a>) at program termination (<a href='basic.start.term' title='6.9.3.4&emsp;Termination'>[basic.<span class='shy'></span>start.<span class='shy'></span>term]</a>),</li><li id='dtor-14.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#dtor-14.2'>(14.2)</a></div>for a constructed object with thread storage duration (<a href='basic.stc.thread' title='6.7.5.3&emsp;Thread storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>thread]</a>) at thread exit,</li><li id='dtor-14.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#dtor-14.3'>(14.3)</a></div>for a constructed object with automatic storage duration (<a href='basic.stc.auto' title='6.7.5.4&emsp;Automatic storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>auto]</a>) when the block in which an object is created exits (<a href='stmt.dcl' title='8.8&emsp;Declaration statement'>[stmt.<span class='shy'></span>dcl]</a>),</li><li id='dtor-14.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#dtor-14.4'>(14.4)</a></div>for a constructed temporary object when its lifetime ends (<a href='conv.rval' title='7.3.5&emsp;Temporary materialization conversion'>[conv.<span class='shy'></span>rval]</a>, <a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>)<a class='hidden_link' href='#dtor-14.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='dtor-14.sentence-2' class='sentence'><a class='index' id=':delete,destructor_and'></a><a class='index' id=':destructor,explicit_call'></a>In each case, the context of the invocation is the context of the construction of
the object<a class='hidden_link' href='#dtor-14.sentence-2'>.</a></div> <div id='dtor-14.sentence-3' class='sentence'>A destructor may also be invoked implicitly through use of a
<a href='expr.delete#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression'><span class='textsf'><i >delete-expression</i></span></span></a> (<a href='expr.delete' title='7.6.2.9&emsp;Delete'>[expr.<span class='shy'></span>delete]</a>) for a constructed object allocated
by a <a href='expr.new#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression'><span class='textsf'><i >new-expression</i></span></span></a> (<a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>); the context of the invocation is the
<a href='expr.delete#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression_'><span class='textsf'><i >delete-expression</i></span></span></a><a class='hidden_link' href='#dtor-14.sentence-3'>.</a></div> <div id='dtor-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#dtor-note-5'>5</a></i>: <div id='dtor-14.sentence-4' class='sentence'>An array of class type contains several subobjects for each of which
the destructor is invoked<a class='hidden_link' href='#dtor-14.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='dtor-14.sentence-5' class='sentence'>
A destructor can also be invoked explicitly<a class='hidden_link' href='#dtor-14.sentence-5'>.</a></div> <div id='dtor-14.sentence-6' class='sentence'>A destructor is <a class='hidden_link' href='#def:potentially_invoked' title='11.4.7&emsp;Destructors&emsp;[class.dtor]'><span id='def:potentially_invoked'><i >potentially invoked</i></span></a>
if it is invoked or as specified in <a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>,
<a href='stmt.return' title='8.7.4&emsp;The return statement'>[stmt.<span class='shy'></span>return]</a>, <a href='dcl.init.aggr' title='9.4.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>,
<a href='#base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>, and <a href='except.throw' title='14.2&emsp;Throwing an exception'>[except.<span class='shy'></span>throw]</a><a class='hidden_link' href='#dtor-14.sentence-6'>.</a></div> <div id='dtor-14.sentence-7' class='sentence'>A program is ill-formed if a destructor that is potentially invoked is deleted
or not accessible from the context of the invocation<a class='hidden_link' href='#dtor-14.sentence-7'>.</a></div></div></div><div class='para' id='dtor-15'><div class='marginalizedparent'><a class='marginalized' href='#dtor-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2177'>#</a></div><div class='texpara'><div id='dtor-15.sentence-1' class='sentence'>At the point of definition of a virtual destructor (including an implicit
definition), the non-array deallocation function is
determined as if for the expression <span class='texttt'><span class='keyword'>delete</span> <span class='keyword'>this</span></span> appearing in a
non-virtual destructor of the destructor's class (see <a href='expr.delete' title='7.6.2.9&emsp;Delete'>[expr.<span class='shy'></span>delete]</a>)<a class='hidden_link' href='#dtor-15.sentence-1'>.</a></div> <div id='dtor-15.sentence-2' class='sentence'>If the lookup fails or if the deallocation function has
a deleted definition (<a href='dcl.fct.def' title='9.5&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a>), the program is ill-formed<a class='hidden_link' href='#dtor-15.sentence-2'>.</a></div> <div id='dtor-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#dtor-note-6'>6</a></i>: <div id='dtor-15.sentence-3' class='sentence'>This assures that a deallocation function corresponding to the dynamic type of an
object is available for the
<a href='expr.delete#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression__'><span class='textsf'><i >delete-expression</i></span></span></a> (<a href='#free' title='11.4.11&emsp;Allocation and deallocation functions'>[class.<span class='shy'></span>free]</a>)<a class='hidden_link' href='#dtor-15.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='dtor-16'><div class='marginalizedparent'><a class='marginalized' href='#dtor-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2190'>#</a></div><div class='texpara'><div id='dtor-16.sentence-1' class='sentence'><a class='index' id=':destructor,explicit_call_'></a>In an explicit destructor call, the destructor is specified by a
<span class='texttt'><span class='operator'>~</span></span>
followed by a
<a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name'><span class='textsf'><i >type-name</i></span></span></a> or <a href='dcl.type.decltype#nt:decltype-specifier' title='9.2.9.5&emsp;Decltype specifiers&emsp;[dcl.type.decltype]'><span id='ntref:decltype-specifier'><span class='textsf'><i >decltype-specifier</i></span></span></a>
that denotes the destructor's class type<a class='hidden_link' href='#dtor-16.sentence-1'>.</a></div> <div id='dtor-16.sentence-2' class='sentence'>The invocation of a destructor is subject to the usual rules for member
functions (<a href='#mfct' title='11.4.2&emsp;Member functions'>[class.<span class='shy'></span>mfct]</a>);
that is, if the object is not of the destructor's class type and
not of a class derived from the destructor's class type (including when
the destructor is invoked via a null pointer value), the program has
undefined behavior<a class='hidden_link' href='#dtor-16.sentence-2'>.</a></div> <div id='dtor-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#dtor-note-7'>7</a></i>: <div id='dtor-16.sentence-3' class='sentence'>Invoking <span id=':delete'><span class='texttt'><span class='keyword'>delete</span></span></span> on a null pointer does not call the
destructor; see <a href='expr.delete' title='7.6.2.9&emsp;Delete'>[expr.<span class='shy'></span>delete]</a><a class='hidden_link' href='#dtor-16.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='dtor-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#dtor-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  <span class='operator'>~</span>D<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

D D_object;
<span class='keyword'>typedef</span> B B_alias;
B<span class='operator'>*</span> B_ptr <span class='operator'>=</span> <span class='operator'>&amp;</span>D_object;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  D_object<span class='operator'>.</span>B<span class='operator'>::</span><span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;             <span class='comment'>// calls <span class='tcode_in_codeblock'>B</span>'s destructor</span>
  B_ptr<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                  <span class='comment'>// calls <span class='tcode_in_codeblock'>D</span>'s destructor</span>
  B_ptr<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>~</span>B_alias<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;            <span class='comment'>// calls <span class='tcode_in_codeblock'>D</span>'s destructor</span>
  B_ptr<span class='operator'>-</span><span class='anglebracket'>&gt;</span>B_alias<span class='operator'>::</span><span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;         <span class='comment'>// calls <span class='tcode_in_codeblock'>B</span>'s destructor</span>
  B_ptr<span class='operator'>-</span><span class='anglebracket'>&gt;</span>B_alias<span class='operator'>::</span><span class='operator'>~</span>B_alias<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;   <span class='comment'>// calls <span class='tcode_in_codeblock'>B</span>'s destructor</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='dtor-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#dtor-note-8'>8</a></i>: <div id='dtor-16.sentence-4' class='sentence'>An explicit destructor call must always be written using
a member access operator (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>) or a <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id__'><span class='textsf'><i >qualified-id</i></span></span></a> (<a href='expr.prim.id.qual' title='7.5.4.3&emsp;Qualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>qual]</a>);
in particular, the
<a href='expr.unary.general#nt:unary-expression' title='7.6.2.1&emsp;General&emsp;[expr.unary.general]'><span id='ntref:unary-expression'><span class='textsf'><i >unary-expression</i></span></span></a>
<span class='texttt'><span class='operator'>~</span>X<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
in a member function is not an explicit destructor call (<a href='expr.unary.op' title='7.6.2.2&emsp;Unary operators'>[expr.<span class='shy'></span>unary.<span class='shy'></span>op]</a>)<a class='hidden_link' href='#dtor-16.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='dtor-17'><div class='marginalizedparent'><a class='marginalized' href='#dtor-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2238'>#</a></div><div class='texpara'><div id='dtor-note-9' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#dtor-note-9'>9</a></i>: <div id='dtor-17.sentence-1' class='sentence'><a class='index' id=':object,destructor_and_placement_of'></a>Explicit calls of destructors are rarely needed<a class='hidden_link' href='#dtor-17.sentence-1'>.</a></div> <div id='dtor-17.sentence-2' class='sentence'>One use of such calls is for objects placed at specific
addresses using a placement
<a href='expr.new#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression_'><span class='textsf'><i >new-expression</i></span></span></a><a class='hidden_link' href='#dtor-17.sentence-2'>.</a></div> <div id='dtor-17.sentence-3' class='sentence'>Such use of explicit placement and destruction of objects can be necessary
to cope with dedicated hardware resources and for writing memory management
facilities<a class='hidden_link' href='#dtor-17.sentence-3'>.</a></div> <div id='dtor-17.sentence-4' class='sentence'>For example,
<span class='codeblock'><span class='keyword'>void</span><span class='operator'>*</span> <span class='keyword'>operator</span> <span class='keyword'>new</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>size_t, <span class='keyword'>void</span><span class='operator'>*</span> p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> p; <span class='curlybracket'>}</span>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='operator'>~</span>X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>X<span class='operator'>*</span> p<span class='parenthesis'>)</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>                      <span class='comment'>// rare, specialized use:</span>
  <span class='keyword'>char</span><span class='operator'>*</span> buf <span class='operator'>=</span> <span class='keyword'>new</span> <span class='keyword'>char</span><span class='squarebracket'>[</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>X<span class='parenthesis'>)</span><span class='squarebracket'>]</span>;
  X<span class='operator'>*</span> p <span class='operator'>=</span> <span class='keyword'>new</span><span class='parenthesis'>(</span>buf<span class='parenthesis'>)</span> X<span class='parenthesis'>(</span><span class='literal'>222</span><span class='parenthesis'>)</span>;       <span class='comment'>// use <span class='tcode_in_codeblock'>buf[]</span> and initialize</span>
  f<span class='parenthesis'>(</span>p<span class='parenthesis'>)</span>;
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>X<span class='operator'>::</span><span class='operator'>~</span>X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                   <span class='comment'>// cleanup</span>
<span class='curlybracket'>}</span>
</span></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='dtor-18'><div class='marginalizedparent'><a class='marginalized' href='#dtor-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2266'>#</a></div><div class='texpara'><div id='dtor-18.sentence-1' class='sentence'>Once a destructor is invoked for an object, the object's lifetime ends;
the behavior is undefined if the destructor is invoked
for an object whose lifetime has ended (<a href='basic.life' title='6.7.3&emsp;Lifetime'>[basic.<span class='shy'></span>life]</a>)<a class='hidden_link' href='#dtor-18.sentence-1'>.</a></div> <div id='dtor-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#dtor-example-2'>2</a></i>: <div id='dtor-18.sentence-2' class='sentence'>If the destructor for an object with automatic storage duration is explicitly invoked,
and the block is subsequently left in a manner that would ordinarily
invoke implicit destruction of the object, the behavior is undefined<a class='hidden_link' href='#dtor-18.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='dtor-19'><div class='marginalizedparent'><a class='marginalized' href='#dtor-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2276'>#</a></div><div class='texpara'><div id='dtor-note-10' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#dtor-note-10'>10</a></i>: <div id='dtor-19.sentence-1' class='sentence'><a class='index' id=':fundamental_type,destructor_and'></a>The notation for explicit call of a destructor can be used for any scalar type
name (<a href='expr.prim.id.dtor' title='7.5.4.4&emsp;Destruction'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>dtor]</a>)<a class='hidden_link' href='#dtor-19.sentence-1'>.</a></div> <div id='dtor-19.sentence-2' class='sentence'>Allowing this makes it possible to write code without having to know if a
destructor exists for a given type<a class='hidden_link' href='#dtor-19.sentence-2'>.</a></div> <div id='dtor-19.sentence-3' class='sentence'>For example:
<span class='codeblock'><span class='keyword'>typedef</span> <span class='keyword'>int</span> I;
I<span class='operator'>*</span> p;
p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>I<span class='operator'>::</span><span class='operator'>~</span>I<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</span></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='dtor-20'><div class='marginalizedparent'><a class='marginalized' href='#dtor-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2291'>#</a></div><div class='texpara'><div id='dtor-20.sentence-1' class='sentence'>A destructor shall not be a coroutine<a class='hidden_link' href='#dtor-20.sentence-1'>.</a></div></div></div></div><div id='conv' class='section'><h3 ><a class='secnum' href='#conv' style='min-width:80pt'>11.4.8</a> Conversions <a class='abbr_ref' href='class.conv'>[class.conv]</a></h3><div id='conv.general' class='section'><h4 ><a class='secnum' href='#conv.general' style='min-width:95pt'>11.4.8.1</a> General <a class='abbr_ref' href='class.conv.general'>[class.conv.general]</a></h4><div class='para' id='conv.general-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2298'>#</a></div><div class='texpara'><div id='conv.general-1.sentence-1' class='sentence'><a class='index' id=':conversion,class'></a><a class='index' id=':conversion,implicit'></a>Type conversions of class objects can be specified by constructors and
by conversion functions<a class='hidden_link' href='#conv.general-1.sentence-1'>.</a></div> <div id='conv.general-1.sentence-2' class='sentence'>These conversions are called
<a class='hidden_link' href='#def:conversion,user-defined' title='11.4.8.1&emsp;General&emsp;[class.conv.general]'><span id='def:conversion,user-defined'><i >user-defined conversions</i></span></a>
and are used for implicit type conversions (<a href='conv' title='7.3&emsp;Standard conversions'>[conv]</a>),
for initialization (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>),
and for explicit type conversions (<a href='expr.type.conv' title='7.6.1.4&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>, <a href='expr.cast' title='7.6.3&emsp;Explicit type conversion (cast notation)'>[expr.<span class='shy'></span>cast]</a>, <a href='
expr.static.cast'>[
expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>)<a class='hidden_link' href='#conv.general-1.sentence-2'>.</a></div></div></div><div class='para' id='conv.general-2'><div class='marginalizedparent'><a class='marginalized' href='#conv.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2312'>#</a></div><div class='texpara'><div id='conv.general-2.sentence-1' class='sentence'>User-defined conversions are applied only where they are unambiguous (<a href='class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>, <a href='#conv.fct' title='11.4.8.3&emsp;Conversion functions'>[class.<span class='shy'></span>conv.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#conv.general-2.sentence-1'>.</a></div> <div id='conv.general-2.sentence-2' class='sentence'>Conversions obey the access control rules (<a href='#access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>)<a class='hidden_link' href='#conv.general-2.sentence-2'>.</a></div> <div id='conv.general-2.sentence-3' class='sentence'>Access control is applied after ambiguity resolution (<a href='basic.lookup' title='6.5&emsp;Name lookup'>[basic.<span class='shy'></span>lookup]</a>)<a class='hidden_link' href='#conv.general-2.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='conv.general-3'><div class='marginalizedparent'><a class='marginalized' href='#conv.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2317'>#</a></div><div class='texpara'><div id='conv.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.general-note-1'>1</a></i>: <div id='conv.general-3.sentence-1' class='sentence'>See <a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a> for a discussion of the use of conversions in function calls
as well as examples below<a class='hidden_link' href='#conv.general-3.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='conv.general-4'><div class='marginalizedparent'><a class='marginalized' href='#conv.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2323'>#</a></div><div class='texpara'><div id='conv.general-4.sentence-1' class='sentence'><a class='index' id=':conversion,implicit_user-defined'></a>At most one user-defined conversion (constructor or conversion function)
is implicitly applied to a single value<a class='hidden_link' href='#conv.general-4.sentence-1'>.</a></div> <div id='conv.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#conv.general-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Y <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

Y a;
<span class='keyword'>int</span> b <span class='operator'>=</span> a;          <span class='comment'>// error: no viable conversion (<span class='tcode_in_codeblock'>a.operator X().operator int()</span> not considered)</span>
<span class='keyword'>int</span> c <span class='operator'>=</span> X<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>;       <span class='comment'>// OK, <span class='tcode_in_codeblock'>a.operator X().operator int()</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='conv.ctor' class='section'><h4 ><a class='secnum' href='#conv.ctor' style='min-width:95pt'>11.4.8.2</a> Conversion by constructor <a class='abbr_ref' href='class.conv.ctor'>[class.conv.ctor]</a></h4><div class='texpara'><a class='index' id=':conversion,user-defined'></a></div><div class='para' id='conv.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.ctor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2346'>#</a></div><div class='texpara'><div id='conv.ctor-1.sentence-1' class='sentence'>A constructor that is not explicit (<a href='dcl.fct.spec' title='9.2.3&emsp;Function specifiers'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>spec]</a>)
specifies a conversion from
the types of its parameters (if any)
to the type of its class<a class='hidden_link' href='#conv.ctor-1.sentence-1'>.</a></div> <div id='conv.ctor-1.sentence-2' class='sentence'>Such a constructor is called a
<a class='hidden_link' href='#def:constructor,converting' title='11.4.8.2&emsp;Conversion by constructor&emsp;[class.conv.ctor]'><span id='def:constructor,converting'><i >converting constructor</i></span></a><a class='hidden_link' href='#conv.ctor-1.sentence-2'>.</a></div> <div id='conv.ctor-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#conv.ctor-example-1'>1</a></i>: <span id=':Jessie'><div class='marginalizedparent'><a class='itemDeclLink' href='#:Jessie'>🔗</a></div><span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
    X<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
    X<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>, <span class='keyword'>int</span> <span class='operator'>=</span><span class='literal'>0</span><span class='parenthesis'>)</span>;
    X<span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>X arg<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  X a <span class='operator'>=</span> <span class='literal'>1</span>;          <span class='comment'>// <span class='tcode_in_codeblock'>a = X(1)</span></span>
  X b <span class='operator'>=</span> <span class='literal'>"Jessie"</span>;   <span class='comment'>// <span class='tcode_in_codeblock'>b = X("Jessie",0)</span></span>
  a <span class='operator'>=</span> <span class='literal'>2</span>;            <span class='comment'>// <span class='tcode_in_codeblock'>a = X(2)</span></span>
  f<span class='parenthesis'>(</span><span class='literal'>3</span><span class='parenthesis'>)</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>f(X(3))</span></span>
  f<span class='parenthesis'>(</span><span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;        <span class='comment'>// <span class='tcode_in_codeblock'>f(X(1,2))</span></span>
<span class='curlybracket'>}</span>
</span></span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='conv.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#conv.ctor-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2372'>#</a></div><div class='texpara'><div id='conv.ctor-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.ctor-note-1'>1</a></i>: <div id='conv.ctor-2.sentence-1' class='sentence'>An explicit constructor constructs objects just like non-explicit
constructors, but does so only where the direct-initialization syntax (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)
or where casts (<a href='expr.static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>, <a href='expr.cast' title='7.6.3&emsp;Explicit type conversion (cast notation)'>[expr.<span class='shy'></span>cast]</a>) are explicitly
used; see also <a href='over.match.copy' title='12.2.2.5&emsp;Copy-initialization of class by user-defined conversion'>[over.<span class='shy'></span>match.<span class='shy'></span>copy]</a><a class='hidden_link' href='#conv.ctor-2.sentence-1'>.</a></div> <div id='conv.ctor-2.sentence-2' class='sentence'>A default constructor can be an explicit constructor; such a constructor
will be used to perform default-initialization
or value-initialization (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#conv.ctor-2.sentence-2'>.</a></div> <div id='conv.ctor-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#conv.ctor-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>struct</span> Z <span class='curlybracket'>{</span>
  <span class='keyword'>explicit</span> Z<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>explicit</span> Z<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>explicit</span> Z<span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

Z a;                            <span class='comment'>// OK, default-initialization performed</span>
Z b<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;                          <span class='comment'>// OK, direct initialization syntax used</span>
Z c <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;                       <span class='comment'>// error: copy-list-initialization</span>
Z a1 <span class='operator'>=</span> <span class='literal'>1</span>;                       <span class='comment'>// error: no implicit conversion</span>
Z a3 <span class='operator'>=</span> Z<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                    <span class='comment'>// OK, direct initialization syntax used</span>
Z a2<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                        <span class='comment'>// OK, direct initialization syntax used</span>
Z<span class='operator'>*</span> p <span class='operator'>=</span> <span class='keyword'>new</span> Z<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                <span class='comment'>// OK, direct initialization syntax used</span>
Z a4 <span class='operator'>=</span> <span class='parenthesis'>(</span>Z<span class='parenthesis'>)</span><span class='literal'>1</span>;                    <span class='comment'>// OK, explicit cast used</span>
Z a5 <span class='operator'>=</span> <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>Z<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;       <span class='comment'>// OK, explicit cast used</span>
Z a6 <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>3</span>, <span class='literal'>4</span> <span class='curlybracket'>}</span>;                <span class='comment'>// error: no implicit conversion</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='conv.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#conv.ctor-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2403'>#</a></div><div class='texpara'><div id='conv.ctor-3.sentence-1' class='sentence'>A non-explicit copy/move constructor (<a href='#copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>) is
a converting constructor<a class='hidden_link' href='#conv.ctor-3.sentence-1'>.</a></div> <div id='conv.ctor-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.ctor-note-2'>2</a></i>: <div id='conv.ctor-3.sentence-2' class='sentence'>An implicitly-declared copy/move constructor is not an explicit constructor;
it can be called for implicit type conversions<a class='hidden_link' href='#conv.ctor-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='conv.fct' class='section'><h4 ><a class='secnum' href='#conv.fct' style='min-width:95pt'>11.4.8.3</a> Conversion functions <a class='abbr_ref' href='class.conv.fct'>[class.conv.fct]</a></h4><div class='texpara'><a class='index' id=':function,conversion'></a><a class='index' id=':conversion,user-defined_'></a>
<div class='bnf' id='nt:conversion-function-id'>
<a class='hidden_link' href='#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='nt:conversion-function-id'><span id=':conversion-function-id'>conversion-function-id<span class='textnormal'>:</span></span></span></a><br/><span id=':operator'><span class='texttt'><span class='keyword'>operator</span></span></span> <a href='#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id'><span class='textsf'><i >conversion-type-id</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:conversion-type-id'>
<a class='hidden_link' href='#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='nt:conversion-type-id'><span id=':conversion-type-id'>conversion-type-id<span class='textnormal'>:</span></span></span></a><br/><a href='dcl.type.general#nt:type-specifier-seq' title='9.2.9.1&emsp;General&emsp;[dcl.type.general]'><span id='ntref:type-specifier-seq'><span class='textsf'><i >type-specifier-seq</i></span></span></a> <a href='#nt:conversion-declarator' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-declarator'><span class='textsf'><i >conversion-declarator</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:conversion-declarator'>
<a class='hidden_link' href='#nt:conversion-declarator' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='nt:conversion-declarator'><span id=':conversion-declarator'>conversion-declarator<span class='textnormal'>:</span></span></span></a><br/><a href='dcl.decl.general#nt:ptr-operator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ptr-operator'><span class='textsf'><i >ptr-operator</i></span></span></a> <a href='#nt:conversion-declarator' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-declarator_'><span class='textsf'><i >conversion-declarator</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div></div><div class='para' id='conv.fct-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.fct-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2431'>#</a></div><div class='texpara'><div id='conv.fct-1.sentence-1' class='sentence'>A declaration
whose <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id__'><span class='textsf'><i >declarator-id</i></span></span></a> has
an <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id__'><span class='textsf'><i >unqualified-id</i></span></span></a> that is a <a href='#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id'><span class='textsf'><i >conversion-function-id</i></span></span></a>
declares a <a class='hidden_link' href='#def:function,conversion' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='def:function,conversion'><i >conversion function</i></span></a>;
its <a href='dcl.decl.general#nt:declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator______'><span class='textsf'><i >declarator</i></span></span></a> shall be
a function declarator (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) of the form
<div class='simplebnf'>
<a href='dcl.decl.general#nt:ptr-declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ptr-declarator____'><span class='textsf'><i >ptr-declarator</i></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause__'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='dcl.decl.general#nt:cv-qualifier-seq' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier-seq'><span class='textsf'><i >cv-qualifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><br/>&emsp;&emsp;&emsp;ref-qualifier-seq<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier____'><span class='textsf'><i >noexcept-specifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq___________'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div>
where the <a href='dcl.decl.general#nt:ptr-declarator' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ptr-declarator_____'><span class='textsf'><i >ptr-declarator</i></span></span></a> consists solely of
an <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_____________'><span class='textsf'><i >id-expression</i></span></span></a>,
an optional <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq____________'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a>, and
optional surrounding parentheses, and
the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression______________'><span class='textsf'><i >id-expression</i></span></span></a> has one of the following forms:
<ul class='itemize'><li id='conv.fct-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.fct-1.1'>(1.1)</a></div>in a <a href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration________'><span class='textsf'><i >member-declaration</i></span></span></a> that belongs to
the <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification__________'><span class='textsf'><i >member-specification</i></span></span></a> of a class or class template
but is not a friend declaration (<a href='#friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>),
the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_______________'><span class='textsf'><i >id-expression</i></span></span></a> is a <a href='#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id_'><span class='textsf'><i >conversion-function-id</i></span></span></a>;</li><li id='conv.fct-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#conv.fct-1.2'>(1.2)</a></div>otherwise, the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression________________'><span class='textsf'><i >id-expression</i></span></span></a> is a <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id___'><span class='textsf'><i >qualified-id</i></span></span></a>
whose <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id___'><span class='textsf'><i >unqualified-id</i></span></span></a> is a <a href='#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id__'><span class='textsf'><i >conversion-function-id</i></span></span></a><a class='hidden_link' href='#conv.fct-1.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='conv.fct-2'><div class='marginalizedparent'><a class='marginalized' href='#conv.fct-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2458'>#</a></div><div class='texpara'><div id='conv.fct-2.sentence-1' class='sentence'>A conversion function  shall have no non-object parameters and
shall be a non-static member function of a class or class template <span class='texttt'>X</span>;
it specifies a conversion from <span class='texttt'>X</span> to
the type specified by the <a href='#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id_'><span class='textsf'><i >conversion-type-id</i></span></span></a>,
interpreted as a <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id'><span class='textsf'><i >type-id</i></span></span></a> (<a href='dcl.name' title='9.3.2&emsp;Type names'>[dcl.<span class='shy'></span>name]</a>)<a class='hidden_link' href='#conv.fct-2.sentence-1'>.</a></div> <div id='conv.fct-2.sentence-2' class='sentence'>A <a href='dcl.spec.general#nt:decl-specifier' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier__'><span class='textsf'><i >decl-specifier</i></span></span></a> in the <a href='dcl.spec.general#nt:decl-specifier-seq' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier-seq_____'><span class='textsf'><i >decl-specifier-seq</i></span></span></a>
of a conversion function (if any) shall not be
a <a href='dcl.type.general#nt:defining-type-specifier' title='9.2.9.1&emsp;General&emsp;[dcl.type.general]'><span id='ntref:defining-type-specifier'><span class='textsf'><i >defining-type-specifier</i></span></span></a><a class='hidden_link' href='#conv.fct-2.sentence-2'>.</a></div></div></div><div class='para' id='conv.fct-3'><div class='marginalizedparent'><a class='marginalized' href='#conv.fct-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2468'>#</a></div><div class='texpara'><div id='conv.fct-3.sentence-1' class='sentence'><a class='index' id=':conversion,type_of'></a>The type of the conversion function is
“<span class='texttt'><span class='keyword'>noexcept</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> function taking no parameter
<a href='dcl.decl.general#nt:cv-qualifier-seq' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:cv-qualifier-seq_'><span class='textsf'><i >cv-qualifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier__'><span class='textsf'><i >ref-qualifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
returning <a href='#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id__'><span class='textsf'><i >conversion-type-id</i></span></span></a>”<a class='hidden_link' href='#conv.fct-3.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='conv.fct-4'><div class='marginalizedparent'><a class='marginalized' href='#conv.fct-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2475'>#</a></div><div class='texpara'><div id='conv.fct-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.fct-note-1'>1</a></i>: <div id='conv.fct-4.sentence-1' class='sentence'>A conversion function is never invoked for
implicit or explicit conversions of an object
to the same object type (or a reference to it),
to a base class of that type (or a reference to it),
or to <span class='mathit'>cv</span> <span id=':void'><span class='texttt'><span class='keyword'>void</span></span></span><a class='hidden_link' href='#conv.fct-4.sentence-1'>.</a></div> <div id='conv.fct-4.sentence-2' class='sentence'>Even though never directly called to perform a conversion,
such conversion functions can be declared and can potentially
be reached through a call to a virtual conversion function in a base class<a class='hidden_link' href='#conv.fct-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='conv.fct-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#conv.fct-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>operator</span> <span class='keyword'>auto</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> <span class='keyword'>short</span>;     <span class='comment'>// error: trailing return type</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>X a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i <span class='operator'>=</span> <span class='keyword'>int</span><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>;
  i <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>a;
  i <span class='operator'>=</span> a;
<span class='curlybracket'>}</span>
</span> <div id='conv.fct-4.sentence-3' class='sentence'>
In all three cases the value assigned will be converted by
<span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#conv.fct-4.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='conv.fct-5'><div class='marginalizedparent'><a class='marginalized' href='#conv.fct-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2503'>#</a></div><div class='texpara'><div id='conv.fct-5.sentence-1' class='sentence'>A conversion function may be explicit (<a href='dcl.fct.spec' title='9.2.3&emsp;Function specifiers'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>spec]</a>), in which case it is only considered as a user-defined conversion for direct-initialization (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#conv.fct-5.sentence-1'>.</a></div> <div id='conv.fct-5.sentence-2' class='sentence'>Otherwise, user-defined conversions are not restricted to use in assignments and initializations<a class='hidden_link' href='#conv.fct-5.sentence-2'>.</a></div> <div id='conv.fct-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#conv.fct-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>class</span> Y <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Z <span class='curlybracket'>{</span>
  <span class='keyword'>explicit</span> <span class='keyword'>operator</span> Y<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> h<span class='parenthesis'>(</span>Z z<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  Y y1<span class='parenthesis'>(</span>z<span class='parenthesis'>)</span>;          <span class='comment'>// OK, direct-initialization</span>
  Y y2 <span class='operator'>=</span> z;         <span class='comment'>// error: no conversion function candidate for copy-initialization</span>
  Y y3 <span class='operator'>=</span> <span class='parenthesis'>(</span>Y<span class='parenthesis'>)</span>z;      <span class='comment'>// OK, cast notation</span>
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> g<span class='parenthesis'>(</span>X a, X b<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i <span class='operator'>=</span> <span class='parenthesis'>(</span>a<span class='parenthesis'>)</span> <span class='operator'>?</span> <span class='literal'>1</span><span class='operator'>+</span>a <span class='operator'>:</span> <span class='literal'>0</span>;
  <span class='keyword'>int</span> j <span class='operator'>=</span> <span class='parenthesis'>(</span>a<span class='operator'>&amp;</span><span class='operator'>&amp;</span>b<span class='parenthesis'>)</span> <span class='operator'>?</span> a<span class='operator'>+</span>b <span class='operator'>:</span> i;
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='conv.fct-6'><div class='marginalizedparent'><a class='marginalized' href='#conv.fct-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2527'>#</a></div><div class='texpara'><div id='conv.fct-6.sentence-1' class='sentence'>The
<a href='#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id___'><span class='textsf'><i >conversion-type-id</i></span></span></a>
shall not represent a function type nor an array type<a class='hidden_link' href='#conv.fct-6.sentence-1'>.</a></div> <div id='conv.fct-6.sentence-2' class='sentence'>The
<a href='#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id____'><span class='textsf'><i >conversion-type-id</i></span></span></a>
in a
<a href='#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id___'><span class='textsf'><i >conversion-function-id</i></span></span></a>
is the longest sequence of
tokens that could possibly form a <a href='#nt:conversion-type-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id_____'><span class='textsf'><i >conversion-type-id</i></span></span></a><a class='hidden_link' href='#conv.fct-6.sentence-2'>.</a></div> <div id='conv.fct-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.fct-note-2'>2</a></i>: <div id='conv.fct-6.sentence-3' class='sentence'>This prevents ambiguities between the declarator operator <span class='texttt'><span class='operator'>*</span></span> and its expression
counterparts<a class='hidden_link' href='#conv.fct-6.sentence-3'>.</a></div> <div id='conv.fct-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#conv.fct-example-3'>3</a></i>: <span class='codeblock'><span class='operator'>&amp;</span>ac<span class='operator'>.</span><span class='keyword'>operator</span> <span class='keyword'>int</span><span class='operator'>*</span>i; <span class='comment'>// syntax error:</span>
                    <span class='comment'>// parsed as: <span class='tcode_in_codeblock'>&amp;(ac.operator int *)i</span></span>
                    <span class='comment'>// not as: <span class='tcode_in_codeblock'>&amp;(ac.operator int)*i</span></span>
</span> <div id='conv.fct-6.sentence-4' class='sentence'>
The <span class='texttt'><span class='operator'>*</span></span> is the pointer declarator and not the multiplication operator<a class='hidden_link' href='#conv.fct-6.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='conv.fct-6.sentence-5' class='sentence'>
This rule also prevents ambiguities for attributes<a class='hidden_link' href='#conv.fct-6.sentence-5'>.</a></div> <div id='conv.fct-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#conv.fct-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>operator</span> <span class='keyword'>int</span> <span class='squarebracket'>[</span><span class='squarebracket'>[</span>noreturn<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='parenthesis'>(</span><span class='parenthesis'>)</span>;   <span class='comment'>// error: <span class='tcode_in_codeblock'>noreturn</span> attribute applied to a type</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='conv.fct-7'><div class='marginalizedparent'><a class='marginalized' href='#conv.fct-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2556'>#</a></div><div class='texpara'><a class='index' id=':conversion,inheritance_of_user-defined'></a><div id='conv.fct-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#conv.fct-note-3'>3</a></i>: <div id='conv.fct-7.sentence-1' class='sentence'>A conversion function in a derived class hides only
conversion functions in base classes that convert to the same type<a class='hidden_link' href='#conv.fct-7.sentence-1'>.</a></div> <div id='conv.fct-7.sentence-2' class='sentence'>A conversion function template with a dependent return type hides only
templates in base classes that correspond to it (<a href='class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>);
otherwise, it hides and is hidden as a non-template function<a class='hidden_link' href='#conv.fct-7.sentence-2'>.</a></div> <div id='conv.fct-7.sentence-3' class='sentence'>Function overload resolution (<a href='over.match.best' title='12.2.4&emsp;Best viable function'>[over.<span class='shy'></span>match.<span class='shy'></span>best]</a>) selects
the best conversion function to perform the conversion<a class='hidden_link' href='#conv.fct-7.sentence-3'>.</a></div> <div id='conv.fct-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#conv.fct-example-5'>5</a></i>: <span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Y <span class='operator'>:</span> X <span class='curlybracket'>{</span>
    <span class='keyword'>operator</span> <span class='keyword'>char</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>Y<span class='operator'>&amp;</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>          <span class='comment'>// error: ambiguous between <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;operator int()</span> and <span class='tcode_in_codeblock'>Y&#x200b;::&#x200b;operator char()</span></span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='conv.fct-8'><div class='marginalizedparent'><a class='marginalized' href='#conv.fct-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2584'>#</a></div><div class='texpara'><div id='conv.fct-8.sentence-1' class='sentence'><a class='index' id=':conversion,virtual_user-defined'></a>Conversion functions can be virtual<a class='hidden_link' href='#conv.fct-8.sentence-1'>.</a></div></div></div><div class='para' id='conv.fct-9'><div class='marginalizedparent'><a class='marginalized' href='#conv.fct-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2588'>#</a></div><div class='texpara'><div id='conv.fct-9.sentence-1' class='sentence'><a class='index' id=':conversion,deduced_return_type_of_user-defined'></a>A conversion function template shall not have a
deduced return type (<a href='dcl.spec.auto' title='9.2.9.6&emsp;Placeholder type specifiers'>[dcl.<span class='shy'></span>spec.<span class='shy'></span>auto]</a>)<a class='hidden_link' href='#conv.fct-9.sentence-1'>.</a></div> <div id='conv.fct-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#conv.fct-example-6'>6</a></i>: <span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>auto</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>10</span>; <span class='curlybracket'>}</span>      <span class='comment'>// OK</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>operator</span> <span class='keyword'>auto</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>1.2</span>; <span class='curlybracket'>}</span>     <span class='comment'>// error: conversion function template</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div></div><div id='static' class='section'><h3 ><a class='secnum' href='#static' style='min-width:80pt'>11.4.9</a> Static members <a class='abbr_ref' href='class.static'>[class.static]</a></h3><div id='static.general' class='section'><h4 ><a class='secnum' href='#static.general' style='min-width:95pt'>11.4.9.1</a> General <a class='abbr_ref' href='class.static.general'>[class.static.general]</a></h4><div class='texpara'><a class='index' id=':member,static'></a></div><div class='para' id='static.general-1'><div class='marginalizedparent'><a class='marginalized' href='#static.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2607'>#</a></div><div class='texpara'><div id='static.general-1.sentence-1' class='sentence'>A static member <span class='texttt'>s</span> of class <span class='texttt'>X</span> may be referred to
using the <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id____'><span class='textsf'><i >qualified-id</i></span></span></a> expression <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>s</span>; it is not
necessary to use the class member access syntax (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>) to
refer to a static member<a class='hidden_link' href='#static.general-1.sentence-1'>.</a></div> <div id='static.general-1.sentence-2' class='sentence'>A static member may be
referred to using the class member access syntax, in which case the
object expression is evaluated<a class='hidden_link' href='#static.general-1.sentence-2'>.</a></div> <div id='static.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#static.general-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> process <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>void</span> reschedule<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
process<span class='operator'>&amp;</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  process<span class='operator'>::</span>reschedule<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;        <span class='comment'>// OK, no object necessary</span>
  g<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span>reschedule<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>g()</span> is called</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='static.general-2'><div class='marginalizedparent'><a class='marginalized' href='#static.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2628'>#</a></div><div class='texpara'><div id='static.general-2.sentence-1' class='sentence'>Static members obey the usual class member access rules (<a href='#access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>)<a class='hidden_link' href='#static.general-2.sentence-1'>.</a></div> <div id='static.general-2.sentence-2' class='sentence'>When used in the declaration of a class
member, the <span id=':static__'><span class='texttt'><span class='keyword'>static</span></span></span> specifier shall only be used in the member
declarations that appear within the <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification___________'><span class='textsf'><i >member-specification</i></span></span></a> of
the class definition<a class='hidden_link' href='#static.general-2.sentence-2'>.</a></div> <div id='static.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#static.general-note-1'>1</a></i>: <div id='static.general-2.sentence-3' class='sentence'>It cannot be specified in member declarations that appear in namespace scope<a class='hidden_link' href='#static.general-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='static.mfct' class='section'><h4 ><a class='secnum' href='#static.mfct' style='min-width:95pt'>11.4.9.2</a> Static member functions <a class='abbr_ref' href='class.static.mfct'>[class.static.mfct]</a></h4><div class='texpara'><a class='index' id=':member_function,static'></a></div><div class='para nonNormativeOnly' id='static.mfct-1'><div class='marginalizedparent'><a class='marginalized' href='#static.mfct-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2641'>#</a></div><div class='texpara'><div id='static.mfct-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#static.mfct-note-1'>1</a></i>: <div id='static.mfct-1.sentence-1' class='sentence'>The rules described in <a href='#mfct' title='11.4.2&emsp;Member functions'>[class.<span class='shy'></span>mfct]</a> apply to static member
functions<a class='hidden_link' href='#static.mfct-1.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='static.mfct-2'><div class='marginalizedparent'><a class='marginalized' href='#static.mfct-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2647'>#</a></div><div class='texpara'><div id='static.mfct-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#static.mfct-note-2'>2</a></i>: <div id='static.mfct-2.sentence-1' class='sentence'>A static member function does not have a <span id=':this_'><span class='texttt'><span class='keyword'>this</span></span></span>
pointer (<a href='expr.prim.this' title='7.5.2&emsp;This'>[expr.<span class='shy'></span>prim.<span class='shy'></span>this]</a>)<a class='hidden_link' href='#static.mfct-2.sentence-1'>.</a></div> <div id='static.mfct-2.sentence-2' class='sentence'>A static member function cannot be qualified with <span id=':const__________'><span class='texttt'><span class='keyword'>const</span></span></span>,
<span class='texttt'><span class='keyword'>volatile</span></span>, or <span id=':virtual__'><span class='texttt'><span class='keyword'>virtual</span></span></span> (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#static.mfct-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='static.data' class='section'><h4 ><a class='secnum' href='#static.data' style='min-width:95pt'>11.4.9.3</a> Static data members <a class='abbr_ref' href='class.static.data'>[class.static.data]</a></h4><div class='texpara'><a class='index' id=':member_data,static'></a></div><div class='para' id='static.data-1'><div class='marginalizedparent'><a class='marginalized' href='#static.data-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2658'>#</a></div><div class='texpara'><div id='static.data-1.sentence-1' class='sentence'>A static data member is not part of the subobjects of a class<a class='hidden_link' href='#static.data-1.sentence-1'>.</a></div> <div id='static.data-1.sentence-2' class='sentence'>If a
static data member is declared <span id=':thread_local_'><span class='texttt'><span class='keyword'>thread_<span class='shy'></span>local</span></span></span> there is one copy of
the member per thread<a class='hidden_link' href='#static.data-1.sentence-2'>.</a></div> <div id='static.data-1.sentence-3' class='sentence'>If a static data member is not declared
<span id=':thread_local__'><span class='texttt'><span class='keyword'>thread_<span class='shy'></span>local</span></span></span> there is one copy of the data member that is shared by all
the objects of the class<a class='hidden_link' href='#static.data-1.sentence-3'>.</a></div></div></div><div class='para' id='static.data-2'><div class='marginalizedparent'><a class='marginalized' href='#static.data-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2665'>#</a></div><div class='texpara'><div id='static.data-2.sentence-1' class='sentence'>A static data member shall not be <span id=':mutable'><span class='texttt'><span class='keyword'>mutable</span></span></span> (<a href='dcl.stc' title='9.2.2&emsp;Storage class specifiers'>[dcl.<span class='shy'></span>stc]</a>)<a class='hidden_link' href='#static.data-2.sentence-1'>.</a></div> <div id='static.data-2.sentence-2' class='sentence'>A static data member shall not be a direct member (<a href='#mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>)
of an unnamed (<a href='#pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>) or local (<a href='#local' title='11.6&emsp;Local class declarations'>[class.<span class='shy'></span>local]</a>) class or
of a (possibly indirectly) nested class (<a href='#nest' title='11.4.12&emsp;Nested class declarations'>[class.<span class='shy'></span>nest]</a>) thereof<a class='hidden_link' href='#static.data-2.sentence-2'>.</a></div></div></div><div class='para' id='static.data-3'><div class='marginalizedparent'><a class='marginalized' href='#static.data-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2671'>#</a></div><div class='texpara'><div id='static.data-3.sentence-1' class='sentence'><a class='index' id=':initialization,static_member'></a><a class='index' id=':definition,static_member'></a>The declaration of a non-inline
static data member in its class definition
is not a definition and may be of an incomplete type other than
<span class='mathit'>cv</span> <span id=':void_'><span class='texttt'><span class='keyword'>void</span></span></span><a class='hidden_link' href='#static.data-3.sentence-1'>.</a></div> <a class='index' id=':operator_use,scope_resolution'></a><div id='static.data-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#static.data-note-1'>1</a></i>: <div id='static.data-3.sentence-2' class='sentence'>The <a href='dcl.init.general#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer'><span class='textsf'><i >initializer</i></span></span></a> in the definition of a
static data member is in the scope of its
class (<a href='basic.scope.class' title='6.4.7&emsp;Class scope'>[basic.<span class='shy'></span>scope.<span class='shy'></span>class]</a>)<a class='hidden_link' href='#static.data-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div>
<div id='static.data-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#static.data-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>class</span> process <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> process<span class='operator'>*</span> run_chain;
  <span class='keyword'>static</span> process<span class='operator'>*</span> running;
<span class='curlybracket'>}</span>;

process<span class='operator'>*</span> process<span class='operator'>::</span>running <span class='operator'>=</span> get_main<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
process<span class='operator'>*</span> process<span class='operator'>::</span>run_chain <span class='operator'>=</span> running;
</span></div><div class='texpara'><div id='static.data-3.sentence-3' class='sentence'>The definition of the static data member <span class='texttt'>run_<span class='shy'></span>chain</span> of class
<span class='texttt'>process</span> inhabits the global scope; the notation
<span class='texttt'>process<span class='operator'>&#x200b;::&#x200b;</span>run_<span class='shy'></span>chain</span> indicates that the member <span class='texttt'>run_<span class='shy'></span>chain</span>
is a member of class <span class='texttt'>process</span> and in the scope of class
<span class='texttt'>process</span><a class='hidden_link' href='#static.data-3.sentence-3'>.</a></div> <div id='static.data-3.sentence-4' class='sentence'>In the static data member definition, the
<a href='dcl.init.general#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer_'><span class='textsf'><i >initializer</i></span></span></a> expression refers to the static data
member <span class='texttt'>running</span> of class <span class='texttt'>process</span><a class='hidden_link' href='#static.data-3.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div><div class='texpara'><div id='static.data-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#static.data-note-2'>2</a></i>: <div id='static.data-3.sentence-5' class='sentence'>Once the static data member has been defined, it exists even if
no objects of its class have been created<a class='hidden_link' href='#static.data-3.sentence-5'>.</a></div> <div id='static.data-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#static.data-example-2'>2</a></i>: <div id='static.data-3.sentence-6' class='sentence'>In the example above, <span class='texttt'>run_<span class='shy'></span>chain</span> and <span class='texttt'>running</span> exist even
if no objects of class <span class='texttt'>process</span> are created by the program<a class='hidden_link' href='#static.data-3.sentence-6'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='static.data-3.sentence-7' class='sentence'>
The initialization and destruction of static data members is described in
<a href='basic.start.static' title='6.9.3.2&emsp;Static initialization'>[basic.<span class='shy'></span>start.<span class='shy'></span>static]</a>, <a href='basic.start.dynamic' title='6.9.3.3&emsp;Dynamic initialization of non-block variables'>[basic.<span class='shy'></span>start.<span class='shy'></span>dynamic]</a>, and <a href='basic.start.term' title='6.9.3.4&emsp;Termination'>[basic.<span class='shy'></span>start.<span class='shy'></span>term]</a><a class='hidden_link' href='#static.data-3.sentence-7'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='static.data-4'><div class='marginalizedparent'><a class='marginalized' href='#static.data-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2715'>#</a></div><div class='texpara'><div id='static.data-4.sentence-1' class='sentence'>If a non-volatile non-inline <span id=':const___________'><span class='texttt'><span class='keyword'>const</span></span></span> static data member is
of integral or enumeration type,
its declaration in the class definition can specify a
<a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer______________'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a> in which every
<a href='dcl.init.general#nt:initializer-clause' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-clause'><span class='textsf'><i >initializer-clause</i></span></span></a> that is an <a href='expr.ass#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.ass]'><span id='ntref:assignment-expression'><span class='textsf'><i >assignment-expression</i></span></span></a>
is a constant expression (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>)<a class='hidden_link' href='#static.data-4.sentence-1'>.</a></div> <div id='static.data-4.sentence-2' class='sentence'>The member shall still be defined in a namespace scope if
it is odr-used (<a href='basic.def.odr#term.odr.use' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>) in the program and the
namespace scope definition shall not contain an <a href='dcl.init.general#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer__'><span class='textsf'><i >initializer</i></span></span></a><a class='hidden_link' href='#static.data-4.sentence-2'>.</a></div> <div id='static.data-4.sentence-3' class='sentence'>The declaration of an inline static data member (which is a definition)
may specify a <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer_______________'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a><a class='hidden_link' href='#static.data-4.sentence-3'>.</a></div> <div id='static.data-4.sentence-4' class='sentence'>If the
member is declared with the <span id=':constexpr______'><span class='texttt'><span class='keyword'>constexpr</span></span></span> specifier, it may be
redeclared in namespace scope with no initializer (this usage is
deprecated; see <a href='depr.static.constexpr' title='D.6&emsp;Redeclaration of static constexpr data members'>[depr.<span class='shy'></span>static.<span class='shy'></span>constexpr]</a>)<a class='hidden_link' href='#static.data-4.sentence-4'>.</a></div> <div id='static.data-4.sentence-5' class='sentence'>Declarations of other
static data members shall not specify a <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer________________'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a><a class='hidden_link' href='#static.data-4.sentence-5'>.</a></div></div></div><div class='para nonNormativeOnly' id='static.data-5'><div class='marginalizedparent'><a class='marginalized' href='#static.data-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2732'>#</a></div><div class='texpara'><div id='static.data-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#static.data-note-3'>3</a></i>: <div id='static.data-5.sentence-1' class='sentence'>There is exactly one definition of a static data member
that is odr-used (<a href='basic.def.odr#term.odr.use' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>) in a valid program<a class='hidden_link' href='#static.data-5.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='static.data-6'><div class='marginalizedparent'><a class='marginalized' href='#static.data-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2738'>#</a></div><div class='texpara'><div id='static.data-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#static.data-note-4'>4</a></i>: <div id='static.data-6.sentence-1' class='sentence'>Static data members of a class in namespace scope have the linkage of the name of the class (<a href='basic.link' title='6.6&emsp;Program and linkage'>[basic.<span class='shy'></span>link]</a>)<a class='hidden_link' href='#static.data-6.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div></div><div id='bit' class='section'><h3 ><a class='secnum' href='#bit' style='min-width:80pt'>11.4.10</a> Bit-fields <a class='abbr_ref' href='class.bit'>[class.bit]</a></h3><div class='texpara'><a class='index' id=':bit-field'></a></div><div class='para' id='bit-1'><div class='marginalizedparent'><a class='marginalized' href='#bit-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2746'>#</a></div><div class='texpara'><div id='bit-1.sentence-1' class='sentence'>A <a href='#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator______'><span class='textsf'><i >member-declarator</i></span></span></a> of the form
<div class='simplebnf'>
<a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_______'><span class='textsf'><i >identifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq_____________'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='operator'>:</span></span> <a href='expr.const#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression___'><span class='textsf'><i >constant-expression</i></span></span></a> <a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer_________________'><span class='textsf'><i >brace-or-equal-initializer</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div>
<a class='index' id='::,bit-field_declaration'></a><a class='index' id=':declaration,bit-field'></a>specifies a bit-field<a class='hidden_link' href='#bit-1.sentence-1'>.</a></div> <div id='bit-1.sentence-2' class='sentence'>The optional <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq______________'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a> appertains
to the entity being declared<a class='hidden_link' href='#bit-1.sentence-2'>.</a></div> <div id='bit-1.sentence-3' class='sentence'>A bit-field shall not be a static member<a class='hidden_link' href='#bit-1.sentence-3'>.</a></div> <div id='bit-1.sentence-4' class='sentence'><a class='index' id=':bit-field,type_of'></a>A bit-field shall have integral or (possibly cv-qualified) enumeration type;
the bit-field semantic property is not part of the type of the class member<a class='hidden_link' href='#bit-1.sentence-4'>.</a></div> <div id='bit-1.sentence-5' class='sentence'>The <a href='expr.const#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression____'><span class='textsf'><i >constant-expression</i></span></span></a> shall be an integral constant expression
with a value greater than or equal to zero and
is called the <a class='hidden_link' href='#def:width' title='11.4.10&emsp;Bit-fields&emsp;[class.bit]'><span id='def:width'><i >width</i></span></a> of the bit-field<a class='hidden_link' href='#bit-1.sentence-5'>.</a></div> <div id='bit-1.sentence-6' class='sentence'>If the width of a bit-field is larger than
the width of the bit-field's type
(or, in case of an enumeration type, of its underlying type),
the extra bits are padding bits (<a href='basic.types.general#term.padding.bits' title='6.8.1&emsp;General'>[basic.<span class='shy'></span>types.<span class='shy'></span>general]</a>)<a class='hidden_link' href='#bit-1.sentence-6'>.</a></div> <div id='bit-1.sentence-7' class='sentence'><a class='index' id=':allocation,implementation-defined_bit-field'></a>Allocation of bit-fields within a class object is
<a class='index' id=':allocation_of_bit-fields_within_a_class_object'></a>implementation-defined<a class='hidden_link' href='#bit-1.sentence-7'>.</a></div> <div id='bit-1.sentence-8' class='sentence'><a class='index' id=':bit-field,implementation-defined_alignment_of'></a>Alignment of bit-fields is <a class='index' id=':alignment_of_bit-fields_within_a_class_object'></a>implementation-defined<a class='hidden_link' href='#bit-1.sentence-8'>.</a></div> <div id='bit-1.sentence-9' class='sentence'><a class='index' id=':layout,bit-field'></a>Bit-fields are packed into some addressable allocation unit<a class='hidden_link' href='#bit-1.sentence-9'>.</a></div> <div id='bit-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#bit-note-1'>1</a></i>: <div id='bit-1.sentence-10' class='sentence'>Bit-fields straddle allocation units on some machines and not on others<a class='hidden_link' href='#bit-1.sentence-10'>.</a></div> <div id='bit-1.sentence-11' class='sentence'>Bit-fields are assigned right-to-left on some machines, left-to-right on
others<a class='hidden_link' href='#bit-1.sentence-11'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='bit-2'><div class='marginalizedparent'><a class='marginalized' href='#bit-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2780'>#</a></div><div class='texpara'><div id='bit-2.sentence-1' class='sentence'>A declaration for a bit-field that omits the <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier________'><span class='textsf'><i >identifier</i></span></span></a>
declares an <a class='hidden_link' href='#def:bit-field,unnamed' title='11.4.10&emsp;Bit-fields&emsp;[class.bit]'><span id='def:bit-field,unnamed'><i >unnamed bit-field</i></span></a><a class='hidden_link' href='#bit-2.sentence-1'>.</a></div> <div id='bit-2.sentence-2' class='sentence'>Unnamed bit-fields are not
members and cannot be initialized<a class='hidden_link' href='#bit-2.sentence-2'>.</a></div> <div id='bit-2.sentence-3' class='sentence'>An unnamed bit-field shall not be declared with a cv-qualified type<a class='hidden_link' href='#bit-2.sentence-3'>.</a></div> <div id='bit-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#bit-note-2'>2</a></i>: <div id='bit-2.sentence-4' class='sentence'>An unnamed bit-field is useful for padding to conform to
externally-imposed layouts<a class='hidden_link' href='#bit-2.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='bit-2.sentence-5' class='sentence'><a class='index' id=':bit-field,zero_width_of'></a><a class='index' id=':bit-field,alignment_of'></a>As a special case, an unnamed bit-field with a width of zero specifies
alignment of the next bit-field at an allocation unit boundary<a class='hidden_link' href='#bit-2.sentence-5'>.</a></div> <div id='bit-2.sentence-6' class='sentence'>Only
when declaring an unnamed bit-field may the width be zero<a class='hidden_link' href='#bit-2.sentence-6'>.</a></div></div></div><div class='para' id='bit-3'><div class='marginalizedparent'><a class='marginalized' href='#bit-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2795'>#</a></div><div class='texpara'><div id='bit-3.sentence-1' class='sentence'><a class='index' id=':bit-field,address_of'></a>The address-of operator <span class='texttt'><span class='operator'>&amp;</span></span> shall not be applied to a bit-field,
so there are no pointers to bit-fields<a class='hidden_link' href='#bit-3.sentence-1'>.</a></div> <div id='bit-3.sentence-2' class='sentence'><a class='index' id=':restriction,bit-field'></a><a class='index' id=':restriction,address_of_bit-field'></a><a class='index' id=':restriction,pointer_to_bit-field'></a>A non-const reference shall not bind to a bit-field (<a href='dcl.init.ref' title='9.4.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>)<a class='hidden_link' href='#bit-3.sentence-2'>.</a></div> <div id='bit-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#bit-note-3'>3</a></i>: <div id='bit-3.sentence-3' class='sentence'>If the initializer for a reference of type <span id=':const____________'><span class='texttt'><span class='keyword'>const</span></span></span> <span class='texttt'>T<span class='operator'>&amp;</span></span> is
an lvalue that refers to a bit-field, the reference is bound to a
temporary initialized to hold the value of the bit-field; the reference
is not bound to the bit-field directly<a class='hidden_link' href='#bit-3.sentence-3'>.</a></div> <div id='bit-3.sentence-4' class='sentence'>See <a href='dcl.init.ref' title='9.4.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a><a class='hidden_link' href='#bit-3.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='bit-4'><div class='marginalizedparent'><a class='marginalized' href='#bit-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2810'>#</a></div><div class='texpara'><div id='bit-4.sentence-1' class='sentence'>If a value of integral type (other than <span class='texttt'><span class='keyword'>bool</span></span>) is stored
into a bit-field of width <span class='math'><span class='mathalpha'>N</span></span> and the value would be representable
in a hypothetical signed or unsigned integer type
with width <span class='math'><span class='mathalpha'>N</span></span> and the same signedness as the bit-field's type,
the original value and the value of the bit-field compare equal<a class='hidden_link' href='#bit-4.sentence-1'>.</a></div> <div id='bit-4.sentence-2' class='sentence'>If the value <span class='texttt'><span class='literal'>true</span></span> or <span class='texttt'><span class='literal'>false</span></span> is stored into a bit-field of
type <span class='texttt'><span class='keyword'>bool</span></span> of any size (including a one bit bit-field), the
original <span class='texttt'><span class='keyword'>bool</span></span> value and the value of the bit-field compare
equal<a class='hidden_link' href='#bit-4.sentence-2'>.</a></div> <div id='bit-4.sentence-3' class='sentence'>If a value of an enumeration type is stored into a bit-field of the
same type and the width is large
enough to hold all the values of that enumeration type (<a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>),
the original value and the value of the bit-field compare equal<a class='hidden_link' href='#bit-4.sentence-3'>.</a></div> <div id='bit-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#bit-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>enum</span> BOOL <span class='curlybracket'>{</span> FALSE<span class='operator'>=</span><span class='literal'>0</span>, TRUE<span class='operator'>=</span><span class='literal'>1</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  BOOL b<span class='operator'>:</span><span class='literal'>1</span>;
<span class='curlybracket'>}</span>;
A a;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  a<span class='operator'>.</span>b <span class='operator'>=</span> TRUE;
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>a<span class='operator'>.</span>b <span class='operator'>=</span><span class='operator'>=</span> TRUE<span class='parenthesis'>)</span>              <span class='comment'>// yields <span class='tcode_in_codeblock'>true</span></span>
    <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='free' class='section'><h3 ><a class='secnum' href='#free' style='min-width:80pt'>11.4.11</a> Allocation and deallocation functions <a class='abbr_ref' href='class.free'>[class.free]</a></h3><div class='texpara'><a class='index' id=':free_store'></a></div><div class='para' id='free-1'><div class='marginalizedparent'><a class='marginalized' href='#free-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2841'>#</a></div><div class='texpara'><div id='free-1.sentence-1' class='sentence'><a class='index' id=':new,type_of'></a><a class='index' id=':allocation_function,class-specific'></a>Any allocation function for a class
<span class='texttt'>T</span>
is a static member (even if not explicitly declared
<span id=':static___'><span class='texttt'><span class='keyword'>static</span></span></span>)<a class='hidden_link' href='#free-1.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='free-2'><div class='marginalizedparent'><a class='marginalized' href='#free-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2849'>#</a></div><div class='texpara'><div id='free-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#free-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>class</span> Arena;
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span><span class='operator'>*</span> <span class='keyword'>operator</span> <span class='keyword'>new</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>size_t, Arena<span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D1 <span class='operator'>:</span> B <span class='curlybracket'>{</span>
<span class='curlybracket'>}</span>;

Arena<span class='operator'>*</span>  ap;
<span class='keyword'>void</span> foo<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>new</span> <span class='parenthesis'>(</span>ap<span class='parenthesis'>)</span> D1;      <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;operator new(std&#x200b;::&#x200b;size_<span class='shy'></span>t, Arena*)</span></span>
  <span class='keyword'>new</span> D1<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>;        <span class='comment'>// calls <span class='tcode_in_codeblock'>&#x200b;::&#x200b;operator new[](std&#x200b;::&#x200b;size_<span class='shy'></span>t)</span></span>
  <span class='keyword'>new</span> D1;           <span class='comment'>// error: <span class='tcode_in_codeblock'>&#x200b;::&#x200b;operator new(std&#x200b;::&#x200b;size_<span class='shy'></span>t)</span> hidden</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='free-3'><div class='marginalizedparent'><a class='marginalized' href='#free-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2868'>#</a></div><div class='texpara'><div id='free-3.sentence-1' class='sentence'><a class='index' id=':delete,type_of'></a><a class='index' id=':deallocation_function,class-specific'></a>Any deallocation function for a class
<span class='texttt'>X</span>
is a static member (even if not explicitly declared
<span id=':static____'><span class='texttt'><span class='keyword'>static</span></span></span>)<a class='hidden_link' href='#free-3.sentence-1'>.</a></div> <div id='free-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#free-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> Y <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='free-4'><div class='marginalizedparent'><a class='marginalized' href='#free-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2889'>#</a></div><div class='texpara'><div id='free-4.sentence-1' class='sentence'>Since member allocation and deallocation functions are
<span id=':static_____'><span class='texttt'><span class='keyword'>static</span></span></span>
they cannot be virtual<a class='hidden_link' href='#free-4.sentence-1'>.</a></div> <div id='free-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#free-note-1'>1</a></i>: <div id='free-4.sentence-2' class='sentence'>However, when the
<a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression'><span class='textsf'><i >cast-expression</i></span></span></a>
of a
<a href='expr.delete#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression___'><span class='textsf'><i >delete-expression</i></span></span></a>
refers to an object of class type with a virtual destructor,
because the deallocation function is chosen by the destructor
of the dynamic type of the object, the effect is the same in that case<a class='hidden_link' href='#free-4.sentence-2'>.</a></div> <div id='free-4.sentence-3' class='sentence'>For example,
<span class='codeblock'><span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> E <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> log_deletion<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span>E <span class='operator'>*</span>p, std<span class='operator'>::</span>destroying_delete_t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>log_deletion<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    p<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>~</span>E<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='operator'>::</span><span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span>p<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  B<span class='operator'>*</span> bp <span class='operator'>=</span> <span class='keyword'>new</span> D;
  <span class='keyword'>delete</span> bp;        <span class='comment'>// 1: uses <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;operator delete(void*)</span></span>
  bp <span class='operator'>=</span> <span class='keyword'>new</span> E;
  <span class='keyword'>delete</span> bp;        <span class='comment'>// 2: uses <span class='tcode_in_codeblock'>E&#x200b;::&#x200b;operator delete(E*, std&#x200b;::&#x200b;destroying_<span class='shy'></span>delete_<span class='shy'></span>t)</span></span>
<span class='curlybracket'>}</span>
</span></div> <div id='free-4.sentence-4' class='sentence'>
Here, storage for the object of class
<span class='texttt'>D</span>
is deallocated by
<span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
and
the object of class <span class='texttt'>E</span> is destroyed
and its storage is deallocated
by <span class='texttt'>E<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
due to the virtual destructor<a class='hidden_link' href='#free-4.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='free-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#free-note-2'>2</a></i>: <div id='free-4.sentence-5' class='sentence'>Virtual destructors have no effect on the deallocation function actually
called when the
<a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression_'><span class='textsf'><i >cast-expression</i></span></span></a>
of a
<a href='expr.delete#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression____'><span class='textsf'><i >delete-expression</i></span></span></a>
refers to an array of objects of class type<a class='hidden_link' href='#free-4.sentence-5'>.</a></div> <div id='free-4.sentence-6' class='sentence'>For example,
<span class='codeblock'><span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  D<span class='operator'>*</span> dp <span class='operator'>=</span> <span class='keyword'>new</span> D<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>;
  <span class='keyword'>delete</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span> dp;     <span class='comment'>// uses <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;operator delete[](void*, std&#x200b;::&#x200b;size_<span class='shy'></span>t)</span></span>
  B<span class='operator'>*</span> bp <span class='operator'>=</span> <span class='keyword'>new</span> D<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>;
  <span class='keyword'>delete</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span> bp;      <span class='comment'>// undefined behavior</span>
<span class='curlybracket'>}</span>
</span></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='free-5'><div class='marginalizedparent'><a class='marginalized' href='#free-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2965'>#</a></div><div class='texpara'><div id='free-5.sentence-1' class='sentence'>Access to the deallocation function is checked statically,
even if a different one is actually executed<a class='hidden_link' href='#free-5.sentence-1'>.</a></div> <div id='free-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#free-example-3'>3</a></i>: <div id='free-5.sentence-2' class='sentence'>For the call on line “// 1” above,
if
<span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span> <span class='keyword'>delete</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
had been private, the delete expression would have been ill-formed<a class='hidden_link' href='#free-5.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='free-6'><div class='marginalizedparent'><a class='marginalized' href='#free-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2975'>#</a></div><div class='texpara'><div id='free-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#free-note-3'>3</a></i>: <div id='free-6.sentence-1' class='sentence'>If a deallocation function has no explicit <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier_____'><span class='textsf'><i >noexcept-specifier</i></span></span></a>, it
has a non-throwing exception specification (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>)<a class='hidden_link' href='#free-6.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='nest' class='section'><h3 ><a class='secnum' href='#nest' style='min-width:80pt'>11.4.12</a> Nested class declarations <a class='abbr_ref' href='class.nest'>[class.nest]</a></h3><div class='texpara'><a class='index' id=':definition,nested_class'></a></div><div class='para' id='nest-1'><div class='marginalizedparent'><a class='marginalized' href='#nest-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L2984'>#</a></div><div class='texpara'><div id='nest-1.sentence-1' class='sentence'>A class can be declared within another class<a class='hidden_link' href='#nest-1.sentence-1'>.</a></div> <div id='nest-1.sentence-2' class='sentence'>A class declared within
another is called a <a class='hidden_link' href='#def:class,nested' title='11.4.12&emsp;Nested class declarations&emsp;[class.nest]'><span id='def:class,nested'><i >nested class</i></span></a><a class='hidden_link' href='#nest-1.sentence-2'>.</a></div> <div id='nest-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#nest-note-1'>1</a></i>: <div id='nest-1.sentence-3' class='sentence'>See <a href='expr.prim.id' title='7.5.4&emsp;Names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id]</a> for restrictions on the use of non-static data
members and non-static member functions<a class='hidden_link' href='#nest-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div id='nest-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#nest-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>int</span> x;
<span class='keyword'>int</span> y;

<span class='keyword'>struct</span> enclose <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x;
  <span class='keyword'>static</span> <span class='keyword'>int</span> s;

  <span class='keyword'>struct</span> inner <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      <span class='keyword'>int</span> a <span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;        <span class='comment'>// OK, operand of sizeof is an unevaluated operand</span>
      x <span class='operator'>=</span> i;                    <span class='comment'>// error: assign to <span class='tcode_in_codeblock'>enclose&#x200b;::&#x200b;x</span></span>
      s <span class='operator'>=</span> i;                    <span class='comment'>// OK, assign to <span class='tcode_in_codeblock'>enclose&#x200b;::&#x200b;s</span></span>
      <span class='operator'>::</span>x <span class='operator'>=</span> i;                  <span class='comment'>// OK, assign to global <span class='tcode_in_codeblock'>x</span></span>
      y <span class='operator'>=</span> i;                    <span class='comment'>// OK, assign to global <span class='tcode_in_codeblock'>y</span></span>
    <span class='curlybracket'>}</span>
    <span class='keyword'>void</span> g<span class='parenthesis'>(</span>enclose<span class='operator'>*</span> p, <span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>x <span class='operator'>=</span> i;                 <span class='comment'>// OK, assign to <span class='tcode_in_codeblock'>enclose&#x200b;::&#x200b;x</span></span>
    <span class='curlybracket'>}</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

inner<span class='operator'>*</span> p <span class='operator'>=</span> <span class='literal'>0</span>;                   <span class='comment'>// error: <span class='tcode_in_codeblock'>inner</span> not found</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='nest-2'><div class='marginalizedparent'><a class='marginalized' href='#nest-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3019'>#</a></div><div class='texpara'><div id='nest-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#nest-note-2'>2</a></i>: <div id='nest-2.sentence-1' class='sentence'>Nested classes can be defined
either in the enclosing class or in an enclosing namespace;
member functions and static data members of a nested class can be
defined either in the nested class or in an enclosing namespace scope<a class='hidden_link' href='#nest-2.sentence-1'>.</a></div> <div id='nest-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#nest-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>struct</span> enclose <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> inner <span class='curlybracket'>{</span>
    <span class='keyword'>static</span> <span class='keyword'>int</span> x;
    <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>int</span> enclose<span class='operator'>::</span>inner<span class='operator'>::</span>x <span class='operator'>=</span> <span class='literal'>1</span>;

<span class='keyword'>void</span> enclose<span class='operator'>::</span>inner<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>

<span class='keyword'>class</span> E <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> I1;                     <span class='comment'>// forward declaration of nested class</span>
  <span class='keyword'>class</span> I2;
  <span class='keyword'>class</span> I1 <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                 <span class='comment'>// definition of nested class</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>class</span> E<span class='operator'>::</span>I2 <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                <span class='comment'>// definition of nested class</span>
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='nest-3'><div class='marginalizedparent'><a class='marginalized' href='#nest-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3048'>#</a></div><div class='texpara'><div id='nest-3.sentence-1' class='sentence'><a class='index' id=':friend_function,nested_class'></a>A friend function (<a href='#friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>) defined
within a nested class has no special access rights to
members of an enclosing class<a class='hidden_link' href='#nest-3.sentence-1'>.</a></div></div></div></div></div><div id='union' class='section'><h2 ><a class='secnum' href='#union' style='min-width:65pt'>11.5</a> Unions <a class='abbr_ref' href='class.union'>[class.union]</a></h2><div id='union.general' class='section'><h3 ><a class='secnum' href='#union.general' style='min-width:80pt'>11.5.1</a> General <a class='abbr_ref' href='class.union.general'>[class.union.general]</a></h3><div class='texpara'><a class='index' id=':union__'></a></div><div class='para' id='union.general-1'><div class='marginalizedparent'><a class='marginalized' href='#union.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3059'>#</a></div><div class='texpara'><div id='union.general-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:union' title='11.5.1&emsp;General&emsp;[class.union.general]'><span id='def:union'><i >union</i></span></a> is a class defined with the <a href='#nt:class-key' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-key_______'><span class='textsf'><i >class-key</i></span></span></a>
<span id=':union___'><span class='texttt'><span class='keyword'>union</span></span></span><a class='hidden_link' href='#union.general-1.sentence-1'>.</a></div></div></div><div class='para' id='union.general-2'><div class='marginalizedparent'><a class='marginalized' href='#union.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3063'>#</a></div><div class='texpara'><div id='union.general-2.sentence-1' class='sentence'>In a union,
a non-static data member is <a class='hidden_link' href='#def:active,union_member' title='11.5.1&emsp;General&emsp;[class.union.general]'><span id='def:active,union_member'><i >active</i></span></a>
if its name refers to an object
whose lifetime has begun and has not ended (<a href='basic.life' title='6.7.3&emsp;Lifetime'>[basic.<span class='shy'></span>life]</a>)<a class='hidden_link' href='#union.general-2.sentence-1'>.</a></div> <div id='union.general-2.sentence-2' class='sentence'>At most one of the non-static data members of an object of union type
can be active at any
time, that is, the value of at most one of the non-static data members can be
stored in a union at any time<a class='hidden_link' href='#union.general-2.sentence-2'>.</a></div> <div id='union.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#union.general-note-1'>1</a></i>: <div id='union.general-2.sentence-3' class='sentence'>One special guarantee is made in order to
simplify the use of unions: If a standard-layout union contains several standard-layout
structs that share a common initial sequence (<a href='#mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>), and
if a non-static data member of an object of this standard-layout union type
is active and is one of the standard-layout structs,
it is permitted to inspect the common initial sequence
of any of the standard-layout struct members;
see <a href='#mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a><a class='hidden_link' href='#union.general-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='union.general-3'><div class='marginalizedparent'><a class='marginalized' href='#union.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3083'>#</a></div><div class='texpara'><div id='union.general-3.sentence-1' class='sentence'>The size of a union is sufficient to contain the largest
of its non-static data members<a class='hidden_link' href='#union.general-3.sentence-1'>.</a></div> <div id='union.general-3.sentence-2' class='sentence'>Each non-static data member is allocated
as if it were the sole member of a non-union class<a class='hidden_link' href='#union.general-3.sentence-2'>.</a></div> <div id='union.general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#union.general-note-2'>2</a></i>: <div id='union.general-3.sentence-3' class='sentence'>A union object and its non-static data members are
pointer-interconvertible (<a href='basic.compound' title='6.8.4&emsp;Compound types'>[basic.<span class='shy'></span>compound]</a>, <a href='expr.static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>)<a class='hidden_link' href='#union.general-3.sentence-3'>.</a></div> <div id='union.general-3.sentence-4' class='sentence'>As a consequence, all non-static data members of a
union object have the same address<a class='hidden_link' href='#union.general-3.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='union.general-4'><div class='marginalizedparent'><a class='marginalized' href='#union.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3094'>#</a></div><div class='texpara'><div id='union.general-4.sentence-1' class='sentence'><a class='index' id=':member_function,union'></a><a class='index' id=':constructor,union'></a><a class='index' id=':destructor,union'></a>A union can have member functions (including constructors and destructors),
<a class='index' id=':restriction,union'></a>but it shall not have virtual (<a href='#virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>) functions<a class='hidden_link' href='#union.general-4.sentence-1'>.</a></div> <div id='union.general-4.sentence-2' class='sentence'>A union shall not have
base classes<a class='hidden_link' href='#union.general-4.sentence-2'>.</a></div> <div id='union.general-4.sentence-3' class='sentence'>A union shall not be used as a base class<a class='hidden_link' href='#union.general-4.sentence-3'>.</a></div> <div id='union.general-4.sentence-4' class='sentence'><a class='index' id=':restriction,union_'></a>If a union contains a non-static data member of
reference type the program is ill-formed<a class='hidden_link' href='#union.general-4.sentence-4'>.</a></div> <div id='union.general-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#union.general-note-3'>3</a></i>: <div id='union.general-4.sentence-5' class='sentence'>Absent default member initializers (<a href='#mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>),
if any non-static data member of a union has a non-trivial
default constructor (<a href='#default.ctor' title='11.4.5.2&emsp;Default constructors'>[class.<span class='shy'></span>default.<span class='shy'></span>ctor]</a>),
copy constructor, move constructor (<a href='#copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>),
copy assignment operator, move assignment operator (<a href='#copy.assign' title='11.4.6&emsp;Copy/move assignment operator'>[class.<span class='shy'></span>copy.<span class='shy'></span>assign]</a>),
or destructor (<a href='#dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a>), the corresponding member function
of the union must be user-provided or it will
be implicitly deleted (<a href='dcl.fct.def.delete' title='9.5.3&emsp;Deleted definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>delete]</a>) for the union<a class='hidden_link' href='#union.general-4.sentence-5'>.</a></div> <div id='union.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#union.general-example-1'>1</a></i>: <div id='union.general-4.sentence-6' class='sentence'>Consider the following union:
<span class='codeblock'><span class='keyword'>union</span> U <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i;
  <span class='keyword'>float</span> f;
  std<span class='operator'>::</span>string s;
<span class='curlybracket'>}</span>;
</span></div> <div id='union.general-4.sentence-7' class='sentence'>
Since <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>string</span> (<a href='string.classes' title='23.4&emsp;String classes'>[string.<span class='shy'></span>classes]</a>) declares non-trivial versions of all of the special
member functions, <span class='texttt'>U</span> will have an implicitly deleted default constructor,
copy/move constructor,
copy/move assignment operator, and destructor<a class='hidden_link' href='#union.general-4.sentence-7'>.</a></div> <div id='union.general-4.sentence-8' class='sentence'>To use <span class='texttt'>U</span>, some or all of these member functions
must be user-provided<a class='hidden_link' href='#union.general-4.sentence-8'>.</a></div> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='union.general-5'><div class='marginalizedparent'><a class='marginalized' href='#union.general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3132'>#</a></div><div class='texpara'><div id='union.general-5.sentence-1' class='sentence'>When the left operand of an assignment operator
involves a member access expression (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>)
that nominates a union member,
it may begin the lifetime of that union member,
as described below<a class='hidden_link' href='#union.general-5.sentence-1'>.</a></div> <div id='union.general-5.sentence-2' class='sentence'>For an expression <span class='texttt'>E</span>,
define the set <span class='math'><span class='mathalpha'>S</span>(<span class='mathtt'>E</span>)</span>
of subexpressions of <span class='texttt'>E</span>
as follows:
<ul class='itemize'><li id='union.general-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#union.general-5.1'>(5.1)</a></div><div class='texpara'><div id='union.general-5.1.sentence-1' class='sentence'>If <span class='texttt'>E</span> is of the form <span class='texttt'>A<span class='operator'>.</span>B</span>,
<span class='math'><span class='mathalpha'>S</span>(<span class='mathtt'>E</span>)</span> contains the elements of <span class='math'><span class='mathalpha'>S</span>(<span class='mathtt'>A</span>)</span>,
and also contains <span class='texttt'>A<span class='operator'>.</span>B</span>
if <span class='texttt'>B</span> names a union member of a non-class, non-array type,
or of a class type with a trivial default constructor that is not deleted,
or an array of such types<a class='hidden_link' href='#union.general-5.1.sentence-1'>.</a></div></div></li><li id='union.general-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#union.general-5.2'>(5.2)</a></div><div class='texpara'><div id='union.general-5.2.sentence-1' class='sentence'>If <span class='texttt'>E</span> is of the form <span class='texttt'>A<span class='squarebracket'>[</span>B<span class='squarebracket'>]</span></span>
and is interpreted as a built-in array subscripting operator,
<span class='math'><span class='mathalpha'>S</span>(<span class='mathtt'>E</span>)</span> is <span class='math'><span class='mathalpha'>S</span>(<span class='mathtt'>A</span>)</span> if <span class='texttt'>A</span> is of array type,
<span class='math'><span class='mathalpha'>S</span>(<span class='mathtt'>B</span>)</span> if <span class='texttt'>B</span> is of array type,
and empty otherwise<a class='hidden_link' href='#union.general-5.2.sentence-1'>.</a></div></div></li><li id='union.general-5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#union.general-5.3'>(5.3)</a></div><div class='texpara'><div id='union.general-5.3.sentence-1' class='sentence'>Otherwise, <span class='math'><span class='mathalpha'>S</span>(<span class='mathtt'>E</span>)</span> is empty<a class='hidden_link' href='#union.general-5.3.sentence-1'>.</a></div></div></li></ul></div> <div id='union.general-5.sentence-3' class='sentence'>
In an assignment expression of the form <span class='texttt'>E1 <span class='operator'>=</span> E2</span>
that uses either the built-in assignment operator (<a href='expr.ass' title='7.6.19&emsp;Assignment and compound assignment operators'>[expr.<span class='shy'></span>ass]</a>)
or a trivial assignment operator (<a href='#copy.assign' title='11.4.6&emsp;Copy/move assignment operator'>[class.<span class='shy'></span>copy.<span class='shy'></span>assign]</a>),
for each element <span class='texttt'>X</span> of <span class='math'><span class='mathalpha'>S</span>(</span><span class='texttt'>E1</span><span class='math'>)</span>,
if modification of <span class='texttt'>X</span> would have undefined behavior under <a href='basic.life' title='6.7.3&emsp;Lifetime'>[basic.<span class='shy'></span>life]</a>,
an object of the type of <span class='texttt'>X</span> is implicitly created
in the nominated storage;
no initialization is performed and
the beginning of its lifetime is sequenced after
the value computation of the left and right operands
and before the assignment<a class='hidden_link' href='#union.general-5.sentence-3'>.</a></div> <div id='union.general-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#union.general-note-4'>4</a></i>: <div id='union.general-5.sentence-4' class='sentence'>This ends the lifetime of the previously-active
member of the union, if any (<a href='basic.life' title='6.7.3&emsp;Lifetime'>[basic.<span class='shy'></span>life]</a>)<a class='hidden_link' href='#union.general-5.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='union.general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#union.general-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>union</span> A <span class='curlybracket'>{</span> <span class='keyword'>int</span> x; <span class='keyword'>int</span> y<span class='squarebracket'>[</span><span class='literal'>4</span><span class='squarebracket'>]</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span> A a; <span class='curlybracket'>}</span>;
<span class='keyword'>union</span> C <span class='curlybracket'>{</span> B b; <span class='keyword'>int</span> k; <span class='curlybracket'>}</span>;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  C c;                  <span class='comment'>// does not start lifetime of any union member</span>
  c<span class='operator'>.</span>b<span class='operator'>.</span>a<span class='operator'>.</span>y<span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='literal'>4</span>;       <span class='comment'>// OK, <span class='math'><span class='mathalpha'>S</span>(</span><span class='tcode_in_codeblock'>c.b.a.y[3]</span><span class='math'>)</span> contains <span class='tcode_in_codeblock'>c.b</span> and <span class='tcode_in_codeblock'>c.b.a.y</span>;</span>
                        <span class='comment'>// creates objects to hold union members <span class='tcode_in_codeblock'>c.b</span> and <span class='tcode_in_codeblock'>c.b.a.y</span></span>
  <span class='keyword'>return</span> c<span class='operator'>.</span>b<span class='operator'>.</span>a<span class='operator'>.</span>y<span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span>;    <span class='comment'>// OK, <span class='tcode_in_codeblock'>c.b.a.y</span> refers to newly created object (see <a href='basic.life' title='6.7.3&emsp;Lifetime'>[basic.<span class='shy'></span>life]</a>)</span>
<span class='curlybracket'>}</span>

<span class='keyword'>struct</span> X <span class='curlybracket'>{</span> <span class='keyword'>const</span> <span class='keyword'>int</span> a; <span class='keyword'>int</span> b; <span class='curlybracket'>}</span>;
<span class='keyword'>union</span> Y <span class='curlybracket'>{</span> X x; <span class='keyword'>int</span> k; <span class='curlybracket'>}</span>;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  Y y <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span> <span class='curlybracket'>}</span> <span class='curlybracket'>}</span>;   <span class='comment'>// OK, <span class='tcode_in_codeblock'>y.x</span> is active union member (<a href='#mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>)</span>
  <span class='keyword'>int</span> n <span class='operator'>=</span> y<span class='operator'>.</span>x<span class='operator'>.</span>a;
  y<span class='operator'>.</span>k <span class='operator'>=</span> <span class='literal'>4</span>;              <span class='comment'>// OK, ends lifetime of <span class='tcode_in_codeblock'>y.x</span>, <span class='tcode_in_codeblock'>y.k</span> is active member of union</span>
  y<span class='operator'>.</span>x<span class='operator'>.</span>b <span class='operator'>=</span> n;            <span class='comment'>// undefined behavior: <span class='tcode_in_codeblock'>y.x.b</span> modified outside its lifetime,</span>
                        <span class='comment'>// <span class='math'><span class='mathalpha'>S</span>(</span><span class='tcode_in_codeblock'>y.x.b</span><span class='math'>)</span> is empty because <span class='tcode_in_codeblock'>X</span>'s default constructor is deleted,</span>
                        <span class='comment'>// so union member <span class='tcode_in_codeblock'>y.x</span>'s lifetime does not implicitly start</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='union.general-6'><div class='marginalizedparent'><a class='marginalized' href='#union.general-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3199'>#</a></div><div class='texpara'><div id='union.general-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#union.general-note-5'>5</a></i>: <div id='union.general-6.sentence-1' class='sentence'>In cases where the above rule does not apply,
the active member of a union can only be changed by
the use of a placement <a href='expr.new#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression__'><span class='textsf'><i >new-expression</i></span></span></a><a class='hidden_link' href='#union.general-6.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='union.general-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#union.general-example-3'>3</a></i>: <div id='union.general-6.sentence-2' class='sentence'>Consider an object <span class='texttt'>u</span> of a <span id=':union____'><span class='texttt'><span class='keyword'>union</span></span></span> type <span class='texttt'>U</span> having non-static data members
<span class='texttt'>m</span> of type <span class='texttt'>M</span> and <span class='texttt'>n</span> of type <span class='texttt'>N</span><a class='hidden_link' href='#union.general-6.sentence-2'>.</a></div> <div id='union.general-6.sentence-3' class='sentence'>If <span class='texttt'>M</span> has a non-trivial
destructor and <span class='texttt'>N</span> has a non-trivial constructor (for instance, if they declare or inherit
virtual functions), the active member of <span class='texttt'>u</span> can be safely switched from <span class='texttt'>m</span> to
<span class='texttt'>n</span> using the destructor and placement <a href='expr.new#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression___'><span class='textsf'><i >new-expression</i></span></span></a> as follows:
<span class='codeblock'>u<span class='operator'>.</span>m<span class='operator'>.</span><span class='operator'>~</span>M<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>new</span> <span class='parenthesis'>(</span><span class='operator'>&amp;</span>u<span class='operator'>.</span>n<span class='parenthesis'>)</span> N;
</span></div> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='union.anon' class='section'><h3 ><a class='secnum' href='#union.anon' style='min-width:80pt'>11.5.2</a> Anonymous unions <a class='abbr_ref' href='class.union.anon'>[class.union.anon]</a></h3><div class='texpara'><a class='index' id=':union,anonymous'></a></div><div class='para' id='union.anon-1'><div class='marginalizedparent'><a class='marginalized' href='#union.anon-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3220'>#</a></div><div class='texpara'><div id='union.anon-1.sentence-1' class='sentence'>A union of the form
<div class='simplebnf'>
<span id=':union_____'><span class='texttt'><span class='keyword'>union</span></span></span> <span class='terminal'><span class='curlybracket'>{</span></span> <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification____________'><span class='textsf'><i >member-specification</i></span></span></a> <span class='terminal'><span class='curlybracket'>}</span></span> <span class='terminal'>;</span>
</div>
is called an <a class='hidden_link' href='#def:anonymous_union' title='11.5.2&emsp;Anonymous unions&emsp;[class.union.anon]'><span id='def:anonymous_union'><i >anonymous union</i></span></a>; it defines an unnamed type and
an unnamed object of that type called
an <a class='hidden_link' href='#def:member,anonymous_union' title='11.5.2&emsp;Anonymous unions&emsp;[class.union.anon]'><span id='def:member,anonymous_union'><i >anonymous union member</i></span></a>
if it is a non-static data member or
an <a class='hidden_link' href='#def:variable,anonymous_union' title='11.5.2&emsp;Anonymous unions&emsp;[class.union.anon]'><span id='def:variable,anonymous_union'><i >anonymous union variable</i></span></a> otherwise<a class='hidden_link' href='#union.anon-1.sentence-1'>.</a></div> <div id='union.anon-1.sentence-2' class='sentence'><a class='index' id=':access_control,anonymous_union'></a><a class='index' id=':restriction,anonymous_union'></a>Each <a href='#nt:member-declaration' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declaration_________'><span class='textsf'><i >member-declaration</i></span></span></a> in the <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification_____________'><span class='textsf'><i >member-specification</i></span></span></a>
of an anonymous union shall either define one or more public non-static data members or
be a <a href='dcl.pre#nt:static_assert-declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:static_assert-declaration__'><span class='textsf'><i >static_assert-declaration</i></span></span></a><a class='hidden_link' href='#union.anon-1.sentence-2'>.</a></div> <div id='union.anon-1.sentence-3' class='sentence'>Nested types, anonymous unions, and functions
shall not be declared within an anonymous union<a class='hidden_link' href='#union.anon-1.sentence-3'>.</a></div> <div id='union.anon-1.sentence-4' class='sentence'>The names of the members of an anonymous union
are bound in the scope inhabited by the union declaration<a class='hidden_link' href='#union.anon-1.sentence-4'>.</a></div> <div id='union.anon-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#union.anon-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>union</span> <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> p; <span class='curlybracket'>}</span>;
  a <span class='operator'>=</span> <span class='literal'>1</span>;
  p <span class='operator'>=</span> <span class='literal'>"Jennifer"</span>;
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><div id='union.anon-1.sentence-5' class='sentence'>Here <span class='texttt'>a</span> and <span class='texttt'>p</span> are used like ordinary (non-member)
variables, but since they are union members they have the same address<a class='hidden_link' href='#union.anon-1.sentence-5'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='union.anon-2'><div class='marginalizedparent'><a class='marginalized' href='#union.anon-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3254'>#</a></div><div class='texpara'><div id='union.anon-2.sentence-1' class='sentence'><a class='index' id=':union,global_anonymous'></a><a class='index' id=':scope,anonymous_union_at_namespace'></a>Anonymous unions declared in the scope of a namespace with external linkage
shall be declared <span id=':static______'><span class='texttt'><span class='keyword'>static</span></span></span><a class='hidden_link' href='#union.anon-2.sentence-1'>.</a></div> <div id='union.anon-2.sentence-2' class='sentence'>Anonymous unions declared at
block scope shall be declared with any storage class allowed for a
block variable, or with no storage class<a class='hidden_link' href='#union.anon-2.sentence-2'>.</a></div> <div id='union.anon-2.sentence-3' class='sentence'>A storage class is not
allowed in a declaration of an anonymous union in a class scope<a class='hidden_link' href='#union.anon-2.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='union.anon-3'><div class='marginalizedparent'><a class='marginalized' href='#union.anon-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3263'>#</a></div><div class='texpara'><div id='union.anon-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#union.anon-note-1'>1</a></i>: <div id='union.anon-3.sentence-1' class='sentence'>A union for which objects, pointers, or references are declared is not an anonymous union<a class='hidden_link' href='#union.anon-3.sentence-1'>.</a></div> <div id='union.anon-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#union.anon-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>union</span> <span class='curlybracket'>{</span> <span class='keyword'>int</span> aa; <span class='keyword'>char</span><span class='operator'>*</span> p; <span class='curlybracket'>}</span> obj, <span class='operator'>*</span>ptr <span class='operator'>=</span> <span class='operator'>&amp;</span>obj;
  aa <span class='operator'>=</span> <span class='literal'>1</span>;           <span class='comment'>// error</span>
  ptr<span class='operator'>-</span><span class='anglebracket'>&gt;</span>aa <span class='operator'>=</span> <span class='literal'>1</span>;      <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><div id='union.anon-3.sentence-2' class='sentence'>The assignment to plain <span class='texttt'>aa</span> is ill-formed since the member name
is not visible outside the union, and even if it were visible, it is not
associated with any particular object<a class='hidden_link' href='#union.anon-3.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div> <div id='union.anon-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#union.anon-note-2'>2</a></i>: <div id='union.anon-3.sentence-3' class='sentence'>Initialization of unions with no user-declared constructors is described
in <a href='dcl.init.aggr' title='9.4.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a><a class='hidden_link' href='#union.anon-3.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='union.anon-4'><div class='marginalizedparent'><a class='marginalized' href='#union.anon-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3285'>#</a></div><div class='texpara'><div id='union.anon-4.sentence-1' class='sentence'><a class='index' id=':class,variant_member_of'></a>A <a class='hidden_link' href='#def:class,union-like' title='11.5.2&emsp;Anonymous unions&emsp;[class.union.anon]'><span id='def:class,union-like'><i >union-like class</i></span></a> is a union or a class that has an anonymous union as a direct
member<a class='hidden_link' href='#union.anon-4.sentence-1'>.</a></div> <div id='union.anon-4.sentence-2' class='sentence'>A union-like class <span class='texttt'>X</span> has a set of <a class='hidden_link' href='#def:variant_member' title='11.5.2&emsp;Anonymous unions&emsp;[class.union.anon]'><span id='def:variant_member'><i >variant members</i></span></a><a class='hidden_link' href='#union.anon-4.sentence-2'>.</a></div> <div id='union.anon-4.sentence-3' class='sentence'>If <span class='texttt'>X</span> is a union, a non-static data member of <span class='texttt'>X</span> that is not an anonymous
union is a variant member of <span class='texttt'>X</span><a class='hidden_link' href='#union.anon-4.sentence-3'>.</a></div> <div id='union.anon-4.sentence-4' class='sentence'>In addition, a non-static data member of an
anonymous union that is a member of <span class='texttt'>X</span> is also a variant member of <span class='texttt'>X</span><a class='hidden_link' href='#union.anon-4.sentence-4'>.</a></div> <div id='union.anon-4.sentence-5' class='sentence'>At most one variant member of a union may have a default member initializer<a class='hidden_link' href='#union.anon-4.sentence-5'>.</a></div> <div id='union.anon-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#union.anon-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>union</span> U <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x <span class='operator'>=</span> <span class='literal'>0</span>;
  <span class='keyword'>union</span> <span class='curlybracket'>{</span>
    <span class='keyword'>int</span> k;
  <span class='curlybracket'>}</span>;
  <span class='keyword'>union</span> <span class='curlybracket'>{</span>
    <span class='keyword'>int</span> z;
    <span class='keyword'>int</span> y <span class='operator'>=</span> <span class='literal'>1</span>;      <span class='comment'>// error: initialization for second variant member of <span class='tcode_in_codeblock'>U</span></span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div></div><div id='local' class='section'><h2 ><a class='secnum' href='#local' style='min-width:65pt'>11.6</a> Local class declarations <a class='abbr_ref' href='class.local'>[class.local]</a></h2><div class='texpara'><a class='index' id=':declaration,local_class'></a><a class='index' id=':definition,local_class'></a></div><div class='para' id='local-1'><div class='marginalizedparent'><a class='marginalized' href='#local-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3313'>#</a></div><div class='texpara'><div id='local-1.sentence-1' class='sentence'>A class can be declared within a function definition; such a class is
called a <a class='hidden_link' href='#def:class,local' title='11.6&emsp;Local class declarations&emsp;[class.local]'><span id='def:class,local'><i >local class</i></span></a><a class='hidden_link' href='#local-1.sentence-1'>.</a></div> <div id='local-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#local-note-1'>1</a></i>: <div id='local-1.sentence-2' class='sentence'>A declaration in a local class
cannot odr-use (<a href='basic.def.odr#term.odr.use' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>)
a local entity
from an
enclosing scope<a class='hidden_link' href='#local-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='local-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#local-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>int</span> x;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>int</span> s;
  <span class='keyword'>int</span> x;
  <span class='keyword'>const</span> <span class='keyword'>int</span> N <span class='operator'>=</span> <span class='literal'>5</span>;
  <span class='keyword'>extern</span> <span class='keyword'>int</span> q<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>int</span> arr<span class='squarebracket'>[</span><span class='literal'>2</span><span class='squarebracket'>]</span>;
  <span class='keyword'>auto</span> <span class='squarebracket'>[</span>y, z<span class='squarebracket'>]</span> <span class='operator'>=</span> arr;

  <span class='keyword'>struct</span> local <span class='curlybracket'>{</span>
    <span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> x; <span class='curlybracket'>}</span>       <span class='comment'>// error: odr-use of non-odr-usable variable <span class='tcode_in_codeblock'>x</span></span>
    <span class='keyword'>int</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> s; <span class='curlybracket'>}</span>       <span class='comment'>// OK</span>
    <span class='keyword'>int</span> k<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='operator'>::</span>x; <span class='curlybracket'>}</span>     <span class='comment'>// OK</span>
    <span class='keyword'>int</span> l<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> q<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>     <span class='comment'>// OK</span>
    <span class='keyword'>int</span> m<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> N; <span class='curlybracket'>}</span>       <span class='comment'>// OK, not an odr-use</span>
    <span class='keyword'>int</span><span class='operator'>*</span> n<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='operator'>&amp;</span>N; <span class='curlybracket'>}</span>     <span class='comment'>// error: odr-use of non-odr-usable variable <span class='tcode_in_codeblock'>N</span></span>
    <span class='keyword'>int</span> p<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> y; <span class='curlybracket'>}</span>       <span class='comment'>// error: odr-use of non-odr-usable structured binding <span class='tcode_in_codeblock'>y</span></span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>

local<span class='operator'>*</span> p <span class='operator'>=</span> <span class='literal'>0</span>;                   <span class='comment'>// error: <span class='tcode_in_codeblock'>local</span> not found</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='local-2'><div class='marginalizedparent'><a class='marginalized' href='#local-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3349'>#</a></div><div class='texpara'><div id='local-2.sentence-1' class='sentence'>An enclosing function has no special access to members of the local
class; it obeys the usual access rules (<a href='#access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>)<a class='hidden_link' href='#local-2.sentence-1'>.</a></div> <div id='local-2.sentence-2' class='sentence'><a class='index' id=':member_function,local_class'></a>Member functions of a local class shall be defined within their class
definition, if they are defined at all<a class='hidden_link' href='#local-2.sentence-2'>.</a></div></div></div><div class='para' id='local-3'><div class='marginalizedparent'><a class='marginalized' href='#local-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3356'>#</a></div><div class='texpara'><div id='local-3.sentence-1' class='sentence'><a class='index' id=':nested_class,local_class'></a>If class <span class='texttt'>X</span> is a local class a nested class <span class='texttt'>Y</span> may be
declared in class <span class='texttt'>X</span> and later defined in the definition of class
<span class='texttt'>X</span> or be later defined in the same scope as the definition of
class <span class='texttt'>X</span><a class='hidden_link' href='#local-3.sentence-1'>.</a></div> <div id='local-3.sentence-2' class='sentence'><a class='index' id=':restriction,local_class'></a>A class nested within
a local class is a local class<a class='hidden_link' href='#local-3.sentence-2'>.</a></div></div></div><div class='para nonNormativeOnly' id='local-4'><div class='marginalizedparent'><a class='marginalized' href='#local-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3366'>#</a></div><div class='texpara'><a class='index' id=':restriction,static_member_local_class'></a><div id='local-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#local-note-2'>2</a></i>: <div id='local-4.sentence-1' class='sentence'>A local class cannot have static data members (<a href='#static.data' title='11.4.9.3&emsp;Static data members'>[class.<span class='shy'></span>static.<span class='shy'></span>data]</a>)<a class='hidden_link' href='#local-4.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='derived' class='section'><h2 ><a class='secnum' href='#derived' style='min-width:65pt'>11.7</a> Derived classes <a class='abbr_ref' href='class.derived'>[class.derived]</a></h2><div id='derived.general' class='section'><h3 ><a class='secnum' href='#derived.general' style='min-width:80pt'>11.7.1</a> General <a class='abbr_ref' href='class.derived.general'>[class.derived.general]</a></h3><div class='texpara'><a class='index' id=':derived_class'></a></div><div class='texpara'>

</div><div class='para' id='derived.general-1'><div class='marginalizedparent'><a class='marginalized' href='#derived.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3381'>#</a></div><div class='texpara'><div id='derived.general-1.sentence-1' class='sentence'><a class='index' id=':base_class'></a><a class='index' id=':inheritance'></a><a class='index' id=':multiple_inheritance'></a>A list of base classes can be specified in a class definition using
the notation:
<div class='bnf' id='nt:base-clause'>
<a class='hidden_link' href='#nt:base-clause' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='nt:base-clause'><span id=':base-clause'>base-clause<span class='textnormal'>:</span></span></span></a><br/><span class='terminal'><span class='operator'>:</span></span> <a href='#nt:base-specifier-list' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier-list_'><span class='textsf'><i >base-specifier-list</i></span></span></a>
</div></div></div><div class='texpara'><div class='bnf' id='nt:base-specifier-list'>
<a class='hidden_link' href='#nt:base-specifier-list' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='nt:base-specifier-list'><span id=':base-specifier-list'>base-specifier-list<span class='textnormal'>:</span></span></span></a><br/><a href='#nt:base-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier'><span class='textsf'><i >base-specifier</i></span></span></a> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><br/><a href='#nt:base-specifier-list' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier-list__'><span class='textsf'><i >base-specifier-list</i></span></span></a> <span class='terminal'>,</span> <a href='#nt:base-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier_'><span class='textsf'><i >base-specifier</i></span></span></a> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:base-specifier'>
<a class='hidden_link' href='#nt:base-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='nt:base-specifier'><span id=':base-specifier'>base-specifier<span class='textnormal'>:</span></span></span></a><br/><a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq_______________'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='#nt:class-or-decltype' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:class-or-decltype_'><span class='textsf'><i >class-or-decltype</i></span></span></a><br/><a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq________________'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span id=':virtual___'><span class='texttt'><span class='keyword'>virtual</span></span></span> <a href='#nt:access-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:access-specifier_'><span class='textsf'><i >access-specifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='#nt:class-or-decltype' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:class-or-decltype__'><span class='textsf'><i >class-or-decltype</i></span></span></a><br/><a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq_________________'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='#nt:access-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:access-specifier__'><span class='textsf'><i >access-specifier</i></span></span></a> <span id=':virtual____'><span class='texttt'><span class='keyword'>virtual</span></span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='#nt:class-or-decltype' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:class-or-decltype___'><span class='textsf'><i >class-or-decltype</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:class-or-decltype'>
<a class='hidden_link' href='#nt:class-or-decltype' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='nt:class-or-decltype'><span id=':class-or-decltype'>class-or-decltype<span class='textnormal'>:</span></span></span></a><br/><a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_____'><span class='textsf'><i >nested-name-specifier</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name_'><span class='textsf'><i >type-name</i></span></span></a><br/><a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier______'><span class='textsf'><i >nested-name-specifier</i></span></span></a> <span id=':template'><span class='texttt'><span class='keyword'>template</span></span></span> <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id___'><span class='textsf'><i >simple-template-id</i></span></span></a><br/><a href='dcl.type.decltype#nt:decltype-specifier' title='9.2.9.5&emsp;Decltype specifiers&emsp;[dcl.type.decltype]'><span id='ntref:decltype-specifier_'><span class='textsf'><i >decltype-specifier</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:access-specifier'>
<a class='hidden_link' href='#nt:access-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='nt:access-specifier'><span id=':access-specifier'>access-specifier<span class='textnormal'>:</span></span></span></a><br/><span id=':private'><span class='texttt'><span class='keyword'>private</span></span></span><br/><span id=':protected'><span class='texttt'><span class='keyword'>protected</span></span></span><br/><span id=':public'><span class='texttt'><span class='keyword'>public</span></span></span>
</div></div><div class='texpara'><div id='derived.general-1.sentence-2' class='sentence'>The optional <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq__________________'><span class='textsf'><i >attribute-specifier-seq</i></span></span></a> appertains to the <a href='#nt:base-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier__'><span class='textsf'><i >base-specifier</i></span></span></a><a class='hidden_link' href='#derived.general-1.sentence-2'>.</a></div></div></div><div class='para' id='derived.general-2'><div class='marginalizedparent'><a class='marginalized' href='#derived.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3424'>#</a></div><div class='texpara'><div id='derived.general-2.sentence-1' class='sentence'><a class='index' id=':component_name'></a>The component names of a <a href='#nt:class-or-decltype' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:class-or-decltype____'><span class='textsf'><i >class-or-decltype</i></span></span></a> are those of its
<a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_______'><span class='textsf'><i >nested-name-specifier</i></span></span></a>,
<a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name__'><span class='textsf'><i >type-name</i></span></span></a>, and/or
<a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id____'><span class='textsf'><i >simple-template-id</i></span></span></a><a class='hidden_link' href='#derived.general-2.sentence-1'>.</a></div> <div id='derived.general-2.sentence-2' class='sentence'><a class='index' id=':type,incomplete'></a>A <a href='#nt:class-or-decltype' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:class-or-decltype_____'><span class='textsf'><i >class-or-decltype</i></span></span></a> shall denote
a (possibly cv-qualified) class type that is not
an incompletely defined class (<a href='#mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>);
any cv-qualifiers are ignored<a class='hidden_link' href='#derived.general-2.sentence-2'>.</a></div> <div id='derived.general-2.sentence-3' class='sentence'>The class denoted by the <a href='#nt:class-or-decltype' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:class-or-decltype______'><span class='textsf'><i >class-or-decltype</i></span></span></a> of
a <a href='#nt:base-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier___'><span class='textsf'><i >base-specifier</i></span></span></a> is called a
<a class='hidden_link' href='#def:base_class,direct' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='def:base_class,direct'><i >direct base class</i></span></a>
for the class being defined<a class='hidden_link' href='#derived.general-2.sentence-3'>.</a></div> <div id='derived.general-2.sentence-4' class='sentence'><a class='index' id=':base_class_'></a>The lookup for the component name of
the <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name___'><span class='textsf'><i >type-name</i></span></span></a> or <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id_____'><span class='textsf'><i >simple-template-id</i></span></span></a>
is type-only (<a href='basic.lookup' title='6.5&emsp;Name lookup'>[basic.<span class='shy'></span>lookup]</a>)<a class='hidden_link' href='#derived.general-2.sentence-4'>.</a></div> <div id='derived.general-2.sentence-5' class='sentence'>A class <span class='texttt'>B</span> is a
base class of a class <span class='texttt'>D</span> if it is a direct base class of
<span class='texttt'>D</span> or a direct base class of one of <span class='texttt'>D</span>'s base classes<a class='hidden_link' href='#derived.general-2.sentence-5'>.</a></div> <div id='derived.general-2.sentence-6' class='sentence'>A class is an <a class='hidden_link' href='#def:base_class,indirect' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='def:base_class,indirect'><i >indirect base class</i></span></a> of another if it is a base
class but not a direct base class<a class='hidden_link' href='#derived.general-2.sentence-6'>.</a></div> <div id='derived.general-2.sentence-7' class='sentence'>A class is said to be (directly or
indirectly) <a class='hidden_link' href='#def:derived' id='def:derived'><i>derived</i></a> from its (direct or indirect) base
classes<a class='hidden_link' href='#derived.general-2.sentence-7'>.</a></div> <div id='derived.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#derived.general-note-1'>1</a></i>: <div id='derived.general-2.sentence-8' class='sentence'>See <a href='#access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a> for the meaning of
<a href='#nt:access-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:access-specifier___'><span class='textsf'><i >access-specifier</i></span></span></a><a class='hidden_link' href='#derived.general-2.sentence-8'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='derived.general-2.sentence-9' class='sentence'><a class='index' id=':access_control,base_class_member'></a>Members of a base class are also members of the derived class<a class='hidden_link' href='#derived.general-2.sentence-9'>.</a></div> <div id='derived.general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#derived.general-note-2'>2</a></i>: <div id='derived.general-2.sentence-10' class='sentence'>Constructors of a base class can be explicitly inherited (<a href='namespace.udecl' title='9.9&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>)<a class='hidden_link' href='#derived.general-2.sentence-10'>.</a></div> <div id='derived.general-2.sentence-11' class='sentence'>Base class members can be referred to in
expressions in the same manner as other members of the derived class,
unless their names are hidden or ambiguous (<a href='class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>)<a class='hidden_link' href='#derived.general-2.sentence-11'>.</a></div> <div id='derived.general-2.sentence-12' class='sentence'><a class='index' id=':operator,scope_resolution_'></a>The scope resolution operator <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> (<a href='expr.prim.id.qual' title='7.5.4.3&emsp;Qualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>qual]</a>) can be used
to refer to a direct or indirect base member explicitly,
even if it is hidden in the derived class<a class='hidden_link' href='#derived.general-2.sentence-12'>.</a></div> <div id='derived.general-2.sentence-13' class='sentence'>A derived class can itself serve as a base class subject to access
control; see <a href='#access.base' title='11.8.3&emsp;Accessibility of base classes and base class members'>[class.<span class='shy'></span>access.<span class='shy'></span>base]</a><a class='hidden_link' href='#derived.general-2.sentence-13'>.</a></div> <div id='derived.general-2.sentence-14' class='sentence'>A pointer to a derived class can be
implicitly converted to a pointer to an accessible unambiguous base
class (<a href='conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>)<a class='hidden_link' href='#derived.general-2.sentence-14'>.</a></div> <div id='derived.general-2.sentence-15' class='sentence'>An lvalue of a derived class type can be bound
to a reference to an accessible unambiguous base
class (<a href='dcl.init.ref' title='9.4.4&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>)<a class='hidden_link' href='#derived.general-2.sentence-15'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='derived.general-3'><div class='marginalizedparent'><a class='marginalized' href='#derived.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3474'>#</a></div><div class='texpara'><div id='derived.general-3.sentence-1' class='sentence'>The <a href='#nt:base-specifier-list' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier-list___'><span class='textsf'><i >base-specifier-list</i></span></span></a> specifies the type of the
<a class='hidden_link' href='#def:base_class_subobjects' id='def:base_class_subobjects'><i>base class subobjects</i></a> contained in an
object of the derived class type<a class='hidden_link' href='#derived.general-3.sentence-1'>.</a></div> <div id='derived.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#derived.general-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> Base <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a, b, c;
<span class='curlybracket'>}</span>;
</span></div><div class='texpara'><span class='codeblock'><span class='keyword'>struct</span> Derived <span class='operator'>:</span> Base <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> b;
<span class='curlybracket'>}</span>;
</span></div><div class='texpara'><span class='codeblock'><span class='keyword'>struct</span> Derived2 <span class='operator'>:</span> Derived <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> c;
<span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='derived.general-3.sentence-2' class='sentence'>Here, an object of class <span class='texttt'>Derived2</span> will have a subobject of class
<span class='texttt'>Derived</span> which in turn will have a subobject of class
<span class='texttt'>Base</span><a class='hidden_link' href='#derived.general-3.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='derived.general-4'><div class='marginalizedparent'><a class='marginalized' href='#derived.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3502'>#</a></div><div class='texpara'><div id='derived.general-4.sentence-1' class='sentence'>A <a href='#nt:base-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier____'><span class='textsf'><i >base-specifier</i></span></span></a> followed by an ellipsis is a pack
expansion (<a href='temp.variadic' title='13.7.4&emsp;Variadic templates'>[temp.<span class='shy'></span>variadic]</a>)<a class='hidden_link' href='#derived.general-4.sentence-1'>.</a></div></div></div><div class='para' id='derived.general-5'><div class='marginalizedparent'><a class='marginalized' href='#derived.general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3506'>#</a></div><div class='texpara'><div id='derived.general-5.sentence-1' class='sentence'>The order in which the base class subobjects are allocated in the most
derived object (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>) is unspecified<a class='hidden_link' href='#derived.general-5.sentence-1'>.</a></div> <div id='derived.general-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#derived.general-note-3'>3</a></i>: <div id='derived.general-5.sentence-2' class='sentence'>A derived class and its base class subobjects can be represented by a
directed acyclic graph (DAG) where an arrow means “directly derived
from” (see Figure <a href='#fig:class.dag'>3</a>)<a class='hidden_link' href='#derived.general-5.sentence-2'>.</a></div> <div id='derived.general-5.sentence-3' class='sentence'>An arrow need not have a physical representation in memory<a class='hidden_link' href='#derived.general-5.sentence-3'>.</a></div> <div id='derived.general-5.sentence-4' class='sentence'>A DAG of subobjects is often referred to as a “subobject lattice”<a class='hidden_link' href='#derived.general-5.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div class='figure' id='fig:class.dag'><svg width="79pt" height="140pt"
 viewBox="0.00 0.00 79.00 140.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g class="graph" transform="scale(1 1) rotate(0) translate(4 136)">
<title>dag</title>
<!-- Base -->
<g class="node">
<title>Base</title>
<text text-anchor="middle" x="35.5" y="-119.2" font-family="Courier New" font-size="11.00">Base</text>
</g>
<!-- Derived1 -->
<g class="node">
<title>Derived1</title>
<text text-anchor="middle" x="35.5" y="-63.2" font-family="Courier New" font-size="11.00">Derived1</text>
</g>
<!-- Derived1&#45;&gt;Base -->
<g class="edge">
<title>Derived1&#45;&gt;Base</title>
<path fill="none" stroke="black" d="M35.5,-76.41C35.5,-83.3 35.5,-92.9 35.5,-101.43"/>
<polygon fill="black" stroke="black" points="32,-101.7 35.5,-111.7 39,-101.7 32,-101.7"/>
</g>
<!-- Derived2 -->
<g class="node">
<title>Derived2</title>
<text text-anchor="middle" x="35.5" y="-7.2" font-family="Courier New" font-size="11.00">Derived2</text>
</g>
<!-- Derived2&#45;&gt;Derived1 -->
<g class="edge">
<title>Derived2&#45;&gt;Derived1</title>
<path fill="none" stroke="black" d="M35.5,-20.41C35.5,-27.3 35.5,-36.9 35.5,-45.43"/>
<polygon fill="black" stroke="black" points="32,-45.7 35.5,-55.7 39,-45.7 32,-45.7"/>
</g>
</g>
</svg>
<br>Figure <a href='#fig:class.dag'>3</a>: Directed acyclic graph&emsp;&ensp;<a href='./fig:class.dag'>[fig:class.dag]</a></div></div></div><div class='para nonNormativeOnly' id='derived.general-6'><div class='marginalizedparent'><a class='marginalized' href='#derived.general-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3526'>#</a></div><div class='texpara'><div id='derived.general-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#derived.general-note-4'>4</a></i>: <div id='derived.general-6.sentence-1' class='sentence'>Initialization of objects representing base classes can be specified in
constructors; see <a href='#base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a><a class='hidden_link' href='#derived.general-6.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='derived.general-7'><div class='marginalizedparent'><a class='marginalized' href='#derived.general-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3532'>#</a></div><div class='texpara'><div id='derived.general-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#derived.general-note-5'>5</a></i>: <div id='derived.general-7.sentence-1' class='sentence'>A base class subobject can have a layout different
from the layout of a most derived object of the same type<a class='hidden_link' href='#derived.general-7.sentence-1'>.</a></div> <div id='derived.general-7.sentence-2' class='sentence'>A base class
subobject can have a polymorphic behavior (<a href='#cdtor' title='11.9.5&emsp;Construction and destruction'>[class.<span class='shy'></span>cdtor]</a>)
different from the polymorphic behavior of a most derived object of the
same type<a class='hidden_link' href='#derived.general-7.sentence-2'>.</a></div> <div id='derived.general-7.sentence-3' class='sentence'>A base class subobject can be of zero size;
however, two subobjects that have the same class type and that belong to
the same most derived object cannot be allocated at the same
address (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>)<a class='hidden_link' href='#derived.general-7.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='mi' class='section'><h3 ><a class='secnum' href='#mi' style='min-width:80pt'>11.7.2</a> Multiple base classes <a class='abbr_ref' href='class.mi'>[class.mi]</a></h3><div class='texpara'><a class='index' id=':multiple_inheritance_'></a><a class='index' id=':base_class__'></a></div><div class='para' id='mi-1'><div class='marginalizedparent'><a class='marginalized' href='#mi-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3548'>#</a></div><div class='texpara'><div id='mi-1.sentence-1' class='sentence'>A class can be derived from any number of base classes<a class='hidden_link' href='#mi-1.sentence-1'>.</a></div> <div id='mi-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mi-note-1'>1</a></i>: <div id='mi-1.sentence-2' class='sentence'>The use of more than one direct base class is often called multiple inheritance<a class='hidden_link' href='#mi-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='mi-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#mi-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>class</span> A <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> C <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> D <span class='operator'>:</span> <span class='keyword'>public</span> A, <span class='keyword'>public</span> B, <span class='keyword'>public</span> C <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='mi-2'><div class='marginalizedparent'><a class='marginalized' href='#mi-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3562'>#</a></div><div class='texpara'><a class='index' id=':layout,class_object_'></a><a class='index' id=':initialization,order_of'></a><div id='mi-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mi-note-2'>2</a></i>: <div id='mi-2.sentence-1' class='sentence'>The order of derivation is not significant except as specified by the
semantics of initialization by constructor (<a href='#base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>),
cleanup (<a href='#dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a>), and storage
layout (<a href='#mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>, <a href='#access.spec' title='11.8.2&emsp;Access specifiers'>[class.<span class='shy'></span>access.<span class='shy'></span>spec]</a>)<a class='hidden_link' href='#mi-2.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='mi-3'><div class='marginalizedparent'><a class='marginalized' href='#mi-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3572'>#</a></div><div class='texpara'><div id='mi-3.sentence-1' class='sentence'>A class shall not be specified as a direct base class of a derived class
more than once<a class='hidden_link' href='#mi-3.sentence-1'>.</a></div> <div id='mi-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mi-note-3'>3</a></i>: <div id='mi-3.sentence-2' class='sentence'>A class can be an indirect base class more than once and can be a direct
and an indirect base class<a class='hidden_link' href='#mi-3.sentence-2'>.</a></div> <div id='mi-3.sentence-3' class='sentence'>There are limited things that can be done
with such a class;
lookup that finds its non-static data members and member functions
in the scope of the derived class will be ambiguous<a class='hidden_link' href='#mi-3.sentence-3'>.</a></div> <div id='mi-3.sentence-4' class='sentence'>However, the static members, enumerations and types can be
unambiguously referred to<a class='hidden_link' href='#mi-3.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='mi-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#mi-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>class</span> X <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> Y <span class='operator'>:</span> <span class='keyword'>public</span> X, <span class='keyword'>public</span> X <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;             <span class='comment'>// error</span>

</span>
<span class='codeblock'><span class='keyword'>class</span> L <span class='curlybracket'>{</span> <span class='keyword'>public</span><span class='operator'>:</span> <span class='keyword'>int</span> next;  <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> A <span class='operator'>:</span> <span class='keyword'>public</span> L <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> B <span class='operator'>:</span> <span class='keyword'>public</span> L <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> C <span class='operator'>:</span> <span class='keyword'>public</span> A, <span class='keyword'>public</span> B <span class='curlybracket'>{</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;   <span class='comment'>// well-formed</span>
<span class='keyword'>class</span> D <span class='operator'>:</span> <span class='keyword'>public</span> A, <span class='keyword'>public</span> L <span class='curlybracket'>{</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;   <span class='comment'>// well-formed</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='mi-4'><div class='marginalizedparent'><a class='marginalized' href='#mi-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3599'>#</a></div><div class='texpara'><div id='mi-4.sentence-1' class='sentence'><a class='index' id=':base_class,virtual'></a>A base class specifier that does not contain the keyword
<span id=':virtual_____'><span class='texttt'><span class='keyword'>virtual</span></span></span> specifies a <a class='hidden_link' href='#def:base_class,non-virtual' title='11.7.2&emsp;Multiple base classes&emsp;[class.mi]'><span id='def:base_class,non-virtual'><i >non-virtual base class</i></span></a><a class='hidden_link' href='#mi-4.sentence-1'>.</a></div> <div id='mi-4.sentence-2' class='sentence'>A base
class specifier that contains the keyword <span id=':virtual______'><span class='texttt'><span class='keyword'>virtual</span></span></span> specifies a
<a class='hidden_link' href='#def:base_class,virtual' title='11.7.2&emsp;Multiple base classes&emsp;[class.mi]'><span id='def:base_class,virtual'><i >virtual base class</i></span></a><a class='hidden_link' href='#mi-4.sentence-2'>.</a></div> <div id='mi-4.sentence-3' class='sentence'>For each distinct occurrence of a
non-virtual base class in the class lattice of the most derived class,
the most derived object (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>) shall contain a
corresponding distinct base class subobject of that type<a class='hidden_link' href='#mi-4.sentence-3'>.</a></div> <div id='mi-4.sentence-4' class='sentence'>For each
distinct base class that is specified virtual, the most derived object
shall contain a single base class subobject of that type<a class='hidden_link' href='#mi-4.sentence-4'>.</a></div></div></div><div class='para nonNormativeOnly' id='mi-5'><div class='marginalizedparent'><a class='marginalized' href='#mi-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3611'>#</a></div><div class='texpara'><div id='mi-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mi-note-4'>4</a></i>: <div id='mi-5.sentence-1' class='sentence'>For an object of class type <span class='texttt'>C</span>, each distinct occurrence of a
(non-virtual) base class <span class='texttt'>L</span> in the class lattice of <span class='texttt'>C</span>
corresponds one-to-one with a distinct <span class='texttt'>L</span> subobject within the
object of type <span class='texttt'>C</span><a class='hidden_link' href='#mi-5.sentence-1'>.</a></div> <div id='mi-5.sentence-2' class='sentence'>Given the class <span class='texttt'>C</span> defined above, an
object of class <span class='texttt'>C</span> will have two subobjects of class <span class='texttt'>L</span> as
shown in Figure <a href='#fig:class.nonvirt'>4</a><a class='hidden_link' href='#mi-5.sentence-2'>.</a></div></div><div class='texpara'><div class='figure' id='fig:class.nonvirt'><svg width="224pt" height="140pt"
 viewBox="0.00 0.00 224.00 140.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g class="graph" transform="scale(1 1) rotate(0) translate(4 136)">
<title>nonvirt</title>
<!-- L1 -->
<g class="node">
<title>L1</title>
<text text-anchor="middle" x="27" y="-119.2" font-family="Courier New" font-size="11.00">L</text>
</g>
<!-- L2 -->
<g class="node">
<title>L2</title>
<text text-anchor="middle" x="189" y="-119.2" font-family="Courier New" font-size="11.00">L</text>
</g>
<!-- A -->
<g class="node">
<title>A</title>
<text text-anchor="middle" x="27" y="-63.2" font-family="Courier New" font-size="11.00">A</text>
</g>
<!-- A&#45;&gt;L1 -->
<g class="edge">
<title>A&#45;&gt;L1</title>
<path fill="none" stroke="black" d="M27,-76.41C27,-83.3 27,-92.9 27,-101.43"/>
<polygon fill="black" stroke="black" points="23.5,-101.7 27,-111.7 30.5,-101.7 23.5,-101.7"/>
</g>
<!-- B -->
<g class="node">
<title>B</title>
<text text-anchor="middle" x="189" y="-63.2" font-family="Courier New" font-size="11.00">B</text>
</g>
<!-- B&#45;&gt;L2 -->
<g class="edge">
<title>B&#45;&gt;L2</title>
<path fill="none" stroke="black" d="M189,-76.41C189,-83.3 189,-92.9 189,-101.43"/>
<polygon fill="black" stroke="black" points="185.5,-101.7 189,-111.7 192.5,-101.7 185.5,-101.7"/>
</g>
<!-- C -->
<g class="node">
<title>C</title>
<text text-anchor="middle" x="108" y="-7.2" font-family="Courier New" font-size="11.00">C</text>
</g>
<!-- C&#45;&gt;A -->
<g class="edge">
<title>C&#45;&gt;A</title>
<path fill="none" stroke="black" d="M94.26,-20.16C81.85,-28.43 63.37,-40.75 48.92,-50.38"/>
<polygon fill="black" stroke="black" points="46.92,-47.52 40.54,-55.97 50.8,-53.34 46.92,-47.52"/>
</g>
<!-- C&#45;&gt;B -->
<g class="edge">
<title>C&#45;&gt;B</title>
<path fill="none" stroke="black" d="M121.74,-20.16C134.15,-28.43 152.63,-40.75 167.08,-50.38"/>
<polygon fill="black" stroke="black" points="165.2,-53.34 175.46,-55.97 169.08,-47.52 165.2,-53.34"/>
</g>
</g>
</svg>
<br>Figure <a href='#fig:class.nonvirt'>4</a>: Non-virtual base&emsp;&ensp;<a href='./fig:class.nonvirt'>[fig:class.nonvirt]</a></div></div><div class='texpara'><div id='mi-5.sentence-3' class='sentence'>In such lattices, explicit qualification can be used to specify which
subobject is meant<a class='hidden_link' href='#mi-5.sentence-3'>.</a></div> <div id='mi-5.sentence-4' class='sentence'>The body of function <span class='texttt'>C<span class='operator'>&#x200b;::&#x200b;</span>f</span> can refer to the
member <span class='texttt'>next</span> of each <span class='texttt'>L</span> subobject:
<span class='codeblock'><span class='keyword'>void</span> C<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> A<span class='operator'>::</span>next <span class='operator'>=</span> B<span class='operator'>::</span>next; <span class='curlybracket'>}</span>      <span class='comment'>// well-formed</span>
</span></div> <div id='mi-5.sentence-5' class='sentence'>
Without the <span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span></span> or <span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span></span> qualifiers, the definition of
<span class='texttt'>C<span class='operator'>&#x200b;::&#x200b;</span>f</span> above would be ill-formed because of
ambiguity (<a href='class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>)<a class='hidden_link' href='#mi-5.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='mi-6'><div class='marginalizedparent'><a class='marginalized' href='#mi-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3637'>#</a></div><div class='texpara'><div id='mi-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mi-note-5'>5</a></i>: <div id='mi-6.sentence-1' class='sentence'>In contrast, consider the case with a virtual base class:
<span class='codeblock'><span class='keyword'>class</span> V <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> A <span class='operator'>:</span> <span class='keyword'>virtual</span> <span class='keyword'>public</span> V <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> B <span class='operator'>:</span> <span class='keyword'>virtual</span> <span class='keyword'>public</span> V <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> C <span class='operator'>:</span> <span class='keyword'>public</span> A, <span class='keyword'>public</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
</span>
<div class='figure' id='fig:class.virt'><svg width="224pt" height="140pt"
 viewBox="0.00 0.00 224.00 140.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g class="graph" transform="scale(1 1) rotate(0) translate(4 136)">
<title>virt</title>
<!-- V -->
<g class="node">
<title>V</title>
<text text-anchor="middle" x="108" y="-119.2" font-family="Courier New" font-size="11.00">V</text>
</g>
<!-- A -->
<g class="node">
<title>A</title>
<text text-anchor="middle" x="27" y="-63.2" font-family="Courier New" font-size="11.00">A</text>
</g>
<!-- A&#45;&gt;V -->
<g class="edge">
<title>A&#45;&gt;V</title>
<path fill="none" stroke="black" d="M40.74,-76.16C53.15,-84.43 71.63,-96.75 86.08,-106.38"/>
<polygon fill="black" stroke="black" points="84.2,-109.34 94.46,-111.97 88.08,-103.52 84.2,-109.34"/>
</g>
<!-- B -->
<g class="node">
<title>B</title>
<text text-anchor="middle" x="189" y="-63.2" font-family="Courier New" font-size="11.00">B</text>
</g>
<!-- B&#45;&gt;V -->
<g class="edge">
<title>B&#45;&gt;V</title>
<path fill="none" stroke="black" d="M175.26,-76.16C162.85,-84.43 144.37,-96.75 129.92,-106.38"/>
<polygon fill="black" stroke="black" points="127.92,-103.52 121.54,-111.97 131.8,-109.34 127.92,-103.52"/>
</g>
<!-- C -->
<g class="node">
<title>C</title>
<text text-anchor="middle" x="108" y="-7.2" font-family="Courier New" font-size="11.00">C</text>
</g>
<!-- C&#45;&gt;A -->
<g class="edge">
<title>C&#45;&gt;A</title>
<path fill="none" stroke="black" d="M94.26,-20.16C81.85,-28.43 63.37,-40.75 48.92,-50.38"/>
<polygon fill="black" stroke="black" points="46.92,-47.52 40.54,-55.97 50.8,-53.34 46.92,-47.52"/>
</g>
<!-- C&#45;&gt;B -->
<g class="edge">
<title>C&#45;&gt;B</title>
<path fill="none" stroke="black" d="M121.74,-20.16C134.15,-28.43 152.63,-40.75 167.08,-50.38"/>
<polygon fill="black" stroke="black" points="165.2,-53.34 175.46,-55.97 169.08,-47.52 165.2,-53.34"/>
</g>
</g>
</svg>
<br>Figure <a href='#fig:class.virt'>5</a>: Virtual base&emsp;&ensp;<a href='./fig:class.virt'>[fig:class.virt]</a></div>
For an object <span class='texttt'>c</span> of class type <span class='texttt'>C</span>, a single subobject of
type <span class='texttt'>V</span> is shared by every base class subobject of <span class='texttt'>c</span> that has a
<span id=':virtual_______'><span class='texttt'><span class='keyword'>virtual</span></span></span> base class of type <span class='texttt'>V</span><a class='hidden_link' href='#mi-6.sentence-1'>.</a></div> <div id='mi-6.sentence-2' class='sentence'>Given the class <span class='texttt'>C</span>
defined above, an object of class <span class='texttt'>C</span> will have one subobject of
class <span class='texttt'>V</span>, as shown in Figure <a href='#fig:class.virt'>5</a><a class='hidden_link' href='#mi-6.sentence-2'>.</a></div> <a class='index' id=':DAG,multiple_inheritance'></a><a class='index' id=':DAG,virtual_base_class'></a> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='mi-7'><div class='marginalizedparent'><a class='marginalized' href='#mi-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3660'>#</a></div><div class='texpara'><div id='mi-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#mi-note-6'>6</a></i>: <div id='mi-7.sentence-1' class='sentence'>A class can have both virtual and non-virtual base classes of a given
type<a class='hidden_link' href='#mi-7.sentence-1'>.</a></div> <span class='codeblock'><span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> X <span class='operator'>:</span> <span class='keyword'>virtual</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> Y <span class='operator'>:</span> <span class='keyword'>virtual</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> Z <span class='operator'>:</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> AA <span class='operator'>:</span> <span class='keyword'>public</span> X, <span class='keyword'>public</span> Y, <span class='keyword'>public</span> Z <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
</span> <div id='mi-7.sentence-2' class='sentence'>
For an object of class <span class='texttt'>AA</span>, all <span id=':virtual________'><span class='texttt'><span class='keyword'>virtual</span></span></span> occurrences of
base class <span class='texttt'>B</span> in the class lattice of <span class='texttt'>AA</span> correspond to a
single <span class='texttt'>B</span> subobject within the object of type <span class='texttt'>AA</span>, and
every other occurrence of a (non-virtual) base class <span class='texttt'>B</span> in the
class lattice of <span class='texttt'>AA</span> corresponds one-to-one with a distinct
<span class='texttt'>B</span> subobject within the object of type <span class='texttt'>AA</span><a class='hidden_link' href='#mi-7.sentence-2'>.</a></div> <div id='mi-7.sentence-3' class='sentence'>Given the
class <span class='texttt'>AA</span> defined above, class <span class='texttt'>AA</span> has two subobjects of
class <span class='texttt'>B</span>: <span class='texttt'>Z</span>'s <span class='texttt'>B</span> and the virtual <span class='texttt'>B</span> shared
by <span class='texttt'>X</span> and <span class='texttt'>Y</span>, as shown in Figure <a href='#fig:class.virtnonvirt'>6</a><a class='hidden_link' href='#mi-7.sentence-3'>.</a></div></div><div class='texpara'><a class='index' id=':DAG,virtual_base_class_'></a><a class='index' id=':DAG,non-virtual_base_class'></a><a class='index' id=':DAG,multiple_inheritance_'></a><div class='figure' id='fig:class.virtnonvirt'><svg width="386pt" height="140pt"
 viewBox="0.00 0.00 386.00 140.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g class="graph" transform="scale(1 1) rotate(0) translate(4 136)">
<title>virtnonvirt</title>
<!-- B1 -->
<g class="node">
<title>B1</title>
<text text-anchor="middle" x="108" y="-119.2" font-family="Courier New" font-size="11.00">B</text>
</g>
<!-- B2 -->
<g class="node">
<title>B2</title>
<text text-anchor="middle" x="351" y="-119.2" font-family="Courier New" font-size="11.00">B</text>
</g>
<!-- AA -->
<g class="node">
<title>AA</title>
<text text-anchor="middle" x="108" y="-7.2" font-family="Courier New" font-size="11.00">AA</text>
</g>
<!-- X -->
<g class="node">
<title>X</title>
<text text-anchor="middle" x="27" y="-63.2" font-family="Courier New" font-size="11.00">X</text>
</g>
<!-- AA&#45;&gt;X -->
<g class="edge">
<title>AA&#45;&gt;X</title>
<path fill="none" stroke="black" d="M94.26,-20.16C81.85,-28.43 63.37,-40.75 48.92,-50.38"/>
<polygon fill="black" stroke="black" points="46.92,-47.52 40.54,-55.97 50.8,-53.34 46.92,-47.52"/>
</g>
<!-- Y -->
<g class="node">
<title>Y</title>
<text text-anchor="middle" x="189" y="-63.2" font-family="Courier New" font-size="11.00">Y</text>
</g>
<!-- AA&#45;&gt;Y -->
<g class="edge">
<title>AA&#45;&gt;Y</title>
<path fill="none" stroke="black" d="M121.74,-20.16C134.15,-28.43 152.63,-40.75 167.08,-50.38"/>
<polygon fill="black" stroke="black" points="165.2,-53.34 175.46,-55.97 169.08,-47.52 165.2,-53.34"/>
</g>
<!-- Z -->
<g class="node">
<title>Z</title>
<text text-anchor="middle" x="351" y="-63.2" font-family="Courier New" font-size="11.00">Z</text>
</g>
<!-- AA&#45;&gt;Z -->
<g class="edge">
<title>AA&#45;&gt;Z</title>
<path fill="none" stroke="black" d="M135.4,-17.09C179.09,-26.8 264.6,-45.8 313.78,-56.73"/>
<polygon fill="black" stroke="black" points="313.18,-60.18 323.7,-58.93 314.69,-53.35 313.18,-60.18"/>
</g>
<!-- X&#45;&gt;B1 -->
<g class="edge">
<title>X&#45;&gt;B1</title>
<path fill="none" stroke="black" d="M40.74,-76.16C53.15,-84.43 71.63,-96.75 86.08,-106.38"/>
<polygon fill="black" stroke="black" points="84.2,-109.34 94.46,-111.97 88.08,-103.52 84.2,-109.34"/>
</g>
<!-- Y&#45;&gt;B1 -->
<g class="edge">
<title>Y&#45;&gt;B1</title>
<path fill="none" stroke="black" d="M175.26,-76.16C162.85,-84.43 144.37,-96.75 129.92,-106.38"/>
<polygon fill="black" stroke="black" points="127.92,-103.52 121.54,-111.97 131.8,-109.34 127.92,-103.52"/>
</g>
<!-- Z&#45;&gt;B2 -->
<g class="edge">
<title>Z&#45;&gt;B2</title>
<path fill="none" stroke="black" d="M351,-76.41C351,-83.3 351,-92.9 351,-101.43"/>
<polygon fill="black" stroke="black" points="347.5,-101.7 351,-111.7 354.5,-101.7 347.5,-101.7"/>
</g>
</g>
</svg>
<br>Figure <a href='#fig:class.virtnonvirt'>6</a>: Virtual and non-virtual base&emsp;&ensp;<a href='./fig:class.virtnonvirt'>[fig:class.virtnonvirt]</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='virtual' class='section'><h3 ><a class='secnum' href='#virtual' style='min-width:80pt'>11.7.3</a> Virtual functions <a class='abbr_ref' href='class.virtual'>[class.virtual]</a></h3><div class='texpara'><a class='index' id=':function,virtual'></a><a class='index' id=':type,polymorphic'></a></div><div class='para' id='virtual-1'><div class='marginalizedparent'><a class='marginalized' href='#virtual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3695'>#</a></div><div class='texpara'><div id='virtual-1.sentence-1' class='sentence'>A non-static member function is a <a class='hidden_link' href='#def:function,virtual' title='11.7.3&emsp;Virtual functions&emsp;[class.virtual]'><span id='def:function,virtual'><i >virtual function</i></span></a>
if it is first declared with the keyword <span id=':virtual__________'><span class='texttt'><span class='keyword'>virtual</span></span></span> or
if it overrides a virtual member function declared in a base class
(see below)<a class='hidden_link' href='#virtual-1.sentence-1'>.</a><a class='footnoteref' href='#footnote-98' id='footnoteref-98' title='The use of the virtual specifier in the declaration of an overriding function is valid but redundant (has empty semantics).'>98</a></div> <div id='virtual-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#virtual-note-1'>1</a></i>: <div id='virtual-1.sentence-2' class='sentence'>Virtual functions support dynamic binding and object-oriented
programming<a class='hidden_link' href='#virtual-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='virtual-1.sentence-3' class='sentence'>
A class with a virtual member function is called a <a class='hidden_link' href='#def:class,polymorphic' title='11.7.3&emsp;Virtual functions&emsp;[class.virtual]'><span id='def:class,polymorphic'><i >polymorphic class</i></span></a><a class='hidden_link' href='#virtual-1.sentence-3'>.</a><a class='footnoteref' href='#footnote-99' id='footnoteref-99' title='If all virtual functions are immediate functions, the class is still polymorphic even if its internal representation does not otherwise require any additions for that polymorphic behavior.'>99</a></div></div></div><div class='para' id='virtual-2'><div class='marginalizedparent'><a class='marginalized' href='#virtual-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3718'>#</a></div><div class='texpara'><div id='virtual-2.sentence-1' class='sentence'>If a virtual member function <span class='math'><span class='mathalpha'>F</span></span> is declared in a class <span class='math'><span class='mathalpha'>B</span></span>, and,
in a class <span class='math'><span class='mathalpha'>D</span></span> derived (directly or indirectly) from <span class='math'><span class='mathalpha'>B</span></span>,
a declaration of a member function <span class='math'><span class='mathalpha'>G</span></span>
corresponds (<a href='basic.scope.scope' title='6.4.1&emsp;General'>[basic.<span class='shy'></span>scope.<span class='shy'></span>scope]</a>) to a declaration of <span class='math'><span class='mathalpha'>F</span></span>,
ignoring trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause_'><span class='textsf'><i >requires-clause</i></span></span></a><i >s</i>,
then <span class='math'><span class='mathalpha'>G</span></span> <a class='hidden_link' href='#def:function,virtual,override' title='11.7.3&emsp;Virtual functions&emsp;[class.virtual]'><span id='def:function,virtual,override'><i >overrides</i></span></a><a class='footnoteref' href='#footnote-100' id='footnoteref-100' title='A function with the same name but a different parameter list ([over]) as a virtual function is not necessarily virtual and does not override. Access control ([class.access]) is not considered in determining overriding.'>100</a>
<span class='math'><span class='mathalpha'>F</span></span><a class='hidden_link' href='#virtual-2.sentence-1'>.</a></div> <div id='virtual-2.sentence-2' class='sentence'>For convenience we say that any virtual function overrides itself<a class='hidden_link' href='#virtual-2.sentence-2'>.</a></div> <div id='virtual-2.sentence-3' class='sentence'><a class='index' id=':overrider,final'></a>A virtual member function <span class='math'><span class='mathalpha'>V</span></span> of a class object <span class='math'><span class='mathalpha'>S</span></span> is a <a class='hidden_link' href='#def:final_overrider' title='11.7.3&emsp;Virtual functions&emsp;[class.virtual]'><span id='def:final_overrider'><i >final
overrider</i></span></a> unless the most derived class (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>) of which <span class='math'><span class='mathalpha'>S</span></span> is a
base class subobject (if any) has another member function that overrides <span class='math'><span class='mathalpha'>V</span></span><a class='hidden_link' href='#virtual-2.sentence-3'>.</a></div> <div id='virtual-2.sentence-4' class='sentence'>In a derived class, if a virtual member function of a base class subobject
has more than one final overrider the program is ill-formed<a class='hidden_link' href='#virtual-2.sentence-4'>.</a></div> <div id='virtual-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#virtual-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> <span class='keyword'>virtual</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='operator'>:</span> B , <span class='keyword'>virtual</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> A<span class='operator'>::</span>f;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> foo<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  C c;
  c<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;            <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f</span>, the final overrider</span>
  c<span class='operator'>.</span>C<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;         <span class='comment'>// calls <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span> because of the using-declaration</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div><div class='texpara'><div id='virtual-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#virtual-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='operator'>:</span> A <span class='curlybracket'>{</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> B, C <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;            <span class='comment'>// OK, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span> and <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f</span> are the final overriders</span>
                                <span class='comment'>// for the <span class='tcode_in_codeblock'>B</span> and <span class='tcode_in_codeblock'>C</span> subobjects, respectively</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='virtual-3'><div class='marginalizedparent'><a class='marginalized' href='#virtual-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3771'>#</a></div><div class='texpara'><div id='virtual-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#virtual-note-2'>2</a></i>: <div id='virtual-3.sentence-1' class='sentence'>A virtual member function does not have to be visible to be overridden,
for example,
<span class='codeblock'><span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D2 <span class='operator'>:</span> D <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
</span>
the function <span class='texttt'>f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span></span> in class <span class='texttt'>D</span> hides the virtual
function <span class='texttt'>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> in its base class <span class='texttt'>B</span>; <span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span></span> is
not a virtual function<a class='hidden_link' href='#virtual-3.sentence-1'>.</a></div> <div id='virtual-3.sentence-2' class='sentence'>However, <span class='texttt'>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> declared in class
<span class='texttt'>D2</span> has the same name and the same parameter list as
<span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, and therefore is a virtual function that overrides the
function <span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> even though <span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is not visible in
class <span class='texttt'>D2</span><a class='hidden_link' href='#virtual-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='virtual-4'><div class='marginalizedparent'><a class='marginalized' href='#virtual-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3795'>#</a></div><div class='texpara'><div id='virtual-4.sentence-1' class='sentence'>If a virtual function <span class='texttt'>f</span> in some class <span class='texttt'>B</span> is marked with the
<a href='#nt:virt-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:virt-specifier___'><span class='textsf'><i >virt-specifier</i></span></span></a> <span id=':final__'><span class='texttt'><span class='keyword'>final</span></span></span> and in a class <span class='texttt'>D</span> derived from <span class='texttt'>B</span>
a function <span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f</span> overrides <span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span>f</span>, the program is ill-formed<a class='hidden_link' href='#virtual-4.sentence-1'>.</a></div> <div id='virtual-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#virtual-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>final</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;   <span class='comment'>// error: <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;f</span> attempts to override <span class='tcode_in_codeblock'>final</span> <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f</span></span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='virtual-5'><div class='marginalizedparent'><a class='marginalized' href='#virtual-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3811'>#</a></div><div class='texpara'><div id='virtual-5.sentence-1' class='sentence'>If a virtual function is marked with the <a href='#nt:virt-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:virt-specifier____'><span class='textsf'><i >virt-specifier</i></span></span></a> <span id=':override_'><span class='texttt'><span class='keyword'>override</span></span></span> and
does not override a member function of a base class, the program is ill-formed<a class='hidden_link' href='#virtual-5.sentence-1'>.</a></div> <div id='virtual-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#virtual-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>long</span><span class='parenthesis'>)</span> <span class='keyword'>override</span>;        <span class='comment'>// error: wrong signature overriding <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f</span></span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='keyword'>override</span>;         <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='virtual-6'><div class='marginalizedparent'><a class='marginalized' href='#virtual-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3827'>#</a></div><div class='texpara'><div id='virtual-6.sentence-1' class='sentence'>A virtual function shall not have a trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause__'><span class='textsf'><i >requires-clause</i></span></span></a> (<a href='dcl.decl' title='9.3&emsp;Declarators'>[dcl.<span class='shy'></span>decl]</a>)<a class='hidden_link' href='#virtual-6.sentence-1'>.</a></div> <div id='virtual-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#virtual-example-5'>5</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> <span class='literal'>true</span>;       <span class='comment'>// error: virtual function cannot be constrained (<a href='temp.constr.decl' title='13.5.3&emsp;Constrained declarations'>[temp.<span class='shy'></span>constr.<span class='shy'></span>decl]</a>)</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='virtual-7'><div class='marginalizedparent'><a class='marginalized' href='#virtual-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3838'>#</a></div><div class='texpara'><div id='virtual-7.sentence-1' class='sentence'>The <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier___'><span class='textsf'><i >ref-qualifier</i></span></span></a>, or lack thereof, of an overriding function
shall be the same as that of the overridden function<a class='hidden_link' href='#virtual-7.sentence-1'>.</a></div></div></div><div class='para' id='virtual-8'><div class='marginalizedparent'><a class='marginalized' href='#virtual-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3842'>#</a></div><div class='texpara'><div id='virtual-8.sentence-1' class='sentence'>The return type of an overriding function shall be either identical to
the return type of the overridden function or <a class='hidden_link' href='#def:return_type,covariant' title='11.7.3&emsp;Virtual functions&emsp;[class.virtual]'><span id='def:return_type,covariant'><i >covariant</i></span></a> with
the classes of the functions<a class='hidden_link' href='#virtual-8.sentence-1'>.</a></div> <div id='virtual-8.sentence-2' class='sentence'>If a function <span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f</span> overrides a
function <span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span>f</span>, the return types of the functions are covariant
if they satisfy the following criteria:
<ul class='itemize'><li id='virtual-8.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#virtual-8.1'>(8.1)</a></div>both are pointers to classes, both are lvalue references to
classes, or both are rvalue references to classes<a class='footnoteref' href='#footnote-101' id='footnoteref-101' title='Multi-level pointers to classes or references to multi-level pointers to classes are not allowed.'>101</a></li><li id='virtual-8.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#virtual-8.2'>(8.2)</a></div>the class in the return type of <span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span>f</span> is the same class as
the class in the return type of <span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f</span>, or is an unambiguous and
accessible direct or indirect base class of the class in the return type
of <span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f</span></li><li id='virtual-8.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#virtual-8.3'>(8.3)</a></div>both pointers or references have the same cv-qualification and the
class type in the return type of <span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f</span> has the same
cv-qualification as or less cv-qualification than the class type in the
return type of <span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span>f</span><a class='hidden_link' href='#virtual-8.sentence-2'>.</a></li></ul></div></div></div><div class='para' id='virtual-9'><div class='marginalizedparent'><a class='marginalized' href='#virtual-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3867'>#</a></div><div class='texpara'><div id='virtual-9.sentence-1' class='sentence'>If the class type in the covariant return type of <span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f</span> differs from that of
<span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span>f</span>, the class type in the return type of <span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f</span> shall be
complete at the locus (<a href='basic.scope.pdecl' title='6.4.2&emsp;Point of declaration'>[basic.<span class='shy'></span>scope.<span class='shy'></span>pdecl]</a>) of the overriding declaration or shall be the
class type <span class='texttt'>D</span><a class='hidden_link' href='#virtual-9.sentence-1'>.</a></div> <div id='virtual-9.sentence-2' class='sentence'>When the overriding function is called as the
final overrider of the overridden function, its result is converted to
the type returned by the (statically chosen) overridden
function (<a href='expr.call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>)<a class='hidden_link' href='#virtual-9.sentence-2'>.</a></div> <div id='virtual-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#virtual-example-6'>6</a></i>: <span class='codeblock'><span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> D <span class='operator'>:</span> <span class='keyword'>private</span> B <span class='curlybracket'>{</span> <span class='keyword'>friend</span> <span class='keyword'>class</span> Derived; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Base <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> vf1<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> vf2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> vf3<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>virtual</span> B<span class='operator'>*</span>   vf4<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>virtual</span> B<span class='operator'>*</span>   vf5<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> No_good <span class='operator'>:</span> <span class='keyword'>public</span> Base <span class='curlybracket'>{</span>
  D<span class='operator'>*</span>  vf4<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>B</span> (base class of <span class='tcode_in_codeblock'>D</span>) inaccessible</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> A;
<span class='keyword'>struct</span> Derived <span class='operator'>:</span> <span class='keyword'>public</span> Base <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> vf1<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// virtual and overrides <span class='tcode_in_codeblock'>Base&#x200b;::&#x200b;vf1()</span></span>
    <span class='keyword'>void</span> vf2<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;  <span class='comment'>// not virtual, hides <span class='tcode_in_codeblock'>Base&#x200b;::&#x200b;vf2()</span></span>
    <span class='keyword'>char</span> vf3<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// error: invalid difference in return type only</span>
    D<span class='operator'>*</span>   vf4<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// OK, returns pointer to derived class</span>
    A<span class='operator'>*</span>   vf5<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// error: returns pointer to incomplete class</span>
    <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  Derived d;
  Base<span class='operator'>*</span> bp <span class='operator'>=</span> <span class='operator'>&amp;</span>d;                <span class='comment'>// standard conversion:</span>
                                <span class='comment'>// <span class='tcode_in_codeblock'>Derived*</span> to <span class='tcode_in_codeblock'>Base*</span></span>
  bp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>vf1<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                    <span class='comment'>// calls <span class='tcode_in_codeblock'>Derived&#x200b;::&#x200b;vf1()</span></span>
  bp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>vf2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                    <span class='comment'>// calls <span class='tcode_in_codeblock'>Base&#x200b;::&#x200b;vf2()</span></span>
  bp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                      <span class='comment'>// calls <span class='tcode_in_codeblock'>Base&#x200b;::&#x200b;f()</span> (not virtual)</span>
  B<span class='operator'>*</span>  p <span class='operator'>=</span> bp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>vf4<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;            <span class='comment'>// calls <span class='tcode_in_codeblock'>Derived&#x200b;::&#x200b;vf4()</span> and converts the</span>
                                <span class='comment'>// result to <span class='tcode_in_codeblock'>B*</span></span>
  Derived<span class='operator'>*</span>  dp <span class='operator'>=</span> <span class='operator'>&amp;</span>d;
  D<span class='operator'>*</span>  q <span class='operator'>=</span> dp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>vf4<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;            <span class='comment'>// calls <span class='tcode_in_codeblock'>Derived&#x200b;::&#x200b;vf4()</span> and does not</span>
                                <span class='comment'>// convert the result to <span class='tcode_in_codeblock'>B*</span></span>
  dp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>vf2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                    <span class='comment'>// error: argument mismatch</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='virtual-10'><div class='marginalizedparent'><a class='marginalized' href='#virtual-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3919'>#</a></div><div class='texpara'><div id='virtual-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#virtual-note-3'>3</a></i>: <div id='virtual-10.sentence-1' class='sentence'>The interpretation of the call of a virtual function depends on the type
of the object for which it is called (the dynamic type), whereas the
interpretation of a call of a non-virtual member function depends only
on the type of the pointer or reference denoting that object (the static
type) (<a href='expr.call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>)<a class='hidden_link' href='#virtual-10.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='virtual-11'><div class='marginalizedparent'><a class='marginalized' href='#virtual-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3928'>#</a></div><div class='texpara'><div id='virtual-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#virtual-note-4'>4</a></i>: <div id='virtual-11.sentence-1' class='sentence'>The <span id=':virtual___________'><span class='texttt'><span class='keyword'>virtual</span></span></span> specifier implies membership, so a virtual function
cannot be a non-member (<a href='dcl.fct.spec' title='9.2.3&emsp;Function specifiers'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>spec]</a>) function<a class='hidden_link' href='#virtual-11.sentence-1'>.</a></div> <div id='virtual-11.sentence-2' class='sentence'>Nor can a virtual
function be a static member, since a virtual function call relies on a
specific object for determining which function to invoke<a class='hidden_link' href='#virtual-11.sentence-2'>.</a></div> <div id='virtual-11.sentence-3' class='sentence'>A virtual
function declared in one class can be declared a friend (<a href='#friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>) in
another class<a class='hidden_link' href='#virtual-11.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='virtual-12'><div class='marginalizedparent'><a class='marginalized' href='#virtual-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3938'>#</a></div><div class='texpara'><div id='virtual-12.sentence-1' class='sentence'><a class='index' id=':definition,virtual_function'></a>A virtual function declared in a class shall be defined, or declared
pure (<a href='#abstract' title='11.7.4&emsp;Abstract classes'>[class.<span class='shy'></span>abstract]</a>) in that class, or both; no diagnostic is
required (<a href='basic.def.odr' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>)<a class='hidden_link' href='#virtual-12.sentence-1'>.</a></div> <a class='index' id=':friend,virtual_and'></a></div></div><div class='para nonNormativeOnly' id='virtual-13'><div class='marginalizedparent'><a class='marginalized' href='#virtual-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3945'>#</a></div><div class='texpara'><a class='index' id=':multiple_inheritance,virtual_and'></a><div id='virtual-example-7' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#virtual-example-7'>7</a></i>: <div id='virtual-13.sentence-1' class='sentence'>Here are some uses of virtual functions with multiple base classes:
<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> B1 <span class='operator'>:</span> A <span class='curlybracket'>{</span>                 <span class='comment'>// note non-virtual derivation</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> B2 <span class='operator'>:</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D <span class='operator'>:</span> B1, B2 <span class='curlybracket'>{</span>             <span class='comment'>// <span class='tcode_in_codeblock'>D</span> has two separate <span class='tcode_in_codeblock'>A</span> subobjects</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> foo<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  D   d;
<span class='comment'>//<span class='tcode_in_codeblock'>   A*  ap = &amp;d;</span>                  // would be ill-formed: ambiguous</span>
  B1<span class='operator'>*</span>  b1p <span class='operator'>=</span> <span class='operator'>&amp;</span>d;
  A<span class='operator'>*</span>   ap <span class='operator'>=</span> b1p;
  D<span class='operator'>*</span>   dp <span class='operator'>=</span> <span class='operator'>&amp;</span>d;
  ap<span class='operator'>-</span><span class='anglebracket'>&gt;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                      <span class='comment'>// calls <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;B1&#x200b;::&#x200b;f</span></span>
  dp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                      <span class='comment'>// error: ambiguous</span>
<span class='curlybracket'>}</span>
</span></div> <div id='virtual-13.sentence-2' class='sentence'>
In class <span class='texttt'>D</span> above there are two occurrences of class <span class='texttt'>A</span>
and hence two occurrences of the virtual member function <span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>f</span><a class='hidden_link' href='#virtual-13.sentence-2'>.</a></div> <div id='virtual-13.sentence-3' class='sentence'>The final overrider of <span class='texttt'>B1<span class='operator'>&#x200b;::&#x200b;</span>A<span class='operator'>&#x200b;::&#x200b;</span>f</span> is <span class='texttt'>B1<span class='operator'>&#x200b;::&#x200b;</span>f</span> and the final
overrider of <span class='texttt'>B2<span class='operator'>&#x200b;::&#x200b;</span>A<span class='operator'>&#x200b;::&#x200b;</span>f</span> is <span class='texttt'>B2<span class='operator'>&#x200b;::&#x200b;</span>f</span><a class='hidden_link' href='#virtual-13.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='virtual-14'><div class='marginalizedparent'><a class='marginalized' href='#virtual-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L3981'>#</a></div><div class='texpara'><div id='virtual-example-8' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#virtual-example-8'>8</a></i>: <div id='virtual-14.sentence-1' class='sentence'>The following example shows a function that does not have a unique final
overrider:
<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> VB1 <span class='operator'>:</span> <span class='keyword'>virtual</span> A <span class='curlybracket'>{</span>        <span class='comment'>// note virtual derivation</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> VB2 <span class='operator'>:</span> <span class='keyword'>virtual</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Error <span class='operator'>:</span> VB1, VB2 <span class='curlybracket'>{</span>       <span class='comment'>// error</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Okay <span class='operator'>:</span> VB1, VB2 <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
</span></div> <div id='virtual-14.sentence-2' class='sentence'>
Both <span class='texttt'>VB1<span class='operator'>&#x200b;::&#x200b;</span>f</span> and <span class='texttt'>VB2<span class='operator'>&#x200b;::&#x200b;</span>f</span> override <span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>f</span> but there
is no overrider of both of them in class <span class='texttt'>Error</span><a class='hidden_link' href='#virtual-14.sentence-2'>.</a></div> <div id='virtual-14.sentence-3' class='sentence'>This example is
therefore ill-formed<a class='hidden_link' href='#virtual-14.sentence-3'>.</a></div> <div id='virtual-14.sentence-4' class='sentence'>Class <span class='texttt'>Okay</span> is well-formed, however,
because <span class='texttt'>Okay<span class='operator'>&#x200b;::&#x200b;</span>f</span> is a final overrider<a class='hidden_link' href='#virtual-14.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='virtual-15'><div class='marginalizedparent'><a class='marginalized' href='#virtual-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4011'>#</a></div><div class='texpara'><div id='virtual-example-9' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#virtual-example-9'>9</a></i>: <div id='virtual-15.sentence-1' class='sentence'>The following example uses the well-formed classes from above<a class='hidden_link' href='#virtual-15.sentence-1'>.</a></div> <span class='codeblock'><span class='keyword'>struct</span> VB1a <span class='operator'>:</span> <span class='keyword'>virtual</span> A <span class='curlybracket'>{</span>       <span class='comment'>// does not declare <span class='tcode_in_codeblock'>f</span></span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Da <span class='operator'>:</span> VB1a, VB2 <span class='curlybracket'>{</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> foe<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  VB1a<span class='operator'>*</span>  vb1ap <span class='operator'>=</span> <span class='keyword'>new</span> Da;
  vb1ap<span class='operator'>-</span><span class='anglebracket'>&gt;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                   <span class='comment'>// calls <span class='tcode_in_codeblock'>VB2&#x200b;::&#x200b;f</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='virtual-16'><div class='marginalizedparent'><a class='marginalized' href='#virtual-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4028'>#</a></div><div class='texpara'><div id='virtual-16.sentence-1' class='sentence'><a class='index' id=':operator,scope_resolution__'></a><a class='index' id=':virtual_function_call'></a>Explicit qualification with the scope operator (<a href='expr.prim.id.qual' title='7.5.4.3&emsp;Qualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>qual]</a>)
suppresses the virtual call mechanism<a class='hidden_link' href='#virtual-16.sentence-1'>.</a></div> <div id='virtual-example-10' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#virtual-example-10'>10</a></i>: <span class='codeblock'><span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='keyword'>public</span><span class='operator'>:</span> <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> D <span class='operator'>:</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span> <span class='keyword'>public</span><span class='operator'>:</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

<span class='keyword'>void</span> D<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> B<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>
</span></div><div class='texpara'><div id='virtual-16.sentence-2' class='sentence'>Here, the function call in
<span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f</span>
really does call
<span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span>f</span>
and not
<span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f</span><a class='hidden_link' href='#virtual-16.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='virtual-17'><div class='marginalizedparent'><a class='marginalized' href='#virtual-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4049'>#</a></div><div class='texpara'><div id='virtual-17.sentence-1' class='sentence'>A deleted function (<a href='dcl.fct.def' title='9.5&emsp;Function definitions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def]</a>) shall
not override a function that is not deleted<a class='hidden_link' href='#virtual-17.sentence-1'>.</a></div> <div id='virtual-17.sentence-2' class='sentence'>Likewise,
a function that is not deleted shall not override a
deleted function<a class='hidden_link' href='#virtual-17.sentence-2'>.</a></div> </div></div><div class='para' id='virtual-18'><div class='marginalizedparent'><a class='marginalized' href='#virtual-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4056'>#</a></div><div class='texpara'><div id='virtual-18.sentence-1' class='sentence'>A <span id=':consteval___'><span class='texttt'><span class='keyword'>consteval</span></span></span> virtual function shall not override
a virtual function that is not <span id=':consteval____'><span class='texttt'><span class='keyword'>consteval</span></span></span><a class='hidden_link' href='#virtual-18.sentence-1'>.</a></div> <div id='virtual-18.sentence-2' class='sentence'>A <span id=':consteval_____'><span class='texttt'><span class='keyword'>consteval</span></span></span> virtual function shall not be overridden by
a virtual function that is not <span id=':consteval______'><span class='texttt'><span class='keyword'>consteval</span></span></span><a class='hidden_link' href='#virtual-18.sentence-2'>.</a></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-98'><div class='texpara'><a class='footnotenum' href='#footnote-98'>98)</a><a class='footnoteBacklink' href='#footnoteref-98'>98)</a> <div id='footnote-98.sentence-1' class='sentence'>The use of the <span id=':virtual_________'><span class='texttt'><span class='keyword'>virtual</span></span></span> specifier in the
declaration of an overriding function is valid but redundant (has empty
semantics)<a class='hidden_link' href='#footnote-98.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-99'><div class='texpara'><a class='footnotenum' href='#footnote-99'>99)</a><a class='footnoteBacklink' href='#footnoteref-99'>99)</a> <div id='footnote-99.sentence-1' class='sentence'>If
all virtual functions are immediate functions,
the class is still polymorphic even if
its internal representation does not otherwise require
any additions for that polymorphic behavior<a class='hidden_link' href='#footnote-99.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-100'><div class='texpara'><a class='footnotenum' href='#footnote-100'>100)</a><a class='footnoteBacklink' href='#footnoteref-100'>100)</a> <div id='footnote-100.sentence-1' class='sentence'>A function
with the same name but a different parameter list (<a href='over' title='12&emsp;Overloading'>[over]</a>)
as a virtual function is not necessarily virtual and
does not override<a class='hidden_link' href='#footnote-100.sentence-1'>.</a></div> <div id='footnote-100.sentence-2' class='sentence'>Access control (<a href='#access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>) is not considered in
determining overriding<a class='hidden_link' href='#footnote-100.sentence-2'>.</a></div></div></div><div class='footnote' id='footnote-101'><div class='texpara'><a class='footnotenum' href='#footnote-101'>101)</a><a class='footnoteBacklink' href='#footnoteref-101'>101)</a> <div id='footnote-101.sentence-1' class='sentence'>Multi-level pointers to classes or references to multi-level pointers to
classes are not allowed<a class='hidden_link' href='#footnote-101.sentence-1'>.</a></div></div></div></div><div id='abstract' class='section'><h3 ><a class='secnum' href='#abstract' style='min-width:80pt'>11.7.4</a> Abstract classes <a class='abbr_ref' href='class.abstract'>[class.abstract]</a></h3><div class='para nonNormativeOnly' id='abstract-1'><div class='marginalizedparent'><a class='marginalized' href='#abstract-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4064'>#</a></div><div class='texpara'><div id='abstract-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#abstract-note-1'>1</a></i>: <div id='abstract-1.sentence-1' class='sentence'>The abstract class mechanism supports the notion of a general concept,
such as a <span class='texttt'>shape</span>, of which only more concrete variants, such as
<span class='texttt'>circle</span> and <span class='texttt'>square</span>, can actually be used<a class='hidden_link' href='#abstract-1.sentence-1'>.</a></div> <div id='abstract-1.sentence-2' class='sentence'>An abstract
class can also be used to define an interface for which derived classes
provide a variety of implementations<a class='hidden_link' href='#abstract-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='abstract-2'><div class='marginalizedparent'><a class='marginalized' href='#abstract-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4073'>#</a></div><div class='texpara'><div id='abstract-2.sentence-1' class='sentence'>A virtual function is specified as
a <a class='hidden_link' href='#def:function,virtual,pure' title='11.7.4&emsp;Abstract classes&emsp;[class.abstract]'><span id='def:function,virtual,pure'><i >pure virtual function</i></span></a> by using a
<a href='#nt:pure-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:pure-specifier_____'><span class='textsf'><i >pure-specifier</i></span></span></a> (<a href='#mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>) in the function declaration
in the class definition<a class='hidden_link' href='#abstract-2.sentence-1'>.</a></div> <div id='abstract-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#abstract-note-2'>2</a></i>: <div id='abstract-2.sentence-2' class='sentence'>Such a function might be inherited: see below<a class='hidden_link' href='#abstract-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='abstract-2.sentence-3' class='sentence'>
A class is an <a class='hidden_link' href='#def:class,abstract' title='11.7.4&emsp;Abstract classes&emsp;[class.abstract]'><span id='def:class,abstract'><i >abstract class</i></span></a>
if it has at least one pure virtual function<a class='hidden_link' href='#abstract-2.sentence-3'>.</a></div> <div id='abstract-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#abstract-note-3'>3</a></i>: <div id='abstract-2.sentence-4' class='sentence'>An abstract class can be used only as a base class of some other class;
no objects of an abstract class can be created
except as subobjects of a class
derived from it (<a href='basic.def' title='6.2&emsp;Declarations and definitions'>[basic.<span class='shy'></span>def]</a>, <a href='#mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>)<a class='hidden_link' href='#abstract-2.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='abstract-2.sentence-5' class='sentence'><a class='index' id=':definition,pure_virtual_function'></a>A pure virtual function need be defined only if called with, or as if
with (<a href='#dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a>), the <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id_____'><span class='textsf'><i >qualified-id</i></span></span></a>
syntax (<a href='expr.prim.id.qual' title='7.5.4.3&emsp;Qualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>qual]</a>)<a class='hidden_link' href='#abstract-2.sentence-5'>.</a></div> <div id='abstract-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#abstract-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>class</span> point <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> shape <span class='curlybracket'>{</span>                   <span class='comment'>// abstract class</span>
  point center;
<span class='keyword'>public</span><span class='operator'>:</span>
  point where<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> center; <span class='curlybracket'>}</span>
  <span class='keyword'>void</span> move<span class='parenthesis'>(</span>point p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> center<span class='operator'>=</span>p; draw<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> rotate<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='literal'>0</span>; <span class='comment'>// pure virtual</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> draw<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='literal'>0</span>;      <span class='comment'>// pure virtual</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div> <div id='abstract-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#abstract-note-4'>4</a></i>: <div id='abstract-2.sentence-6' class='sentence'>A function declaration cannot provide both a <a href='#nt:pure-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:pure-specifier______'><span class='textsf'><i >pure-specifier</i></span></span></a>
and a definition<a class='hidden_link' href='#abstract-2.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='abstract-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#abstract-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='literal'>0</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;     <span class='comment'>// error</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='abstract-3'><div class='marginalizedparent'><a class='marginalized' href='#abstract-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4118'>#</a></div><div class='texpara'><div id='abstract-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#abstract-note-5'>5</a></i>: <div id='abstract-3.sentence-1' class='sentence'>An abstract class type cannot be used
as a parameter or return type of
a function being defined (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) or called (<a href='expr.call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>),
except as specified in <a href='dcl.type.simple' title='9.2.9.3&emsp;Simple type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>simple]</a><a class='hidden_link' href='#abstract-3.sentence-1'>.</a></div> <div id='abstract-3.sentence-2' class='sentence'>Further, an abstract class type cannot be used as
the type of an explicit type conversion (<a href='expr.static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>, <a href='
expr.reinterpret.cast'>[
expr.<span class='shy'></span>reinterpret.<span class='shy'></span>cast]</a>, <a href='expr.const.cast' title='7.6.1.11&emsp;Const cast'>[expr.<span class='shy'></span>const.<span class='shy'></span>cast]</a>),
because the resulting prvalue would be of abstract class type (<a href='basic.lval' title='7.2.1&emsp;Value category'>[basic.<span class='shy'></span>lval]</a>)<a class='hidden_link' href='#abstract-3.sentence-2'>.</a></div> <div id='abstract-3.sentence-3' class='sentence'>However, pointers and references to abstract class types
can appear in such contexts<a class='hidden_link' href='#abstract-3.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='abstract-4'><div class='marginalizedparent'><a class='marginalized' href='#abstract-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4132'>#</a></div><div class='texpara'><div id='abstract-4.sentence-1' class='sentence'><a class='index' id=':function,virtual,pure'></a>A class is abstract if it has at least one pure virtual
function for which the final overrider is pure virtual<a class='hidden_link' href='#abstract-4.sentence-1'>.</a></div> <div id='abstract-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#abstract-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>class</span> ab_circle <span class='operator'>:</span> <span class='keyword'>public</span> shape <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> radius;
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>void</span> rotate<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
  <span class='comment'>// <span class='tcode_in_codeblock'>ab_<span class='shy'></span>circle&#x200b;::&#x200b;draw()</span> is a pure virtual</span>
<span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='abstract-4.sentence-2' class='sentence'>Since <span class='texttt'>shape<span class='operator'>&#x200b;::&#x200b;</span>draw<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is a pure virtual function
<span class='texttt'>ab_<span class='shy'></span>circle<span class='operator'>&#x200b;::&#x200b;</span>draw<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is a pure virtual by default<a class='hidden_link' href='#abstract-4.sentence-2'>.</a></div> <div id='abstract-4.sentence-3' class='sentence'>The alternative
declaration,
<span class='codeblock'><span class='keyword'>class</span> circle <span class='operator'>:</span> <span class='keyword'>public</span> shape <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> radius;
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>void</span> rotate<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
  <span class='keyword'>void</span> draw<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                  <span class='comment'>// a definition is required somewhere</span>
<span class='curlybracket'>}</span>;
</span>
would make class <span class='texttt'>circle</span> non-abstract and a definition of
<span class='texttt'>circle<span class='operator'>&#x200b;::&#x200b;</span>draw<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> must be provided<a class='hidden_link' href='#abstract-4.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='abstract-5'><div class='marginalizedparent'><a class='marginalized' href='#abstract-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4161'>#</a></div><div class='texpara'><div id='abstract-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#abstract-note-6'>6</a></i>: <div id='abstract-5.sentence-1' class='sentence'>An abstract class can be derived from a class that is not abstract, and
a pure virtual function can override a virtual function which is not
pure<a class='hidden_link' href='#abstract-5.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='abstract-6'><div class='marginalizedparent'><a class='marginalized' href='#abstract-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4168'>#</a></div><div class='texpara'><div id='abstract-6.sentence-1' class='sentence'><a class='index' id=':class,constructor_and_abstract'></a>Member functions can be called from a constructor (or destructor) of an
abstract class;
<a class='index' id=':virtual_function_call,undefined_pure'></a>the effect of making a virtual call (<a href='#virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>) to a pure
virtual function directly or indirectly for the object being created (or
destroyed) from such a constructor (or destructor) is undefined<a class='hidden_link' href='#abstract-6.sentence-1'>.</a></div> </div></div></div></div><div id='access' class='section'><h2 ><a class='secnum' href='#access' style='min-width:65pt'>11.8</a> Member access control <a class='abbr_ref' href='class.access'>[class.access]</a></h2><div id='access.general' class='section'><h3 ><a class='secnum' href='#access.general' style='min-width:80pt'>11.8.1</a> General <a class='abbr_ref' href='class.access.general'>[class.access.general]</a></h3><div class='texpara'><a class='index' id=':access_control'></a></div><div class='texpara'>


</div><div class='para' id='access.general-1'><div class='marginalizedparent'><a class='marginalized' href='#access.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4188'>#</a></div><div class='texpara'><div id='access.general-1.sentence-1' class='sentence'>A member of a class can be
<ul class='itemize'><li id='access.general-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#access.general-1.1'>(1.1)</a></div><a class='index' id=':access_control,private'></a>private,
that is, it can be named only by members and friends
of the class in which it is declared;</li><li id='access.general-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#access.general-1.2'>(1.2)</a></div><a class='index' id=':access_control,protected'></a>protected,
that is, it can be named only by members and friends
of the class in which it is declared, by classes derived from that class, and by their
friends (see <a href='#protected' title='11.8.5&emsp;Protected member access'>[class.<span class='shy'></span>protected]</a>); or</li><li id='access.general-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#access.general-1.3'>(1.3)</a></div><a class='index' id=':access_control,public'></a>public,
that is, it can be named anywhere without access restriction<a class='hidden_link' href='#access.general-1.sentence-1'>.</a></li></ul></div> <div id='access.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#access.general-note-1'>1</a></i>: <div id='access.general-1.sentence-2' class='sentence'>A constructor or destructor can be named by an expression (<a href='basic.def.odr' title='6.3&emsp;One-definition rule'>[basic.<span class='shy'></span>def.<span class='shy'></span>odr]</a>)
even though it has no name<a class='hidden_link' href='#access.general-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='access.general-2'><div class='marginalizedparent'><a class='marginalized' href='#access.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4212'>#</a></div><div class='texpara'><div id='access.general-2.sentence-1' class='sentence'>A member of a class can also access all the members to which the class has access<a class='hidden_link' href='#access.general-2.sentence-1'>.</a></div> <div id='access.general-2.sentence-2' class='sentence'>A local class of a member function may access
the same members that the member function itself may access<a class='hidden_link' href='#access.general-2.sentence-2'>.</a><a class='footnoteref' href='#footnote-102' id='footnoteref-102' title='Access permissions are thus transitive and cumulative to nested and local classes.'>102</a></div></div></div><div class='para' id='access.general-3'><div class='marginalizedparent'><a class='marginalized' href='#access.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4222'>#</a></div><div class='texpara'><div id='access.general-3.sentence-1' class='sentence'><a class='index' id=':access_control,member_name'></a><a class='index' id=':access_control,default'></a>Members of a class defined with the keyword
<span id=':class___'><span class='texttt'><span class='keyword'>class</span></span></span>
are
<span id=':private_'><span class='texttt'><span class='keyword'>private</span></span></span>
by default<a class='hidden_link' href='#access.general-3.sentence-1'>.</a></div> <div id='access.general-3.sentence-2' class='sentence'>Members of a class defined with the keywords
<span id=':struct___'><span class='texttt'><span class='keyword'>struct</span></span></span> or <span id=':union______'><span class='texttt'><span class='keyword'>union</span></span></span>
are public by default<a class='hidden_link' href='#access.general-3.sentence-2'>.</a></div> <div id='access.general-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#access.general-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;            <span class='comment'>// <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;a</span> is private by default</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;            <span class='comment'>// <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;a</span> is public by default</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='access.general-4'><div class='marginalizedparent'><a class='marginalized' href='#access.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4246'>#</a></div><div class='texpara'><div id='access.general-4.sentence-1' class='sentence'>Access control is applied uniformly to declarations and expressions<a class='hidden_link' href='#access.general-4.sentence-1'>.</a></div> <div id='access.general-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#access.general-note-2'>2</a></i>: <div id='access.general-4.sentence-2' class='sentence'>Access control applies to members nominated by
friend declarations (<a href='#friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>) and
<a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration___'><span class='textsf'><i >using-declaration</i></span></span></a><i >s</i> (<a href='namespace.udecl' title='9.9&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>)<a class='hidden_link' href='#access.general-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='access.general-4.sentence-3' class='sentence'>
When a <a href='namespace.udecl#nt:using-declarator' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator'><span class='textsf'><i >using-declarator</i></span></span></a> is named,
access control is applied to it, not to the declarations that replace it<a class='hidden_link' href='#access.general-4.sentence-3'>.</a></div> <div id='access.general-4.sentence-4' class='sentence'>For an overload set, access control is applied only to
the function selected by overload resolution<a class='hidden_link' href='#access.general-4.sentence-4'>.</a></div> <div id='access.general-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#access.general-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>private</span><span class='operator'>:</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span>S<span class='operator'>*</span> sp<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  sp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>f<span class='parenthesis'>(</span><span class='literal'>2</span><span class='parenthesis'>)</span>;         <span class='comment'>// OK, access control applied after overload resolution</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='access.general-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#access.general-note-3'>3</a></i>: <div id='access.general-4.sentence-5' class='sentence'>Because access control applies to the declarations named, if access control is applied to a
<a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name'><span class='textsf'><i >typedef-name</i></span></span></a>, only the accessibility of the typedef or alias declaration itself is considered<a class='hidden_link' href='#access.general-4.sentence-5'>.</a></div> <div id='access.general-4.sentence-6' class='sentence'>The accessibility of the entity referred to by the <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name_'><span class='textsf'><i >typedef-name</i></span></span></a> is not considered<a class='hidden_link' href='#access.general-4.sentence-6'>.</a></div> <div id='access.general-4.sentence-7' class='sentence'>For example,</div></div><div class='texpara'><span class='codeblock'><span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>typedef</span> B BB;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A<span class='operator'>::</span>BB x;          <span class='comment'>// OK, typedef <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;BB</span> is public</span>
  A<span class='operator'>::</span>B y;           <span class='comment'>// access error, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B</span> is private</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='access.general-5'><div class='marginalizedparent'><a class='marginalized' href='#access.general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4290'>#</a></div><div class='texpara'><div id='access.general-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#access.general-note-4'>4</a></i>: <div id='access.general-5.sentence-1' class='sentence'>Access control does not prevent members from being found by name lookup or
implicit conversions to base classes from being considered<a class='hidden_link' href='#access.general-5.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='access.general-5.sentence-2' class='sentence'>
The interpretation of a given construct is
established without regard to access control<a class='hidden_link' href='#access.general-5.sentence-2'>.</a></div> <div id='access.general-5.sentence-3' class='sentence'>If the interpretation
established makes use of inaccessible members or base classes,
the construct is ill-formed<a class='hidden_link' href='#access.general-5.sentence-3'>.</a></div></div></div><div class='para' id='access.general-6'><div class='marginalizedparent'><a class='marginalized' href='#access.general-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4301'>#</a></div><div class='texpara'><div id='access.general-6.sentence-1' class='sentence'>All access controls in <a href='#access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a> affect the ability to name a class member
from the declaration of a particular
entity, including parts of the declaration preceding the name of the entity
being declared and, if the entity is a class, the definitions of members of
the class appearing outside the class's <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification______________'><span class='textsf'><i >member-specification</i></span></span></a><a class='hidden_link' href='#access.general-6.sentence-1'>.</a></div> <div id='access.general-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#access.general-note-5'>5</a></i>: <div id='access.general-6.sentence-2' class='sentence'>This access also applies to implicit references to constructors,
conversion functions, and destructors<a class='hidden_link' href='#access.general-6.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='access.general-7'><div class='marginalizedparent'><a class='marginalized' href='#access.general-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4312'>#</a></div><div class='texpara'><div id='access.general-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#access.general-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>int</span> I;    <span class='comment'>// private member</span>
  I f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>friend</span> I g<span class='parenthesis'>(</span>I<span class='parenthesis'>)</span>;
  <span class='keyword'>static</span> I x;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Q;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>struct</span> R;
<span class='keyword'>protected</span><span class='operator'>:</span>
    <span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

A<span class='operator'>::</span>I A<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>0</span>; <span class='curlybracket'>}</span>
A<span class='operator'>::</span>I g<span class='parenthesis'>(</span>A<span class='operator'>::</span>I p <span class='operator'>=</span> A<span class='operator'>::</span>x<span class='parenthesis'>)</span>;
A<span class='operator'>::</span>I g<span class='parenthesis'>(</span>A<span class='operator'>::</span>I p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>0</span>; <span class='curlybracket'>}</span>
A<span class='operator'>::</span>I A<span class='operator'>::</span>x <span class='operator'>=</span> <span class='literal'>0</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>A<span class='operator'>::</span>I<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='operator'>::</span>Q <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>A<span class='operator'>::</span>I<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> R <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D<span class='operator'>:</span> A<span class='operator'>::</span>B, A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='access.general-7.sentence-1' class='sentence'>Here, all the uses of
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>I</span>
are well-formed because
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>f</span>,
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>x</span>, and <span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>Q</span>
are members of class
<span class='texttt'>A</span>
and
<span class='texttt'>g</span>
and <span class='texttt'>R</span> are friends of class
<span class='texttt'>A</span><a class='hidden_link' href='#access.general-7.sentence-1'>.</a></div> <div id='access.general-7.sentence-2' class='sentence'>This implies, for example, that access checking on the first use of
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>I</span>
must be deferred until it is determined that this use of
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>I</span>
is as the return type of a member of class
<span class='texttt'>A</span><a class='hidden_link' href='#access.general-7.sentence-2'>.</a></div> <div id='access.general-7.sentence-3' class='sentence'>Similarly, the use of <span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>B</span> as a
<a href='#nt:base-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier_____'><span class='textsf'><i >base-specifier</i></span></span></a> is well-formed because <span class='texttt'>D</span>
is derived from <span class='texttt'>A</span>, so checking of <a href='#nt:base-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier______'><span class='textsf'><i >base-specifier</i></span></span></a><i >s</i>
must be deferred until the entire <a href='#nt:base-specifier-list' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier-list____'><span class='textsf'><i >base-specifier-list</i></span></span></a> has been seen<a class='hidden_link' href='#access.general-7.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='access.general-8'><div class='marginalizedparent'><a class='marginalized' href='#access.general-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4359'>#</a></div><div class='texpara'><div id='access.general-8.sentence-1' class='sentence'><a class='index' id=':argument,access_checking_and_default'></a><a class='index' id=':access_control,default_argument'></a>Access is checked for a default argument (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>)
at the point of declaration,
rather than at any points of use of the default argument<a class='hidden_link' href='#access.general-8.sentence-1'>.</a></div> <div id='access.general-8.sentence-2' class='sentence'>Access checking for default arguments in function templates and in
member functions of class templates is performed as described in <a href='temp.inst' title='13.9.2&emsp;Implicit instantiation'>[temp.<span class='shy'></span>inst]</a><a class='hidden_link' href='#access.general-8.sentence-2'>.</a></div></div></div><div class='para' id='access.general-9'><div class='marginalizedparent'><a class='marginalized' href='#access.general-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4368'>#</a></div><div class='texpara'><div id='access.general-9.sentence-1' class='sentence'>Access for a default <a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument'><span class='textsf'><i >template-argument</i></span></span></a> (<a href='temp.param' title='13.2&emsp;Template parameters'>[temp.<span class='shy'></span>param]</a>)
is checked in the context in which it appears rather than at any
points of use of it<a class='hidden_link' href='#access.general-9.sentence-1'>.</a></div> <div id='access.general-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#access.general-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> C <span class='curlybracket'>{</span>
<span class='keyword'>protected</span><span class='operator'>:</span>
  <span class='keyword'>typedef</span> T TT;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span> V <span class='operator'>=</span> <span class='keyword'>typename</span> U<span class='operator'>::</span>TT<span class='anglebracket'>&gt;</span>
<span class='keyword'>class</span> D <span class='operator'>:</span> <span class='keyword'>public</span> U <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

D <span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>B<span class='anglebracket'>&gt;</span> <span class='anglebracket'>&gt;</span><span class='operator'>*</span> d;       <span class='comment'>// access error, <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;TT</span> is protected</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-102'><div class='texpara'><a class='footnotenum' href='#footnote-102'>102)</a><a class='footnoteBacklink' href='#footnoteref-102'>102)</a> <div id='footnote-102.sentence-1' class='sentence'>Access
permissions are thus transitive and cumulative to nested
and local classes<a class='hidden_link' href='#footnote-102.sentence-1'>.</a></div></div></div></div><div id='access.spec' class='section'><h3 ><a class='secnum' href='#access.spec' style='min-width:80pt'>11.8.2</a> Access specifiers <a class='abbr_ref' href='class.access.spec'>[class.access.spec]</a></h3><div class='texpara'><a class='index' id=':access_specifier'></a></div><div class='para' id='access.spec-1'><div class='marginalizedparent'><a class='marginalized' href='#access.spec-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4390'>#</a></div><div class='texpara'><div id='access.spec-1.sentence-1' class='sentence'>Member declarations can be labeled by an
<a href='#nt:access-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:access-specifier____'><span class='textsf'><i >access-specifier</i></span></span></a> (<a href='#derived' title='11.7&emsp;Derived classes'>[class.<span class='shy'></span>derived]</a>):</div></div><div class='texpara'><div class='simplebnf'>
<a href='#nt:access-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:access-specifier_____'><span class='textsf'><i >access-specifier</i></span></span></a> <span class='terminal'><span class='operator'>:</span></span> <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification_______________'><span class='textsf'><i >member-specification</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div></div><div class='texpara'><div id='access.spec-1.sentence-2' class='sentence'>An
<a href='#nt:access-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:access-specifier______'><span class='textsf'><i >access-specifier</i></span></span></a>
specifies the access rules for members following it
until the end of the class or until another
<a href='#nt:access-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:access-specifier_______'><span class='textsf'><i >access-specifier</i></span></span></a>
is encountered<a class='hidden_link' href='#access.spec-1.sentence-2'>.</a></div> <div id='access.spec-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#access.spec-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;            <span class='comment'>// <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;a</span> is private by default: <span id=':class____'><span class='tcode_in_codeblock'>class</span></span> used</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>int</span> b;            <span class='comment'>// <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;b</span> is public</span>
  <span class='keyword'>int</span> c;            <span class='comment'>// <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;c</span> is public</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='access.spec-2'><div class='marginalizedparent'><a class='marginalized' href='#access.spec-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4415'>#</a></div><div class='texpara'><div id='access.spec-2.sentence-1' class='sentence'>Any number of access specifiers is allowed and no particular order is required<a class='hidden_link' href='#access.spec-2.sentence-1'>.</a></div> <div id='access.spec-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#access.spec-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;            <span class='comment'>// <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;a</span> is public by default: <span id=':struct____'><span class='tcode_in_codeblock'>struct</span></span> used</span>
<span class='keyword'>protected</span><span class='operator'>:</span>
  <span class='keyword'>int</span> b;            <span class='comment'>// <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;b</span> is protected</span>
<span class='keyword'>private</span><span class='operator'>:</span>
  <span class='keyword'>int</span> c;            <span class='comment'>// <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;c</span> is private</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>int</span> d;            <span class='comment'>// <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;d</span> is public</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='access.spec-3'><div class='marginalizedparent'><a class='marginalized' href='#access.spec-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4431'>#</a></div><div class='texpara'><div id='access.spec-3.sentence-1' class='sentence'>When a member is redeclared within its class definition,
the access specified at its redeclaration shall
be the same as at its initial declaration<a class='hidden_link' href='#access.spec-3.sentence-1'>.</a></div> <div id='access.spec-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#access.spec-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> A;
  <span class='keyword'>enum</span> E <span class='operator'>:</span> <span class='keyword'>int</span>;
<span class='keyword'>private</span><span class='operator'>:</span>
  <span class='keyword'>class</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                  <span class='comment'>// error: cannot change access</span>
  <span class='keyword'>enum</span> E<span class='operator'>:</span> <span class='keyword'>int</span> <span class='curlybracket'>{</span> e0 <span class='curlybracket'>}</span>;           <span class='comment'>// error: cannot change access</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='access.spec-4'><div class='marginalizedparent'><a class='marginalized' href='#access.spec-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4447'>#</a></div><div class='texpara'><div id='access.spec-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#access.spec-note-1'>1</a></i>: <div id='access.spec-4.sentence-1' class='sentence'>In a derived class, the lookup of a base class name will find the
injected-class-name instead of the name of the base class in the scope
in which it was declared<a class='hidden_link' href='#access.spec-4.sentence-1'>.</a></div> <div id='access.spec-4.sentence-2' class='sentence'>The injected-class-name might be less accessible
than the name of the base class in the scope in which it was declared<a class='hidden_link' href='#access.spec-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div id='access.spec-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#access.spec-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>class</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> B <span class='operator'>:</span> <span class='keyword'>private</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> C <span class='operator'>:</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span>
  A<span class='operator'>*</span> p;             <span class='comment'>// error: injected-class-name <span class='tcode_in_codeblock'>A</span> is inaccessible</span>
  <span class='operator'>::</span>A<span class='operator'>*</span> q;           <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='access.base' class='section'><h3 ><a class='secnum' href='#access.base' style='min-width:80pt'>11.8.3</a> Accessibility of base classes and base class members <a class='abbr_ref' href='class.access.base'>[class.access.base]</a></h3><div class='texpara'><a class='index' id=':access_control,base_class'></a><a class='index' id=':access_specifier_'></a><a class='index' id=':base_class,private'></a><a class='index' id=':base_class,protected'></a><a class='index' id=':base_class,public'></a></div><div class='para' id='access.base-1'><div class='marginalizedparent'><a class='marginalized' href='#access.base-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4473'>#</a></div><div class='texpara'><div id='access.base-1.sentence-1' class='sentence'>If a class is declared to be a base class (<a href='#derived' title='11.7&emsp;Derived classes'>[class.<span class='shy'></span>derived]</a>) for another class using the
<span id=':public_'><span class='texttt'><span class='keyword'>public</span></span></span>
access specifier, the
public members of the base class are accessible as
public members of the derived class and
protected members of the base class are accessible as
protected members of the derived class<a class='hidden_link' href='#access.base-1.sentence-1'>.</a></div> <div id='access.base-1.sentence-2' class='sentence'>If a class is declared to be a base class for another class using the
<span id=':protected_'><span class='texttt'><span class='keyword'>protected</span></span></span>
access specifier, the
public and protected members of the base class are accessible as
protected members of the derived class<a class='hidden_link' href='#access.base-1.sentence-2'>.</a></div> <div id='access.base-1.sentence-3' class='sentence'>If a class is declared to be a base class for another class using the
<span id=':private__'><span class='texttt'><span class='keyword'>private</span></span></span>
access specifier, the
public and protected
members of the base class are accessible as private
members of the derived class<a class='hidden_link' href='#access.base-1.sentence-3'>.</a><a class='footnoteref' href='#footnote-103' id='footnoteref-103' title='As specified previously in [class.access], private members of a base class remain inaccessible even to derived classes unless friend declarations within the base class definition are used to grant access explicitly.'>103</a></div></div></div><div class='para' id='access.base-2'><div class='marginalizedparent'><a class='marginalized' href='#access.base-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4499'>#</a></div><div class='texpara'><div id='access.base-2.sentence-1' class='sentence'>In the absence of an
<a href='#nt:access-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:access-specifier________'><span class='textsf'><i >access-specifier</i></span></span></a>
for a base class,
<span id=':public__'><span class='texttt'><span class='keyword'>public</span></span></span>
is assumed when the derived class is
defined with the <a href='#nt:class-key' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-key________'><span class='textsf'><i >class-key</i></span></span></a>
<span id=':struct_____'><span class='texttt'><span class='keyword'>struct</span></span></span>
and
<span id=':private___'><span class='texttt'><span class='keyword'>private</span></span></span>
is assumed when the class is
defined with the <a href='#nt:class-key' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-key_________'><span class='textsf'><i >class-key</i></span></span></a>
<span id=':class_____'><span class='texttt'><span class='keyword'>class</span></span></span><a class='hidden_link' href='#access.base-2.sentence-1'>.</a></div> <div id='access.base-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#access.base-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> D1 <span class='operator'>:</span> <span class='keyword'>private</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> D2 <span class='operator'>:</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> D3 <span class='operator'>:</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>B</span> private by default</span>
<span class='keyword'>struct</span> D4 <span class='operator'>:</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D5 <span class='operator'>:</span> <span class='keyword'>private</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D6 <span class='operator'>:</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;            <span class='comment'>// <span class='tcode_in_codeblock'>B</span> public by default</span>
<span class='keyword'>class</span> D7 <span class='operator'>:</span> <span class='keyword'>protected</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D8 <span class='operator'>:</span> <span class='keyword'>protected</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='access.base-2.sentence-2' class='sentence'>Here
<span class='texttt'>B</span>
is a public base of
<span class='texttt'>D2</span>,
<span class='texttt'>D4</span>,
and
<span class='texttt'>D6</span>,
a private base of
<span class='texttt'>D1</span>,
<span class='texttt'>D3</span>,
and
<span class='texttt'>D5</span>,
and a protected base of
<span class='texttt'>D7</span>
and
<span class='texttt'>D8</span><a class='hidden_link' href='#access.base-2.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='access.base-3'><div class='marginalizedparent'><a class='marginalized' href='#access.base-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4543'>#</a></div><div class='texpara'><div id='access.base-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#access.base-note-1'>1</a></i>: <div id='access.base-3.sentence-1' class='sentence'>A member of a private base class can be inaccessible as inherited,
but accessible directly<a class='hidden_link' href='#access.base-3.sentence-1'>.</a></div> <div id='access.base-3.sentence-2' class='sentence'>Because of the rules on pointer conversions (<a href='conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>) and
explicit casts (<a href='expr.type.conv' title='7.6.1.4&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>, <a href='expr.static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>, <a href='expr.cast' title='7.6.3&emsp;Explicit type conversion (cast notation)'>[expr.<span class='shy'></span>cast]</a>),
a conversion from a pointer to a derived class to a pointer
to an inaccessible base class can be ill-formed if an implicit conversion
is used, but well-formed if an explicit cast is used<a class='hidden_link' href='#access.base-3.sentence-2'>.</a></div> <div id='access.base-3.sentence-3' class='sentence'>For example,</div></div><div class='texpara'><span class='codeblock'><span class='keyword'>class</span> B <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>int</span> mi;                       <span class='comment'>// non-static member</span>
  <span class='keyword'>static</span> <span class='keyword'>int</span> si;                <span class='comment'>// static member</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>class</span> D <span class='operator'>:</span> <span class='keyword'>private</span> B <span class='curlybracket'>{</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>class</span> DD <span class='operator'>:</span> <span class='keyword'>public</span> D <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> DD<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  mi <span class='operator'>=</span> <span class='literal'>3</span>;                       <span class='comment'>// error: <span class='tcode_in_codeblock'>mi</span> is private in <span class='tcode_in_codeblock'>D</span></span>
  si <span class='operator'>=</span> <span class='literal'>3</span>;                       <span class='comment'>// error: <span class='tcode_in_codeblock'>si</span> is private in <span class='tcode_in_codeblock'>D</span></span>
  <span class='operator'>::</span>B  b;
  b<span class='operator'>.</span>mi <span class='operator'>=</span> <span class='literal'>3</span>;                     <span class='comment'>// OK (<span class='tcode_in_codeblock'>b.mi</span> is different from <span class='tcode_in_codeblock'>this-&gt;mi</span>)</span>
  b<span class='operator'>.</span>si <span class='operator'>=</span> <span class='literal'>3</span>;                     <span class='comment'>// OK (<span class='tcode_in_codeblock'>b.si</span> is different from <span class='tcode_in_codeblock'>this-&gt;si</span>)</span>
  <span class='operator'>::</span>B<span class='operator'>::</span>si <span class='operator'>=</span> <span class='literal'>3</span>;                  <span class='comment'>// OK</span>
  <span class='operator'>::</span>B<span class='operator'>*</span> bp1 <span class='operator'>=</span> <span class='keyword'>this</span>;              <span class='comment'>// error: <span class='tcode_in_codeblock'>B</span> is a private base class</span>
  <span class='operator'>::</span>B<span class='operator'>*</span> bp2 <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='operator'>::</span>B<span class='operator'>*</span><span class='parenthesis'>)</span><span class='keyword'>this</span>;        <span class='comment'>// OK with cast</span>
  bp2<span class='operator'>-</span><span class='anglebracket'>&gt;</span>mi <span class='operator'>=</span> <span class='literal'>3</span>;                  <span class='comment'>// OK, access through a pointer to <span class='tcode_in_codeblock'>B</span>.</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='access.base-4'><div class='marginalizedparent'><a class='marginalized' href='#access.base-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4580'>#</a></div><div class='texpara'><div id='access.base-4.sentence-1' class='sentence'>A base class
<span class='texttt'>B</span>
of
<span class='texttt'>N</span>
is
<a class='hidden_link' href='#def:accessible' title='11.8.3&emsp;Accessibility of base classes and base class members&emsp;[class.access.base]'><span id='def:accessible'><i >accessible</i></span></a>
at
<i >R</i>,
if
<ul class='itemize'><li id='access.base-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#access.base-4.1'>(4.1)</a></div>an invented public member of
<span class='texttt'>B</span>
would be a public member of
<span class='texttt'>N</span>, or</li><li id='access.base-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#access.base-4.2'>(4.2)</a></div><i >R</i>
occurs in a direct member or friend of class
<span class='texttt'>N</span>,
and an invented public member of
<span class='texttt'>B</span>
would be a private or protected member of
<span class='texttt'>N</span>, or</li><li id='access.base-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#access.base-4.3'>(4.3)</a></div><i >R</i>
occurs in a direct member or friend of a class
<span class='texttt'>P</span>
derived from
<span class='texttt'>N</span>,
and an invented public member of
<span class='texttt'>B</span>
would be a private or protected member of
<span class='texttt'>P</span>, or</li><li id='access.base-4.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#access.base-4.4'>(4.4)</a></div>there exists a class
<span class='texttt'>S</span>
such that
<span class='texttt'>B</span>
is a base class of
<span class='texttt'>S</span>
accessible at
<i >R</i>
and
<span class='texttt'>S</span>
is a base class of
<span class='texttt'>N</span>
accessible at
<i >R</i><a class='hidden_link' href='#access.base-4.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='access.base-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#access.base-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>class</span> B <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>int</span> m;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> S<span class='operator'>:</span> <span class='keyword'>private</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> N;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> N<span class='operator'>:</span> <span class='keyword'>private</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    B<span class='operator'>*</span> p <span class='operator'>=</span> <span class='keyword'>this</span>;    <span class='comment'>// OK because class <span class='tcode_in_codeblock'>S</span> satisfies the fourth condition above: <span class='tcode_in_codeblock'>B</span> is a base class of <span class='tcode_in_codeblock'>N</span></span>
                    <span class='comment'>// accessible in <span class='tcode_in_codeblock'>f()</span> because <span class='tcode_in_codeblock'>B</span> is an accessible base class of <span class='tcode_in_codeblock'>S</span> and <span class='tcode_in_codeblock'>S</span> is an accessible</span>
                    <span class='comment'>// base class of <span class='tcode_in_codeblock'>N</span>.</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='access.base-5'><div class='marginalizedparent'><a class='marginalized' href='#access.base-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4652'>#</a></div><div class='texpara'><div id='access.base-5.sentence-1' class='sentence'>If a base class is accessible, one can implicitly convert a pointer to
a derived class to a pointer to that base class (<a href='conv.ptr' title='7.3.12&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a>, <a href='conv.mem' title='7.3.13&emsp;Pointer-to-member conversions'>[conv.<span class='shy'></span>mem]</a>)<a class='hidden_link' href='#access.base-5.sentence-1'>.</a></div> <div id='access.base-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#access.base-note-2'>2</a></i>: <div id='access.base-5.sentence-2' class='sentence'>It follows that
members and friends of a class
<span class='texttt'>X</span>
can implicitly convert an
<span class='texttt'>X<span class='operator'>*</span></span>
to a pointer to a private or protected immediate base class of
<span class='texttt'>X</span><a class='hidden_link' href='#access.base-5.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='access.base-5.sentence-3' class='sentence'>
The access to a member is affected by the class in which the member is
named<a class='hidden_link' href='#access.base-5.sentence-3'>.</a></div> <div id='access.base-5.sentence-4' class='sentence'>This naming class is
the class in whose scope name lookup performed a search that found the member<a class='hidden_link' href='#access.base-5.sentence-4'>.</a></div> <div id='access.base-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#access.base-note-3'>3</a></i>: <div id='access.base-5.sentence-5' class='sentence'>This class can be explicit, e.g., when a
<a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id______'><span class='textsf'><i >qualified-id</i></span></span></a>
is used, or implicit, e.g., when a class member access operator (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>) is used (including cases where an implicit
“<span class='texttt'><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>”
is
added)<a class='hidden_link' href='#access.base-5.sentence-5'>.</a></div> <div id='access.base-5.sentence-6' class='sentence'>If both a class member access operator and a
<a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id_______'><span class='textsf'><i >qualified-id</i></span></span></a>
are used to name the member (as in
<span class='texttt'>p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>T<span class='operator'>&#x200b;::&#x200b;</span>m</span>),
the class naming the member is the class denoted by the
<a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier________'><span class='textsf'><i >nested-name-specifier</i></span></span></a>
of the
<a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id________'><span class='textsf'><i >qualified-id</i></span></span></a>
(that is,
<span class='texttt'>T</span>)<a class='hidden_link' href='#access.base-5.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='access.base-5.sentence-7' class='sentence'>
A member
<span class='texttt'>m</span>
is accessible at the point
<i >R</i>
when named in class
<span class='texttt'>N</span>
if
<ul class='itemize'><li id='access.base-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#access.base-5.1'>(5.1)</a></div><span class='texttt'>m</span>
as a member of
<span class='texttt'>N</span>
is public, or</li><li id='access.base-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#access.base-5.2'>(5.2)</a></div><span class='texttt'>m</span>
as a member of
<span class='texttt'>N</span>
is private, and
<i >R</i>
occurs in a direct member or friend of class
<span class='texttt'>N</span>,
or</li><li id='access.base-5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#access.base-5.3'>(5.3)</a></div><span class='texttt'>m</span>
as a member of
<span class='texttt'>N</span>
is protected, and
<i >R</i>
occurs in a direct member or friend of class
<span class='texttt'>N</span>,
or in a member of a class
<span class='texttt'>P</span>
derived from
<span class='texttt'>N</span>,
where
<span class='texttt'>m</span>
as a member of
<span class='texttt'>P</span>
is public, private, or protected, or</li><li id='access.base-5.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#access.base-5.4'>(5.4)</a></div>there exists a base class
<span class='texttt'>B</span>
of
<span class='texttt'>N</span>
that is accessible at
<i >R</i>,
and
<span class='texttt'>m</span>
is accessible at
<i >R</i>
when named in class
<span class='texttt'>B</span><a class='hidden_link' href='#access.base-5.sentence-7'>.</a> <div class='texpara'><div id='access.base-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#access.base-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>class</span> B;
<span class='keyword'>class</span> A <span class='curlybracket'>{</span>
<span class='keyword'>private</span><span class='operator'>:</span>
  <span class='keyword'>int</span> i;
  <span class='keyword'>friend</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>B<span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>class</span> B <span class='operator'>:</span> <span class='keyword'>public</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>B<span class='operator'>*</span> p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>i <span class='operator'>=</span> <span class='literal'>1</span>;         <span class='comment'>// OK, <span class='tcode_in_codeblock'>B*</span> can be implicitly converted to <span class='tcode_in_codeblock'>A*</span>, and <span class='tcode_in_codeblock'>f</span> has access to <span class='tcode_in_codeblock'>i</span> in <span class='tcode_in_codeblock'>A</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li></ul></div></div></div><div class='para' id='access.base-6'><div class='marginalizedparent'><a class='marginalized' href='#access.base-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4754'>#</a></div><div class='texpara'><div id='access.base-6.sentence-1' class='sentence'>If a class member access operator, including an implicit
“<span class='texttt'><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>”,
is used to access a non-static data member or non-static
member function, the reference is ill-formed if the
left operand (considered as a pointer in the
“<span class='texttt'><span class='operator'>.</span></span>”
operator case) cannot be implicitly converted to a
pointer to the naming class of the right operand<a class='hidden_link' href='#access.base-6.sentence-1'>.</a></div> <div id='access.base-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#access.base-note-4'>4</a></i>: <div id='access.base-6.sentence-2' class='sentence'>This requirement is in addition to the requirement that
the member be accessible as named<a class='hidden_link' href='#access.base-6.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-103'><div class='texpara'><a class='footnotenum' href='#footnote-103'>103)</a><a class='footnoteBacklink' href='#footnoteref-103'>103)</a> <div id='footnote-103.sentence-1' class='sentence'>As specified previously in <a href='#access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>,
private members of a base class remain inaccessible even to derived classes
unless friend
declarations within the base class definition are used to grant access explicitly<a class='hidden_link' href='#footnote-103.sentence-1'>.</a></div></div></div></div><div id='friend' class='section'><h3 ><a class='secnum' href='#friend' style='min-width:80pt'>11.8.4</a> Friends <a class='abbr_ref' href='class.friend'>[class.friend]</a></h3><div class='texpara'><a class='index' id=':friend_function,access_and'></a><a class='index' id=':access_control,friend_function'></a></div><div class='para' id='friend-1'><div class='marginalizedparent'><a class='marginalized' href='#friend-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4772'>#</a></div><div class='texpara'><div id='friend-1.sentence-1' class='sentence'>A friend of a class is a function or class that is
given permission to name the private and protected members of the class<a class='hidden_link' href='#friend-1.sentence-1'>.</a></div> <div id='friend-1.sentence-2' class='sentence'>A class specifies its friends, if any, by way of friend declarations<a class='hidden_link' href='#friend-1.sentence-2'>.</a></div> <div id='friend-1.sentence-3' class='sentence'>Such declarations give special access rights to the friends, but they
do not make the nominated friends members of the befriending class<a class='hidden_link' href='#friend-1.sentence-3'>.</a></div> <div id='friend-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#friend-example-1'>1</a></i>: <div id='friend-1.sentence-4' class='sentence'>The following example illustrates the differences between
members and friends:
<a class='index' id=':friend_function,member_function_and'></a>
<span class='codeblock'><span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;
  <span class='keyword'>friend</span> <span class='keyword'>void</span> friend_set<span class='parenthesis'>(</span>X<span class='operator'>*</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>void</span> member_set<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> friend_set<span class='parenthesis'>(</span>X<span class='operator'>*</span> p, <span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>a <span class='operator'>=</span> i; <span class='curlybracket'>}</span>
<span class='keyword'>void</span> X<span class='operator'>::</span>member_set<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> a <span class='operator'>=</span> i; <span class='curlybracket'>}</span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  X obj;
  friend_set<span class='parenthesis'>(</span><span class='operator'>&amp;</span>obj,<span class='literal'>10</span><span class='parenthesis'>)</span>;
  obj<span class='operator'>.</span>member_set<span class='parenthesis'>(</span><span class='literal'>10</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='friend-2'><div class='marginalizedparent'><a class='marginalized' href='#friend-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4802'>#</a></div><div class='texpara'><div id='friend-2.sentence-1' class='sentence'><a class='index' id=':friend,class_access_and'></a>Declaring a class to be a friend implies that private and
protected members of the class granting friendship can be named in the
<a href='#nt:base-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier_______'><span class='textsf'><i >base-specifier</i></span></span></a><i >s</i> and member declarations of the befriended
class<a class='hidden_link' href='#friend-2.sentence-1'>.</a></div> <div id='friend-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#friend-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>friend</span> <span class='keyword'>class</span> X;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> X <span class='operator'>:</span> A<span class='operator'>::</span>B <span class='curlybracket'>{</span>               <span class='comment'>// OK, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B</span> accessible to friend</span>
  A<span class='operator'>::</span>B mx;                      <span class='comment'>// OK, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B</span> accessible to member of friend</span>
  <span class='keyword'>class</span> Y <span class='curlybracket'>{</span>
    A<span class='operator'>::</span>B my;                    <span class='comment'>// OK, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B</span> accessible to nested member of friend</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div> <div id='friend-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#friend-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>enum</span> <span class='curlybracket'>{</span> a<span class='operator'>=</span><span class='literal'>100</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>friend</span> <span class='keyword'>class</span> Y;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> Y <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> v<span class='squarebracket'>[</span>X<span class='operator'>::</span>a<span class='squarebracket'>]</span>;                  <span class='comment'>// OK, <span class='tcode_in_codeblock'>Y</span> is a friend of <span class='tcode_in_codeblock'>X</span></span>
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> Z <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> v<span class='squarebracket'>[</span>X<span class='operator'>::</span>a<span class='squarebracket'>]</span>;                  <span class='comment'>// error: <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;a</span> is private</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='friend-3'><div class='marginalizedparent'><a class='marginalized' href='#friend-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4840'>#</a></div><div class='texpara'><div id='friend-3.sentence-1' class='sentence'>A friend declaration that does not declare a function
shall have one of the following forms:
<div class='simplebnf'>
<span id=':friend__'><span class='texttt'><span class='keyword'>friend</span></span></span> <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.4&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier_____'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a> <span class='terminal'>;</span><br/><span id=':friend___'><span class='texttt'><span class='keyword'>friend</span></span></span> <a href='dcl.type.simple#nt:simple-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:simple-type-specifier'><span class='textsf'><i >simple-type-specifier</i></span></span></a> <span class='terminal'>;</span><br/><span id=':friend____'><span class='texttt'><span class='keyword'>friend</span></span></span> <a href='temp.res.general#nt:typename-specifier' title='13.8.1&emsp;General&emsp;[temp.res.general]'><span id='ntref:typename-specifier'><span class='textsf'><i >typename-specifier</i></span></span></a> <span class='terminal'>;</span>
</div></div></div><div class='texpara'><div id='friend-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#friend-note-1'>1</a></i>: <div id='friend-3.sentence-2' class='sentence'>A friend declaration can be the
<a href='dcl.pre#nt:declaration' title='9.1&emsp;Preamble&emsp;[dcl.pre]'><span id='ntref:declaration_'><span class='textsf'><i >declaration</i></span></span></a> in
a <a href='temp.pre#nt:template-declaration' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-declaration__'><span class='textsf'><i >template-declaration</i></span></span></a> (<a href='temp.pre' title='13.1&emsp;Preamble'>[temp.<span class='shy'></span>pre]</a>, <a href='temp.friend' title='13.7.5&emsp;Friends'>[temp.<span class='shy'></span>friend]</a>)<a class='hidden_link' href='#friend-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='friend-3.sentence-3' class='sentence'>
If the
type specifier in a <span id=':friend_____'><span class='texttt'><span class='keyword'>friend</span></span></span> declaration designates a (possibly
cv-qualified) class type, that class is declared as a friend; otherwise, the
friend declaration is ignored<a class='hidden_link' href='#friend-3.sentence-3'>.</a></div> <div id='friend-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#friend-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>class</span> C;
<span class='keyword'>typedef</span> C Ct;

<span class='keyword'>class</span> X1 <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> C;                     <span class='comment'>// OK, <span class='tcode_in_codeblock'>class C</span> is a friend</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> X2 <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> Ct;                    <span class='comment'>// OK, <span class='tcode_in_codeblock'>class C</span> is a friend</span>
  <span class='keyword'>friend</span> D;                     <span class='comment'>// error: <span class='tcode_in_codeblock'>D</span> not found</span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> D;               <span class='comment'>// OK, elaborated-type-specifier declares new class</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> R <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> T;
<span class='curlybracket'>}</span>;

R<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&gt;</span> rc;                        <span class='comment'>// <span class='tcode_in_codeblock'>class C</span> is a friend of <span class='tcode_in_codeblock'>R&lt;C&gt;</span></span>
R<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> Ri;                      <span class='comment'>// OK, <span class='tcode_in_codeblock'>"friend int;"</span> is ignored</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='friend-4'><div class='marginalizedparent'><a class='marginalized' href='#friend-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4882'>#</a></div><div class='texpara'><div id='friend-4.sentence-1' class='sentence'><a class='index' id=':friend_function,linkage_of'></a>A function first declared in a friend declaration
has the linkage of the namespace of which it is a member (<a href='basic.link' title='6.6&emsp;Program and linkage'>[basic.<span class='shy'></span>link]</a>)<a class='hidden_link' href='#friend-4.sentence-1'>.</a></div> <div id='friend-4.sentence-2' class='sentence'>Otherwise, the function retains its previous linkage (<a href='dcl.stc' title='9.2.2&emsp;Storage class specifiers'>[dcl.<span class='shy'></span>stc]</a>)<a class='hidden_link' href='#friend-4.sentence-2'>.</a></div></div></div><div class='para nonNormativeOnly' id='friend-5'><div class='marginalizedparent'><a class='marginalized' href='#friend-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4888'>#</a></div><div class='texpara'><a class='index' id=':declaration,overloaded_name_and_friend'></a><div id='friend-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#friend-note-2'>2</a></i>: <div id='friend-5.sentence-1' class='sentence'>A friend declaration refers to an entity, not (all overloads of) a name<a class='hidden_link' href='#friend-5.sentence-1'>.</a></div> <div id='friend-5.sentence-2' class='sentence'>A member function of a class
<span class='texttt'>X</span>
can be a friend of
a class
<span class='texttt'>Y</span><a class='hidden_link' href='#friend-5.sentence-2'>.</a></div> <a class='index' id=':member_function,friend'></a><div id='friend-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#friend-example-5'>5</a></i>: <span class='codeblock'><span class='keyword'>class</span> Y <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>char</span><span class='operator'>*</span> X<span class='operator'>::</span>foo<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>friend</span> X<span class='operator'>::</span>X<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='parenthesis'>)</span>;            <span class='comment'>// constructors can be friends</span>
  <span class='keyword'>friend</span> X<span class='operator'>::</span><span class='operator'>~</span>X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;               <span class='comment'>// destructors can be friends</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='friend-6'><div class='marginalizedparent'><a class='marginalized' href='#friend-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4909'>#</a></div><div class='texpara'><div id='friend-6.sentence-1' class='sentence'><a class='index' id=':friend_function,inline'></a>A function may be defined in a friend declaration of a class if and only if the
class is a non-local class (<a href='#local' title='11.6&emsp;Local class declarations'>[class.<span class='shy'></span>local]</a>) and the function name is unqualified<a class='hidden_link' href='#friend-6.sentence-1'>.</a></div> <div id='friend-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#friend-example-6'>6</a></i>: <span class='codeblock'><span class='keyword'>class</span> M <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>           <span class='comment'>// definition of global <span class='tcode_in_codeblock'>f</span>, a friend of <span class='tcode_in_codeblock'>M</span>,</span>
                                <span class='comment'>// not the definition of a member function</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='friend-7'><div class='marginalizedparent'><a class='marginalized' href='#friend-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4922'>#</a></div><div class='texpara'><div id='friend-7.sentence-1' class='sentence'>Such a function is implicitly an inline (<a href='dcl.inline' title='9.2.8&emsp;The inline specifier'>[dcl.<span class='shy'></span>inline]</a>) function
if it is attached to the global module<a class='hidden_link' href='#friend-7.sentence-1'>.</a></div> <div id='friend-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#friend-note-3'>3</a></i>: <div id='friend-7.sentence-2' class='sentence'>If a friend function is defined outside a class,
it is not in the scope of the class<a class='hidden_link' href='#friend-7.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='friend-8'><div class='marginalizedparent'><a class='marginalized' href='#friend-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4930'>#</a></div><div class='texpara'><div id='friend-8.sentence-1' class='sentence'>No
<a href='dcl.stc#nt:storage-class-specifier' title='9.2.2&emsp;Storage class specifiers&emsp;[dcl.stc]'><span id='ntref:storage-class-specifier__'><span class='textsf'><i >storage-class-specifier</i></span></span></a>
shall appear in the
<a href='dcl.spec.general#nt:decl-specifier-seq' title='9.2.1&emsp;General&emsp;[dcl.spec.general]'><span id='ntref:decl-specifier-seq______'><span class='textsf'><i >decl-specifier-seq</i></span></span></a>
of a friend declaration<a class='hidden_link' href='#friend-8.sentence-1'>.</a></div></div></div><div class='para' id='friend-9'><div class='marginalizedparent'><a class='marginalized' href='#friend-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4937'>#</a></div><div class='texpara'><div id='friend-9.sentence-1' class='sentence'><a class='index' id=':friend,access_specifier_and'></a>A member nominated by a friend declaration shall be accessible in the
class containing the friend declaration<a class='hidden_link' href='#friend-9.sentence-1'>.</a></div> <div id='friend-9.sentence-2' class='sentence'>The meaning of the friend declaration is the same whether the friend declaration
appears in the private, protected, or public (<a href='#mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>)
portion of the class
<a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification________________'><span class='textsf'><i >member-specification</i></span></span></a><a class='hidden_link' href='#friend-9.sentence-2'>.</a></div></div></div><div class='para' id='friend-10'><div class='marginalizedparent'><a class='marginalized' href='#friend-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4946'>#</a></div><div class='texpara'><div id='friend-10.sentence-1' class='sentence'><a class='index' id=':friend,inheritance_and'></a>Friendship is neither inherited nor transitive<a class='hidden_link' href='#friend-10.sentence-1'>.</a></div> <div id='friend-example-7' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#friend-example-7'>7</a></i>: <span class='codeblock'><span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> B;
  <span class='keyword'>int</span> a;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> C;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> C  <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='operator'>*</span> p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>a<span class='operator'>+</span><span class='operator'>+</span>;         <span class='comment'>// error: <span class='tcode_in_codeblock'>C</span> is not a friend of <span class='tcode_in_codeblock'>A</span> despite being a friend of a friend</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> D <span class='operator'>:</span> <span class='keyword'>public</span> B  <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='operator'>*</span> p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>a<span class='operator'>+</span><span class='operator'>+</span>;         <span class='comment'>// error: <span class='tcode_in_codeblock'>D</span> is not a friend of <span class='tcode_in_codeblock'>A</span> despite being derived from a friend</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='friend-11'><div class='marginalizedparent'><a class='marginalized' href='#friend-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L4974'>#</a></div><div class='texpara'><a class='index' id=':local_class,friend'></a><a class='index' id=':friend,local_class_and'></a><div id='friend-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#friend-note-4'>4</a></i>: <div id='friend-11.sentence-1' class='sentence'>A friend declaration never binds any names (<a href='dcl.meaning' title='9.3.4&emsp;Meaning of declarators'>[dcl.<span class='shy'></span>meaning]</a>, <a href='dcl.type.elab' title='9.2.9.4&emsp;Elaborated type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>elab]</a>)<a class='hidden_link' href='#friend-11.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div>
<div id='friend-example-8' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#friend-example-8'>8</a></i>: <span class='codeblock'><span class='comment'>// Assume <span class='tcode_in_codeblock'>f</span> and <span class='tcode_in_codeblock'>g</span> have not yet been declared.</span>
<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f2<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> X <span class='curlybracket'>{</span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>X<span class='parenthesis'>)</span>;           <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(X)</span> is a friend</span>
    <span class='keyword'>class</span> Y <span class='curlybracket'>{</span>
      <span class='keyword'>friend</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;          <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;g</span> is a friend</span>
      <span class='keyword'>friend</span> <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;       <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;h</span> is a friend</span>
                                <span class='comment'>// <span class='tcode_in_codeblock'>&#x200b;::&#x200b;h</span> not considered</span>
      <span class='keyword'>friend</span> <span class='keyword'>void</span> f2<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;    <span class='comment'>// <span class='tcode_in_codeblock'>&#x200b;::&#x200b;f2&lt;&gt;(int)</span> is a friend</span>
    <span class='curlybracket'>}</span>;
  <span class='curlybracket'>}</span>;

  <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span>, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;g</span> and <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;h</span> are not visible here</span>
  X x;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> f<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>            <span class='comment'>// definition of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;g</span></span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>X<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>       <span class='comment'>// definition of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span></span>
  <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>     <span class='comment'>// definition of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;h</span></span>
  <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span>, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;g</span> and <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;h</span> are visible here and known to be friends</span>
<span class='curlybracket'>}</span>

<span class='keyword'>using</span> A<span class='operator'>::</span>x;

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A<span class='operator'>::</span>f<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;
  A<span class='operator'>::</span>X<span class='operator'>::</span>f<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;                   <span class='comment'>// error: <span class='tcode_in_codeblock'>f</span> is not a member of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;X</span></span>
  A<span class='operator'>::</span>X<span class='operator'>::</span>Y<span class='operator'>::</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                 <span class='comment'>// error: <span class='tcode_in_codeblock'>g</span> is not a member of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;X&#x200b;::&#x200b;Y</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div>
<div id='friend-example-9' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#friend-example-9'>9</a></i>: <span class='codeblock'><span class='keyword'>class</span> X;
<span class='keyword'>void</span> a<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> Y;
  <span class='keyword'>extern</span> <span class='keyword'>void</span> b<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> X;   <span class='comment'>// OK, but <span class='tcode_in_codeblock'>X</span> is a local class, not <span class='tcode_in_codeblock'>&#x200b;::&#x200b;X</span></span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> Y;   <span class='comment'>// OK</span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> Z;   <span class='comment'>// OK, introduces local class <span class='tcode_in_codeblock'>Z</span></span>
  <span class='keyword'>friend</span> <span class='keyword'>void</span> a<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;  <span class='comment'>// error, <span class='tcode_in_codeblock'>&#x200b;::&#x200b;a</span> is not considered</span>
  <span class='keyword'>friend</span> <span class='keyword'>void</span> b<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;  <span class='comment'>// OK</span>
  <span class='keyword'>friend</span> <span class='keyword'>void</span> c<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;  <span class='comment'>// error</span>
  <span class='curlybracket'>}</span>;
  X<span class='operator'>*</span> px;            <span class='comment'>// OK, but <span class='tcode_in_codeblock'>&#x200b;::&#x200b;X</span> is found</span>
  Z<span class='operator'>*</span> pz;            <span class='comment'>// error: no <span class='tcode_in_codeblock'>Z</span> is found</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='protected' class='section'><h3 ><a class='secnum' href='#protected' style='min-width:80pt'>11.8.5</a> Protected member access <a class='abbr_ref' href='class.protected'>[class.protected]</a></h3><div class='texpara'><a class='index' id=':access_control,protected_'></a></div><div class='para' id='protected-1'><div class='marginalizedparent'><a class='marginalized' href='#protected-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5037'>#</a></div><div class='texpara'><div id='protected-1.sentence-1' class='sentence'>An additional access check beyond those described earlier in <a href='#access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>
is applied when a non-static data member or non-static member function is a
protected member of its naming class (<a href='#access.base' title='11.8.3&emsp;Accessibility of base classes and base class members'>[class.<span class='shy'></span>access.<span class='shy'></span>base]</a>)<a class='hidden_link' href='#protected-1.sentence-1'>.</a><a class='footnoteref' href='#footnote-104' id='footnoteref-104' title='This additional check does not apply to other members, e.g., static data members or enumerator member constants.'>104</a></div> <div id='protected-1.sentence-2' class='sentence'>
As described earlier, access to a protected member is granted because the
reference occurs in a friend or direct member of some class <span class='texttt'>C</span><a class='hidden_link' href='#protected-1.sentence-2'>.</a></div> <div id='protected-1.sentence-3' class='sentence'>If the access is
to form a pointer to member (<a href='expr.unary.op' title='7.6.2.2&emsp;Unary operators'>[expr.<span class='shy'></span>unary.<span class='shy'></span>op]</a>), the
<a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_________'><span class='textsf'><i >nested-name-specifier</i></span></span></a> shall denote <span class='texttt'>C</span> or a class derived from
<span class='texttt'>C</span><a class='hidden_link' href='#protected-1.sentence-3'>.</a></div> <div id='protected-1.sentence-4' class='sentence'>All other accesses involve a (possibly implicit) object
expression (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>)<a class='hidden_link' href='#protected-1.sentence-4'>.</a></div> <div id='protected-1.sentence-5' class='sentence'>In this case, the class of the object expression shall be
<span class='texttt'>C</span> or a class derived from <span class='texttt'>C</span><a class='hidden_link' href='#protected-1.sentence-5'>.</a></div> <div id='protected-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#protected-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>class</span> B <span class='curlybracket'>{</span>
<span class='keyword'>protected</span><span class='operator'>:</span>
  <span class='keyword'>int</span> i;
  <span class='keyword'>static</span> <span class='keyword'>int</span> j;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> D1 <span class='operator'>:</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> D2 <span class='operator'>:</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>void</span> fr<span class='parenthesis'>(</span>B<span class='operator'>*</span>,D1<span class='operator'>*</span>,D2<span class='operator'>*</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> mem<span class='parenthesis'>(</span>B<span class='operator'>*</span>,D1<span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> fr<span class='parenthesis'>(</span>B<span class='operator'>*</span> pb, D1<span class='operator'>*</span> p1, D2<span class='operator'>*</span> p2<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  pb<span class='operator'>-</span><span class='anglebracket'>&gt;</span>i <span class='operator'>=</span> <span class='literal'>1</span>;                    <span class='comment'>// error</span>
  p1<span class='operator'>-</span><span class='anglebracket'>&gt;</span>i <span class='operator'>=</span> <span class='literal'>2</span>;                    <span class='comment'>// error</span>
  p2<span class='operator'>-</span><span class='anglebracket'>&gt;</span>i <span class='operator'>=</span> <span class='literal'>3</span>;                    <span class='comment'>// OK (access through a <span class='tcode_in_codeblock'>D2</span>)</span>
  p2<span class='operator'>-</span><span class='anglebracket'>&gt;</span>B<span class='operator'>::</span>i <span class='operator'>=</span> <span class='literal'>4</span>;                 <span class='comment'>// OK (access through a <span class='tcode_in_codeblock'>D2</span>, even though naming class is <span class='tcode_in_codeblock'>B</span>)</span>
  <span class='keyword'>int</span> B<span class='operator'>::</span><span class='operator'>*</span> pmi_B <span class='operator'>=</span> <span class='operator'>&amp;</span>B<span class='operator'>::</span>i;       <span class='comment'>// error</span>
  <span class='keyword'>int</span> B<span class='operator'>::</span><span class='operator'>*</span> pmi_B2 <span class='operator'>=</span> <span class='operator'>&amp;</span>D2<span class='operator'>::</span>i;     <span class='comment'>// OK (type of <span class='tcode_in_codeblock'>&amp;D2&#x200b;::&#x200b;i</span> is <span class='tcode_in_codeblock'>int B&#x200b;::&#x200b;*</span>)</span>
  B<span class='operator'>::</span>j <span class='operator'>=</span> <span class='literal'>5</span>;                     <span class='comment'>// error: not a friend of naming class <span class='tcode_in_codeblock'>B</span></span>
  D2<span class='operator'>::</span>j <span class='operator'>=</span> <span class='literal'>6</span>;                    <span class='comment'>// OK (because refers to static member)</span>
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> D2<span class='operator'>::</span>mem<span class='parenthesis'>(</span>B<span class='operator'>*</span> pb, D1<span class='operator'>*</span> p1<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  pb<span class='operator'>-</span><span class='anglebracket'>&gt;</span>i <span class='operator'>=</span> <span class='literal'>1</span>;                    <span class='comment'>// error</span>
  p1<span class='operator'>-</span><span class='anglebracket'>&gt;</span>i <span class='operator'>=</span> <span class='literal'>2</span>;                    <span class='comment'>// error</span>
  i <span class='operator'>=</span> <span class='literal'>3</span>;                        <span class='comment'>// OK (access through <span id=':this__'><span class='tcode_in_codeblock'>this</span></span>)</span>
  B<span class='operator'>::</span>i <span class='operator'>=</span> <span class='literal'>4</span>;                     <span class='comment'>// OK (access through <span id=':this___'><span class='tcode_in_codeblock'>this</span></span>, qualification ignored)</span>
  <span class='keyword'>int</span> B<span class='operator'>::</span><span class='operator'>*</span> pmi_B <span class='operator'>=</span> <span class='operator'>&amp;</span>B<span class='operator'>::</span>i;       <span class='comment'>// error</span>
  <span class='keyword'>int</span> B<span class='operator'>::</span><span class='operator'>*</span> pmi_B2 <span class='operator'>=</span> <span class='operator'>&amp;</span>D2<span class='operator'>::</span>i;     <span class='comment'>// OK</span>
  j <span class='operator'>=</span> <span class='literal'>5</span>;                        <span class='comment'>// OK (because <span class='tcode_in_codeblock'>j</span> refers to static member)</span>
  B<span class='operator'>::</span>j <span class='operator'>=</span> <span class='literal'>6</span>;                     <span class='comment'>// OK (because <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;j</span> refers to static member)</span>
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> g<span class='parenthesis'>(</span>B<span class='operator'>*</span> pb, D1<span class='operator'>*</span> p1, D2<span class='operator'>*</span> p2<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  pb<span class='operator'>-</span><span class='anglebracket'>&gt;</span>i <span class='operator'>=</span> <span class='literal'>1</span>;                    <span class='comment'>// error</span>
  p1<span class='operator'>-</span><span class='anglebracket'>&gt;</span>i <span class='operator'>=</span> <span class='literal'>2</span>;                    <span class='comment'>// error</span>
  p2<span class='operator'>-</span><span class='anglebracket'>&gt;</span>i <span class='operator'>=</span> <span class='literal'>3</span>;                    <span class='comment'>// error</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-104'><div class='texpara'><a class='footnotenum' href='#footnote-104'>104)</a><a class='footnoteBacklink' href='#footnoteref-104'>104)</a> <div id='footnote-104.sentence-1' class='sentence'>This
additional check does not apply to other members,
e.g., static data members or enumerator member constants<a class='hidden_link' href='#footnote-104.sentence-1'>.</a></div></div></div></div><div id='access.virt' class='section'><h3 ><a class='secnum' href='#access.virt' style='min-width:80pt'>11.8.6</a> Access to virtual functions <a class='abbr_ref' href='class.access.virt'>[class.access.virt]</a></h3><div class='texpara'><a class='index' id=':access_control,virtual_function'></a></div><div class='para' id='access.virt-1'><div class='marginalizedparent'><a class='marginalized' href='#access.virt-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5102'>#</a></div><div class='texpara'><div id='access.virt-1.sentence-1' class='sentence'>The access rules (<a href='#access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>) for a virtual function are determined by its declaration
and are not affected by the rules for a function that later overrides it<a class='hidden_link' href='#access.virt-1.sentence-1'>.</a></div> <div id='access.virt-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#access.virt-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>class</span> B <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>virtual</span> <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> D <span class='operator'>:</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span>
<span class='keyword'>private</span><span class='operator'>:</span>
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  D d;
  B<span class='operator'>*</span> pb <span class='operator'>=</span> <span class='operator'>&amp;</span>d;
  D<span class='operator'>*</span> pd <span class='operator'>=</span> <span class='operator'>&amp;</span>d;

  pb<span class='operator'>-</span><span class='anglebracket'>&gt;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                      <span class='comment'>// OK, <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f()</span> is public, <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;f()</span> is invoked</span>
  pd<span class='operator'>-</span><span class='anglebracket'>&gt;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                      <span class='comment'>// error: <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;f()</span> is private</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='access.virt-2'><div class='marginalizedparent'><a class='marginalized' href='#access.virt-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5128'>#</a></div><div class='texpara'><div id='access.virt-2.sentence-1' class='sentence'>Access is checked at the call point using the type of the expression used
to denote the object for which the member function is called
(<span class='texttt'>B<span class='operator'>*</span></span>
in the example above)<a class='hidden_link' href='#access.virt-2.sentence-1'>.</a></div> <div id='access.virt-2.sentence-2' class='sentence'>The access of the member function in the class in which it was defined
(<span class='texttt'>D</span>
in the example above) is in general not known<a class='hidden_link' href='#access.virt-2.sentence-2'>.</a></div></div></div></div><div id='paths' class='section'><h3 ><a class='secnum' href='#paths' style='min-width:80pt'>11.8.7</a> Multiple access <a class='abbr_ref' href='class.paths'>[class.paths]</a></h3><div class='texpara'><a class='index' id=':access_control,multiple_access'></a></div><div class='para' id='paths-1'><div class='marginalizedparent'><a class='marginalized' href='#paths-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5140'>#</a></div><div class='texpara'><div id='paths-1.sentence-1' class='sentence'>If a declaration can be reached by several paths through a multiple inheritance
graph, the access is that of the path that gives most access<a class='hidden_link' href='#paths-1.sentence-1'>.</a></div> <div id='paths-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#paths-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>class</span> W <span class='curlybracket'>{</span> <span class='keyword'>public</span><span class='operator'>:</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> A <span class='operator'>:</span> <span class='keyword'>private</span> <span class='keyword'>virtual</span> W <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> B <span class='operator'>:</span> <span class='keyword'>public</span> <span class='keyword'>virtual</span> W <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> C <span class='operator'>:</span> <span class='keyword'>public</span> A, <span class='keyword'>public</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> W<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>          <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='paths-1.sentence-2' class='sentence'>Since
<span class='texttt'>W<span class='operator'>&#x200b;::&#x200b;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is available to
<span class='texttt'>C<span class='operator'>&#x200b;::&#x200b;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
along the public path through
<span class='texttt'>B</span>,
access is allowed<a class='hidden_link' href='#paths-1.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='access.nest' class='section'><h3 ><a class='secnum' href='#access.nest' style='min-width:80pt'>11.8.8</a> Nested classes <a class='abbr_ref' href='class.access.nest'>[class.access.nest]</a></h3><div class='texpara'><a class='index' id=':access_control,nested_class'></a><a class='index' id=':member_function,nested_class'></a></div><div class='para' id='access.nest-1'><div class='marginalizedparent'><a class='marginalized' href='#access.nest-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5166'>#</a></div><div class='texpara'><div id='access.nest-1.sentence-1' class='sentence'>A nested class is a member and as such has the same access rights as any other member<a class='hidden_link' href='#access.nest-1.sentence-1'>.</a></div> <div id='access.nest-1.sentence-2' class='sentence'>The members of an enclosing class have no special access to members of a nested
class; the usual access rules (<a href='#access' title='11.8&emsp;Member access control'>[class.<span class='shy'></span>access]</a>) shall be obeyed<a class='hidden_link' href='#access.nest-1.sentence-2'>.</a></div> <div id='access.nest-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#access.nest-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>class</span> E <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x;
  <span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

  <span class='keyword'>class</span> I <span class='curlybracket'>{</span>
    B b;                        <span class='comment'>// OK, <span class='tcode_in_codeblock'>E&#x200b;::&#x200b;I</span> can access <span class='tcode_in_codeblock'>E&#x200b;::&#x200b;B</span></span>
    <span class='keyword'>int</span> y;
    <span class='keyword'>void</span> f<span class='parenthesis'>(</span>E<span class='operator'>*</span> p, <span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>x <span class='operator'>=</span> i;                 <span class='comment'>// OK, <span class='tcode_in_codeblock'>E&#x200b;::&#x200b;I</span> can access <span class='tcode_in_codeblock'>E&#x200b;::&#x200b;x</span></span>
    <span class='curlybracket'>}</span>
  <span class='curlybracket'>}</span>;

  <span class='keyword'>int</span> g<span class='parenthesis'>(</span>I<span class='operator'>*</span> p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>return</span> p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>y;                <span class='comment'>// error: <span class='tcode_in_codeblock'>I&#x200b;::&#x200b;y</span> is private</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div> </div></div></div></div><div id='init' class='section'><h2 ><a class='secnum' href='#init' style='min-width:65pt'>11.9</a> Initialization <a class='abbr_ref' href='class.init'>[class.init]</a></h2><div id='init.general' class='section'><h3 ><a class='secnum' href='#init.general' style='min-width:80pt'>11.9.1</a> General <a class='abbr_ref' href='class.init.general'>[class.init.general]</a></h3><div class='texpara'><a class='index' id=':initialization,class_object'></a><a class='index' id=':initialization,default_constructor_and'></a><a class='index' id=':initialization,constructor_and'></a></div><div class='para' id='init.general-1'><div class='marginalizedparent'><a class='marginalized' href='#init.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5199'>#</a></div><div class='texpara'><div id='init.general-1.sentence-1' class='sentence'>When no initializer is specified for an object of (possibly
cv-qualified) class type (or array thereof), or the initializer has
the form
<span class='texttt'><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
the object is initialized as specified in <a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a><a class='hidden_link' href='#init.general-1.sentence-1'>.</a></div></div></div><div class='para' id='init.general-2'><div class='marginalizedparent'><a class='marginalized' href='#init.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5206'>#</a></div><div class='texpara'><div id='init.general-2.sentence-1' class='sentence'>An object of class type (or array thereof) can be explicitly initialized;
see <a href='#expl.init' title='11.9.2&emsp;Explicit initialization'>[class.<span class='shy'></span>expl.<span class='shy'></span>init]</a> and <a href='#base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a><a class='hidden_link' href='#init.general-2.sentence-1'>.</a></div></div></div><div class='para' id='init.general-3'><div class='marginalizedparent'><a class='marginalized' href='#init.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5210'>#</a></div><div class='texpara'><div id='init.general-3.sentence-1' class='sentence'><a class='index' id=':order_of_execution,constructor_and_array'></a>When an array of class objects is initialized
(either explicitly or implicitly) and the elements are initialized by constructor,
the constructor shall be called for each element of the array,
following the subscript order; see <a href='dcl.array' title='9.3.4.5&emsp;Arrays'>[dcl.<span class='shy'></span>array]</a><a class='hidden_link' href='#init.general-3.sentence-1'>.</a></div> <div id='init.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#init.general-note-1'>1</a></i>: <div id='init.general-3.sentence-2' class='sentence'>Destructors for the array elements are called in reverse order of their
construction<a class='hidden_link' href='#init.general-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='expl.init' class='section'><h3 ><a class='secnum' href='#expl.init' style='min-width:80pt'>11.9.2</a> Explicit initialization <a class='abbr_ref' href='class.expl.init'>[class.expl.init]</a></h3><div class='texpara'><a class='index' id=':initialization,explicit'></a><a class='index' id=':initialization,constructor_and_'></a></div><div class='para' id='expl.init-1'><div class='marginalizedparent'><a class='marginalized' href='#expl.init-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5225'>#</a></div><div class='texpara'><div id='expl.init-1.sentence-1' class='sentence'>An object of class type can be initialized with a parenthesized
<a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list'><span class='textsf'><i >expression-list</i></span></span></a>,
where the
<a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list_'><span class='textsf'><i >expression-list</i></span></span></a>
is construed as an argument list for a constructor
that is called to initialize the object<a class='hidden_link' href='#expl.init-1.sentence-1'>.</a></div> <div id='expl.init-1.sentence-2' class='sentence'>Alternatively, a single
<a href='expr.ass#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.ass]'><span id='ntref:assignment-expression_'><span class='textsf'><i >assignment-expression</i></span></span></a>
can be specified as an
<a href='dcl.init.general#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer___'><span class='textsf'><i >initializer</i></span></span></a>
using the
<span class='texttt'><span class='operator'>=</span></span>
form of initialization<a class='hidden_link' href='#expl.init-1.sentence-2'>.</a></div> <div id='expl.init-1.sentence-3' class='sentence'>Either direct-initialization semantics or copy-initialization semantics apply;
see <a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a><a class='hidden_link' href='#expl.init-1.sentence-3'>.</a></div> <div id='expl.init-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#expl.init-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> complex <span class='curlybracket'>{</span>
  complex<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  complex<span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span>;
  complex<span class='parenthesis'>(</span><span class='keyword'>double</span>,<span class='keyword'>double</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

complex sqrt<span class='parenthesis'>(</span>complex,complex<span class='parenthesis'>)</span>;

complex a<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                   <span class='comment'>// initialized by calling <span class='tcode_in_codeblock'>complex(double)</span> with argument <span class='tcode_in_codeblock'>1</span></span>
complex b <span class='operator'>=</span> a;                  <span class='comment'>// initialized as a copy of <span class='tcode_in_codeblock'>a</span></span>
complex c <span class='operator'>=</span> complex<span class='parenthesis'>(</span><span class='literal'>1</span>,<span class='literal'>2</span><span class='parenthesis'>)</span>;       <span class='comment'>// initialized by calling <span class='tcode_in_codeblock'>complex(double,double)</span> with arguments <span class='tcode_in_codeblock'>1</span> and <span class='tcode_in_codeblock'>2</span></span>
complex d <span class='operator'>=</span> sqrt<span class='parenthesis'>(</span>b,c<span class='parenthesis'>)</span>;          <span class='comment'>// initialized by calling <span class='tcode_in_codeblock'>sqrt(complex,complex)</span> with <span class='tcode_in_codeblock'>d</span> as its result object</span>
complex e;                      <span class='comment'>// initialized by calling <span class='tcode_in_codeblock'>complex()</span></span>
complex f <span class='operator'>=</span> <span class='literal'>3</span>;                  <span class='comment'>// initialized by calling <span class='tcode_in_codeblock'>complex(double)</span> with argument <span class='tcode_in_codeblock'>3</span></span>
complex g <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span> <span class='curlybracket'>}</span>;           <span class='comment'>// initialized by calling <span class='tcode_in_codeblock'>complex(double, double)</span> with arguments <span class='tcode_in_codeblock'>1</span> and <span class='tcode_in_codeblock'>2</span></span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='expl.init-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#expl.init-note-1'>1</a></i>: <div id='expl.init-1.sentence-4' class='sentence'><a class='index' id=':initialization,overloaded_assignment_and'></a>Overloading of the assignment operator (<a href='over.ass' title='12.4.3.2&emsp;Simple assignment'>[over.<span class='shy'></span>ass]</a>)
has no effect on initialization<a class='hidden_link' href='#expl.init-1.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='expl.init-2'><div class='marginalizedparent'><a class='marginalized' href='#expl.init-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5266'>#</a></div><div class='texpara'><div id='expl.init-2.sentence-1' class='sentence'><a class='index' id=':initialization,array_of_class_objects'></a><a class='index' id=':constructor,array_of_class_objects_and'></a>An object of class type can also be initialized by a
<a href='dcl.init.general#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list'><span class='textsf'><i >braced-init-list</i></span></span></a><a class='hidden_link' href='#expl.init-2.sentence-1'>.</a></div> <div id='expl.init-2.sentence-2' class='sentence'>List-initialization semantics apply;
see <a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a> and <a href='dcl.init.list' title='9.4.5&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a><a class='hidden_link' href='#expl.init-2.sentence-2'>.</a></div> <div id='expl.init-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#expl.init-example-2'>2</a></i>: <span class='codeblock'>complex v<span class='squarebracket'>[</span><span class='literal'>6</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, complex<span class='parenthesis'>(</span><span class='literal'>1</span>,<span class='literal'>2</span><span class='parenthesis'>)</span>, complex<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, <span class='literal'>2</span> <span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='expl.init-2.sentence-3' class='sentence'>Here,
<span class='texttt'>complex<span class='operator'>&#x200b;::&#x200b;</span>complex<span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span></span>
is called for the initialization of
<span class='texttt'>v<span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span></span>
and
<span class='texttt'>v<span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span></span>,
<span class='texttt'>complex<span class='operator'>&#x200b;::&#x200b;</span>complex<span class='parenthesis'>(</span>&#x200b;<span class='keyword'>double</span>, <span class='keyword'>double</span><span class='parenthesis'>)</span></span>
is called for the initialization of
<span class='texttt'>v<span class='squarebracket'>[</span><span class='literal'>1</span><span class='squarebracket'>]</span></span>,
<span class='texttt'>complex<span class='operator'>&#x200b;::&#x200b;</span>complex<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is called for the initialization of
<span class='texttt'>v<span class='squarebracket'>[</span><span class='literal'>2</span><span class='squarebracket'>]</span></span>,
<span class='texttt'>v<span class='squarebracket'>[</span><span class='literal'>4</span><span class='squarebracket'>]</span></span>,
and
<span class='texttt'>v<span class='squarebracket'>[</span><span class='literal'>5</span><span class='squarebracket'>]</span></span><a class='hidden_link' href='#expl.init-2.sentence-3'>.</a></div> <div id='expl.init-2.sentence-4' class='sentence'>For another example,</div></div><div class='texpara'><span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i;
  <span class='keyword'>float</span> f;
  complex c;
<span class='curlybracket'>}</span> x <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>99</span>, <span class='literal'>88.8</span>, <span class='literal'>77.7</span> <span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='expl.init-2.sentence-5' class='sentence'>Here,
<span class='texttt'>x<span class='operator'>.</span>i</span>
is initialized with 99,
<span class='texttt'>x<span class='operator'>.</span>f</span>
is initialized with 88.8, and
<span class='texttt'>complex<span class='operator'>&#x200b;::&#x200b;</span>complex<span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span></span>
is called for the initialization of
<span class='texttt'>x<span class='operator'>.</span>c</span><a class='hidden_link' href='#expl.init-2.sentence-5'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='expl.init-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#expl.init-note-2'>2</a></i>: <div id='expl.init-2.sentence-6' class='sentence'>Braces can be elided in the
<a href='dcl.init.general#nt:initializer-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer-list'><span class='textsf'><i >initializer-list</i></span></span></a>
for any aggregate, even if the aggregate has members of a class type with
user-defined type conversions; see <a href='dcl.init.aggr' title='9.4.2&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a><a class='hidden_link' href='#expl.init-2.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='expl.init-3'><div class='marginalizedparent'><a class='marginalized' href='#expl.init-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5318'>#</a></div><div class='texpara'><div id='expl.init-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#expl.init-note-3'>3</a></i>: <div id='expl.init-3.sentence-1' class='sentence'>If
<span class='texttt'>T</span>
is a class type with no default constructor,
any declaration of an object of type
<span class='texttt'>T</span>
(or array thereof) is ill-formed if no
<a href='dcl.init.general#nt:initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:initializer____'><span class='textsf'><i >initializer</i></span></span></a>
is explicitly specified (see <a href='#init' title='11.9&emsp;Initialization'>[class.<span class='shy'></span>init]</a> and <a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#expl.init-3.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='expl.init-4'><div class='marginalizedparent'><a class='marginalized' href='#expl.init-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5330'>#</a></div><div class='texpara'><div id='expl.init-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#expl.init-note-4'>4</a></i>: <div id='expl.init-4.sentence-1' class='sentence'><a class='index' id=':order_of_execution,constructor_and_static_data_members'></a>The order in which objects with static or thread storage duration
are initialized is described in <a href='basic.start.dynamic' title='6.9.3.3&emsp;Dynamic initialization of non-block variables'>[basic.<span class='shy'></span>start.<span class='shy'></span>dynamic]</a> and <a href='stmt.dcl' title='8.8&emsp;Declaration statement'>[stmt.<span class='shy'></span>dcl]</a><a class='hidden_link' href='#expl.init-4.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='base.init' class='section'><h3 ><a class='secnum' href='#base.init' style='min-width:80pt'>11.9.3</a> Initializing bases and members <a class='abbr_ref' href='class.base.init'>[class.base.init]</a></h3><div class='texpara'><a class='index' id=':initialization,base_class'></a><a class='index' id=':initialization,member'></a></div><div class='para' id='base.init-1'><div class='marginalizedparent'><a class='marginalized' href='#base.init-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5341'>#</a></div><div class='texpara'><div id='base.init-1.sentence-1' class='sentence'>In the definition of a constructor for a class,
initializers for direct and virtual base class subobjects and
non-static data members can be specified by a
<a href='#nt:ctor-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:ctor-initializer_'><span class='textsf'><i >ctor-initializer</i></span></span></a>,
which has the form
<div class='bnf' id='nt:ctor-initializer'>
<a class='hidden_link' href='#nt:ctor-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='nt:ctor-initializer'><span id=':ctor-initializer'>ctor-initializer<span class='textnormal'>:</span></span></span></a><br/><span class='terminal'><span class='operator'>:</span></span> <a href='#nt:mem-initializer-list' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer-list'><span class='textsf'><i >mem-initializer-list</i></span></span></a>
</div></div></div><div class='texpara'><div class='bnf' id='nt:mem-initializer-list'>
<a class='hidden_link' href='#nt:mem-initializer-list' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='nt:mem-initializer-list'><span id=':mem-initializer-list'>mem-initializer-list<span class='textnormal'>:</span></span></span></a><br/><a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer'><span class='textsf'><i >mem-initializer</i></span></span></a> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><br/><a href='#nt:mem-initializer-list' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer-list_'><span class='textsf'><i >mem-initializer-list</i></span></span></a> <span class='terminal'>,</span> <a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer_'><span class='textsf'><i >mem-initializer</i></span></span></a> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</div></div><div class='texpara'><div class='bnf' id='nt:mem-initializer'>
<a class='hidden_link' href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='nt:mem-initializer'><span id=':mem-initializer'>mem-initializer<span class='textnormal'>:</span></span></span></a><br/><a href='#nt:mem-initializer-id' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer-id'><span class='textsf'><i >mem-initializer-id</i></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list__'><span class='textsf'><i >expression-list</i></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span><br/><a href='#nt:mem-initializer-id' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer-id_'><span class='textsf'><i >mem-initializer-id</i></span></span></a> <a href='dcl.init.general#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list_'><span class='textsf'><i >braced-init-list</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:mem-initializer-id'>
<a class='hidden_link' href='#nt:mem-initializer-id' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='nt:mem-initializer-id'><span id=':mem-initializer-id'>mem-initializer-id<span class='textnormal'>:</span></span></span></a><br/><a href='#nt:class-or-decltype' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:class-or-decltype_______'><span class='textsf'><i >class-or-decltype</i></span></span></a><br/><a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_________'><span class='textsf'><i >identifier</i></span></span></a>
</div></div></div><div class='para' id='base.init-2'><div class='marginalizedparent'><a class='marginalized' href='#base.init-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5370'>#</a></div><div class='texpara'><div id='base.init-2.sentence-1' class='sentence'>Lookup for an unqualified name in a <a href='#nt:mem-initializer-id' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer-id__'><span class='textsf'><i >mem-initializer-id</i></span></span></a>
ignores the constructor's function parameter scope<a class='hidden_link' href='#base.init-2.sentence-1'>.</a></div> <div id='base.init-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#base.init-note-1'>1</a></i>: <div id='base.init-2.sentence-2' class='sentence'>If the constructor's class contains a member with the same name as a direct
or virtual base class of the class, a
<a href='#nt:mem-initializer-id' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer-id___'><span class='textsf'><i >mem-initializer-id</i></span></span></a>
naming the member or base class and composed of a single identifier
refers to the class member<a class='hidden_link' href='#base.init-2.sentence-2'>.</a></div> <div id='base.init-2.sentence-3' class='sentence'>A
<a href='#nt:mem-initializer-id' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer-id____'><span class='textsf'><i >mem-initializer-id</i></span></span></a>
for the hidden base class can be specified using a qualified name<a class='hidden_link' href='#base.init-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='base.init-2.sentence-4' class='sentence'>
Unless the
<a href='#nt:mem-initializer-id' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer-id_____'><span class='textsf'><i >mem-initializer-id</i></span></span></a>
names the constructor's class,
a non-static data member of the constructor's class, or
a direct or virtual base of that class,
the
<a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer__'><span class='textsf'><i >mem-initializer</i></span></span></a>
is ill-formed<a class='hidden_link' href='#base.init-2.sentence-4'>.</a></div></div></div><div class='para' id='base.init-3'><div class='marginalizedparent'><a class='marginalized' href='#base.init-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5392'>#</a></div><div class='texpara'><div id='base.init-3.sentence-1' class='sentence'>A
<a href='#nt:mem-initializer-list' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer-list__'><span class='textsf'><i >mem-initializer-list</i></span></span></a>
can initialize a base class using any <a href='#nt:class-or-decltype' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:class-or-decltype________'><span class='textsf'><i >class-or-decltype</i></span></span></a> that denotes that base class type<a class='hidden_link' href='#base.init-3.sentence-1'>.</a></div> <div id='base.init-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#base.init-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>typedef</span> A global_A;
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C<span class='operator'>:</span> <span class='keyword'>public</span> A, <span class='keyword'>public</span> B <span class='curlybracket'>{</span> C<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
C<span class='operator'>::</span>C<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>:</span> global_A<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>          <span class='comment'>// mem-initializer for base <span class='tcode_in_codeblock'>A</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='base.init-4'><div class='marginalizedparent'><a class='marginalized' href='#base.init-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5406'>#</a></div><div class='texpara'><div id='base.init-4.sentence-1' class='sentence'>If a
<a href='#nt:mem-initializer-id' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer-id______'><span class='textsf'><i >mem-initializer-id</i></span></span></a>
is ambiguous because it designates both a direct non-virtual base class and
an indirect virtual base class, the
<a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer___'><span class='textsf'><i >mem-initializer</i></span></span></a>
is ill-formed<a class='hidden_link' href='#base.init-4.sentence-1'>.</a></div> <div id='base.init-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#base.init-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B<span class='operator'>:</span> <span class='keyword'>public</span> <span class='keyword'>virtual</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C<span class='operator'>:</span> <span class='keyword'>public</span> A, <span class='keyword'>public</span> B <span class='curlybracket'>{</span> C<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
C<span class='operator'>::</span>C<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>:</span> A<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>                 <span class='comment'>// error: which <span class='tcode_in_codeblock'>A</span>?</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='base.init-5'><div class='marginalizedparent'><a class='marginalized' href='#base.init-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5422'>#</a></div><div class='texpara'><div id='base.init-5.sentence-1' class='sentence'>A
<a href='#nt:ctor-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:ctor-initializer__'><span class='textsf'><i >ctor-initializer</i></span></span></a>
may initialize a variant member of the
constructor's class<a class='hidden_link' href='#base.init-5.sentence-1'>.</a></div> <div id='base.init-5.sentence-2' class='sentence'>If a
<a href='#nt:ctor-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:ctor-initializer___'><span class='textsf'><i >ctor-initializer</i></span></span></a>
specifies more than one
<a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer____'><span class='textsf'><i >mem-initializer</i></span></span></a>
for the same member or for the same base class,
the
<a href='#nt:ctor-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:ctor-initializer____'><span class='textsf'><i >ctor-initializer</i></span></span></a>
is ill-formed<a class='hidden_link' href='#base.init-5.sentence-2'>.</a></div></div></div><div class='para' id='base.init-6'><div class='marginalizedparent'><a class='marginalized' href='#base.init-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5436'>#</a></div><div class='texpara'><div id='base.init-6.sentence-1' class='sentence'>A <a href='#nt:mem-initializer-list' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer-list___'><span class='textsf'><i >mem-initializer-list</i></span></span></a> can delegate to another
constructor of the constructor's class using any
<a href='#nt:class-or-decltype' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:class-or-decltype_________'><span class='textsf'><i >class-or-decltype</i></span></span></a> that denotes the constructor's class itself<a class='hidden_link' href='#base.init-6.sentence-1'>.</a></div> <div id='base.init-6.sentence-2' class='sentence'>If a
<a href='#nt:mem-initializer-id' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer-id_______'><span class='textsf'><i >mem-initializer-id</i></span></span></a> designates the constructor's class,
it shall be the only <a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer_____'><span class='textsf'><i >mem-initializer</i></span></span></a>; the constructor
is a <a class='hidden_link' href='#def:constructor,delegating' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='def:constructor,delegating'><i >delegating constructor</i></span></a>, and the constructor selected by the
<a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer______'><span class='textsf'><i >mem-initializer</i></span></span></a> is the <a class='hidden_link' href='#def:constructor,target' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='def:constructor,target'><i >target constructor</i></span></a><a class='hidden_link' href='#base.init-6.sentence-2'>.</a></div> <div id='base.init-6.sentence-3' class='sentence'>The target constructor is selected by overload resolution<a class='hidden_link' href='#base.init-6.sentence-3'>.</a></div> <div id='base.init-6.sentence-4' class='sentence'>Once the target constructor returns, the body of the delegating constructor
is executed<a class='hidden_link' href='#base.init-6.sentence-4'>.</a></div> <div id='base.init-6.sentence-5' class='sentence'>If a constructor delegates to itself directly or indirectly,
the program is ill-formed, no diagnostic required<a class='hidden_link' href='#base.init-6.sentence-5'>.</a></div> <div id='base.init-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#base.init-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  C<span class='parenthesis'>(</span> <span class='keyword'>int</span> <span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>                  <span class='comment'>// #1: non-delegating constructor</span>
  C<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>:</span> C<span class='parenthesis'>(</span><span class='literal'>42</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>                <span class='comment'>// #2: delegates to #1</span>
  C<span class='parenthesis'>(</span> <span class='keyword'>char</span> c <span class='parenthesis'>)</span> <span class='operator'>:</span> C<span class='parenthesis'>(</span><span class='literal'>42.0</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>     <span class='comment'>// #3: ill-formed due to recursion with #4</span>
  C<span class='parenthesis'>(</span> <span class='keyword'>double</span> d <span class='parenthesis'>)</span> <span class='operator'>:</span> C<span class='parenthesis'>(</span><span class='literal'>'a'</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>    <span class='comment'>// #4: ill-formed due to recursion with #3</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='base.init-7'><div class='marginalizedparent'><a class='marginalized' href='#base.init-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5459'>#</a></div><div class='texpara'><div id='base.init-7.sentence-1' class='sentence'><a class='index' id=':initialization,base_class_'></a><a class='index' id=':initialization,member_object'></a>The
<a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list___'><span class='textsf'><i >expression-list</i></span></span></a>
or <a href='dcl.init.general#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list__'><span class='textsf'><i >braced-init-list</i></span></span></a>
in a
<a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer_______'><span class='textsf'><i >mem-initializer</i></span></span></a>
is used to initialize the
designated subobject (or, in the case of a delegating constructor, the complete class object)
according to the initialization rules of <a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a> for direct-initialization<a class='hidden_link' href='#base.init-7.sentence-1'>.</a></div> <div id='base.init-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#base.init-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>struct</span> B1 <span class='curlybracket'>{</span> B1<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>; <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B2 <span class='curlybracket'>{</span> B2<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>; <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> B1, B2 <span class='curlybracket'>{</span>
  D<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  B1 b;
  <span class='keyword'>const</span> <span class='keyword'>int</span> c;
<span class='curlybracket'>}</span>;

D<span class='operator'>::</span>D<span class='parenthesis'>(</span><span class='keyword'>int</span> a<span class='parenthesis'>)</span> <span class='operator'>:</span> B2<span class='parenthesis'>(</span>a<span class='operator'>+</span><span class='literal'>1</span><span class='parenthesis'>)</span>, B1<span class='parenthesis'>(</span>a<span class='operator'>+</span><span class='literal'>2</span><span class='parenthesis'>)</span>, c<span class='parenthesis'>(</span>a<span class='operator'>+</span><span class='literal'>3</span><span class='parenthesis'>)</span>, b<span class='parenthesis'>(</span>a<span class='operator'>+</span><span class='literal'>4</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>
D d<span class='parenthesis'>(</span><span class='literal'>10</span><span class='parenthesis'>)</span>;
</span> —&nbsp;<i>end example</i>]</div></div> <div id='base.init-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#base.init-note-2'>2</a></i>: <div id='base.init-7.sentence-2' class='sentence'>The initialization
performed by each <a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer________'><span class='textsf'><i >mem-initializer</i></span></span></a>
constitutes a full-expression (<a href='intro.execution' title='6.9.1&emsp;Sequential execution'>[intro.<span class='shy'></span>execution]</a>)<a class='hidden_link' href='#base.init-7.sentence-2'>.</a></div> <div id='base.init-7.sentence-3' class='sentence'>Any expression in
a
<a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer_________'><span class='textsf'><i >mem-initializer</i></span></span></a>
is evaluated as part of the full-expression that performs the initialization<a class='hidden_link' href='#base.init-7.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='base.init-7.sentence-4' class='sentence'>
A <a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer__________'><span class='textsf'><i >mem-initializer</i></span></span></a> where the <a href='#nt:mem-initializer-id' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer-id________'><span class='textsf'><i >mem-initializer-id</i></span></span></a> denotes
a virtual base class is ignored during execution of a constructor of any class that is
not the most derived class<a class='hidden_link' href='#base.init-7.sentence-4'>.</a></div></div></div><div class='para' id='base.init-8'><div class='marginalizedparent'><a class='marginalized' href='#base.init-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5497'>#</a></div><div class='texpara'><div id='base.init-8.sentence-1' class='sentence'>A temporary expression bound to a reference member in a <a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer___________'><span class='textsf'><i >mem-initializer</i></span></span></a>
is ill-formed<a class='hidden_link' href='#base.init-8.sentence-1'>.</a></div> <div id='base.init-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#base.init-example-5'>5</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  A<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>:</span> v<span class='parenthesis'>(</span><span class='literal'>42</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>   <span class='comment'>// error</span>
  <span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> v;
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='base.init-9'><div class='marginalizedparent'><a class='marginalized' href='#base.init-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5509'>#</a></div><div class='texpara'><div id='base.init-9.sentence-1' class='sentence'>In a non-delegating constructor
other than an implicitly-defined copy/move constructor (<a href='#copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>),
if a given potentially constructed subobject is not designated by a
<a href='#nt:mem-initializer-id' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer-id_________'><span class='textsf'><i >mem-initializer-id</i></span></span></a>
(including the case where there is no
<a href='#nt:mem-initializer-list' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer-list____'><span class='textsf'><i >mem-initializer-list</i></span></span></a>
because the constructor has no
<a href='#nt:ctor-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:ctor-initializer_____'><span class='textsf'><i >ctor-initializer</i></span></span></a>),
then
<ul class='itemize'><li id='base.init-9.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#base.init-9.1'>(9.1)</a></div>if the entity is a non-static data member that has
a default member initializer (<a href='#mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>) and either
<ul class='itemize'><li id='base.init-9.1.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#base.init-9.1.1'>(9.1.1)</a></div>the constructor's class is a union (<a href='#union' title='11.5&emsp;Unions'>[class.<span class='shy'></span>union]</a>), and no other variant
member of that union is designated by a <a href='#nt:mem-initializer-id' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer-id__________'><span class='textsf'><i >mem-initializer-id</i></span></span></a> or</li><li id='base.init-9.1.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#base.init-9.1.2'>(9.1.2)</a></div>the constructor's class is not a union, and, if the entity is a member of an
anonymous union, no other member of that union is designated by a
<a href='#nt:mem-initializer-id' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer-id___________'><span class='textsf'><i >mem-initializer-id</i></span></span></a>,</li></ul>
the entity is initialized from its default member initializer
as specified in <a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>;</li><li id='base.init-9.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#base.init-9.2'>(9.2)</a></div>otherwise, if the entity is an anonymous union or a variant member (<a href='#union.anon' title='11.5.2&emsp;Anonymous unions'>[class.<span class='shy'></span>union.<span class='shy'></span>anon]</a>), no initialization is performed;</li><li id='base.init-9.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#base.init-9.3'>(9.3)</a></div>otherwise, the entity is default-initialized (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#base.init-9.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='base.init-note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#base.init-note-3'>3</a></i>: <div id='base.init-9.sentence-2' class='sentence'>An abstract class (<a href='#abstract' title='11.7.4&emsp;Abstract classes'>[class.<span class='shy'></span>abstract]</a>) is never a most derived
class, thus its constructors never initialize virtual base classes, therefore the
corresponding <a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer____________'><span class='textsf'><i >mem-initializer</i></span></span></a><i >s</i> can be omitted<a class='hidden_link' href='#base.init-9.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='base.init-9.sentence-3' class='sentence'>
An attempt to initialize more than one non-static data member of a union renders the
program ill-formed<a class='hidden_link' href='#base.init-9.sentence-3'>.</a></div> <a class='index' id=':initialization,const_member'></a><a class='index' id=':initialization,reference_member'></a><div id='base.init-note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#base.init-note-4'>4</a></i>: <div id='base.init-9.sentence-4' class='sentence'>After the call to a constructor for class
<span class='texttt'>X</span>
for an object with automatic or dynamic storage duration
has completed, if
the constructor was not invoked as part of value-initialization and
a member of
<span class='texttt'>X</span>
is neither initialized nor
given a value
during execution of the <a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement_'><span class='textsf'><i >compound-statement</i></span></span></a> of the body of the constructor,
the member has an indeterminate value<a class='hidden_link' href='#base.init-9.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div>
<div id='base.init-example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#base.init-example-6'>6</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  B<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  C<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>               <span class='comment'>// initializes members as follows:</span>
  A a;                  <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;A()</span></span>
  <span class='keyword'>const</span> B b;            <span class='comment'>// error: <span class='tcode_in_codeblock'>B</span> has no default constructor</span>
  <span class='keyword'>int</span> i;                <span class='comment'>// OK, <span class='tcode_in_codeblock'>i</span> has indeterminate value</span>
  <span class='keyword'>int</span> j <span class='operator'>=</span> <span class='literal'>5</span>;            <span class='comment'>// OK, <span class='tcode_in_codeblock'>j</span> has the value <span class='tcode_in_codeblock'>5</span></span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='base.init-10'><div class='marginalizedparent'><a class='marginalized' href='#base.init-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5580'>#</a></div><div class='texpara'><div id='base.init-10.sentence-1' class='sentence'>If a given non-static data member has both a default member initializer
and a <a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer_____________'><span class='textsf'><i >mem-initializer</i></span></span></a>, the initialization specified by the
<a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer______________'><span class='textsf'><i >mem-initializer</i></span></span></a> is performed, and the non-static data member's
default member initializer is ignored<a class='hidden_link' href='#base.init-10.sentence-1'>.</a></div> <div id='base.init-example-7' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#base.init-example-7'>7</a></i>: <div id='base.init-10.sentence-2' class='sentence'>Given
<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i <span class='operator'>=</span> <span class='comment'>/* some integer expression with side effects */</span> ;
  A<span class='parenthesis'>(</span><span class='keyword'>int</span> arg<span class='parenthesis'>)</span> <span class='operator'>:</span> i<span class='parenthesis'>(</span>arg<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
  <span class='comment'>// ...</span>
<span class='curlybracket'>}</span>;
</span>
the <span class='texttt'>A<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span></span> constructor will simply initialize <span class='texttt'>i</span> to the value of
<span class='texttt'>arg</span>, and the
<a class='index' id=':side_effects'></a>side effects in <span class='texttt'>i</span>'s default member initializer
will not take place<a class='hidden_link' href='#base.init-10.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='base.init-11'><div class='marginalizedparent'><a class='marginalized' href='#base.init-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5604'>#</a></div><div class='texpara'><div id='base.init-11.sentence-1' class='sentence'>A temporary expression bound to a reference member from a
default member initializer is ill-formed<a class='hidden_link' href='#base.init-11.sentence-1'>.</a></div> <div id='base.init-example-8' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#base.init-example-8'>8</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  A<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;        <span class='comment'>// OK</span>
  A<span class='parenthesis'>(</span><span class='keyword'>int</span> v<span class='parenthesis'>)</span> <span class='operator'>:</span> v<span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>   <span class='comment'>// OK</span>
  <span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> v <span class='operator'>=</span> <span class='literal'>42</span>;    <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>;
A a1;                   <span class='comment'>// error: ill-formed binding of temporary to reference</span>
A a2<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                <span class='comment'>// OK, unfortunately</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='base.init-12'><div class='marginalizedparent'><a class='marginalized' href='#base.init-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5619'>#</a></div><div class='texpara'><div id='base.init-12.sentence-1' class='sentence'>In a non-delegating constructor, the destructor for each potentially constructed
subobject of class type is potentially invoked (<a href='#dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a>)<a class='hidden_link' href='#base.init-12.sentence-1'>.</a></div> <div id='base.init-note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#base.init-note-5'>5</a></i>: <div id='base.init-12.sentence-2' class='sentence'>This provision ensures that destructors can be called for fully-constructed
subobjects in case an exception is thrown (<a href='except.ctor' title='14.3&emsp;Constructors and destructors'>[except.<span class='shy'></span>ctor]</a>)<a class='hidden_link' href='#base.init-12.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='base.init-13'><div class='marginalizedparent'><a class='marginalized' href='#base.init-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5627'>#</a></div><div class='texpara'><div id='base.init-13.sentence-1' class='sentence'>In a non-delegating constructor, initialization
proceeds in the following order:
<ul class='itemize'><li id='base.init-13.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#base.init-13.1'>(13.1)</a></div><div class='texpara'><div id='base.init-13.1.sentence-1' class='sentence'><a class='index' id=':initialization,order_of_virtual_base_class'></a>First, and only for the constructor of the most derived class (<a href='intro.object' title='6.7.2&emsp;Object model'>[intro.<span class='shy'></span>object]</a>),
virtual base classes are initialized in the order they appear on a
depth-first left-to-right traversal of the directed acyclic graph of
base classes,
where “left-to-right” is the order of appearance of the base classes
in the derived class
<a href='#nt:base-specifier-list' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier-list_____'><span class='textsf'><i >base-specifier-list</i></span></span></a><a class='hidden_link' href='#base.init-13.1.sentence-1'>.</a></div></div></li><li id='base.init-13.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#base.init-13.2'>(13.2)</a></div><div class='texpara'><div id='base.init-13.2.sentence-1' class='sentence'><a class='index' id=':initialization,order_of_base_class'></a>Then, direct base classes are initialized in declaration order
as they appear in the
<a href='#nt:base-specifier-list' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier-list______'><span class='textsf'><i >base-specifier-list</i></span></span></a>
(regardless of the order of the
<a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer_______________'><span class='textsf'><i >mem-initializer</i></span></span></a><i >s</i>)<a class='hidden_link' href='#base.init-13.2.sentence-1'>.</a></div></div></li><li id='base.init-13.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#base.init-13.3'>(13.3)</a></div><div class='texpara'><div id='base.init-13.3.sentence-1' class='sentence'><a class='index' id=':initialization,order_of_member'></a>Then, non-static data members are initialized in the order
they were declared in the class definition
(again regardless of the order of the
<a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer________________'><span class='textsf'><i >mem-initializer</i></span></span></a><i >s</i>)<a class='hidden_link' href='#base.init-13.3.sentence-1'>.</a></div></div></li><li id='base.init-13.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#base.init-13.4'>(13.4)</a></div><div class='texpara'><div id='base.init-13.4.sentence-1' class='sentence'>Finally, the <a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement__'><span class='textsf'><i >compound-statement</i></span></span></a> of the constructor
body  is executed<a class='hidden_link' href='#base.init-13.4.sentence-1'>.</a></div></div></li></ul></div></div><div class='texpara'><div id='base.init-note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#base.init-note-6'>6</a></i>: <div id='base.init-13.sentence-2' class='sentence'>The declaration order is mandated to ensure that base and member
subobjects are destroyed in the reverse order of initialization<a class='hidden_link' href='#base.init-13.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='base.init-14'><div class='marginalizedparent'><a class='marginalized' href='#base.init-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5663'>#</a></div><div class='texpara'><div id='base.init-example-9' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#base.init-example-9'>9</a></i>: <span class='codeblock'><span class='keyword'>struct</span> V <span class='curlybracket'>{</span>
  V<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  V<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> A <span class='operator'>:</span> <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span>
  A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  A<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> B <span class='operator'>:</span> <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span>
  B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  B<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> C <span class='operator'>:</span> A, B, <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span>
  C<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  C<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

A<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='operator'>:</span> V<span class='parenthesis'>(</span>i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>
B<span class='operator'>::</span>B<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>
C<span class='operator'>::</span>C<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>

V v<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;             <span class='comment'>// use <span class='tcode_in_codeblock'>V(int)</span></span>
A a<span class='parenthesis'>(</span><span class='literal'>2</span><span class='parenthesis'>)</span>;             <span class='comment'>// use <span class='tcode_in_codeblock'>V(int)</span></span>
B b<span class='parenthesis'>(</span><span class='literal'>3</span><span class='parenthesis'>)</span>;             <span class='comment'>// use <span class='tcode_in_codeblock'>V()</span></span>
C c<span class='parenthesis'>(</span><span class='literal'>4</span><span class='parenthesis'>)</span>;             <span class='comment'>// use <span class='tcode_in_codeblock'>V()</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='base.init-15'><div class='marginalizedparent'><a class='marginalized' href='#base.init-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5697'>#</a></div><div class='texpara'><a class='index' id=':initializer,scope_of_member'></a><div id='base.init-note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#base.init-note-7'>7</a></i>: <div id='base.init-15.sentence-1' class='sentence'>The <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list____'><span class='textsf'><i >expression-list</i></span></span></a> or <a href='dcl.init.general#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list___'><span class='textsf'><i >braced-init-list</i></span></span></a>
of a <a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer_________________'><span class='textsf'><i >mem-initializer</i></span></span></a>
is in the function parameter scope of the constructor
and can use <span id=':this____'><span class='texttt'><span class='keyword'>this</span></span></span> to refer to the object being initialized<a class='hidden_link' href='#base.init-15.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div>
<div id='base.init-example-10' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#base.init-example-10'>10</a></i>: <span class='codeblock'><span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;
  <span class='keyword'>int</span> b;
  <span class='keyword'>int</span> i;
  <span class='keyword'>int</span> j;
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>&amp;</span> r;
  X<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span><span class='operator'>:</span> r<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>, b<span class='parenthesis'>(</span>i<span class='parenthesis'>)</span>, i<span class='parenthesis'>(</span>i<span class='parenthesis'>)</span>, j<span class='parenthesis'>(</span><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='base.init-15.sentence-2' class='sentence'>initializes
<span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>r</span>
to refer to
<span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>a</span>,
initializes
<span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>b</span>
with the value of the constructor parameter
<span class='texttt'>i</span>,
initializes
<span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>i</span>
with the value of the constructor parameter
<span class='texttt'>i</span>,
and initializes
<span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>j</span>
with the value of
<span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>i</span>;
this takes place each time an object of class
<span class='texttt'>X</span>
is created<a class='hidden_link' href='#base.init-15.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='base.init-16'><div class='marginalizedparent'><a class='marginalized' href='#base.init-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5739'>#</a></div><div class='texpara'><div id='base.init-16.sentence-1' class='sentence'><a class='index' id=':initialization,member_function_call_during'></a>Member functions (including virtual member functions, <a href='#virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>) can be
called for an object under construction<a class='hidden_link' href='#base.init-16.sentence-1'>.</a></div> <div id='base.init-16.sentence-2' class='sentence'>Similarly, an object under construction can be the operand of the
<span class='texttt'><span class='keyword'>typeid</span></span>
operator (<a href='expr.typeid' title='7.6.1.8&emsp;Type identification'>[expr.<span class='shy'></span>typeid]</a>) or of a
<span id=':dynamic_cast'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span> (<a href='expr.dynamic.cast' title='7.6.1.7&emsp;Dynamic cast'>[expr.<span class='shy'></span>dynamic.<span class='shy'></span>cast]</a>)<a class='hidden_link' href='#base.init-16.sentence-2'>.</a></div> <div id='base.init-16.sentence-3' class='sentence'>However, if these operations are performed in a
<a href='#nt:ctor-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:ctor-initializer______'><span class='textsf'><i >ctor-initializer</i></span></span></a>
(or in a function called directly or indirectly from a
<a href='#nt:ctor-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:ctor-initializer_______'><span class='textsf'><i >ctor-initializer</i></span></span></a>)
before all the
<a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer__________________'><span class='textsf'><i >mem-initializer</i></span></span></a><i >s</i>
for base classes have completed, the program has undefined behavior<a class='hidden_link' href='#base.init-16.sentence-3'>.</a></div> <div id='base.init-example-11' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#base.init-example-11'>11</a></i>: <span class='codeblock'><span class='keyword'>class</span> A <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  A<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> B <span class='operator'>:</span> <span class='keyword'>public</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> j;
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  B<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>:</span> A<span class='parenthesis'>(</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>,     <span class='comment'>// undefined behavior: calls member function but base <span class='tcode_in_codeblock'>A</span> not yet initialized</span>
  j<span class='parenthesis'>(</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>        <span class='comment'>// well-defined: bases are all initialized</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> C <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  C<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> D <span class='operator'>:</span> <span class='keyword'>public</span> B, C <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i;
<span class='keyword'>public</span><span class='operator'>:</span>
  D<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>:</span> C<span class='parenthesis'>(</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>,     <span class='comment'>// undefined behavior: calls member function but base <span class='tcode_in_codeblock'>C</span> not yet initialized</span>
  i<span class='parenthesis'>(</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>        <span class='comment'>// well-defined: bases are all initialized</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='base.init-17'><div class='marginalizedparent'><a class='marginalized' href='#base.init-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5783'>#</a></div><div class='texpara'><div id='base.init-note-8' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#base.init-note-8'>8</a></i>: <div id='base.init-17.sentence-1' class='sentence'><a href='#cdtor' title='11.9.5&emsp;Construction and destruction'>[class.<span class='shy'></span>cdtor]</a> describes the results of virtual function calls,
<span class='texttt'><span class='keyword'>typeid</span></span>
and
<span id=':dynamic_cast_'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span>s
during construction for the well-defined cases;
that is, describes the polymorphic behavior
of an object under construction<a class='hidden_link' href='#base.init-17.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='base.init-18'><div class='marginalizedparent'><a class='marginalized' href='#base.init-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5794'>#</a></div><div class='texpara'><div id='base.init-18.sentence-1' class='sentence'><a class='index' id=':initializer,pack_expansion'></a>A <a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer___________________'><span class='textsf'><i >mem-initializer</i></span></span></a> followed by an ellipsis is
a pack expansion (<a href='temp.variadic' title='13.7.4&emsp;Variadic templates'>[temp.<span class='shy'></span>variadic]</a>) that initializes the base
classes specified by a pack expansion in the <a href='#nt:base-specifier-list' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier-list_______'><span class='textsf'><i >base-specifier-list</i></span></span></a>
for the class<a class='hidden_link' href='#base.init-18.sentence-1'>.</a></div> <div id='base.init-example-12' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#base.init-example-12'>12</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Mixins<span class='anglebracket'>&gt;</span>
<span class='keyword'>class</span> X <span class='operator'>:</span> <span class='keyword'>public</span> Mixins<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  X<span class='parenthesis'>(</span><span class='keyword'>const</span> Mixins<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> mixins<span class='parenthesis'>)</span> <span class='operator'>:</span> Mixins<span class='parenthesis'>(</span>mixins<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='inhctor.init' class='section'><h3 ><a class='secnum' href='#inhctor.init' style='min-width:80pt'>11.9.4</a> Initialization by inherited constructor <a class='abbr_ref' href='class.inhctor.init'>[class.inhctor.init]</a></h3><div class='texpara'><a class='index' id=':initialization,by_inherited_constructor'></a></div><div class='para' id='inhctor.init-1'><div class='marginalizedparent'><a class='marginalized' href='#inhctor.init-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5813'>#</a></div><div class='texpara'><div id='inhctor.init-1.sentence-1' class='sentence'>When a constructor for type <span class='texttt'>B</span> is invoked
to initialize an object of a different type <span class='texttt'>D</span>
(that is, when the constructor was inherited (<a href='namespace.udecl' title='9.9&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>)),
initialization proceeds as if a defaulted default constructor
were used to initialize the <span class='texttt'>D</span> object and
each base class subobject from which the constructor was inherited,
except that the <span class='texttt'>B</span> subobject is initialized
by the invocation of the inherited constructor<a class='hidden_link' href='#inhctor.init-1.sentence-1'>.</a></div> <div id='inhctor.init-1.sentence-2' class='sentence'>The complete initialization is considered to be a single function call;
in particular, the initialization of the inherited constructor's parameters
is sequenced before the initialization of any part of the <span class='texttt'>D</span> object<a class='hidden_link' href='#inhctor.init-1.sentence-2'>.</a></div> <div id='inhctor.init-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#inhctor.init-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> B1 <span class='curlybracket'>{</span>
  B1<span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> B2 <span class='curlybracket'>{</span>
  B2<span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>int</span> get<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

<span class='keyword'>struct</span> D1 <span class='operator'>:</span> B1 <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> B1<span class='operator'>::</span>B1;     <span class='comment'>// inherits <span class='tcode_in_codeblock'>B1(int, ...)</span></span>
  <span class='keyword'>int</span> x;
  <span class='keyword'>int</span> y <span class='operator'>=</span> get<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> test<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  D1 d<span class='parenthesis'>(</span><span class='literal'>2</span>, <span class='literal'>3</span>, <span class='literal'>4</span><span class='parenthesis'>)</span>;    <span class='comment'>// OK, <span class='tcode_in_codeblock'>B1</span> is initialized by calling <span class='tcode_in_codeblock'>B1(2, 3, 4)</span>,</span>
                    <span class='comment'>// then <span class='tcode_in_codeblock'>d.x</span> is default-initialized (no initialization is performed),</span>
                    <span class='comment'>// then <span class='tcode_in_codeblock'>d.y</span> is initialized by calling <span class='tcode_in_codeblock'>get()</span></span>
  D1 e;             <span class='comment'>// error: <span class='tcode_in_codeblock'>D1</span> has no default constructor</span>
<span class='curlybracket'>}</span>

<span class='keyword'>struct</span> D2 <span class='operator'>:</span> B2 <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> B2<span class='operator'>::</span>B2;
  B1 b;
<span class='curlybracket'>}</span>;

D2 f<span class='parenthesis'>(</span><span class='literal'>1.0</span><span class='parenthesis'>)</span>;          <span class='comment'>// error: <span class='tcode_in_codeblock'>B1</span> has no default constructor</span>

<span class='keyword'>struct</span> W <span class='curlybracket'>{</span> W<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> X <span class='operator'>:</span> <span class='keyword'>virtual</span> W <span class='curlybracket'>{</span> <span class='keyword'>using</span> W<span class='operator'>::</span>W; X<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Y <span class='operator'>:</span> X <span class='curlybracket'>{</span> <span class='keyword'>using</span> X<span class='operator'>::</span>X; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Z <span class='operator'>:</span> Y, <span class='keyword'>virtual</span> W <span class='curlybracket'>{</span> <span class='keyword'>using</span> Y<span class='operator'>::</span>Y; <span class='curlybracket'>}</span>;
Z z<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;             <span class='comment'>// OK, initialization of <span class='tcode_in_codeblock'>Y</span> does not invoke default constructor of <span class='tcode_in_codeblock'>X</span></span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Log <span class='operator'>:</span> T <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> T<span class='operator'>::</span>T;       <span class='comment'>// inherits all constructors from class <span class='tcode_in_codeblock'>T</span></span>
  <span class='operator'>~</span>Log<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> std<span class='operator'>::</span>clog <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> <span class='literal'>"Destroying wrapper"</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> std<span class='operator'>::</span>endl; <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span> <div id='inhctor.init-1.sentence-3' class='sentence'>
Class template <span class='texttt'>Log</span> wraps any class and forwards all of its constructors,
while writing a message to the standard log
whenever an object of class <span class='texttt'>Log</span> is destroyed<a class='hidden_link' href='#inhctor.init-1.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='inhctor.init-2'><div class='marginalizedparent'><a class='marginalized' href='#inhctor.init-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5873'>#</a></div><div class='texpara'><div id='inhctor.init-2.sentence-1' class='sentence'>If the constructor was inherited from multiple base class subobjects
of type <span class='texttt'>B</span>, the program is ill-formed<a class='hidden_link' href='#inhctor.init-2.sentence-1'>.</a></div> <div id='inhctor.init-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#inhctor.init-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> A<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> A <span class='curlybracket'>{</span> <span class='keyword'>using</span> A<span class='operator'>::</span>A; <span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> C1 <span class='operator'>:</span> B <span class='curlybracket'>{</span> <span class='keyword'>using</span> B<span class='operator'>::</span>B; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C2 <span class='operator'>:</span> B <span class='curlybracket'>{</span> <span class='keyword'>using</span> B<span class='operator'>::</span>B; <span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D1 <span class='operator'>:</span> C1, C2 <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> C1<span class='operator'>::</span>C1;
  <span class='keyword'>using</span> C2<span class='operator'>::</span>C2;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> V1 <span class='operator'>:</span> <span class='keyword'>virtual</span> B <span class='curlybracket'>{</span> <span class='keyword'>using</span> B<span class='operator'>::</span>B; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> V2 <span class='operator'>:</span> <span class='keyword'>virtual</span> B <span class='curlybracket'>{</span> <span class='keyword'>using</span> B<span class='operator'>::</span>B; <span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D2 <span class='operator'>:</span> V1, V2 <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> V1<span class='operator'>::</span>V1;
  <span class='keyword'>using</span> V2<span class='operator'>::</span>V2;
<span class='curlybracket'>}</span>;

D1 d1<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;           <span class='comment'>// error: ambiguous</span>
D2 d2<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;           <span class='comment'>// OK, initializes virtual <span class='tcode_in_codeblock'>B</span> base class, which initializes the <span class='tcode_in_codeblock'>A</span> base class</span>
                    <span class='comment'>// then initializes the <span class='tcode_in_codeblock'>V1</span> and <span class='tcode_in_codeblock'>V2</span> base classes as if by a defaulted default constructor</span>

<span class='keyword'>struct</span> M <span class='curlybracket'>{</span> M<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; M<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> N <span class='operator'>:</span> M <span class='curlybracket'>{</span> <span class='keyword'>using</span> M<span class='operator'>::</span>M; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> O <span class='operator'>:</span> M <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> P <span class='operator'>:</span> N, O <span class='curlybracket'>{</span> <span class='keyword'>using</span> N<span class='operator'>::</span>N; <span class='keyword'>using</span> O<span class='operator'>::</span>O; <span class='curlybracket'>}</span>;
P p<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;             <span class='comment'>// OK, use <span class='tcode_in_codeblock'>M(0)</span> to initialize <span class='tcode_in_codeblock'>N</span>'s base class,</span>
                    <span class='comment'>// use <span class='tcode_in_codeblock'>M()</span> to initialize <span class='tcode_in_codeblock'>O</span>'s base class</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='inhctor.init-3'><div class='marginalizedparent'><a class='marginalized' href='#inhctor.init-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5910'>#</a></div><div class='texpara'><div id='inhctor.init-3.sentence-1' class='sentence'>When an object is initialized by an inherited constructor,
initialization of the object is complete
when the initialization of all subobjects is complete<a class='hidden_link' href='#inhctor.init-3.sentence-1'>.</a></div> </div></div></div><div id='cdtor' class='section'><h3 ><a class='secnum' href='#cdtor' style='min-width:80pt'>11.9.5</a> Construction and destruction <a class='abbr_ref' href='class.cdtor'>[class.cdtor]</a></h3><div class='texpara'><a class='index' id=':construction'></a><a class='index' id=':destruction'></a></div><div class='para' id='cdtor-1'><div class='marginalizedparent'><a class='marginalized' href='#cdtor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5920'>#</a></div><div class='texpara'><div id='cdtor-1.sentence-1' class='sentence'><a class='index' id=':construction,member_access'></a><a class='index' id=':destruction,member_access'></a>For an object with a non-trivial constructor, referring to any non-static member
or base class of the object before the constructor begins execution results in
undefined behavior<a class='hidden_link' href='#cdtor-1.sentence-1'>.</a></div> <div id='cdtor-1.sentence-2' class='sentence'>For an object with a non-trivial destructor, referring to
any non-static member or base class of the object after the destructor finishes
execution results in undefined behavior<a class='hidden_link' href='#cdtor-1.sentence-2'>.</a></div> <div id='cdtor-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#cdtor-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span> <span class='keyword'>int</span> i; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Y <span class='operator'>:</span> X <span class='curlybracket'>{</span> Y<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;                  <span class='comment'>// non-trivial</span>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> <span class='keyword'>public</span> A <span class='curlybracket'>{</span> <span class='keyword'>int</span> j; Y y; <span class='curlybracket'>}</span>;    <span class='comment'>// non-trivial</span>

<span class='keyword'>extern</span> B bobj;
B<span class='operator'>*</span> pb <span class='operator'>=</span> <span class='operator'>&amp;</span>bobj;                          <span class='comment'>// OK</span>
<span class='keyword'>int</span><span class='operator'>*</span> p1 <span class='operator'>=</span> <span class='operator'>&amp;</span>bobj<span class='operator'>.</span>a;                      <span class='comment'>// undefined behavior: refers to base class member</span>
<span class='keyword'>int</span><span class='operator'>*</span> p2 <span class='operator'>=</span> <span class='operator'>&amp;</span>bobj<span class='operator'>.</span>y<span class='operator'>.</span>i;                    <span class='comment'>// undefined behavior: refers to member's member</span>

A<span class='operator'>*</span> pa <span class='operator'>=</span> <span class='operator'>&amp;</span>bobj;                          <span class='comment'>// undefined behavior: upcast to a base class type</span>
B bobj;                                 <span class='comment'>// definition of <span class='tcode_in_codeblock'>bobj</span></span>

<span class='keyword'>extern</span> X xobj;
<span class='keyword'>int</span><span class='operator'>*</span> p3 <span class='operator'>=</span> <span class='operator'>&amp;</span>xobj<span class='operator'>.</span>i;                      <span class='comment'>// OK, <span class='tcode_in_codeblock'>X</span> is a trivial class</span>
X xobj;
</span> <div id='cdtor-1.sentence-3' class='sentence'>
For another example,
<span class='codeblock'><span class='keyword'>struct</span> W <span class='curlybracket'>{</span> <span class='keyword'>int</span> j; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> X <span class='operator'>:</span> <span class='keyword'>public</span> <span class='keyword'>virtual</span> W <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Y <span class='curlybracket'>{</span>
  <span class='keyword'>int</span><span class='operator'>*</span> p;
  X x;
  Y<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>:</span> p<span class='parenthesis'>(</span><span class='operator'>&amp;</span>x<span class='operator'>.</span>j<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>   <span class='comment'>// undefined, <span class='tcode_in_codeblock'>x</span> is not yet constructed</span>
    <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='cdtor-2'><div class='marginalizedparent'><a class='marginalized' href='#cdtor-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5960'>#</a></div><div class='texpara'><div id='cdtor-2.sentence-1' class='sentence'>During the construction of an object,
if the value of the object or any of its subobjects is
accessed through a glvalue that is not obtained, directly or indirectly, from
the constructor's
<span id=':this_____'><span class='texttt'><span class='keyword'>this</span></span></span>
pointer, the value of the object or subobject thus obtained is unspecified<a class='hidden_link' href='#cdtor-2.sentence-1'>.</a></div> <div id='cdtor-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#cdtor-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>struct</span> C;
<span class='keyword'>void</span> no_opt<span class='parenthesis'>(</span>C<span class='operator'>*</span><span class='parenthesis'>)</span>;

<span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> c;
  C<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>:</span> c<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> no_opt<span class='parenthesis'>(</span><span class='keyword'>this</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>const</span> C cobj;

<span class='keyword'>void</span> no_opt<span class='parenthesis'>(</span>C<span class='operator'>*</span> cptr<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i <span class='operator'>=</span> cobj<span class='operator'>.</span>c <span class='operator'>*</span> <span class='literal'>100</span>;         <span class='comment'>// value of <span class='tcode_in_codeblock'>cobj.c</span> is unspecified</span>
  cptr<span class='operator'>-</span><span class='anglebracket'>&gt;</span>c <span class='operator'>=</span> <span class='literal'>1</span>;
  cout <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> cobj<span class='operator'>.</span>c <span class='operator'>*</span> <span class='literal'>100</span>          <span class='comment'>// value of <span class='tcode_in_codeblock'>cobj.c</span> is unspecified</span>
       <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> <span class='literal'>'\n'</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>extern</span> <span class='keyword'>struct</span> D d;
<span class='keyword'>struct</span> D <span class='curlybracket'>{</span>
  D<span class='parenthesis'>(</span><span class='keyword'>int</span> a<span class='parenthesis'>)</span> <span class='operator'>:</span> a<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>, b<span class='parenthesis'>(</span>d<span class='operator'>.</span>a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>
  <span class='keyword'>int</span> a, b;
<span class='curlybracket'>}</span>;
D d <span class='operator'>=</span> D<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                     <span class='comment'>// value of <span class='tcode_in_codeblock'>d.b</span> is unspecified</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='cdtor-3'><div class='marginalizedparent'><a class='marginalized' href='#cdtor-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L5995'>#</a></div><div class='texpara'><div id='cdtor-3.sentence-1' class='sentence'><a class='index' id=':construction,pointer_to_member_or_base'></a><a class='index' id=':destruction,pointer_to_member_or_base'></a>To explicitly or implicitly convert a pointer (a glvalue) referring to
an object of class
<span class='texttt'>X</span>
to a pointer (reference) to a direct or indirect base class
<span class='texttt'>B</span>
of
<span class='texttt'>X</span>,
the construction of
<span class='texttt'>X</span>
and the construction of all of its direct or indirect bases that directly or
indirectly derive from
<span class='texttt'>B</span>
shall have started and the destruction of these classes shall not have
completed, otherwise the conversion results in undefined behavior<a class='hidden_link' href='#cdtor-3.sentence-1'>.</a></div> <div id='cdtor-3.sentence-2' class='sentence'>To form a pointer to (or access the value of) a direct non-static member of
an object
<span class='texttt'>obj</span>,
the construction of
<span class='texttt'>obj</span>
shall have started and its destruction shall not have completed,
otherwise the computation of the pointer value (or accessing the member
value) results in undefined behavior<a class='hidden_link' href='#cdtor-3.sentence-2'>.</a></div> <div id='cdtor-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#cdtor-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> <span class='keyword'>virtual</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='operator'>:</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> <span class='keyword'>virtual</span> A <span class='curlybracket'>{</span> D<span class='parenthesis'>(</span>A<span class='operator'>*</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span> X<span class='parenthesis'>(</span>A<span class='operator'>*</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> E <span class='operator'>:</span> C, D, X <span class='curlybracket'>{</span>
  E<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>:</span> D<span class='parenthesis'>(</span><span class='keyword'>this</span><span class='parenthesis'>)</span>,    <span class='comment'>// undefined behavior: upcast from <span class='tcode_in_codeblock'>E*</span> to <span class='tcode_in_codeblock'>A*</span> might use path <span class='tcode_in_codeblock'>E*</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>D*</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>A*</span></span>
                    <span class='comment'>// but <span class='tcode_in_codeblock'>D</span> is not constructed</span>

                    <span class='comment'>// “<span class='tcode_in_codeblock'>D((C*)this)</span>'' would be defined: <span class='tcode_in_codeblock'>E*</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>C*</span> is defined because <span class='tcode_in_codeblock'>E()</span> has started,</span>
                    <span class='comment'>// and <span class='tcode_in_codeblock'>C*</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>A*</span> is defined because <span class='tcode_in_codeblock'>C</span> is fully constructed</span>

  X<span class='parenthesis'>(</span><span class='keyword'>this</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>        <span class='comment'>// defined: upon construction of <span class='tcode_in_codeblock'>X</span>, <span class='tcode_in_codeblock'>C/B/D/A</span> sublattice is fully constructed</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='cdtor-4'><div class='marginalizedparent'><a class='marginalized' href='#cdtor-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6040'>#</a></div><div class='texpara'><div id='cdtor-4.sentence-1' class='sentence'><a class='index' id=':virtual_function_call,constructor_and'></a><a class='index' id=':virtual_function_call,destructor_and'></a><a class='index' id=':construction,virtual_function_call'></a><a class='index' id=':destruction,virtual_function_call'></a>Member functions, including virtual functions (<a href='#virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>), can be called
during construction or destruction (<a href='#base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#cdtor-4.sentence-1'>.</a></div> <div id='cdtor-4.sentence-2' class='sentence'>When a virtual function is called directly or indirectly from a constructor
or from a destructor,
including during the construction or destruction of the class's non-static data
members,
and the object to which the call applies is the object (call it <span class='texttt'>x</span>) under construction or
destruction,
the function called is the
final overrider in the constructor's or destructor's class and not one
overriding it in a more-derived class<a class='hidden_link' href='#cdtor-4.sentence-2'>.</a></div> <div id='cdtor-4.sentence-3' class='sentence'>If the virtual function call uses an explicit class member access (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>)
and the object expression refers to
the complete object of <span class='texttt'>x</span> or one of that object's base class subobjects
but not <span class='texttt'>x</span> or one of its base class subobjects, the behavior
is undefined<a class='hidden_link' href='#cdtor-4.sentence-3'>.</a></div> <div id='cdtor-example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#cdtor-example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>struct</span> V <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> A <span class='operator'>:</span> <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> B <span class='operator'>:</span> <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  B<span class='parenthesis'>(</span>V<span class='operator'>*</span>, A<span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D <span class='operator'>:</span> A, B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  D<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>:</span> B<span class='parenthesis'>(</span><span class='parenthesis'>(</span>A<span class='operator'>*</span><span class='parenthesis'>)</span><span class='keyword'>this</span>, <span class='keyword'>this</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

B<span class='operator'>::</span>B<span class='parenthesis'>(</span>V<span class='operator'>*</span> v, A<span class='operator'>*</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// calls <span class='tcode_in_codeblock'>V&#x200b;::&#x200b;f</span>, not <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span></span>
  g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;g</span>, not <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;g</span></span>
  v<span class='operator'>-</span><span class='anglebracket'>&gt;</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;           <span class='comment'>// <span class='tcode_in_codeblock'>v</span> is base of <span class='tcode_in_codeblock'>B</span>, the call is well-defined, calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;g</span></span>
  a<span class='operator'>-</span><span class='anglebracket'>&gt;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;           <span class='comment'>// undefined behavior: <span class='tcode_in_codeblock'>a</span>'s type not a base of <span class='tcode_in_codeblock'>B</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='cdtor-5'><div class='marginalizedparent'><a class='marginalized' href='#cdtor-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6092'>#</a></div><div class='texpara'><div id='cdtor-5.sentence-1' class='sentence'><a class='index' id=':construction,typeid_operator'></a><a class='index' id=':destruction,typeid_operator'></a><a class='index' id=':typeid,construction_and'></a><a class='index' id=':typeid,destruction_and'></a>The
<span class='texttt'><span class='keyword'>typeid</span></span>
operator (<a href='expr.typeid' title='7.6.1.8&emsp;Type identification'>[expr.<span class='shy'></span>typeid]</a>) can be used during construction or destruction (<a href='#base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#cdtor-5.sentence-1'>.</a></div> <div id='cdtor-5.sentence-2' class='sentence'>When
<span class='texttt'><span class='keyword'>typeid</span></span>
is used in a constructor (including the
<a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer____________________'><span class='textsf'><i >mem-initializer</i></span></span></a> or default member initializer (<a href='#mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>)
for a non-static data member)
or in a destructor, or used in a function called (directly or indirectly) from
a constructor or destructor, if the operand of
<span class='texttt'><span class='keyword'>typeid</span></span>
refers to the object under construction or destruction,
<span class='texttt'><span class='keyword'>typeid</span></span>
yields the
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>type_<span class='shy'></span>info</span>
object representing the constructor or destructor's class<a class='hidden_link' href='#cdtor-5.sentence-2'>.</a></div> <div id='cdtor-5.sentence-3' class='sentence'>If the operand of
<span class='texttt'><span class='keyword'>typeid</span></span>
refers to the object under construction or destruction and the static type of
the operand is neither the constructor or destructor's class nor one of its
bases, the behavior is undefined<a class='hidden_link' href='#cdtor-5.sentence-3'>.</a></div></div></div><div class='para' id='cdtor-6'><div class='marginalizedparent'><a class='marginalized' href='#cdtor-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6119'>#</a></div><div class='texpara'><div id='cdtor-6.sentence-1' class='sentence'><a class='index' id=':construction,dynamic_cast_and'></a><a class='index' id=':destruction,dynamic_cast_and'></a><a class='index' id=':cast,dynamic,construction_and'></a><a class='index' id=':cast,dynamic,destruction_and'></a><span id=':dynamic_cast__'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span>s (<a href='expr.dynamic.cast' title='7.6.1.7&emsp;Dynamic cast'>[expr.<span class='shy'></span>dynamic.<span class='shy'></span>cast]</a>) can be used during construction
or destruction (<a href='#base.init' title='11.9.3&emsp;Initializing bases and members'>[class.<span class='shy'></span>base.<span class='shy'></span>init]</a>)<a class='hidden_link' href='#cdtor-6.sentence-1'>.</a></div> <div id='cdtor-6.sentence-2' class='sentence'>When a
<span id=':dynamic_cast___'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span>
is used in a constructor (including the
<a href='#nt:mem-initializer' title='11.9.3&emsp;Initializing bases and members&emsp;[class.base.init]'><span id='ntref:mem-initializer_____________________'><span class='textsf'><i >mem-initializer</i></span></span></a> or default member initializer
for a non-static data member)
or in a destructor, or used in a function called (directly or indirectly) from
a constructor or destructor, if the operand of the
<span id=':dynamic_cast____'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span>
refers to the object under construction or destruction, this object is
considered to be a most derived object that has the type of the constructor or
destructor's class<a class='hidden_link' href='#cdtor-6.sentence-2'>.</a></div> <div id='cdtor-6.sentence-3' class='sentence'>If the operand of the
<span id=':dynamic_cast_____'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span>
refers to the object under construction or destruction and the static type of
the operand is not a pointer to or object of the constructor or destructor's
own class or one of its bases, the
<span id=':dynamic_cast______'><span class='texttt'><span class='keyword'>dynamic_<span class='shy'></span>cast</span></span></span>
results in undefined behavior<a class='hidden_link' href='#cdtor-6.sentence-3'>.</a></div> <div id='cdtor-example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#cdtor-example-5'>5</a></i>: <span class='codeblock'><span class='keyword'>struct</span> V <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> A <span class='operator'>:</span> <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> B <span class='operator'>:</span> <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span>
  B<span class='parenthesis'>(</span>V<span class='operator'>*</span>, A<span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D <span class='operator'>:</span> A, B <span class='curlybracket'>{</span>
  D<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>:</span> B<span class='parenthesis'>(</span><span class='parenthesis'>(</span>A<span class='operator'>*</span><span class='parenthesis'>)</span><span class='keyword'>this</span>, <span class='keyword'>this</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

B<span class='operator'>::</span>B<span class='parenthesis'>(</span>V<span class='operator'>*</span> v, A<span class='operator'>*</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>typeid</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>;                <span class='comment'>// <span class='tcode_in_codeblock'>type_<span class='shy'></span>info</span> for <span class='tcode_in_codeblock'>B</span></span>
  <span class='keyword'>typeid</span><span class='parenthesis'>(</span><span class='operator'>*</span>v<span class='parenthesis'>)</span>;                   <span class='comment'>// well-defined: <span class='tcode_in_codeblock'>*v</span> has type <span class='tcode_in_codeblock'>V</span>, a base of <span class='tcode_in_codeblock'>B</span> yields <span class='tcode_in_codeblock'>type_<span class='shy'></span>info</span> for <span class='tcode_in_codeblock'>B</span></span>
  <span class='keyword'>typeid</span><span class='parenthesis'>(</span><span class='operator'>*</span>a<span class='parenthesis'>)</span>;                   <span class='comment'>// undefined behavior: type <span class='tcode_in_codeblock'>A</span> not a base of <span class='tcode_in_codeblock'>B</span></span>
  <span class='keyword'>dynamic_cast</span><span class='anglebracket'>&lt;</span>B<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span>;          <span class='comment'>// well-defined: <span class='tcode_in_codeblock'>v</span> of type <span class='tcode_in_codeblock'>V*</span>, <span class='tcode_in_codeblock'>V</span> base of <span class='tcode_in_codeblock'>B</span> results in <span class='tcode_in_codeblock'>B*</span></span>
  <span class='keyword'>dynamic_cast</span><span class='anglebracket'>&lt;</span>B<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>;          <span class='comment'>// undefined behavior: <span class='tcode_in_codeblock'>a</span> has type <span class='tcode_in_codeblock'>A*</span>, <span class='tcode_in_codeblock'>A</span> not a base of <span class='tcode_in_codeblock'>B</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> </div></div></div><div id='copy.elision' class='section'><h3 ><a class='secnum' href='#copy.elision' style='min-width:80pt'>11.9.6</a> Copy/move elision <a class='abbr_ref' href='class.copy.elision'>[class.copy.elision]</a></h3><div class='para' id='copy.elision-1'><div class='marginalizedparent'><a class='marginalized' href='#copy.elision-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6173'>#</a></div><div class='texpara'><div id='copy.elision-1.sentence-1' class='sentence'><a class='index' id=':temporary,elimination_of'></a><a class='index' id=':constructor,copy,elision'></a><a class='index' id=':constructor,move,elision'></a>When certain criteria are met, an implementation is
allowed to omit the copy/move construction of a class object,
even if the constructor selected for the copy/move operation and/or the
destructor for the object have
<a class='index' id=':side_effects_'></a>side effects<a class='hidden_link' href='#copy.elision-1.sentence-1'>.</a></div> <div id='copy.elision-1.sentence-2' class='sentence'>In such cases, the
implementation treats the source and target of the
omitted copy/move operation as simply two different ways of
referring to the same object<a class='hidden_link' href='#copy.elision-1.sentence-2'>.</a></div> <div id='copy.elision-1.sentence-3' class='sentence'>If the first parameter of the
selected constructor is an rvalue reference to the object's type,
the destruction of that object occurs when the target would have been destroyed;
otherwise, the destruction occurs at the later of the times when the
two objects would have been destroyed without the
optimization<a class='hidden_link' href='#copy.elision-1.sentence-3'>.</a><a class='footnoteref' href='#footnote-105' id='footnoteref-105' title='Because only one object is destroyed instead of two, and one copy/move constructor is not executed, there is still one object destroyed for each one constructed.'>105</a></div> <div id='copy.elision-1.sentence-4' class='sentence'>
This elision of copy/move operations, called
<a class='index' id='def:copy_elision|seeconstructor,_copy,_elision'></a><a class='index' id='def:elision,copy|seeconstructor,_copy,_elision'></a><a class='index' id='def:constructor,copy,elision'></a><a class='index' id='def:constructor,move,elision'></a><a class='hidden_link' href='#def:copy_elision' id='def:copy_elision'><i>copy elision</i></a>,
is permitted in the
following circumstances (which may be combined to
eliminate multiple copies):
<ul class='itemize'><li id='copy.elision-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.elision-1.1'>(1.1)</a></div>in a <span class='texttt'><span class='keyword'>return</span></span> statement in a function with a class return type,
when the <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression'><span class='textsf'><i >expression</i></span></span></a> is the name of a non-volatile
object with automatic storage duration (other than a function parameter or a variable
introduced by the <a href='except.pre#nt:exception-declaration' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:exception-declaration'><span class='textsf'><i >exception-declaration</i></span></span></a> of a
<a href='except.pre#nt:handler' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:handler'><span class='textsf'><i >handler</i></span></span></a> (<a href='except.handle' title='14.4&emsp;Handling an exception'>[except.<span class='shy'></span>handle]</a>))
with the same type (ignoring cv-qualification) as
the function return type, the copy/move operation can be
omitted by constructing the object directly
into the function call's return object</li><li id='copy.elision-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.elision-1.2'>(1.2)</a></div>in a <a href='expr.throw#nt:throw-expression' title='7.6.18&emsp;Throwing an exception&emsp;[expr.throw]'><span id='ntref:throw-expression'><span class='textsf'><i >throw-expression</i></span></span></a> (<a href='expr.throw' title='7.6.18&emsp;Throwing an exception'>[expr.<span class='shy'></span>throw]</a>), when the operand
is the name of a non-volatile object with automatic storage duration
(other than a function or catch-clause parameter)
that belongs to a scope that does not contain
the innermost enclosing <a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement___'><span class='textsf'><i >compound-statement</i></span></span></a>
associated with a <a href='except.pre#nt:try-block' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:try-block'><span class='textsf'><i >try-block</i></span></span></a> (if there is one),
the copy/move operation can be omitted by
constructing the object directly into the exception object</li><li id='copy.elision-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.elision-1.3'>(1.3)</a></div>in a <a href='dcl.fct.def.coroutine' title='9.5.4&emsp;Coroutine definitions&emsp;[dcl.fct.def.coroutine]'>coroutine</a>, a copy of a coroutine parameter
can be omitted and references to that copy replaced with references to the
corresponding parameter if the meaning of the program will be unchanged except for
the execution of a constructor and destructor for the parameter copy object</li><li id='copy.elision-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#copy.elision-1.4'>(1.4)</a></div>when the <a href='except.pre#nt:exception-declaration' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:exception-declaration_'><span class='textsf'><i >exception-declaration</i></span></span></a> of an
exception handler (<a href='except.pre' title='14.1&emsp;Preamble'>[except.<span class='shy'></span>pre]</a>) declares an object of the same
type (except for cv-qualification) as the exception
object (<a href='except.throw' title='14.2&emsp;Throwing an exception'>[except.<span class='shy'></span>throw]</a>), the copy operation can be omitted by treating
the <a href='except.pre#nt:exception-declaration' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:exception-declaration__'><span class='textsf'><i >exception-declaration</i></span></span></a> as an alias for the exception
object if the meaning of the program will be unchanged except for the execution
of constructors and destructors for the object declared by the
<a href='except.pre#nt:exception-declaration' title='14.1&emsp;Preamble&emsp;[except.pre]'><span id='ntref:exception-declaration___'><span class='textsf'><i >exception-declaration</i></span></span></a><a class='hidden_link' href='#copy.elision-1.sentence-4'>.</a> <div class='texpara'><div id='copy.elision-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#copy.elision-note-1'>1</a></i>: <div id='copy.elision-1.4.sentence-2' class='sentence'>There cannot be a move from the exception object because it is
always an lvalue<a class='hidden_link' href='#copy.elision-1.4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div> <div id='copy.elision-1.sentence-5' class='sentence'>
Copy elision is not permitted
where an expression is evaluated in a context
requiring a constant expression (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>)
and in constant initialization (<a href='basic.start.static' title='6.9.3.2&emsp;Static initialization'>[basic.<span class='shy'></span>start.<span class='shy'></span>static]</a>)<a class='hidden_link' href='#copy.elision-1.sentence-5'>.</a></div> <div id='copy.elision-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#copy.elision-note-2'>2</a></i>: <div id='copy.elision-1.sentence-6' class='sentence'>It is possible that copy elision is performed
if the same expression
is evaluated in another context<a class='hidden_link' href='#copy.elision-1.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='copy.elision-2'><div class='marginalizedparent'><a class='marginalized' href='#copy.elision-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6253'>#</a></div><div class='texpara'><div id='copy.elision-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#copy.elision-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>class</span> Thing <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  Thing<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='operator'>~</span>Thing<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  Thing<span class='parenthesis'>(</span><span class='keyword'>const</span> Thing<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

Thing f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  Thing t;
  <span class='keyword'>return</span> t;
<span class='curlybracket'>}</span>

Thing t2 <span class='operator'>=</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> <span class='operator'>*</span>p;
  <span class='keyword'>constexpr</span> A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>:</span> p<span class='parenthesis'>(</span><span class='keyword'>this</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>constexpr</span> A g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A loc;
  <span class='keyword'>return</span> loc;
<span class='curlybracket'>}</span>

<span class='keyword'>constexpr</span> A a;          <span class='comment'>// well-formed, <span class='tcode_in_codeblock'>a.p</span> points to <span class='tcode_in_codeblock'>a</span></span>
<span class='keyword'>constexpr</span> A b <span class='operator'>=</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;    <span class='comment'>// error: <span class='tcode_in_codeblock'>b.p</span> would be dangling (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>)</span>

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A c <span class='operator'>=</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;            <span class='comment'>// well-formed, <span class='tcode_in_codeblock'>c.p</span> can point to <span class='tcode_in_codeblock'>c</span> or be dangling</span>
<span class='curlybracket'>}</span>
</span> <div id='copy.elision-2.sentence-1' class='sentence'>
Here the criteria for elision can eliminate
the copying of the object <span class='texttt'>t</span> with automatic storage duration
into the result object for the function call <span class='texttt'>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
which is the non-local object <span class='texttt'>t2</span><a class='hidden_link' href='#copy.elision-2.sentence-1'>.</a></div> <div id='copy.elision-2.sentence-2' class='sentence'>Effectively, the construction of <span class='texttt'>t</span>
can be viewed as directly initializing <span class='texttt'>t2</span>,
and that object's destruction will occur at program exit<a class='hidden_link' href='#copy.elision-2.sentence-2'>.</a></div> <div id='copy.elision-2.sentence-3' class='sentence'>Adding a move constructor to <span class='texttt'>Thing</span> has the same effect, but it is the
move construction from the object with automatic storage duration to <span class='texttt'>t2</span> that is elided<a class='hidden_link' href='#copy.elision-2.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='copy.elision-3'><div class='marginalizedparent'><a class='marginalized' href='#copy.elision-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6298'>#</a></div><div class='texpara'><div id='copy.elision-example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#copy.elision-example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>class</span> Thing <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  Thing<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='operator'>~</span>Thing<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  Thing<span class='parenthesis'>(</span>Thing<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='keyword'>private</span><span class='operator'>:</span>
  Thing<span class='parenthesis'>(</span><span class='keyword'>const</span> Thing<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

Thing f<span class='parenthesis'>(</span><span class='keyword'>bool</span> b<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  Thing t;
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>b<span class='parenthesis'>)</span>
    <span class='keyword'>throw</span> t;            <span class='comment'>// OK, <span class='tcode_in_codeblock'>Thing(Thing&amp;&amp;)</span> used (or elided) to throw <span class='tcode_in_codeblock'>t</span></span>
  <span class='keyword'>return</span> t;             <span class='comment'>// OK, <span class='tcode_in_codeblock'>Thing(Thing&amp;&amp;)</span> used (or elided) to return <span class='tcode_in_codeblock'>t</span></span>
<span class='curlybracket'>}</span>

Thing t2 <span class='operator'>=</span> f<span class='parenthesis'>(</span><span class='literal'>false</span><span class='parenthesis'>)</span>;    <span class='comment'>// OK, no extra copy/move performed, <span class='tcode_in_codeblock'>t2</span> constructed by call to <span class='tcode_in_codeblock'>f</span></span>

<span class='keyword'>struct</span> Weird <span class='curlybracket'>{</span>
  Weird<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  Weird<span class='parenthesis'>(</span>Weird<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

Weird g<span class='parenthesis'>(</span><span class='keyword'>bool</span> b<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> Weird w1;
  Weird w2;
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>b<span class='parenthesis'>)</span>
    <span class='keyword'>return</span> w1;  <span class='comment'>// OK, uses <span class='tcode_in_codeblock'>Weird(Weird&amp;)</span></span>
  <span class='keyword'>else</span>
    <span class='keyword'>return</span> w2;  <span class='comment'>// error: <span class='tcode_in_codeblock'>w2</span> in this context is an xvalue</span>
<span class='curlybracket'>}</span>

<span class='keyword'>int</span><span class='operator'>&amp;</span> h<span class='parenthesis'>(</span><span class='keyword'>bool</span> b, <span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>int</span> s;
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>b<span class='parenthesis'>)</span>
    <span class='keyword'>return</span> s;   <span class='comment'>// OK</span>
  <span class='keyword'>else</span>
    <span class='keyword'>return</span> i;   <span class='comment'>// error: <span class='tcode_in_codeblock'>i</span> is an xvalue</span>
<span class='curlybracket'>}</span>

<span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='keyword'>auto</span><span class='parenthesis'>)</span> h2<span class='parenthesis'>(</span>Thing t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> t;     <span class='comment'>// OK, <span class='tcode_in_codeblock'>t</span> is an xvalue and <span class='tcode_in_codeblock'>h2</span>'s return type is <span class='tcode_in_codeblock'>Thing</span></span>
<span class='curlybracket'>}</span>

<span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='keyword'>auto</span><span class='parenthesis'>)</span> h3<span class='parenthesis'>(</span>Thing t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> <span class='parenthesis'>(</span>t<span class='parenthesis'>)</span>;   <span class='comment'>// OK, <span class='tcode_in_codeblock'>(t)</span> is an xvalue and <span class='tcode_in_codeblock'>h3</span>'s return type is <span class='tcode_in_codeblock'>Thing&amp;&amp;</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='copy.elision-4'><div class='marginalizedparent'><a class='marginalized' href='#copy.elision-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6351'>#</a></div><div class='texpara'><div id='copy.elision-example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#copy.elision-example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  T x;
  <span class='keyword'>try</span> <span class='curlybracket'>{</span>
    T y;
    <span class='keyword'>try</span> <span class='curlybracket'>{</span> g<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>
    <span class='keyword'>catch</span> <span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      <span class='keyword'>if</span> <span class='parenthesis'>(</span><span class='comment'>/*...*/</span><span class='parenthesis'>)</span>
        <span class='keyword'>throw</span> x;        <span class='comment'>// does not move</span>
      <span class='keyword'>throw</span> y;          <span class='comment'>// moves</span>
    <span class='curlybracket'>}</span>
    g<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span> <span class='keyword'>catch</span><span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    g<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;
    g<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span>;               <span class='comment'>// error: <span class='tcode_in_codeblock'>y</span> is not in scope</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-105'><div class='texpara'><a class='footnotenum' href='#footnote-105'>105)</a><a class='footnoteBacklink' href='#footnoteref-105'>105)</a> <div id='footnote-105.sentence-1' class='sentence'>Because only one object is destroyed instead of two,
and one copy/move constructor
is not executed, there is still one object destroyed for each one constructed<a class='hidden_link' href='#footnote-105.sentence-1'>.</a></div></div></div></div></div><div id='compare' class='section'><h2 ><a class='secnum' href='#compare' style='min-width:65pt'>11.10</a> Comparisons <a class='abbr_ref' href='class.compare'>[class.compare]</a></h2><div id='compare.default' class='section'><h3 ><a class='secnum' href='#compare.default' style='min-width:80pt'>11.10.1</a> Defaulted comparison operator functions <a class='abbr_ref' href='class.compare.default'>[class.compare.default]</a></h3><div class='para' id='compare.default-1'><div class='marginalizedparent'><a class='marginalized' href='#compare.default-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6379'>#</a></div><div class='texpara'><div id='compare.default-1.sentence-1' class='sentence'>A defaulted comparison operator function (<a href='over.binary' title='12.4.3&emsp;Binary operators'>[over.<span class='shy'></span>binary]</a>)
for some class <span class='texttt'>C</span>
shall be a non-template function
that is
<ul class='itemize'><li id='compare.default-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compare.default-1.1'>(1.1)</a></div>a non-static member or friend of <span class='texttt'>C</span> and</li><li id='compare.default-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compare.default-1.2'>(1.2)</a></div>either has
two parameters of type <span class='texttt'><span class='keyword'>const</span> C<span class='operator'>&amp;</span></span> or
two parameters of type <span class='texttt'>C</span>,
where the implicit object parameter (if any) is considered to be
the first parameter<a class='hidden_link' href='#compare.default-1.sentence-1'>.</a></li></ul></div> <div id='compare.default-1.sentence-2' class='sentence'>
Name lookups in the implicit definition (<a href='dcl.fct.def.default' title='9.5.2&emsp;Explicitly-defaulted functions'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>default]</a>)
of a comparison operator function
are performed from a context equivalent to
its <a href='dcl.fct.def.general#nt:function-body' title='9.5.1&emsp;In general&emsp;[dcl.fct.def.general]'><span id='ntref:function-body'><span class='textsf'><i >function-body</i></span></span></a><a class='hidden_link' href='#compare.default-1.sentence-2'>.</a></div> <div id='compare.default-1.sentence-3' class='sentence'>A definition of a comparison operator as
defaulted that appears in a class shall be the first declaration
of that function<a class='hidden_link' href='#compare.default-1.sentence-3'>.</a></div></div></div><div class='para' id='compare.default-2'><div class='marginalizedparent'><a class='marginalized' href='#compare.default-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6403'>#</a></div><div class='texpara'><div id='compare.default-2.sentence-1' class='sentence'>A defaulted <span class='texttt'><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span></span> or <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span> operator function for class <span class='texttt'>C</span>
<a class='index' id=':operator,three-way_comparison,deleted'></a><a class='index' id=':operator,equality,deleted'></a>is defined as deleted if
any non-static data member of <span class='texttt'>C</span> is of reference type or
<span class='texttt'>C</span> has variant members (<a href='#union.anon' title='11.5.2&emsp;Anonymous unions'>[class.<span class='shy'></span>union.<span class='shy'></span>anon]</a>)<a class='hidden_link' href='#compare.default-2.sentence-1'>.</a></div></div></div><div class='para' id='compare.default-3'><div class='marginalizedparent'><a class='marginalized' href='#compare.default-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6411'>#</a></div><div class='texpara'><div id='compare.default-3.sentence-1' class='sentence'>A binary operator expression <span class='texttt'>a @ b</span> is
<a class='hidden_link' href='#def:usable,binary_operator_expression' title='11.10.1&emsp;Defaulted comparison operator functions&emsp;[class.compare.default]'><span id='def:usable,binary_operator_expression'><i >usable</i></span></a>
if either
<ul class='itemize'><li id='compare.default-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compare.default-3.1'>(3.1)</a></div><span class='texttt'>a</span> or <span class='texttt'>b</span> is of class or enumeration type and
overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>) as applied to <span class='texttt'>a @ b</span>
results in a usable candidate, or</li><li id='compare.default-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compare.default-3.2'>(3.2)</a></div>neither <span class='texttt'>a</span> nor <span class='texttt'>b</span> is of class or enumeration type and
<span class='texttt'>a @ b</span> is a valid expression<a class='hidden_link' href='#compare.default-3.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='compare.default-4'><div class='marginalizedparent'><a class='marginalized' href='#compare.default-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6426'>#</a></div><div class='texpara'><div id='compare.default-4.sentence-1' class='sentence'>If the <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification_________________'><span class='textsf'><i >member-specification</i></span></span></a>
does not explicitly declare
any member or friend named <span class='texttt'><span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span></span>,
an <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span> operator function is declared implicitly
for each three-way comparison operator function
defined as defaulted in the <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification__________________'><span class='textsf'><i >member-specification</i></span></span></a>,
with the same access and <a href='dcl.fct.def.general#nt:function-definition' title='9.5.1&emsp;In general&emsp;[dcl.fct.def.general]'><span id='ntref:function-definition_'><span class='textsf'><i >function-definition</i></span></span></a> and
in the same class scope as
the respective three-way comparison operator function,
except that the return type is replaced with <span class='texttt'><span class='keyword'>bool</span></span> and
the <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id___'><span class='textsf'><i >declarator-id</i></span></span></a> is replaced with <span class='texttt'><span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span></span><a class='hidden_link' href='#compare.default-4.sentence-1'>.</a></div> <div id='compare.default-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#compare.default-note-1'>1</a></i>: <div id='compare.default-4.sentence-2' class='sentence'>Such an implicitly-declared <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span> operator for a class <span class='texttt'>X</span>
is defined as defaulted
in the definition of <span class='texttt'>X</span> and
has the same <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause___'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> and
trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause___'><span class='textsf'><i >requires-clause</i></span></span></a> as
the respective three-way comparison operator<a class='hidden_link' href='#compare.default-4.sentence-2'>.</a></div> <div id='compare.default-4.sentence-3' class='sentence'>It is declared with <span id=':friend______'><span class='texttt'><span class='keyword'>friend</span></span></span>, <span id=':virtual____________'><span class='texttt'><span class='keyword'>virtual</span></span></span>, <span id=':constexpr_______'><span class='texttt'><span class='keyword'>constexpr</span></span></span>,
or <span id=':consteval_______'><span class='texttt'><span class='keyword'>consteval</span></span></span> if
the three-way comparison operator function is so declared<a class='hidden_link' href='#compare.default-4.sentence-3'>.</a></div> <div id='compare.default-4.sentence-4' class='sentence'>If the three-way comparison operator function
has no <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier______'><span class='textsf'><i >noexcept-specifier</i></span></span></a>,
the implicitly-declared <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span> operator function
has an implicit exception specification (<a href='except.spec' title='14.5&emsp;Exception specifications'>[except.<span class='shy'></span>spec]</a>) that
can differ from the implicit exception specification of
the three-way comparison operator function<a class='hidden_link' href='#compare.default-4.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='compare.default-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#compare.default-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>constexpr</span> std<span class='operator'>::</span>partial_ordering <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>X, X<span class='parenthesis'>)</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>1</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
  <span class='comment'>// implicitly declares: <span class='tcode_in_codeblock'>friend constexpr bool operator==(X, X) requires (sizeof(T) != 1) = default;</span></span>

  <span class='squarebracket'>[</span><span class='squarebracket'>[</span>nodiscard<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='keyword'>virtual</span> std<span class='operator'>::</span>strong_ordering <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
  <span class='comment'>// implicitly declares: <span class='tcode_in_codeblock'>[[nodiscard]] virtual bool operator==(const X&amp;) const = default;</span></span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div> <div id='compare.default-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#compare.default-note-2'>2</a></i>: <div id='compare.default-4.sentence-5' class='sentence'>The <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span> operator function is declared implicitly even if
the defaulted three-way comparison operator function
is defined as deleted<a class='hidden_link' href='#compare.default-4.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='compare.default-5'><div class='marginalizedparent'><a class='marginalized' href='#compare.default-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6472'>#</a></div><div class='texpara'><div id='compare.default-5.sentence-1' class='sentence'>The direct base class subobjects of <span class='texttt'>C</span>,
in the order of their declaration in the <a href='#nt:base-specifier-list' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier-list________'><span class='textsf'><i >base-specifier-list</i></span></span></a> of <span class='texttt'>C</span>,
followed by the non-static data members of <span class='texttt'>C</span>,
in the order of their declaration in the <a href='#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification___________________'><span class='textsf'><i >member-specification</i></span></span></a> of <span class='texttt'>C</span>,
form a list of subobjects<a class='hidden_link' href='#compare.default-5.sentence-1'>.</a></div> <div id='compare.default-5.sentence-2' class='sentence'>In that list, any subobject of array type is recursively expanded
to the sequence of its elements, in the order of increasing subscript<a class='hidden_link' href='#compare.default-5.sentence-2'>.</a></div> <div id='compare.default-5.sentence-3' class='sentence'>Let <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> be an lvalue denoting the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> element
in the expanded list of subobjects for an object <span class='texttt'>x</span>
(of length <span class='math'><span class='mathalpha'>n</span></span>),
where <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is
formed by a sequence of
derived-to-base conversions (<a href='over.best.ics' title='12.2.4.2&emsp;Implicit conversion sequences'>[over.<span class='shy'></span>best.<span class='shy'></span>ics]</a>),
class member access expressions (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>), and
array subscript expressions (<a href='expr.sub' title='7.6.1.2&emsp;Subscripting'>[expr.<span class='shy'></span>sub]</a>) applied to <span class='texttt'>x</span><a class='hidden_link' href='#compare.default-5.sentence-3'>.</a></div></div></div></div><div id='eq' class='section'><h3 ><a class='secnum' href='#eq' style='min-width:80pt'>11.10.2</a> Equality operator <a class='abbr_ref' href='class.eq'>[class.eq]</a></h3><div class='texpara'><a class='index' id=':operator,equality,defaulted'></a></div><div class='para' id='eq-1'><div class='marginalizedparent'><a class='marginalized' href='#eq-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6492'>#</a></div><div class='texpara'><div id='eq-1.sentence-1' class='sentence'>A defaulted equality operator function (<a href='over.binary' title='12.4.3&emsp;Binary operators'>[over.<span class='shy'></span>binary]</a>)
shall have a declared return type <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#eq-1.sentence-1'>.</a></div></div></div><div class='para' id='eq-2'><div class='marginalizedparent'><a class='marginalized' href='#eq-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6496'>#</a></div><div class='texpara'><div id='eq-2.sentence-1' class='sentence'>A defaulted <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span> operator function for a class <span class='texttt'>C</span>
is defined as deleted
unless, for each <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> in the expanded list of subobjects
for an object <span class='texttt'>x</span> of type <span class='texttt'>C</span>,
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char" style="padding-top: 0.225em; padding-bottom: 0.004em;"><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em; margin-right: 0.275em;"> </span><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em; margin-right: 0.275em;"><span class='operator'>=</span><span class='operator'>=</span> </span></span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
is usable (<a href='#compare.default' title='11.10.1&emsp;Defaulted comparison operator functions'>[class.<span class='shy'></span>compare.<span class='shy'></span>default]</a>)<a class='hidden_link' href='#eq-2.sentence-1'>.</a></div></div></div><div class='para' id='eq-3'><div class='marginalizedparent'><a class='marginalized' href='#eq-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6504'>#</a></div><div class='texpara'><div id='eq-3.sentence-1' class='sentence'>The return value <span class='texttt'>V</span> of a defaulted <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span> operator function
with parameters <span class='texttt'>x</span> and <span class='texttt'>y</span> is determined
by comparing corresponding elements <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> and <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.519em;">y</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.408em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
in the expanded lists of subobjects for <span class='texttt'>x</span> and <span class='texttt'>y</span>
(in increasing index order)
until the first index <span class='math'><span class='mathalpha'>i</span></span>
where <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char" style="padding-top: 0.225em; padding-bottom: 0.004em;"><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em; margin-right: 0.275em;"> </span><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em; margin-right: 0.275em;"><span class='operator'>=</span><span class='operator'>=</span> </span></span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.519em;">y</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.408em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> yields a result value which,
when contextually converted to <span class='texttt'><span class='keyword'>bool</span></span>, yields <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#eq-3.sentence-1'>.</a></div> <div id='eq-3.sentence-2' class='sentence'>If no such index exists, <span class='texttt'>V</span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#eq-3.sentence-2'>.</a></div> <div id='eq-3.sentence-3' class='sentence'>Otherwise, <span class='texttt'>V</span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#eq-3.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='eq-4'><div class='marginalizedparent'><a class='marginalized' href='#eq-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6516'>#</a></div><div class='texpara'><div id='eq-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#eq-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> D <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i;
  <span class='keyword'>friend</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> D<span class='operator'>&amp;</span> x, <span class='keyword'>const</span> D<span class='operator'>&amp;</span> y<span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
                                                <span class='comment'>// OK, returns <span class='tcode_in_codeblock'>x.i == y.i</span></span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='spaceship' class='section'><h3 ><a class='secnum' href='#spaceship' style='min-width:80pt'>11.10.3</a> Three-way comparison <a class='abbr_ref' href='class.spaceship'>[class.spaceship]</a></h3><div class='texpara'><a class='index' id=':operator,three-way_comparison,defaulted'></a></div><div class='para' id='spaceship-1'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6530'>#</a></div><div class='texpara'><div id='spaceship-1.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:three-way_comparison,synthesized' title='11.10.3&emsp;Three-way comparison&emsp;[class.spaceship]'><span id='def:three-way_comparison,synthesized'><i >synthesized three-way comparison</i></span></a>
of type <span class='texttt'>R</span> (<a href='cmp.categories' title='17.11.2&emsp;Comparison category types'>[cmp.<span class='shy'></span>categories]</a>)
of glvalues <span class='texttt'>a</span> and <span class='texttt'>b</span> of the same type
is defined as follows:
<ul class='itemize'><li id='spaceship-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#spaceship-1.1'>(1.1)</a></div><div class='texpara'><div id='spaceship-1.1.sentence-1' class='sentence'>If <span class='texttt'>a <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> b</span> is usable (<a href='#compare.default' title='11.10.1&emsp;Defaulted comparison operator functions'>[class.<span class='shy'></span>compare.<span class='shy'></span>default]</a>) and
can be explicitly converted to <span class='texttt'>R</span> using <span id=':static_cast'><span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span></span></span>,
<span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>a <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> b<span class='parenthesis'>)</span></span><a class='hidden_link' href='#spaceship-1.1.sentence-1'>.</a></div></div></li><li id='spaceship-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#spaceship-1.2'>(1.2)</a></div><div class='texpara'><div id='spaceship-1.2.sentence-1' class='sentence'>Otherwise, if overload resolution for <span class='texttt'>a <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> b</span> is performed and
finds at least one viable candidate,
the synthesized three-way comparison is not defined<a class='hidden_link' href='#spaceship-1.2.sentence-1'>.</a></div></div></li><li id='spaceship-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#spaceship-1.3'>(1.3)</a></div><div class='texpara'><div id='spaceship-1.3.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>R</span> is not a comparison category type, or either
the expression <span class='texttt'>a <span class='operator'>=</span><span class='operator'>=</span> b</span> or the expression <span class='texttt'>a <span class='anglebracket'>&lt;</span> b</span>
is not usable,
the synthesized three-way comparison is not defined<a class='hidden_link' href='#spaceship-1.3.sentence-1'>.</a></div></div></li><li id='spaceship-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#spaceship-1.4'>(1.4)</a></div><div class='texpara'><div id='spaceship-1.4.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>R</span> is <span class='texttt'>strong_<span class='shy'></span>ordering</span>, then
<span class='codeblock'>a <span class='operator'>=</span><span class='operator'>=</span> b <span class='operator'>?</span> strong_ordering<span class='operator'>::</span>equal <span class='operator'>:</span>
a <span class='anglebracket'>&lt;</span> b  <span class='operator'>?</span> strong_ordering<span class='operator'>::</span>less <span class='operator'>:</span>
         strong_ordering<span class='operator'>::</span>greater
</span></div></div></li><li id='spaceship-1.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#spaceship-1.5'>(1.5)</a></div><div class='texpara'><div id='spaceship-1.5.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>R</span> is <span class='texttt'>weak_<span class='shy'></span>ordering</span>, then
<span class='codeblock'>a <span class='operator'>=</span><span class='operator'>=</span> b <span class='operator'>?</span> weak_ordering<span class='operator'>::</span>equivalent <span class='operator'>:</span>
a <span class='anglebracket'>&lt;</span> b  <span class='operator'>?</span> weak_ordering<span class='operator'>::</span>less <span class='operator'>:</span>
         weak_ordering<span class='operator'>::</span>greater
</span></div></div></li><li id='spaceship-1.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#spaceship-1.6'>(1.6)</a></div><div class='texpara'><div id='spaceship-1.6.sentence-1' class='sentence'>Otherwise (when <span class='texttt'>R</span> is <span class='texttt'>partial_<span class='shy'></span>ordering</span>),
<span class='codeblock'>a <span class='operator'>=</span><span class='operator'>=</span> b <span class='operator'>?</span> partial_ordering<span class='operator'>::</span>equivalent <span class='operator'>:</span>
a <span class='anglebracket'>&lt;</span> b  <span class='operator'>?</span> partial_ordering<span class='operator'>::</span>less <span class='operator'>:</span>
b <span class='anglebracket'>&lt;</span> a  <span class='operator'>?</span> partial_ordering<span class='operator'>::</span>greater <span class='operator'>:</span>
         partial_ordering<span class='operator'>::</span>unordered
</span></div></div></li></ul></div></div><div class='texpara'><div id='spaceship-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#spaceship-note-1'>1</a></i>: <div id='spaceship-1.sentence-2' class='sentence'>A synthesized three-way comparison is ill-formed
if overload resolution finds usable candidates
that do not otherwise meet the requirements implied by the defined expression<a class='hidden_link' href='#spaceship-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='spaceship-2'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6584'>#</a></div><div class='texpara'><div id='spaceship-2.sentence-1' class='sentence'>Let <span class='texttt'>R</span> be the declared return type of
a defaulted three-way comparison operator function, and
let <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> be the elements of
the expanded list of subobjects for
an object <span class='texttt'>x</span> of type <span class='texttt'>C</span><a class='hidden_link' href='#spaceship-2.sentence-1'>.</a></div></div><div class='texpara'><ul class='itemize'><li id='spaceship-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#spaceship-2.1'>(2.1)</a></div><div class='texpara'><div id='spaceship-2.1.sentence-1' class='sentence'>If <span class='texttt'>R</span> is <span id=':auto'><span class='texttt'><span class='keyword'>auto</span></span></span>, then
let <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.291em; padding-bottom: 0.372em;"> </span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">R</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> be
the type of the expression <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char" style="padding-top: 0.372em; padding-bottom: 0.004em;"><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em; margin-right: 0.275em;"> </span><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em; margin-right: 0.275em;"><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> </span></span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><a class='hidden_link' href='#spaceship-2.1.sentence-1'>.</a></div> <div id='spaceship-2.1.sentence-2' class='sentence'>The operator function is defined as deleted
if that expression is not usable or
if <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">R</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is not
a comparison category type (<a href='cmp.categories.pre' title='17.11.2.1&emsp;Preamble'>[cmp.<span class='shy'></span>categories.<span class='shy'></span>pre]</a>) for any <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#spaceship-2.1.sentence-2'>.</a></div> <div id='spaceship-2.1.sentence-3' class='sentence'>The return type is deduced as
the common comparison type (see below) of
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">R</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">R</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>, <span class='math'>&hellip;</span>, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">R</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span><a class='hidden_link' href='#spaceship-2.1.sentence-3'>.</a></div></div></li><li id='spaceship-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#spaceship-2.2'>(2.2)</a></div><div class='texpara'><div id='spaceship-2.2.sentence-1' class='sentence'>Otherwise, <span class='texttt'>R</span> shall not contain a placeholder type<a class='hidden_link' href='#spaceship-2.2.sentence-1'>.</a></div> <div id='spaceship-2.2.sentence-2' class='sentence'>If the synthesized three-way comparison of type <span class='texttt'>R</span>
between any objects <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> and <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
is not defined,
the operator function is defined as deleted<a class='hidden_link' href='#spaceship-2.2.sentence-2'>.</a></div></div></li></ul></div></div><div class='para' id='spaceship-3'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6611'>#</a></div><div class='texpara'><div id='spaceship-3.sentence-1' class='sentence'>The return value <span class='texttt'>V</span> of type <span class='texttt'>R</span>
of the defaulted three-way comparison operator function
with parameters <span class='texttt'>x</span> and <span class='texttt'>y</span> of the same type
is determined by comparing corresponding elements
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> and <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.519em;">y</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.408em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
in the expanded lists of subobjects for <span class='texttt'>x</span> and <span class='texttt'>y</span>
(in increasing index order)
until the first index <span class='math'><span class='mathalpha'>i</span></span> where
the synthesized three-way comparison of type <span class='texttt'>R</span>
between <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> and <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.519em;">y</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.408em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
yields a result value <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> where <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;"><span class='operator'>!</span><span class='operator'>=</span></span></span></span></span></span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span>,
contextually converted to <span class='texttt'><span class='keyword'>bool</span></span>, yields <span class='texttt'><span class='literal'>true</span></span>;
<span class='texttt'>V</span> is a copy of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><a class='hidden_link' href='#spaceship-3.sentence-1'>.</a></div> <div id='spaceship-3.sentence-2' class='sentence'>If no such index exists, <span class='texttt'>V</span> is
<span class='texttt'><span class='keyword'>static_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>strong_<span class='shy'></span>ordering<span class='operator'>&#x200b;::&#x200b;</span>equal<span class='parenthesis'>)</span></span><a class='hidden_link' href='#spaceship-3.sentence-2'>.</a></div></div></div><div class='para' id='spaceship-4'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6628'>#</a></div><div class='texpara'><div id='spaceship-4.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:common_comparison_type' title='11.10.3&emsp;Three-way comparison&emsp;[class.spaceship]'><span id='def:common_comparison_type'><i >common comparison type</i></span></a> <span class='texttt'>U</span>
of a possibly-empty list of <span class='math'><span class='mathalpha'>n</span></span> comparison category types
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>, <span class='math'>&hellip;</span>, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>
is defined as follows:
<ul class='itemize'><li id='spaceship-4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#spaceship-4.1'>(4.1)</a></div><div class='texpara'><div id='spaceship-4.1.sentence-1' class='sentence'>If at least one <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>partial_<span class='shy'></span>ordering</span>,
<span class='texttt'>U</span> is <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>partial_<span class='shy'></span>ordering</span> (<a href='cmp.partialord' title='17.11.2.2&emsp;Class partial_&shy;ordering'>[cmp.<span class='shy'></span>partialord]</a>)<a class='hidden_link' href='#spaceship-4.1.sentence-1'>.</a></div></div></li><li id='spaceship-4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#spaceship-4.2'>(4.2)</a></div><div class='texpara'><div id='spaceship-4.2.sentence-1' class='sentence'>Otherwise, if at least one <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>weak_<span class='shy'></span>ordering</span>,
<span class='texttt'>U</span> is <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>weak_<span class='shy'></span>ordering</span> (<a href='cmp.weakord' title='17.11.2.3&emsp;Class weak_&shy;ordering'>[cmp.<span class='shy'></span>weakord]</a>)<a class='hidden_link' href='#spaceship-4.2.sentence-1'>.</a></div></div></li><li id='spaceship-4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#spaceship-4.3'>(4.3)</a></div><div class='texpara'><div id='spaceship-4.3.sentence-1' class='sentence'>Otherwise, <span class='texttt'>U</span> is <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>strong_<span class='shy'></span>ordering</span> (<a href='cmp.strongord' title='17.11.2.4&emsp;Class strong_&shy;ordering'>[cmp.<span class='shy'></span>strongord]</a>)<a class='hidden_link' href='#spaceship-4.3.sentence-1'>.</a></div> <div id='spaceship-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#spaceship-note-2'>2</a></i>: <div id='spaceship-4.3.sentence-2' class='sentence'>In particular, this is the result when <span class='math'><span class='mathalpha'>n</span></span> is 0<a class='hidden_link' href='#spaceship-4.3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div></div></div></div><div id='compare.secondary' class='section'><h3 ><a class='secnum' href='#compare.secondary' style='min-width:80pt'>11.10.4</a> Secondary comparison operators <a class='abbr_ref' href='class.compare.secondary'>[class.compare.secondary]</a></h3><div class='texpara'><a class='index' id=':operator,inequality,defaulted'></a><a class='index' id=':operator,relational,defaulted'></a></div><div class='para' id='compare.secondary-1'><div class='marginalizedparent'><a class='marginalized' href='#compare.secondary-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6653'>#</a></div><div class='texpara'><div id='compare.secondary-1.sentence-1' class='sentence'><a class='index' id=':operator,comparison,secondary'></a>A <a class='hidden_link' href='#def:secondary_comparison_operator' title='11.10.4&emsp;Secondary comparison operators&emsp;[class.compare.secondary]'><span id='def:secondary_comparison_operator'><i >secondary comparison operator</i></span></a> is
a relational operator (<a href='expr.rel' title='7.6.9&emsp;Relational operators'>[expr.<span class='shy'></span>rel]</a>) or the <span class='texttt'><span class='operator'>!</span><span class='operator'>=</span></span> operator<a class='hidden_link' href='#compare.secondary-1.sentence-1'>.</a></div> <div id='compare.secondary-1.sentence-2' class='sentence'>A defaulted operator function (<a href='over.binary' title='12.4.3&emsp;Binary operators'>[over.<span class='shy'></span>binary]</a>)
for a secondary comparison operator <span class='texttt'>@</span>
shall have a declared return type <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#compare.secondary-1.sentence-2'>.</a></div></div></div><div class='para' id='compare.secondary-2'><div class='marginalizedparent'><a class='marginalized' href='#compare.secondary-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6661'>#</a></div><div class='texpara'><div id='compare.secondary-2.sentence-1' class='sentence'>The operator function with parameters <span class='texttt'>x</span> and <span class='texttt'>y</span>
is defined as deleted if
<ul class='itemize'><li id='compare.secondary-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compare.secondary-2.1'>(2.1)</a></div>overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>),
as applied to <span class='texttt'>x @ y</span>,
does not result in a usable candidate, or</li><li id='compare.secondary-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#compare.secondary-2.2'>(2.2)</a></div>the candidate selected by overload resolution
is not a rewritten candidate<a class='hidden_link' href='#compare.secondary-2.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='compare.secondary-2.sentence-2' class='sentence'>Otherwise, the operator function yields <span class='texttt'>x @ y</span><a class='hidden_link' href='#compare.secondary-2.sentence-2'>.</a></div> <div id='compare.secondary-2.sentence-3' class='sentence'>The defaulted operator function is not considered as a candidate
in the overload resolution for the <span class='texttt'>@</span> operator<a class='hidden_link' href='#compare.secondary-2.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='compare.secondary-3'><div class='marginalizedparent'><a class='marginalized' href='#compare.secondary-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/a272b7cd04dc0be488250a0c6aaead160e778774/source/classes.tex#L6679'>#</a></div><div class='texpara'><div id='compare.secondary-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#compare.secondary-example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>struct</span> HasNoLessThan <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> HasNoLessThan <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> C<span class='operator'>&amp;</span>, <span class='keyword'>const</span> C<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> C<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>=</span> <span class='keyword'>default</span>;             <span class='comment'>// OK, function is deleted</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div><div class='texpara'></div></div></div></div></div></body></html>