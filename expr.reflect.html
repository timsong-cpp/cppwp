<!DOCTYPE html><html lang='en'><head><title>[expr.reflect]</title><meta charset='UTF-8'><link rel='stylesheet' type='text/css' href='14882.css'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'><link rel='icon' href='icon.png'><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>7</a> Expressions <a class='abbr_ref' href='./#expr'>[expr]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>7.6</a> Compound expressions <a class='abbr_ref' href='expr.compound#expr.reflect'>[expr.compound]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>7.6.2</a> Unary expressions <a class='abbr_ref' href='expr.unary#expr.reflect'>[expr.unary]</a></h3><h4 ><a class='secnum' style='min-width:95pt'>7.6.2.10</a> The reflection operator <a class='abbr_ref'>[expr.reflect]</a></h4><div class='texpara'><div class='bnf' id='nt:reflect-expression'>
<a class='hidden_link' href='#nt:reflect-expression' title='7.6.2.10&emsp;The reflection operator&emsp;[expr.reflect]'><span id='nt:reflect-expression'><span id=':reflect-expression'>reflect-expression<span class='textnormal'>:</span></span></span></a><br><span class='terminal'><span class='operator'>^</span><span class='operator'>^</span></span> <span class='terminal'><span class='operator'>::</span></span><br><span class='terminal'><span class='operator'>^</span><span class='operator'>^</span></span> <a href='#nt:reflection-name' title='7.6.2.10&emsp;The reflection operator&emsp;[expr.reflect]'><span id='ntref:reflection-name'><span class='textsf'><i >reflection-name</i></span></span></a><br><span class='terminal'><span class='operator'>^</span><span class='operator'>^</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id'><span class='textsf'><i >type-id</i></span></span></a><br><span class='terminal'><span class='operator'>^</span><span class='operator'>^</span></span> <a href='expr.prim.id.general#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression'><span class='textsf'><i >id-expression</i></span></span></a>
</div></div><div class='texpara'><div class='bnf' id='nt:reflection-name'>
<a class='hidden_link' href='#nt:reflection-name' title='7.6.2.10&emsp;The reflection operator&emsp;[expr.reflect]'><span id='nt:reflection-name'><span id=':reflection-name'>reflection-name<span class='textnormal'>:</span></span></span></a><br><a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier'><span class='textsf'><i >nested-name-specifier</i></span></span></a><span class='math'><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier'><span class='textsf'><i >identifier</i></span></span></a><br><a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_'><span class='textsf'><i >nested-name-specifier</i></span></span></a> <span id=':template'><span class='texttt'><span class='keyword'>template</span></span></span> <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_'><span class='textsf'><i >identifier</i></span></span></a>
</div></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/454ba171cb14531639e641cb1200617fbf8d943f/source/expressions.tex#L6634'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>The unary <span class='texttt'><span class='operator'>^</span><span class='operator'>^</span></span> operator,
called the <a class='hidden_link' href='#def:operator,reflection' title='7.6.2.10&emsp;The reflection operator&emsp;[expr.reflect]'><span id='def:operator,reflection'><i >reflection operator</i></span></a>,
yields a prvalue of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>meta<span class='operator'>&#x200b;::&#x200b;</span>info</span> (<a href='basic.fundamental' title='6.9.2&emsp;Fundamental types'>[basic.<span class='shy'></span>fundamental]</a>)<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='1.sentence-2' class='sentence'>This document places no restriction on representing, by reflections,
constructs not described by this document or
using the names of such constructs
as operands of <a href='#nt:reflect-expression' title='7.6.2.10&emsp;The reflection operator&emsp;[expr.reflect]'><span id='ntref:reflect-expression'><span class='textsf'><i >reflect-expression</i></span></span></a><i >s</i><a class='hidden_link' href='#1.sentence-2'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/454ba171cb14531639e641cb1200617fbf8d943f/source/expressions.tex#L6645'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>The component names of a <a href='#nt:reflection-name' title='7.6.2.10&emsp;The reflection operator&emsp;[expr.reflect]'><span id='ntref:reflection-name_'><span class='textsf'><i >reflection-name</i></span></span></a>
are those of its <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier__'><span class='textsf'><i >nested-name-specifier</i></span></span></a> (if any) and
its <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier__'><span class='textsf'><i >identifier</i></span></span></a><a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>The terminal name of a <a href='#nt:reflection-name' title='7.6.2.10&emsp;The reflection operator&emsp;[expr.reflect]'><span id='ntref:reflection-name__'><span class='textsf'><i >reflection-name</i></span></span></a> of the form
<a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier___'><span class='textsf'><i >nested-name-specifier</i></span></span></a> <span id=':template_'><span class='texttt'><span class='keyword'>template</span></span></span> <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier___'><span class='textsf'><i >identifier</i></span></span></a>
shall denote a template<a class='hidden_link' href='#2.sentence-2'>.</a></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/454ba171cb14531639e641cb1200617fbf8d943f/source/expressions.tex#L6653'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>A <a href='#nt:reflect-expression' title='7.6.2.10&emsp;The reflection operator&emsp;[expr.reflect]'><span id='ntref:reflect-expression_'><span class='textsf'><i >reflect-expression</i></span></span></a> is parsed as
the longest possible sequence of tokens
that could syntactically form a <a href='#nt:reflect-expression' title='7.6.2.10&emsp;The reflection operator&emsp;[expr.reflect]'><span id='ntref:reflect-expression__'><span class='textsf'><i >reflect-expression</i></span></span></a><a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>An unparenthesized <a href='#nt:reflect-expression' title='7.6.2.10&emsp;The reflection operator&emsp;[expr.reflect]'><span id='ntref:reflect-expression___'><span class='textsf'><i >reflect-expression</i></span></span></a>
that represents a template shall not be followed by <span class='texttt'><span class='anglebracket'>&lt;</span></span><a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>static_assert</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>meta<span class='operator'>::</span>is_type<span class='parenthesis'>(</span><span class='operator'>^</span><span class='operator'>^</span><span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;     <span class='comment'>// <span class='tcode_in_codeblock'>^^</span> applies to the type-id <span class='tcode_in_codeblock'>int()</span></span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>bool</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> X <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>consteval</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>meta<span class='operator'>::</span>info, X<span class='anglebracket'>&lt;</span><span class='literal'>false</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>false</span>; <span class='curlybracket'>}</span>
<span class='keyword'>consteval</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>std<span class='operator'>::</span>meta<span class='operator'>::</span>info r, X<span class='anglebracket'>&lt;</span><span class='literal'>false</span><span class='anglebracket'>&gt;</span> xv<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  r <span class='operator'>=</span><span class='operator'>=</span> <span class='operator'>^</span><span class='operator'>^</span><span class='keyword'>int</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='literal'>true</span>;       <span class='comment'>// error: <span class='tcode_in_codeblock'>^^</span> applies to the <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_'><span class='textsf'><i >type-id</i></span></span></a> <span class='tcode_in_codeblock'>int&amp;&amp;</span></span>
  r <span class='operator'>=</span><span class='operator'>=</span> <span class='operator'>^</span><span class='operator'>^</span><span class='keyword'>int</span> <span class='operator'>&amp;</span> <span class='literal'>true</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>^^</span> applies to the type-id <span class='tcode_in_codeblock'>int&amp;</span></span>
  r <span class='operator'>=</span><span class='operator'>=</span> <span class='parenthesis'>(</span><span class='operator'>^</span><span class='operator'>^</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='literal'>true</span>;     <span class='comment'>// OK</span>
  r <span class='operator'>=</span><span class='operator'>=</span> <span class='operator'>^</span><span class='operator'>^</span><span class='keyword'>int</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='literal'>true</span>;     <span class='comment'>// error: <span class='tcode_in_codeblock'>int &amp;&amp;&amp;&amp;</span> is not a valid <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id__'><span class='textsf'><i >type-id</i></span></span></a></span>
  <span class='operator'>^</span><span class='operator'>^</span>X <span class='anglebracket'>&lt;</span> xv;                 <span class='comment'>// error: <a href='#nt:reflect-expression' title='7.6.2.10&emsp;The reflection operator&emsp;[expr.reflect]'><span id='ntref:reflect-expression____'><span class='textsf'><i >reflect-expression</i></span></span></a> that represents a template is followed by <span class='tcode_in_codeblock'>&lt;</span></span>
  <span class='parenthesis'>(</span><span class='operator'>^</span><span class='operator'>^</span>X<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span> xv;               <span class='comment'>// OK</span>
  <span class='operator'>^</span><span class='operator'>^</span>X<span class='anglebracket'>&lt;</span><span class='literal'>true</span><span class='anglebracket'>&gt;</span> <span class='anglebracket'>&lt;</span> xv;           <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>
</span> â€”&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/454ba171cb14531639e641cb1200617fbf8d943f/source/expressions.tex#L6677'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>A <a href='#nt:reflect-expression' title='7.6.2.10&emsp;The reflection operator&emsp;[expr.reflect]'><span id='ntref:reflect-expression_____'><span class='textsf'><i >reflect-expression</i></span></span></a> of the form <span class='texttt'><span class='operator'>^</span><span class='operator'>^</span><span class='operator'>&#x200b;::&#x200b;</span></span>
represents the global namespace<a class='hidden_link' href='#4.sentence-1'>.</a></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/454ba171cb14531639e641cb1200617fbf8d943f/source/expressions.tex#L6681'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'>If a <a href='#nt:reflect-expression' title='7.6.2.10&emsp;The reflection operator&emsp;[expr.reflect]'><span id='ntref:reflect-expression______'><span class='textsf'><i >reflect-expression</i></span></span></a> <span class='math'><span class='mathalpha'>R</span></span> matches
the form <span class='texttt'><span class='operator'>^</span><span class='operator'>^</span><a href='#nt:reflection-name' title='7.6.2.10&emsp;The reflection operator&emsp;[expr.reflect]'><span id='ntref:reflection-name___'><span class='textsf'><i >reflection-name</i></span></span></a></span>,
it is interpreted as such;
the <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier____'><span class='textsf'><i >identifier</i></span></span></a> is looked up and
the representation of <span class='math'><span class='mathalpha'>R</span></span> is determined as follows:
<ul class='itemize'><li id='5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.1'>(5.1)</a></div><div class='texpara'><div id='5.1.sentence-1' class='sentence'>If lookup finds a declaration
that replaced a <a href='namespace.udecl#nt:using-declarator' title='9.10&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator'><span class='textsf'><i >using-declarator</i></span></span></a>
during a single search (<a href='basic.lookup.general' title='6.5.1&emsp;General'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>general]</a>, <a href='namespace.udecl' title='9.10&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>),
<span class='math'><span class='mathalpha'>R</span></span> is ill-formed<a class='hidden_link' href='#5.1.sentence-1'>.</a></div> <div id='example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>struct</span> S <span class='curlybracket'>{</span><span class='curlybracket'>}</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> A <span class='curlybracket'>{</span> <span class='keyword'>using</span> A<span class='operator'>::</span>S; <span class='curlybracket'>}</span>;
<span class='keyword'>constexpr</span> std<span class='operator'>::</span>meta<span class='operator'>::</span>info r1 <span class='operator'>=</span> <span class='operator'>^</span><span class='operator'>^</span>B<span class='operator'>::</span>S;  <span class='comment'>// error: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;S</span> found through <a href='namespace.udecl#nt:using-declarator' title='9.10&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator_'><span class='textsf'><i >using-declarator</i></span></span></a></span>

<span class='keyword'>struct</span> C <span class='operator'>:</span> <span class='keyword'>virtual</span> B <span class='curlybracket'>{</span> <span class='keyword'>struct</span> S <span class='curlybracket'>{</span><span class='curlybracket'>}</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> <span class='keyword'>virtual</span> B, C <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
D<span class='operator'>::</span>S s;                                 <span class='comment'>// OK, names <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;S</span> per <a href='class.member.lookup' title='6.5.2&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a></span>
<span class='keyword'>constexpr</span> std<span class='operator'>::</span>meta<span class='operator'>::</span>info r2 <span class='operator'>=</span> <span class='operator'>^</span><span class='operator'>^</span>D<span class='operator'>::</span>S;  <span class='comment'>// OK, result <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;S</span> not found through <a href='namespace.udecl#nt:using-declarator' title='9.10&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declarator__'><span class='textsf'><i >using-declarator</i></span></span></a></span>
</span> â€”&nbsp;<i>end example</i>]</div></div></div></li><li id='5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.2'>(5.2)</a></div><div class='texpara'><div id='5.2.sentence-1' class='sentence'>Otherwise, if lookup finds a namespace alias (<a href='namespace.alias' title='9.9.3&emsp;Namespace alias'>[namespace.<span class='shy'></span>alias]</a>),
<span class='math'><span class='mathalpha'>R</span></span> represents that namespace alias<a class='hidden_link' href='#5.2.sentence-1'>.</a></div> <div id='5.2.sentence-2' class='sentence'>For any other <a href='namespace.def.general#nt:namespace-name' title='9.9.2.1&emsp;General&emsp;[namespace.def.general]'><span id='ntref:namespace-name'><span class='textsf'><i >namespace-name</i></span></span></a>,
<span class='math'><span class='mathalpha'>R</span></span> represents the denoted namespace<a class='hidden_link' href='#5.2.sentence-2'>.</a></div></div></li><li id='5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.3'>(5.3)</a></div><div class='texpara'><div id='5.3.sentence-1' class='sentence'>Otherwise, if lookup finds a namespace (<a href='namespace.alias' title='9.9.3&emsp;Namespace alias'>[namespace.<span class='shy'></span>alias]</a>),
<span class='math'><span class='mathalpha'>R</span></span> represents that namespace<a class='hidden_link' href='#5.3.sentence-1'>.</a></div></div></li><li id='5.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.4'>(5.4)</a></div><div class='texpara'><div id='5.4.sentence-1' class='sentence'>Otherwise, if lookup finds a concept (<a href='temp.concept' title='13.7.9&emsp;Concept definitions'>[temp.<span class='shy'></span>concept]</a>),
<span class='math'><span class='mathalpha'>R</span></span> represents the denoted concept<a class='hidden_link' href='#5.4.sentence-1'>.</a></div></div></li><li id='5.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.5'>(5.5)</a></div><div class='texpara'><div id='5.5.sentence-1' class='sentence'>Otherwise, if lookup finds a template (<a href='temp.names' title='13.3&emsp;Names of template specializations'>[temp.<span class='shy'></span>names]</a>),
the representation of <span class='math'><span class='mathalpha'>R</span></span> is determined as follows:
<ul class='itemize'><li id='5.5.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#5.5.1'>(5.5.1)</a></div><div class='texpara'><div id='5.5.1.sentence-1' class='sentence'>If lookup finds an injected-class-name (<a href='class.pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>), then:
<ul class='itemize'><li id='5.5.1.1'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#5.5.1.1'>(5.5.1.1)</a></div><div class='texpara'><div id='5.5.1.1.sentence-1' class='sentence'>If the <a href='#nt:reflection-name' title='7.6.2.10&emsp;The reflection operator&emsp;[expr.reflect]'><span id='ntref:reflection-name____'><span class='textsf'><i >reflection-name</i></span></span></a> is of the form
<span class='texttt'><a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.5.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier____'><span class='textsf'><i >nested-name-specifier</i></span></span></a> <span id=':template__'><span class='texttt'><span class='keyword'>template</span></span></span> <a href='lex.name#nt:identifier' title='5.11&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_____'><span class='textsf'><i >identifier</i></span></span></a></span>,
then <span class='math'><span class='mathalpha'>R</span></span> represents the class template named by the injected-class-name<a class='hidden_link' href='#5.5.1.1.sentence-1'>.</a></div></div></li><li id='5.5.1.2'><div class='marginalizedparent' style='left:-45mm'><a class='marginalized' href='#5.5.1.2'>(5.5.1.2)</a></div><div class='texpara'><div id='5.5.1.2.sentence-1' class='sentence'>Otherwise, the injected-class-name shall be unambiguous
when considered as a <a href='dcl.type.simple#nt:type-name' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:type-name'><span class='textsf'><i >type-name</i></span></span></a> and
<span class='math'><span class='mathalpha'>R</span></span> represents the class template specialization so named<a class='hidden_link' href='#5.5.1.2.sentence-1'>.</a></div></div></li></ul></div></div></li><li id='5.5.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#5.5.2'>(5.5.2)</a></div><div class='texpara'><div id='5.5.2.sentence-1' class='sentence'>Otherwise, if lookup finds an overload set,
that overload set shall contain only
declarations of a unique function template F;
<span class='math'><span class='mathalpha'>R</span></span> represents F<a class='hidden_link' href='#5.5.2.sentence-1'>.</a></div></div></li><li id='5.5.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#5.5.3'>(5.5.3)</a></div><div class='texpara'><div id='5.5.3.sentence-1' class='sentence'>Otherwise, if lookup finds
a class template, variable template, or alias template,
<span class='math'><span class='mathalpha'>R</span></span> represents that template<a class='hidden_link' href='#5.5.3.sentence-1'>.</a></div> <div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>:&ensp;<div id='5.5.3.sentence-2' class='sentence'>Lookup never finds a partial or explicit specialization<a class='hidden_link' href='#5.5.3.sentence-2'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></li></ul></div></div></li><li id='5.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.6'>(5.6)</a></div><div class='texpara'><div id='5.6.sentence-1' class='sentence'>Otherwise, if lookup finds a type alias <span class='math'><span class='mathalpha'>A</span></span>,
<span class='math'><span class='mathalpha'>R</span></span> represents the underlying entity of <span class='math'><span class='mathalpha'>A</span></span>
if <span class='math'><span class='mathalpha'>A</span></span> was introduced by the declaration of a template parameter;
otherwise, <span class='math'><span class='mathalpha'>R</span></span> represents <span class='math'><span class='mathalpha'>A</span></span><a class='hidden_link' href='#5.6.sentence-1'>.</a></div></div></li><li id='5.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.7'>(5.7)</a></div><div class='texpara'><div id='5.7.sentence-1' class='sentence'>Otherwise, if lookup finds a class or an enumeration,
<span class='math'><span class='mathalpha'>R</span></span> represents the denoted type<a class='hidden_link' href='#5.7.sentence-1'>.</a></div></div></li><li id='5.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.8'>(5.8)</a></div><div class='texpara'><div id='5.8.sentence-1' class='sentence'>Otherwise, if lookup finds a class member of an anonymous union (<a href='class.union.anon' title='11.5.2&emsp;Anonymous unions'>[class.<span class='shy'></span>union.<span class='shy'></span>anon]</a>), <span class='math'><span class='mathalpha'>R</span></span> represents that class member<a class='hidden_link' href='#5.8.sentence-1'>.</a></div></div></li><li id='5.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.9'>(5.9)</a></div><div class='texpara'><div id='5.9.sentence-1' class='sentence'>Otherwise,
the <a href='#nt:reflection-name' title='7.6.2.10&emsp;The reflection operator&emsp;[expr.reflect]'><span id='ntref:reflection-name_____'><span class='textsf'><i >reflection-name</i></span></span></a> shall be an <a href='expr.prim.id.general#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_'><span class='textsf'><i >id-expression</i></span></span></a> <span class='texttt'>I</span>
and <span class='math'><span class='mathalpha'>R</span></span> is <span class='texttt'><span class='operator'>^</span><span class='operator'>^</span>I</span> (see below)<a class='hidden_link' href='#5.9.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/454ba171cb14531639e641cb1200617fbf8d943f/source/expressions.tex#L6761'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'>A <a href='#nt:reflect-expression' title='7.6.2.10&emsp;The reflection operator&emsp;[expr.reflect]'><span id='ntref:reflect-expression_______'><span class='textsf'><i >reflect-expression</i></span></span></a> <span class='math'><span class='mathalpha'>R</span></span> of the form
<span class='texttt'><span class='operator'>^</span><span class='operator'>^</span><a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id___'><span class='textsf'><i >type-id</i></span></span></a></span>
represents an entity determined as follows:
<ul class='itemize'><li id='6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#6.1'>(6.1)</a></div><div class='texpara'><div id='6.1.sentence-1' class='sentence'>If the <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id____'><span class='textsf'><i >type-id</i></span></span></a> designates
a placeholder type (<a href='dcl.spec.auto.general' title='9.2.9.7.1&emsp;General'>[dcl.<span class='shy'></span>spec.<span class='shy'></span>auto.<span class='shy'></span>general]</a>),
<span class='math'><span class='mathalpha'>R</span></span> is ill-formed<a class='hidden_link' href='#6.1.sentence-1'>.</a></div></div></li><li id='6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#6.2'>(6.2)</a></div><div class='texpara'><div id='6.2.sentence-1' class='sentence'>Otherwise, if the <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_____'><span class='textsf'><i >type-id</i></span></span></a> names a type alias
that is a specialization of an alias template (<a href='temp.alias' title='13.7.8&emsp;Alias templates'>[temp.<span class='shy'></span>alias]</a>),
<span class='math'><span class='mathalpha'>R</span></span> represents that type alias<a class='hidden_link' href='#6.2.sentence-1'>.</a></div></div></li><li id='6.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#6.3'>(6.3)</a></div><div class='texpara'><div id='6.3.sentence-1' class='sentence'>Otherwise, <span class='math'><span class='mathalpha'>R</span></span> represents the type denoted by the <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id______'><span class='textsf'><i >type-id</i></span></span></a><a class='hidden_link' href='#6.3.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/454ba171cb14531639e641cb1200617fbf8d943f/source/expressions.tex#L6778'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'>A <a href='#nt:reflect-expression' title='7.6.2.10&emsp;The reflection operator&emsp;[expr.reflect]'><span id='ntref:reflect-expression________'><span class='textsf'><i >reflect-expression</i></span></span></a> <span class='math'><span class='mathalpha'>R</span></span> of the form
<span class='texttt'><span class='operator'>^</span><span class='operator'>^</span><a href='expr.prim.id.general#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression__'><span class='textsf'><i >id-expression</i></span></span></a></span>
represents an entity determined as follows:
<ul class='itemize'><li id='7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#7.1'>(7.1)</a></div><div class='texpara'><div id='7.1.sentence-1' class='sentence'>If the <a href='expr.prim.id.general#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression___'><span class='textsf'><i >id-expression</i></span></span></a> denotes
<ul class='itemize'><li id='7.1.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#7.1.1'>(7.1.1)</a></div>a variable declared by
an <a href='expr.prim.lambda.capture#nt:init-capture' title='7.5.6.3&emsp;Captures&emsp;[expr.prim.lambda.capture]'><span id='ntref:init-capture'><span class='textsf'><i >init-capture</i></span></span></a> (<a href='expr.prim.lambda.capture' title='7.5.6.3&emsp;Captures'>[expr.<span class='shy'></span>prim.<span class='shy'></span>lambda.<span class='shy'></span>capture]</a>),</li><li id='7.1.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#7.1.2'>(7.1.2)</a></div>a function-local predefined variable (<a href='dcl.fct.def.general' title='9.6.1&emsp;General'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>general]</a>),</li><li id='7.1.3'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#7.1.3'>(7.1.3)</a></div>a local parameter introduced by
a <a href='expr.prim.req.general#nt:requires-expression' title='7.5.8.1&emsp;General&emsp;[expr.prim.req.general]'><span id='ntref:requires-expression'><span class='textsf'><i >requires-expression</i></span></span></a> (<a href='expr.prim.req' title='7.5.8&emsp;Requires expressions'>[expr.<span class='shy'></span>prim.<span class='shy'></span>req]</a>), or</li><li id='7.1.4'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#7.1.4'>(7.1.4)</a></div>a local entity <span class='math'><span class='mathalpha'>E</span></span> (<a href='basic.pre' title='6.1&emsp;Preamble'>[basic.<span class='shy'></span>pre]</a>) for which a lambda scope intervenes
between the point at which <span class='math'><span class='mathalpha'>E</span></span> was introduced and <span class='math'><span class='mathalpha'>R</span></span>,
then <span class='math'><span class='mathalpha'>R</span></span> is ill-formed<a class='hidden_link' href='#7.1.sentence-1'>.</a></li></ul></div></div></li><li id='7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#7.2'>(7.2)</a></div><div class='texpara'><div id='7.2.sentence-1' class='sentence'>Otherwise, if the <a href='expr.prim.id.general#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression____'><span class='textsf'><i >id-expression</i></span></span></a> denotes an overload set <span class='math'><span class='mathalpha'>S</span></span>,
overload resolution for the expression <span class='texttt'><span class='operator'>&amp;</span>S</span> with no target
shall select a unique function (<a href='over.over' title='12.3&emsp;Address of an overload set'>[over.<span class='shy'></span>over]</a>);
<span class='math'><span class='mathalpha'>R</span></span> represents that function<a class='hidden_link' href='#7.2.sentence-1'>.</a></div></div></li><li id='7.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#7.3'>(7.3)</a></div><div class='texpara'><div id='7.3.sentence-1' class='sentence'>Otherwise, if the <a href='expr.prim.id.general#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_____'><span class='textsf'><i >id-expression</i></span></span></a> denotes
a variable, structured binding, enumerator, or non-static data member,
<span class='math'><span class='mathalpha'>R</span></span> represents that entity<a class='hidden_link' href='#7.3.sentence-1'>.</a></div></div></li><li id='7.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#7.4'>(7.4)</a></div><div class='texpara'><div id='7.4.sentence-1' class='sentence'>Otherwise, <span class='math'><span class='mathalpha'>R</span></span> is ill-formed<a class='hidden_link' href='#7.4.sentence-1'>.</a></div> <div id='note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-3'>3</a></i>:&ensp;<div id='7.4.sentence-2' class='sentence'>This includes <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.5.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id'><span class='textsf'><i >unqualified-id</i></span></span></a><i >s</i>
that name a constant template parameter and
<a href='expr.prim.pack.index#nt:pack-index-expression' title='7.5.5.4&emsp;Pack indexing expression&emsp;[expr.prim.pack.index]'><span id='ntref:pack-index-expression'><span class='textsf'><i >pack-index-expression</i></span></span></a><i >s</i><a class='hidden_link' href='#7.4.sentence-2'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></li></ul></div> <div id='7.sentence-2' class='sentence'>
The <a href='expr.prim.id.general#nt:id-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression______'><span class='textsf'><i >id-expression</i></span></span></a> of
a <a href='#nt:reflect-expression' title='7.6.2.10&emsp;The reflection operator&emsp;[expr.reflect]'><span id='ntref:reflect-expression_________'><span class='textsf'><i >reflect-expression</i></span></span></a> is an unevaluated operand (<a href='expr.context' title='7.2.3&emsp;Context dependence'>[expr.<span class='shy'></span>context]</a>)<a class='hidden_link' href='#7.sentence-2'>.</a></div> <div id='example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> fn<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span><span class='operator'>^</span><span class='operator'>^</span>T <span class='operator'>!</span><span class='operator'>=</span> <span class='operator'>^</span><span class='operator'>^</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> fn<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span><span class='operator'>^</span><span class='operator'>^</span>T <span class='operator'>=</span><span class='operator'>=</span> <span class='operator'>^</span><span class='operator'>^</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> fn<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;

<span class='keyword'>constexpr</span> std<span class='operator'>::</span>meta<span class='operator'>::</span>info a <span class='operator'>=</span> <span class='operator'>^</span><span class='operator'>^</span>fn<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span>;       <span class='comment'>// OK</span>
<span class='keyword'>constexpr</span> std<span class='operator'>::</span>meta<span class='operator'>::</span>info b <span class='operator'>=</span> <span class='operator'>^</span><span class='operator'>^</span>fn<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span>;        <span class='comment'>// error: ambiguous</span>

<span class='keyword'>constexpr</span> std<span class='operator'>::</span>meta<span class='operator'>::</span>info c <span class='operator'>=</span> <span class='operator'>^</span><span class='operator'>^</span>std<span class='operator'>::</span>vector;    <span class='comment'>// OK</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>constexpr</span> std<span class='operator'>::</span>meta<span class='operator'>::</span>info r <span class='operator'>=</span> <span class='operator'>^</span><span class='operator'>^</span>T;
  <span class='keyword'>using</span> type <span class='operator'>=</span> T;
<span class='curlybracket'>}</span>;
<span class='keyword'>static_assert</span><span class='parenthesis'>(</span>S<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>r <span class='operator'>=</span><span class='operator'>=</span> <span class='operator'>^</span><span class='operator'>^</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>static_assert</span><span class='parenthesis'>(</span><span class='operator'>^</span><span class='operator'>^</span>S<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>type <span class='operator'>!</span><span class='operator'>=</span> <span class='operator'>^</span><span class='operator'>^</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;

<span class='keyword'>typedef</span> <span class='keyword'>struct</span> X <span class='curlybracket'>{</span><span class='curlybracket'>}</span> Y;
<span class='keyword'>typedef</span> <span class='keyword'>struct</span> Z <span class='curlybracket'>{</span><span class='curlybracket'>}</span> Z;
<span class='keyword'>constexpr</span> std<span class='operator'>::</span>meta<span class='operator'>::</span>info e <span class='operator'>=</span> <span class='operator'>^</span><span class='operator'>^</span>Y;              <span class='comment'>// OK, represents the type alias <span class='tcode_in_codeblock'>Y</span></span>
<span class='keyword'>constexpr</span> std<span class='operator'>::</span>meta<span class='operator'>::</span>info f <span class='operator'>=</span> <span class='operator'>^</span><span class='operator'>^</span>Z;              <span class='comment'>// OK, represents the type alias <span class='tcode_in_codeblock'>Z</span>, not the type (<a href='basic.lookup.general' title='6.5.1&emsp;General'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>general]</a>)</span>
</span> â€”&nbsp;<i>end example</i>]</div></div></div></div></div></body></html>