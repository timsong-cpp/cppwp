<!DOCTYPE html><html lang='en'><head><title>[stream.buffers]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>27</a> Input/output library <a class='abbr_ref' href='./#input.output'>[input.output]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>27.6</a> Stream buffers <a class='abbr_ref'>[stream.buffers]</a></h2><div id='streambuf.syn' class='section'><h3 ><a class='secnum' href='#streambuf.syn' style='min-width:103pt'>27.6.1</a> Header <span class='texttt'>&lt;streambuf&gt;</span> synopsis <a class='abbr_ref' href='streambuf.syn'>[streambuf.syn]</a></h3><span class='indexparent'><a class='index' id=':<streambuf>'></a></span><span class='indexparent'><a class='index' id=':<streambuf>'></a></span>
<span class='indexparent'><a class='index' id='lib:streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf<char>'></a></span><span class='indexparent'><a class='index' id='lib:wstreambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf<wchar_t>'></a></span><pre class='codeblock'>
namespace std {
  template&lt;class charT, class traits = char_traits&lt;charT&gt;&gt;
    class basic_streambuf;
  using streambuf  = basic_streambuf&lt;char&gt;;
  using wstreambuf = basic_streambuf&lt;wchar_t&gt;;
}</pre><div class='para' id='streambuf.syn-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.syn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L2868'>#</a></div><div id='streambuf.syn-1.sentence-1' class='sentence'>The header
<span class='texttt'>&lt;streambuf&gt;</span>
defines types that control input from and output to
<span class='textit'>character</span>
sequences<a class='hidden_link' href='#streambuf.syn-1.sentence-1'>.</a></div></div></div><div id='streambuf.reqts' class='section'><h3 ><a class='secnum' href='#streambuf.reqts' style='min-width:103pt'>27.6.2</a> Stream buffer requirements <a class='abbr_ref' href='streambuf.reqts'>[streambuf.reqts]</a></h3><div class='para' id='streambuf.reqts-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.reqts-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L2877'>#</a></div><div id='streambuf.reqts-1.sentence-1' class='sentence'>Stream buffers can impose various constraints on the sequences they control<a class='hidden_link' href='#streambuf.reqts-1.sentence-1'>.</a></div> <div id='streambuf.reqts-1.sentence-2' class='sentence'>Some constraints are:
<ul class='itemize'><li id='streambuf.reqts-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#streambuf.reqts-1.1'>(1.1)</a></div><div id='streambuf.reqts-1.1.sentence-1' class='sentence'>The controlled input sequence can be not readable<a class='hidden_link' href='#streambuf.reqts-1.1.sentence-1'>.</a></div></li><li id='streambuf.reqts-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#streambuf.reqts-1.2'>(1.2)</a></div><div id='streambuf.reqts-1.2.sentence-1' class='sentence'>The controlled output sequence can be not writable<a class='hidden_link' href='#streambuf.reqts-1.2.sentence-1'>.</a></div></li><li id='streambuf.reqts-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#streambuf.reqts-1.3'>(1.3)</a></div><div id='streambuf.reqts-1.3.sentence-1' class='sentence'>The controlled sequences can be associated with the contents of other
representations for character sequences, such as external files<a class='hidden_link' href='#streambuf.reqts-1.3.sentence-1'>.</a></div></li><li id='streambuf.reqts-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#streambuf.reqts-1.4'>(1.4)</a></div><div id='streambuf.reqts-1.4.sentence-1' class='sentence'>The controlled sequences can support operations
<span class='textit'>directly</span>
to or from associated sequences<a class='hidden_link' href='#streambuf.reqts-1.4.sentence-1'>.</a></div></li><li id='streambuf.reqts-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#streambuf.reqts-1.5'>(1.5)</a></div><div id='streambuf.reqts-1.5.sentence-1' class='sentence'>The controlled sequences can impose limitations on how the program can
read characters from a sequence,
write characters to a sequence,
put characters back into an input sequence, or
alter the stream position<a class='hidden_link' href='#streambuf.reqts-1.5.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='streambuf.reqts-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.reqts-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L2900'>#</a></div><div id='streambuf.reqts-2.sentence-1' class='sentence'>Each sequence is characterized by three pointers which, if non-null,
all point into the same
<span class='texttt'>charT</span>
array object<a class='hidden_link' href='#streambuf.reqts-2.sentence-1'>.</a></div> <div id='streambuf.reqts-2.sentence-2' class='sentence'>The array object represents, at any moment,
a (sub)sequence of characters from the sequence<a class='hidden_link' href='#streambuf.reqts-2.sentence-2'>.</a></div> <div id='streambuf.reqts-2.sentence-3' class='sentence'>Operations performed on a sequence alter the values stored in these pointers,
perform reads and writes directly to or from associated sequences, and
alter â€œthe stream positionâ€ and conversion state as needed to
maintain this subsequence relationship<a class='hidden_link' href='#streambuf.reqts-2.sentence-3'>.</a></div> <div id='streambuf.reqts-2.sentence-4' class='sentence'>The three pointers are:
<ul class='itemize'><li id='streambuf.reqts-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#streambuf.reqts-2.1'>(2.1)</a></div><div id='streambuf.reqts-2.1.sentence-1' class='sentence'>the
<a class='hidden_link' href='#def:beginning_pointer' id='def:beginning_pointer'><i>beginning pointer</i></a>,
or lowest element address in the array
(called <span class='texttt'>xbeg</span> here);</div></li><li id='streambuf.reqts-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#streambuf.reqts-2.2'>(2.2)</a></div><div id='streambuf.reqts-2.2.sentence-1' class='sentence'>the
<a class='hidden_link' href='#def:next_pointer' id='def:next_pointer'><i>next pointer</i></a>,
or next element address that is a current
candidate for reading or writing (called <span class='texttt'>xnext</span> here);</div></li><li id='streambuf.reqts-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#streambuf.reqts-2.3'>(2.3)</a></div><div id='streambuf.reqts-2.3.sentence-1' class='sentence'>the
<a class='hidden_link' href='#def:end_pointer' id='def:end_pointer'><i>end pointer</i></a>,
or first element address beyond the end of
the array (called <span class='texttt'>xend</span> here)<a class='hidden_link' href='#streambuf.reqts-2.3.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='streambuf.reqts-3'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.reqts-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L2930'>#</a></div><div id='streambuf.reqts-3.sentence-1' class='sentence'>The following semantic constraints shall always apply for any set of
three pointers for a sequence, using the pointer names given immediately above:
<ul class='itemize'><li id='streambuf.reqts-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#streambuf.reqts-3.1'>(3.1)</a></div><div id='streambuf.reqts-3.1.sentence-1' class='sentence'>If <span class='texttt'>xnext</span> is not a null pointer, then
<span class='texttt'>xbeg</span> and <span class='texttt'>xend</span> shall also be non-null pointers
into the same
<span class='texttt'>charT</span>
array, as described above; otherwise, <span class='texttt'>xbeg</span> and
<span class='texttt'>xend</span> shall also be null<a class='hidden_link' href='#streambuf.reqts-3.1.sentence-1'>.</a></div></li><li id='streambuf.reqts-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#streambuf.reqts-3.2'>(3.2)</a></div><div id='streambuf.reqts-3.2.sentence-1' class='sentence'>If <span class='texttt'>xnext</span> is not a null pointer and
<span class='texttt'>xnext &lt; xend</span>
for an output sequence, then a
<a class='hidden_link' href='#def:write_position' id='def:write_position'><i>write position</i></a>
is available<a class='hidden_link' href='#streambuf.reqts-3.2.sentence-1'>.</a></div> <div id='streambuf.reqts-3.2.sentence-2' class='sentence'>In this case,
<span class='texttt'>*xnext</span>
shall be assignable as the
next element to write
(to put, or to store a character value, into the sequence)<a class='hidden_link' href='#streambuf.reqts-3.2.sentence-2'>.</a></div></li><li id='streambuf.reqts-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#streambuf.reqts-3.3'>(3.3)</a></div><div id='streambuf.reqts-3.3.sentence-1' class='sentence'>If <span class='texttt'>xnext</span> is not a null pointer and
<span class='texttt'>xbeg &lt; xnext</span> for an input sequence,
then a
<a class='hidden_link' href='#def:putback_position' id='def:putback_position'><i>putback position</i></a>
is available<a class='hidden_link' href='#streambuf.reqts-3.3.sentence-1'>.</a></div> <div id='streambuf.reqts-3.3.sentence-2' class='sentence'>In this case,
<span class='texttt'>xnext[-1]</span>
shall have a defined value and is the next (preceding) element
to store a character that is put back into the input sequence<a class='hidden_link' href='#streambuf.reqts-3.3.sentence-2'>.</a></div></li><li id='streambuf.reqts-3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#streambuf.reqts-3.4'>(3.4)</a></div><div id='streambuf.reqts-3.4.sentence-1' class='sentence'>If <span class='texttt'>xnext</span> is not a null pointer and
<span class='texttt'>xnext &lt; xend</span> for an input sequence,
then a
<a class='hidden_link' href='#def:read_position' id='def:read_position'><i>read position</i></a>
is available<a class='hidden_link' href='#streambuf.reqts-3.4.sentence-1'>.</a></div> <div id='streambuf.reqts-3.4.sentence-2' class='sentence'>In this case,
<span class='texttt'>*xnext</span>
shall have a defined value
and is the next element to read
(to get, or to obtain a character value, from the sequence)<a class='hidden_link' href='#streambuf.reqts-3.4.sentence-2'>.</a></div></li></ul></div></div></div><div id='streambuf' class='section'><h3 ><a class='secnum' href='#streambuf' style='min-width:103pt'>27.6.3</a> Class template <span class='texttt'>basic_&shy;streambuf</span> <a class='abbr_ref' href='streambuf'>[streambuf]</a></h3><span class='indexparent'><a class='index' id='lib:basic_streambuf'></a></span><pre class='codeblock'>
namespace std {
  template&lt;class charT, class traits = char_traits&lt;charT&gt;&gt;
  class basic_streambuf {
  public:
    using char_type   = charT;
    using int_type    = typename traits::int_type;
    using pos_type    = typename traits::pos_type;
    using off_type    = typename traits::off_type;
    using traits_type = traits;

    virtual ~basic_streambuf();

    <span class='comment'>// <a href='#streambuf.locales'>[streambuf.locales]</a>, locales
</span>    locale   pubimbue(const locale&amp; loc);
    locale   getloc() const;

    <span class='comment'>// <a href='#streambuf.buffer'>[streambuf.buffer]</a>, buffer and positioning
</span>    basic_streambuf* pubsetbuf(char_type* s, streamsize n);
    pos_type pubseekoff(off_type off, ios_base::seekdir way,
                        ios_base::openmode which
                          = ios_base::in | ios_base::out);
    pos_type pubseekpos(pos_type sp,
                        ios_base::openmode which
                          = ios_base::in | ios_base::out);
    int      pubsync();

    <span class='comment'>// get and put areas
</span>    <span class='comment'>// <a href='#streambuf.pub.get'>[streambuf.pub.get]</a>, get area
</span>    streamsize in_avail();
    int_type snextc();
    int_type sbumpc();
    int_type sgetc();
    streamsize sgetn(char_type* s, streamsize n);

    <span class='comment'>// <a href='#streambuf.pub.pback'>[streambuf.pub.pback]</a>, putback
</span>    int_type sputbackc(char_type c);
    int_type sungetc();

    <span class='comment'>// <a href='#streambuf.pub.put'>[streambuf.pub.put]</a>, put area
</span>    int_type   sputc(char_type c);
    streamsize sputn(const char_type* s, streamsize n);

  protected:
    basic_streambuf();
    basic_streambuf(const basic_streambuf&amp; rhs);
    basic_streambuf&amp; operator=(const basic_streambuf&amp; rhs);

    void swap(basic_streambuf&amp; rhs);

    <span class='comment'>// <a href='#streambuf.get.area'>[streambuf.get.area]</a>, get area access
</span>    char_type* eback() const;
    char_type* gptr()  const;
    char_type* egptr() const;
    void       gbump(int n);
    void       setg(char_type* gbeg, char_type* gnext, char_type* gend);

    <span class='comment'>// <a href='#streambuf.put.area'>[streambuf.put.area]</a>, put area access
</span>    char_type* pbase() const;
    char_type* pptr() const;
    char_type* epptr() const;
    void       pbump(int n);
    void       setp(char_type* pbeg, char_type* pend);

    <span class='comment'>// <a href='#streambuf.virtuals'>[streambuf.virtuals]</a>, virtual functions
</span>    <span class='comment'>// <a href='#streambuf.virt.locales'>[streambuf.virt.locales]</a>, locales
</span>    virtual void imbue(const locale&amp; loc);

    <span class='comment'>// <a href='#streambuf.virt.buffer'>[streambuf.virt.buffer]</a>, buffer management and positioning
</span>    virtual basic_streambuf* setbuf(char_type* s, streamsize n);
    virtual pos_type seekoff(off_type off, ios_base::seekdir way,
                             ios_base::openmode which
                               = ios_base::in | ios_base::out);
    virtual pos_type seekpos(pos_type sp,
                             ios_base::openmode which
                               = ios_base::in | ios_base::out);
    virtual int      sync();

    <span class='comment'>// <a href='#streambuf.virt.get'>[streambuf.virt.get]</a>, get area
</span>    virtual streamsize showmanyc();
    virtual streamsize xsgetn(char_type* s, streamsize n);
    virtual int_type   underflow();
    virtual int_type   uflow();

    <span class='comment'>// <a href='#streambuf.virt.pback'>[streambuf.virt.pback]</a>, putback
</span>    virtual int_type   pbackfail(int_type c = traits::eof());

    <span class='comment'>// <a href='#streambuf.virt.put'>[streambuf.virt.put]</a>, put area
</span>    virtual streamsize xsputn(const char_type* s, streamsize n);
    virtual int_type   overflow(int_type c = traits::eof());
  };
}</pre><div class='para' id='streambuf-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3072'>#</a></div><div id='streambuf-1.sentence-1' class='sentence'>The class template
<span class='texttt'>basic_&shy;streambuf</span>
serves as an abstract base class for deriving various
<a class='hidden_link' href='#def:stream_buffers' id='def:stream_buffers'><i>stream buffers</i></a>
whose objects each control two
<a class='hidden_link' href='#def:character_sequences' id='def:character_sequences'><i>character sequences</i></a>:
<ul class='itemize'><li id='streambuf-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#streambuf-1.1'>(1.1)</a></div><div id='streambuf-1.1.sentence-1' class='sentence'>a character
<a class='hidden_link' href='#def:input_sequence' id='def:input_sequence'><i>input sequence</i></a>;</div></li><li id='streambuf-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#streambuf-1.2'>(1.2)</a></div><div id='streambuf-1.2.sentence-1' class='sentence'>a character
<a class='hidden_link' href='#def:output_sequence' id='def:output_sequence'><i>output sequence</i></a><a class='hidden_link' href='#streambuf-1.2.sentence-1'>.</a></div></li></ul></div></div><div id='streambuf.cons' class='section'><h4 ><a class='secnum' href='#streambuf.cons' style='min-width:118pt'>27.6.3.1</a> <span class='texttt'>basic_&shy;streambuf</span> constructors <a class='abbr_ref' href='streambuf.cons'>[streambuf.cons]</a></h4><span class='indexparent'><a class='index' id='lib:basic_streambuf,constructor'></a></span><div class='itemdecl' id='streambuf.cons-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.cons-itemdecl:1'>ğŸ”—</a></div><code class='itemdeclcode'>basic_streambuf();
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.cons-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.cons-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3096'>#</a></div><div id='streambuf.cons-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Constructs an object of class
<span class='texttt'>basic_&shy;streambuf&lt;charT, traits&gt;</span>
and initializes:<a class='footnotenum' href='#footnote-300'>300</a>
<ul class='itemize'><li id='streambuf.cons-1.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.cons-1.1'>(1.1)</a></div><div id='streambuf.cons-1.1.sentence-1' class='sentence'>all its pointer member objects to null pointers,</div></li><li id='streambuf.cons-1.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.cons-1.2'>(1.2)</a></div><div id='streambuf.cons-1.2.sentence-1' class='sentence'>the
<span class='texttt'>getloc()</span>
member to a copy the global locale,
<span class='texttt'>locale()</span>,
at the time of construction<a class='hidden_link' href='#streambuf.cons-1.2.sentence-1'>.</a></div></li></ul></div></div></div><div class='para' id='streambuf.cons-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.cons-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3115'>#</a></div><div id='streambuf.cons-2.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
Once the
<span class='texttt'>getloc()</span>
member is initialized, results of calling locale member functions,
and of members of facets so obtained, can safely be cached until the
next time the member
<span class='texttt'>imbue</span>
is called<a class='hidden_link' href='#streambuf.cons-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:basic_streambuf,constructor_'></a></span><div class='itemdecl' id='streambuf.cons-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.cons-itemdecl:2'>ğŸ”—</a></div><code class='itemdeclcode'>basic_streambuf(const basic_streambuf&amp; rhs);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.cons-3'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.cons-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3132'>#</a></div><div id='streambuf.cons-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> Constructs a copy of <span class='texttt'>rhs</span><a class='hidden_link' href='#streambuf.cons-3.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.cons-4'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.cons-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3135'>#</a></div><div id='streambuf.cons-4.sentence-1' class='sentence'><span class='textit'>Ensures:</span> </div><div id='streambuf.cons-4.sentence-2' class='sentence'><ul class='itemize'><li id='streambuf.cons-4.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.cons-4.1'>(4.1)</a></div><div id='streambuf.cons-4.1.sentence-1' class='sentence'><span class='texttt'>eback() == rhs.eback()</span></div></li><li id='streambuf.cons-4.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.cons-4.2'>(4.2)</a></div><div id='streambuf.cons-4.2.sentence-1' class='sentence'><span class='texttt'>gptr() == rhs.gptr()</span></div></li><li id='streambuf.cons-4.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.cons-4.3'>(4.3)</a></div><div id='streambuf.cons-4.3.sentence-1' class='sentence'><span class='texttt'>egptr() == rhs.egptr()</span></div></li><li id='streambuf.cons-4.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.cons-4.4'>(4.4)</a></div><div id='streambuf.cons-4.4.sentence-1' class='sentence'><span class='texttt'>pbase() == rhs.pbase()</span></div></li><li id='streambuf.cons-4.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.cons-4.5'>(4.5)</a></div><div id='streambuf.cons-4.5.sentence-1' class='sentence'><span class='texttt'>pptr() == rhs.pptr()</span></div></li><li id='streambuf.cons-4.6'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.cons-4.6'>(4.6)</a></div><div id='streambuf.cons-4.6.sentence-1' class='sentence'><span class='texttt'>epptr() == rhs.epptr()</span></div></li><li id='streambuf.cons-4.7'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.cons-4.7'>(4.7)</a></div><div id='streambuf.cons-4.7.sentence-1' class='sentence'><span class='texttt'>getloc() == rhs.getloc()</span></div></li></ul></div></div></div><span class='indexparent'><a class='index' id='lib:basic_streambuf,destructor'></a></span><div class='itemdecl' id='streambuf.cons-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.cons-itemdecl:3'>ğŸ”—</a></div><code class='itemdeclcode'>~basic_streambuf();
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.cons-5'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.cons-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3155'>#</a></div><div id='streambuf.cons-5.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
None<a class='hidden_link' href='#streambuf.cons-5.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-300'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-300'>300)</a></div><div id='footnote-300.sentence-1' class='sentence'>The default constructor is protected for class
<span class='texttt'>basic_&shy;streambuf</span>
to assure that only objects for classes
derived from this class may be constructed<a class='hidden_link' href='#footnote-300.sentence-1'>.</a></div></div></div><div id='streambuf.members' class='section'><h4 ><a class='secnum' href='#streambuf.members' style='min-width:118pt'>27.6.3.2</a> <span class='texttt'>basic_&shy;streambuf</span> public member functions <a class='abbr_ref' href='streambuf.members'>[streambuf.members]</a></h4><div id='streambuf.locales' class='section'><h4 ><a class='secnum' href='#streambuf.locales' style='min-width:133pt'>27.6.3.2.1</a> Locales <a class='abbr_ref' href='streambuf.locales'>[streambuf.locales]</a></h4><div id='lib:basic_streambuf,pubimbue'><div id='lib:pubimbue,basic_streambuf'>
<div class='itemdecl' id='streambuf.locales-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.locales-itemdecl:1'>ğŸ”—</a></div><code class='itemdeclcode'>locale pubimbue(const locale&amp; loc);
</code></div>
</div></div><div class='itemdescr'></div><div class='para' id='streambuf.locales-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.locales-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3171'>#</a></div><div id='streambuf.locales-1.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>loc == getloc()</span><a class='hidden_link' href='#streambuf.locales-1.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.locales-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.locales-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3175'>#</a></div><div id='streambuf.locales-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Calls
<span class='texttt'>imbue(loc)</span><a class='hidden_link' href='#streambuf.locales-2.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.locales-3'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.locales-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3180'>#</a></div><div id='streambuf.locales-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
Previous value of
<span class='texttt'>getloc()</span><a class='hidden_link' href='#streambuf.locales-3.sentence-1'>.</a></div></div></div><div id='lib:basic_streambuf,getloc'><div id='lib:getloc,basic_streambuf'>
<div class='itemdecl' id='streambuf.locales-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.locales-itemdecl:2'>ğŸ”—</a></div><code class='itemdeclcode'>locale getloc() const;
</code></div>
</div></div><div class='itemdescr'></div><div class='para' id='streambuf.locales-4'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.locales-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3193'>#</a></div><div id='streambuf.locales-4.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If
<span class='texttt'>pubimbue()</span>
has ever been called, then the last value of <span class='texttt'>loc</span> supplied,
otherwise the current global locale,
<span class='texttt'>locale()</span>,
in effect at the time of construction<a class='hidden_link' href='#streambuf.locales-4.sentence-1'>.</a></div> <div id='streambuf.locales-4.sentence-2' class='sentence'>If called after
<span class='texttt'>pubimbue()</span>
has been called but before
<span class='texttt'>pubimbue</span>
has returned (i.e., from within the call of
<span class='texttt'>imbue()</span>)
then it returns the previous value<a class='hidden_link' href='#streambuf.locales-4.sentence-2'>.</a></div></div></div></div><div id='streambuf.buffer' class='section'><h4 ><a class='secnum' href='#streambuf.buffer' style='min-width:133pt'>27.6.3.2.2</a> Buffer management and positioning <a class='abbr_ref' href='streambuf.buffer'>[streambuf.buffer]</a></h4><span class='indexparent'><a class='index' id='lib:pubsetbuf,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,pubsetbuf'></a></span><div class='itemdecl' id='streambuf.buffer-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.buffer-itemdecl:1'>ğŸ”—</a></div><code class='itemdeclcode'>basic_streambuf* pubsetbuf(char_type* s, streamsize n);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.buffer-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.buffer-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3218'>#</a></div><div id='streambuf.buffer-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>setbuf(s, n)</span><a class='hidden_link' href='#streambuf.buffer-1.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:pubseekoff,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,pubseekoff'></a></span><div class='itemdecl' id='streambuf.buffer-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.buffer-itemdecl:2'>ğŸ”—</a></div><code class='itemdeclcode'>pos_type pubseekoff(off_type off, ios_base::seekdir way,
                    ios_base::openmode which
                      = ios_base::in | ios_base::out);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.buffer-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.buffer-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3231'>#</a></div><div id='streambuf.buffer-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>seekoff(off, way, which)</span><a class='hidden_link' href='#streambuf.buffer-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:pubseekpos,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,pubseekpos'></a></span><div class='itemdecl' id='streambuf.buffer-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.buffer-itemdecl:3'>ğŸ”—</a></div><code class='itemdeclcode'>pos_type pubseekpos(pos_type sp,
                    ios_base::openmode which
                      = ios_base::in | ios_base::out);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.buffer-3'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.buffer-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3244'>#</a></div><div id='streambuf.buffer-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>seekpos(sp, which)</span><a class='hidden_link' href='#streambuf.buffer-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:pubsync,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,pubsync'></a></span><div class='itemdecl' id='streambuf.buffer-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.buffer-itemdecl:4'>ğŸ”—</a></div><code class='itemdeclcode'>int pubsync();
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.buffer-4'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.buffer-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3255'>#</a></div><div id='streambuf.buffer-4.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>sync()</span><a class='hidden_link' href='#streambuf.buffer-4.sentence-1'>.</a></div></div></div></div><div id='streambuf.pub.get' class='section'><h4 ><a class='secnum' href='#streambuf.pub.get' style='min-width:133pt'>27.6.3.2.3</a> Get area <a class='abbr_ref' href='streambuf.pub.get'>[streambuf.pub.get]</a></h4><span class='indexparent'><a class='index' id='lib:in_avail,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,in_avail'></a></span><div class='itemdecl' id='streambuf.pub.get-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.pub.get-itemdecl:1'>ğŸ”—</a></div><code class='itemdeclcode'>streamsize in_avail();
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.pub.get-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.pub.get-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3268'>#</a></div><div id='streambuf.pub.get-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If a read position is available, returns
<span class='texttt'>egptr() - gptr()</span><a class='hidden_link' href='#streambuf.pub.get-1.sentence-1'>.</a></div> <div id='streambuf.pub.get-1.sentence-2' class='sentence'>Otherwise returns
<a href='#:basic_streambuf,showmanyc'><span class='texttt'>showmanyc()</span></a><a class='hidden_link' href='#streambuf.pub.get-1.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:snextc,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,snextc'></a></span><div class='itemdecl' id='streambuf.pub.get-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.pub.get-itemdecl:2'>ğŸ”—</a></div><code class='itemdeclcode'>int_type snextc();
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.pub.get-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.pub.get-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3282'>#</a></div><div id='streambuf.pub.get-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Calls
<span class='texttt'>sbumpc()</span><a class='hidden_link' href='#streambuf.pub.get-2.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.pub.get-3'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.pub.get-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3287'>#</a></div><div id='streambuf.pub.get-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If that function returns
<span class='texttt'>traits&#x200b;::&#x200b;eof()</span>,
returns
<span class='texttt'>traits&#x200b;::&#x200b;eof()</span><a class='hidden_link' href='#streambuf.pub.get-3.sentence-1'>.</a></div> <div id='streambuf.pub.get-3.sentence-2' class='sentence'>Otherwise, returns
<span class='texttt'>sgetc()</span><a class='hidden_link' href='#streambuf.pub.get-3.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:sbumpc,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,sbumpc'></a></span><div class='itemdecl' id='streambuf.pub.get-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.pub.get-itemdecl:3'>ğŸ”—</a></div><code class='itemdeclcode'>int_type sbumpc();
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.pub.get-4'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.pub.get-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3303'>#</a></div><div id='streambuf.pub.get-4.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If the input sequence read position is not available,
returns
<span class='texttt'>uflow()</span><a class='hidden_link' href='#streambuf.pub.get-4.sentence-1'>.</a></div> <div id='streambuf.pub.get-4.sentence-2' class='sentence'>Otherwise, returns
<span class='texttt'>traits&#x200b;::&#x200b;to_&shy;int_&shy;type(*gptr())</span>
and increments the next pointer for the input sequence<a class='hidden_link' href='#streambuf.pub.get-4.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:sgetc,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,sgetc'></a></span><div class='itemdecl' id='streambuf.pub.get-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.pub.get-itemdecl:4'>ğŸ”—</a></div><code class='itemdeclcode'>int_type sgetc();
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.pub.get-5'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.pub.get-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3319'>#</a></div><div id='streambuf.pub.get-5.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If the input sequence read position is not available,
returns
<span class='texttt'>underflow()</span><a class='hidden_link' href='#streambuf.pub.get-5.sentence-1'>.</a></div> <div id='streambuf.pub.get-5.sentence-2' class='sentence'>Otherwise, returns
<span class='texttt'>traits&#x200b;::&#x200b;to_&shy;int_&shy;type(*gptr())</span><a class='hidden_link' href='#streambuf.pub.get-5.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:sgetn,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,sgetn'></a></span><div class='itemdecl' id='streambuf.pub.get-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.pub.get-itemdecl:5'>ğŸ”—</a></div><code class='itemdeclcode'>streamsize sgetn(char_type* s, streamsize n);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.pub.get-6'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.pub.get-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3334'>#</a></div><div id='streambuf.pub.get-6.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>xsgetn(s, n)</span><a class='hidden_link' href='#streambuf.pub.get-6.sentence-1'>.</a></div></div></div></div><div id='streambuf.pub.pback' class='section'><h4 ><a class='secnum' href='#streambuf.pub.pback' style='min-width:133pt'>27.6.3.2.4</a> Putback <a class='abbr_ref' href='streambuf.pub.pback'>[streambuf.pub.pback]</a></h4><span class='indexparent'><a class='index' id='lib:sputbackc,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,sputbackc'></a></span><div class='itemdecl' id='streambuf.pub.pback-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.pub.pback-itemdecl:1'>ğŸ”—</a></div><code class='itemdeclcode'>int_type sputbackc(char_type c);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.pub.pback-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.pub.pback-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3347'>#</a></div><div id='streambuf.pub.pback-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If the input sequence putback position is not available, or
if
<span class='texttt'>traits&#x200b;::&#x200b;eq(c, gptr()[-1])</span>
is <span class='texttt'>false</span>, returns
<span class='texttt'>pbackfail(traits&#x200b;::&#x200b;to_&shy;int_&shy;type(c))</span><a class='hidden_link' href='#streambuf.pub.pback-1.sentence-1'>.</a></div> <div id='streambuf.pub.pback-1.sentence-2' class='sentence'>Otherwise, decrements the next pointer for the input sequence and
returns
<span class='texttt'>traits&#x200b;::&#x200b;to_&shy;int_&shy;type(*gptr())</span><a class='hidden_link' href='#streambuf.pub.pback-1.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:sungetc,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,sungetc'></a></span><div class='itemdecl' id='streambuf.pub.pback-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.pub.pback-itemdecl:2'>ğŸ”—</a></div><code class='itemdeclcode'>int_type sungetc();
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.pub.pback-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.pub.pback-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3365'>#</a></div><div id='streambuf.pub.pback-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If the input sequence putback position is not available,
returns
<span class='texttt'>pbackfail()</span><a class='hidden_link' href='#streambuf.pub.pback-2.sentence-1'>.</a></div> <div id='streambuf.pub.pback-2.sentence-2' class='sentence'>Otherwise, decrements the next pointer for the input sequence and
returns
<span class='texttt'>traits&#x200b;::&#x200b;to_&shy;int_&shy;type(*gptr())</span><a class='hidden_link' href='#streambuf.pub.pback-2.sentence-2'>.</a></div></div></div></div><div id='streambuf.pub.put' class='section'><h4 ><a class='secnum' href='#streambuf.pub.put' style='min-width:133pt'>27.6.3.2.5</a> Put area <a class='abbr_ref' href='streambuf.pub.put'>[streambuf.pub.put]</a></h4><span class='indexparent'><a class='index' id='lib:sputc,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,sputc'></a></span><div class='itemdecl' id='streambuf.pub.put-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.pub.put-itemdecl:1'>ğŸ”—</a></div><code class='itemdeclcode'>int_type sputc(char_type c);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.pub.put-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.pub.put-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3383'>#</a></div><div id='streambuf.pub.put-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If the output sequence write position is not available,
returns
<span class='texttt'>overflow(traits&#x200b;::&#x200b;to_&shy;int_&shy;type(c))</span><a class='hidden_link' href='#streambuf.pub.put-1.sentence-1'>.</a></div> <div id='streambuf.pub.put-1.sentence-2' class='sentence'>Otherwise, stores <span class='texttt'>c</span> at the next pointer for the output sequence,
increments the pointer, and
returns
<span class='texttt'>traits&#x200b;::&#x200b;to_&shy;int_&shy;type(c)</span><a class='hidden_link' href='#streambuf.pub.put-1.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:sputn,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,sputn'></a></span><div class='itemdecl' id='streambuf.pub.put-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.pub.put-itemdecl:2'>ğŸ”—</a></div><code class='itemdeclcode'>streamsize sputn(const char_type* s, streamsize n);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.pub.put-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.pub.put-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3400'>#</a></div><div id='streambuf.pub.put-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>xsputn(s, n)</span><a class='hidden_link' href='#streambuf.pub.put-2.sentence-1'>.</a></div></div></div></div></div><div id='streambuf.protected' class='section'><h4 ><a class='secnum' href='#streambuf.protected' style='min-width:118pt'>27.6.3.3</a> <span class='texttt'>basic_&shy;streambuf</span> protected member functions <a class='abbr_ref' href='streambuf.protected'>[streambuf.protected]</a></h4><div id='streambuf.assign' class='section'><h4 ><a class='secnum' href='#streambuf.assign' style='min-width:133pt'>27.6.3.3.1</a> Assignment <a class='abbr_ref' href='streambuf.assign'>[streambuf.assign]</a></h4><span class='indexparent'><a class='index' id='lib:operator=,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,operator='></a></span><div class='itemdecl' id='streambuf.assign-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.assign-itemdecl:1'>ğŸ”—</a></div><code class='itemdeclcode'>basic_streambuf&amp; operator=(const basic_streambuf&amp; rhs);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3415'>#</a></div><div id='streambuf.assign-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> Assigns the data members of <span class='texttt'>rhs</span>
to <span class='texttt'>*this</span><a class='hidden_link' href='#streambuf.assign-1.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3419'>#</a></div><div id='streambuf.assign-2.sentence-1' class='sentence'><span class='textit'>Ensures:</span> </div><div id='streambuf.assign-2.sentence-2' class='sentence'><ul class='itemize'><li id='streambuf.assign-2.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.assign-2.1'>(2.1)</a></div><div id='streambuf.assign-2.1.sentence-1' class='sentence'><span class='texttt'>eback() == rhs.eback()</span></div></li><li id='streambuf.assign-2.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.assign-2.2'>(2.2)</a></div><div id='streambuf.assign-2.2.sentence-1' class='sentence'><span class='texttt'>gptr() == rhs.gptr()</span></div></li><li id='streambuf.assign-2.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.assign-2.3'>(2.3)</a></div><div id='streambuf.assign-2.3.sentence-1' class='sentence'><span class='texttt'>egptr() == rhs.egptr()</span></div></li><li id='streambuf.assign-2.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.assign-2.4'>(2.4)</a></div><div id='streambuf.assign-2.4.sentence-1' class='sentence'><span class='texttt'>pbase() == rhs.pbase()</span></div></li><li id='streambuf.assign-2.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.assign-2.5'>(2.5)</a></div><div id='streambuf.assign-2.5.sentence-1' class='sentence'><span class='texttt'>pptr() == rhs.pptr()</span></div></li><li id='streambuf.assign-2.6'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.assign-2.6'>(2.6)</a></div><div id='streambuf.assign-2.6.sentence-1' class='sentence'><span class='texttt'>epptr() == rhs.epptr()</span></div></li><li id='streambuf.assign-2.7'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.assign-2.7'>(2.7)</a></div><div id='streambuf.assign-2.7.sentence-1' class='sentence'><span class='texttt'>getloc() == rhs.getloc()</span></div></li></ul></div></div></div><div class='para' id='streambuf.assign-3'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.assign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3432'>#</a></div><div id='streambuf.assign-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>*this</span><a class='hidden_link' href='#streambuf.assign-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:swap,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,swap'></a></span><div class='itemdecl' id='streambuf.assign-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.assign-itemdecl:2'>ğŸ”—</a></div><code class='itemdeclcode'>void swap(basic_streambuf&amp; rhs);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.assign-4'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.assign-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3442'>#</a></div><div id='streambuf.assign-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> Swaps the data members of <span class='texttt'>rhs</span>
and <span class='texttt'>*this</span><a class='hidden_link' href='#streambuf.assign-4.sentence-1'>.</a></div></div></div></div><div id='streambuf.get.area' class='section'><h4 ><a class='secnum' href='#streambuf.get.area' style='min-width:133pt'>27.6.3.3.2</a> Get area access <a class='abbr_ref' href='streambuf.get.area'>[streambuf.get.area]</a></h4><span class='indexparent'><a class='index' id='lib:eback,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,eback'></a></span><div class='itemdecl' id='streambuf.get.area-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.get.area-itemdecl:1'>ğŸ”—</a></div><code class='itemdeclcode'>char_type* eback() const;
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.get.area-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.get.area-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3455'>#</a></div><div id='streambuf.get.area-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The beginning pointer for the input sequence<a class='hidden_link' href='#streambuf.get.area-1.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:gptr,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,gptr'></a></span><div class='itemdecl' id='streambuf.get.area-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.get.area-itemdecl:2'>ğŸ”—</a></div><code class='itemdeclcode'>char_type* gptr() const;
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.get.area-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.get.area-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3466'>#</a></div><div id='streambuf.get.area-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The next pointer for the input sequence<a class='hidden_link' href='#streambuf.get.area-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:egptr,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,egptr'></a></span><div class='itemdecl' id='streambuf.get.area-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.get.area-itemdecl:3'>ğŸ”—</a></div><code class='itemdeclcode'>char_type* egptr() const;
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.get.area-3'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.get.area-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3477'>#</a></div><div id='streambuf.get.area-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The end pointer for the input sequence<a class='hidden_link' href='#streambuf.get.area-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:gbump,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,gbump'></a></span><div class='itemdecl' id='streambuf.get.area-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.get.area-itemdecl:4'>ğŸ”—</a></div><code class='itemdeclcode'>void gbump(int n);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.get.area-4'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.get.area-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3488'>#</a></div><div id='streambuf.get.area-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Adds <span class='texttt'>n</span> to the next pointer for the input sequence<a class='hidden_link' href='#streambuf.get.area-4.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:setg,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,setg'></a></span><div class='itemdecl' id='streambuf.get.area-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.get.area-itemdecl:5'>ğŸ”—</a></div><code class='itemdeclcode'>void setg(char_type* gbeg, char_type* gnext, char_type* gend);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.get.area-5'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.get.area-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3499'>#</a></div><div id='streambuf.get.area-5.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>gbeg == eback()</span>,
<span class='texttt'>gnext == gptr()</span>,
and
<span class='texttt'>gend == egptr()</span><a class='hidden_link' href='#streambuf.get.area-5.sentence-1'>.</a></div></div></div></div><div id='streambuf.put.area' class='section'><h4 ><a class='secnum' href='#streambuf.put.area' style='min-width:133pt'>27.6.3.3.3</a> Put area access <a class='abbr_ref' href='streambuf.put.area'>[streambuf.put.area]</a></h4><span class='indexparent'><a class='index' id='lib:pbase,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,pbase'></a></span><div class='itemdecl' id='streambuf.put.area-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.put.area-itemdecl:1'>ğŸ”—</a></div><code class='itemdeclcode'>char_type* pbase() const;
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.put.area-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.put.area-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3515'>#</a></div><div id='streambuf.put.area-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The beginning pointer for the output sequence<a class='hidden_link' href='#streambuf.put.area-1.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:pptr,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,pptr'></a></span><div class='itemdecl' id='streambuf.put.area-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.put.area-itemdecl:2'>ğŸ”—</a></div><code class='itemdeclcode'>char_type* pptr() const;
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.put.area-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.put.area-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3526'>#</a></div><div id='streambuf.put.area-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The next pointer for the output sequence<a class='hidden_link' href='#streambuf.put.area-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:epptr,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,epptr'></a></span><div class='itemdecl' id='streambuf.put.area-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.put.area-itemdecl:3'>ğŸ”—</a></div><code class='itemdeclcode'>char_type* epptr() const;
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.put.area-3'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.put.area-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3537'>#</a></div><div id='streambuf.put.area-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The end pointer for the output sequence<a class='hidden_link' href='#streambuf.put.area-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:pbump,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,pbump'></a></span><div class='itemdecl' id='streambuf.put.area-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.put.area-itemdecl:4'>ğŸ”—</a></div><code class='itemdeclcode'>void pbump(int n);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.put.area-4'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.put.area-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3548'>#</a></div><div id='streambuf.put.area-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Adds <span class='texttt'>n</span> to the next pointer for the output sequence<a class='hidden_link' href='#streambuf.put.area-4.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:setp,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,setp'></a></span><div class='itemdecl' id='streambuf.put.area-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.put.area-itemdecl:5'>ğŸ”—</a></div><code class='itemdeclcode'>void setp(char_type* pbeg, char_type* pend);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.put.area-5'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.put.area-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3559'>#</a></div><div id='streambuf.put.area-5.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>pbeg == pbase()</span>,
<span class='texttt'>pbeg == pptr()</span>,
and
<span class='texttt'>pend == epptr()</span><a class='hidden_link' href='#streambuf.put.area-5.sentence-1'>.</a></div></div></div></div></div><div id='streambuf.virtuals' class='section'><h4 ><a class='secnum' href='#streambuf.virtuals' style='min-width:118pt'>27.6.3.4</a> <span class='texttt'>basic_&shy;streambuf</span> virtual functions <a class='abbr_ref' href='streambuf.virtuals'>[streambuf.virtuals]</a></h4><div id='streambuf.virt.locales' class='section'><h4 ><a class='secnum' href='#streambuf.virt.locales' style='min-width:133pt'>27.6.3.4.1</a> Locales <a class='abbr_ref' href='streambuf.virt.locales'>[streambuf.virt.locales]</a></h4><span class='indexparent'><a class='index' id='lib:imbue,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,imbue'></a></span><div class='itemdecl' id='streambuf.virt.locales-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.locales-itemdecl:1'>ğŸ”—</a></div><code class='itemdeclcode'>void imbue(const locale&amp;);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.locales-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.locales-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3577'>#</a></div><div id='streambuf.virt.locales-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Change any translations based on locale<a class='hidden_link' href='#streambuf.virt.locales-1.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.locales-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.locales-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3581'>#</a></div><div id='streambuf.virt.locales-2.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
Allows the derived class to be informed of changes in locale at the
time they occur<a class='hidden_link' href='#streambuf.virt.locales-2.sentence-1'>.</a></div> <div id='streambuf.virt.locales-2.sentence-2' class='sentence'>Between invocations of this function a class derived
from streambuf can safely cache results of calls to locale functions
and to members of facets so obtained<a class='hidden_link' href='#streambuf.virt.locales-2.sentence-2'>.</a></div></div></div><div class='para' id='streambuf.virt.locales-3'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.locales-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3589'>#</a></div><div id='streambuf.virt.locales-3.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Does nothing<a class='hidden_link' href='#streambuf.virt.locales-3.sentence-1'>.</a></div></div></div></div><div id='streambuf.virt.buffer' class='section'><h4 ><a class='secnum' href='#streambuf.virt.buffer' style='min-width:133pt'>27.6.3.4.2</a> Buffer management and positioning <a class='abbr_ref' href='streambuf.virt.buffer'>[streambuf.virt.buffer]</a></h4><span class='indexparent'><a class='index' id='lib:setbuf,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,setbuf'></a></span><div class='itemdecl' id='streambuf.virt.buffer-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.buffer-itemdecl:1'>ğŸ”—</a></div><code class='itemdeclcode'>basic_streambuf* setbuf(char_type* s, streamsize n);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.buffer-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.buffer-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3602'>#</a></div><div id='streambuf.virt.buffer-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Influences stream buffering in a way that is defined separately for each class
derived from
<span class='texttt'>basic_&shy;streambuf</span>
in this Clause (<a href='stringbuf.virtuals'>[stringbuf.virtuals]</a>,
<a href='filebuf.virtuals'>[filebuf.virtuals]</a>)<a class='hidden_link' href='#streambuf.virt.buffer-1.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.buffer-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.buffer-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3610'>#</a></div><div id='streambuf.virt.buffer-2.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Does nothing<a class='hidden_link' href='#streambuf.virt.buffer-2.sentence-1'>.</a></div> <div id='streambuf.virt.buffer-2.sentence-2' class='sentence'>Returns
<span class='texttt'>this</span><a class='hidden_link' href='#streambuf.virt.buffer-2.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:seekoff,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,seekoff'></a></span><div class='itemdecl' id='streambuf.virt.buffer-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.buffer-itemdecl:2'>ğŸ”—</a></div><code class='itemdeclcode'>pos_type seekoff(off_type off, ios_base::seekdir way,
                 ios_base::openmode which
                  = ios_base::in | ios_base::out);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.buffer-3'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.buffer-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3625'>#</a></div><div id='streambuf.virt.buffer-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Alters the stream positions within one or more of
the controlled sequences in a way that is defined separately for each class
derived from
<span class='texttt'>basic_&shy;streambuf</span>
in this Clause (<a href='stringbuf.virtuals'>[stringbuf.virtuals]</a>,
<a href='filebuf.virtuals'>[filebuf.virtuals]</a>)<a class='hidden_link' href='#streambuf.virt.buffer-3.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.buffer-4'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.buffer-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3634'>#</a></div><div id='streambuf.virt.buffer-4.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Returns
<span class='texttt'>pos_&shy;type(off_&shy;type(-1))</span><a class='hidden_link' href='#streambuf.virt.buffer-4.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:seekpos,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,seekpos'></a></span><div class='itemdecl' id='streambuf.virt.buffer-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.buffer-itemdecl:3'>ğŸ”—</a></div><code class='itemdeclcode'>pos_type seekpos(pos_type sp,
                 ios_base::openmode which
                  = ios_base::in | ios_base::out);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.buffer-5'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.buffer-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3648'>#</a></div><div id='streambuf.virt.buffer-5.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Alters the stream positions within one or more of
the controlled sequences in a way that is defined separately for each class
derived from
<span class='texttt'>basic_&shy;streambuf</span>
in this Clause (<a href='stringbuf'>[stringbuf]</a>,
<a href='filebuf'>[filebuf]</a>)<a class='hidden_link' href='#streambuf.virt.buffer-5.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.buffer-6'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.buffer-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3657'>#</a></div><div id='streambuf.virt.buffer-6.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Returns
<span class='texttt'>pos_&shy;type(off_&shy;type(-1))</span><a class='hidden_link' href='#streambuf.virt.buffer-6.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:sync,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,sync'></a></span><div class='itemdecl' id='streambuf.virt.buffer-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.buffer-itemdecl:4'>ğŸ”—</a></div><code class='itemdeclcode'>int sync();
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.buffer-7'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.buffer-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3669'>#</a></div><div id='streambuf.virt.buffer-7.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Synchronizes the controlled sequences with the arrays<a class='hidden_link' href='#streambuf.virt.buffer-7.sentence-1'>.</a></div> <div id='streambuf.virt.buffer-7.sentence-2' class='sentence'>That is, if
<span class='texttt'>pbase()</span>
is non-null the characters between
<span class='texttt'>pbase()</span>
and
<span class='texttt'>pptr()</span>
are written to the controlled sequence<a class='hidden_link' href='#streambuf.virt.buffer-7.sentence-2'>.</a></div> <div id='streambuf.virt.buffer-7.sentence-3' class='sentence'>The pointers may then be reset as appropriate<a class='hidden_link' href='#streambuf.virt.buffer-7.sentence-3'>.</a></div></div></div><div class='para' id='streambuf.virt.buffer-8'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.buffer-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3681'>#</a></div><div id='streambuf.virt.buffer-8.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>-1</span> on failure<a class='hidden_link' href='#streambuf.virt.buffer-8.sentence-1'>.</a></div> <div id='streambuf.virt.buffer-8.sentence-2' class='sentence'>What constitutes failure is determined by each derived class (<a href='filebuf.virtuals'>[filebuf.virtuals]</a>)<a class='hidden_link' href='#streambuf.virt.buffer-8.sentence-2'>.</a></div></div></div><div class='para' id='streambuf.virt.buffer-9'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.buffer-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3686'>#</a></div><div id='streambuf.virt.buffer-9.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Returns zero<a class='hidden_link' href='#streambuf.virt.buffer-9.sentence-1'>.</a></div></div></div></div><div id='streambuf.virt.get' class='section'><h4 ><a class='secnum' href='#streambuf.virt.get' style='min-width:133pt'>27.6.3.4.3</a> Get area <a class='abbr_ref' href='streambuf.virt.get'>[streambuf.virt.get]</a></h4><div id='lib:basic_streambuf,showmanyc'><div id='lib:showmanyc,basic_streambuf'>
<div class='itemdecl' id='streambuf.virt.get-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.get-itemdecl:1'>ğŸ”—</a></div><code class='itemdeclcode'>streamsize showmanyc();<a class='footnotenum' href='#footnote-301'>301</a>
</code></div>
</div></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.get-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3701'>#</a></div><div id='streambuf.virt.get-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
An estimate of the number of
characters available in the sequence, or -1<a class='hidden_link' href='#streambuf.virt.get-1.sentence-1'>.</a></div> <div id='streambuf.virt.get-1.sentence-2' class='sentence'>If it returns
a positive value, then successive calls to
<span class='texttt'>underflow()</span>
will not return
<span class='texttt'>traits&#x200b;::&#x200b;eof()</span>
until at least that number of characters have been
extracted from the stream<a class='hidden_link' href='#streambuf.virt.get-1.sentence-2'>.</a></div> <div id='streambuf.virt.get-1.sentence-3' class='sentence'>If
<span class='texttt'>showmanyc()</span>
returns -1, then calls to
<span class='texttt'>underflow()</span>
or
<span class='texttt'>uflow()</span>
will fail<a class='hidden_link' href='#streambuf.virt.get-1.sentence-3'>.</a><a class='footnotenum' href='#footnote-302'>302</a></div></div></div><div class='para' id='streambuf.virt.get-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3726'>#</a></div><div id='streambuf.virt.get-2.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Returns zero<a class='hidden_link' href='#streambuf.virt.get-2.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.get-3'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3730'>#</a></div><div id='streambuf.virt.get-3.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
Uses
<span class='texttt'>traits&#x200b;::&#x200b;eof()</span><a class='hidden_link' href='#streambuf.virt.get-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:xsgetn,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,xsgetn'></a></span><div class='itemdecl' id='streambuf.virt.get-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.get-itemdecl:2'>ğŸ”—</a></div><code class='itemdeclcode'>streamsize xsgetn(char_type* s, streamsize n);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.get-4'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3742'>#</a></div><div id='streambuf.virt.get-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Assigns up to <span class='texttt'>n</span> characters to successive elements of
the array whose first element is designated by <span class='texttt'>s</span><a class='hidden_link' href='#streambuf.virt.get-4.sentence-1'>.</a></div> <div id='streambuf.virt.get-4.sentence-2' class='sentence'>The characters assigned are read from the input sequence as if
by repeated calls to
<span class='texttt'>sbumpc()</span><a class='hidden_link' href='#streambuf.virt.get-4.sentence-2'>.</a></div> <div id='streambuf.virt.get-4.sentence-3' class='sentence'>Assigning stops when either <span class='texttt'>n</span> characters
have been assigned or a call to
<span class='texttt'>sbumpc()</span>
would return
<span class='texttt'>traits&#x200b;::&#x200b;eof()</span><a class='hidden_link' href='#streambuf.virt.get-4.sentence-3'>.</a></div></div></div><div class='para' id='streambuf.virt.get-5'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3755'>#</a></div><div id='streambuf.virt.get-5.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The number of characters assigned<a class='hidden_link' href='#streambuf.virt.get-5.sentence-1'>.</a><a class='footnotenum' href='#footnote-303'>303</a></div></div></div><div class='para' id='streambuf.virt.get-6'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3765'>#</a></div><div id='streambuf.virt.get-6.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
Uses
<span class='texttt'>traits&#x200b;::&#x200b;eof()</span><a class='hidden_link' href='#streambuf.virt.get-6.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:underflow,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,underflow'></a></span><div class='itemdecl' id='streambuf.virt.get-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.get-itemdecl:3'>ğŸ”—</a></div><code class='itemdeclcode'>int_type underflow();
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.get-7'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3777'>#</a></div><div id='streambuf.virt.get-7.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
The public members of
<span class='texttt'>basic_&shy;streambuf</span>
call this virtual function only if
<span class='texttt'>gptr()</span>
is null or
<span class='texttt'>gptr() &gt;= egptr()</span></div></div></div><div class='para' id='streambuf.virt.get-8'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3786'>#</a></div><div id='streambuf.virt.get-8.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>traits&#x200b;::&#x200b;to_&shy;int_&shy;type(c)</span>,
where <span class='texttt'>c</span> is the first
<span class='textit'>character</span>
of the
<a class='hidden_link' href='#def:pending_sequence' id='def:pending_sequence'><i>pending sequence</i></a>,
without moving the input sequence position past it<a class='hidden_link' href='#streambuf.virt.get-8.sentence-1'>.</a></div> <div id='streambuf.virt.get-8.sentence-2' class='sentence'>If the pending sequence is null then the function returns
<span class='texttt'>traits&#x200b;::&#x200b;eof()</span>
to indicate failure<a class='hidden_link' href='#streambuf.virt.get-8.sentence-2'>.</a></div></div></div><div class='para' id='streambuf.virt.get-9'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3798'>#</a></div><div id='streambuf.virt.get-9.sentence-1' class='sentence'>The
<a class='hidden_link' href='#def:pending_sequence' id='def:pending_sequence'><i>pending sequence</i></a>
of characters is defined as the concatenation of
<ul class='itemize'><li id='streambuf.virt.get-9.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.get-9.1'>(9.1)</a></div><div id='streambuf.virt.get-9.1.sentence-1' class='sentence'>the empty sequence if <span class='texttt'>gptr()</span> is null, otherwise the
characters in
<span class='texttt'>[gptr(), egptr())</span>,
followed by</div></li><li id='streambuf.virt.get-9.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.get-9.2'>(9.2)</a></div><div id='streambuf.virt.get-9.2.sentence-1' class='sentence'>some (possibly empty) sequence of characters read from the input sequence<a class='hidden_link' href='#streambuf.virt.get-9.2.sentence-1'>.</a></div></li></ul></div></div></div><div class='para' id='streambuf.virt.get-10'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3811'>#</a></div><div id='streambuf.virt.get-10.sentence-1' class='sentence'>The
<a class='hidden_link' href='#def:result_character' id='def:result_character'><i>result character</i></a>
is
the first character of the pending sequence if it is non-empty,
otherwise
the next character that would be read from the input sequence<a class='hidden_link' href='#streambuf.virt.get-10.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.get-11'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3819'>#</a></div><div id='streambuf.virt.get-11.sentence-1' class='sentence'>The
<a class='hidden_link' href='#def:backup_sequence' id='def:backup_sequence'><i>backup sequence</i></a>
is the empty sequence if <span class='texttt'>eback()</span> is null, otherwise the
characters in
<span class='texttt'>[eback(), gptr())</span><a class='hidden_link' href='#streambuf.virt.get-11.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.get-12'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3826'>#</a></div><div id='streambuf.virt.get-12.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
The function sets up the
<span class='texttt'>gptr()</span>
and
<span class='texttt'>egptr()</span>
such that
if the pending sequence is non-empty, then
<span class='texttt'>egptr()</span>
is non-null and
the characters in <span class='texttt'>[gptr(), egptr())</span> are
the characters in the pending sequence,
otherwise
either <span class='texttt'>gptr()</span>
is null or
<span class='texttt'>gptr() ==  egptr()</span><a class='hidden_link' href='#streambuf.virt.get-12.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.get-13'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3843'>#</a></div><div id='streambuf.virt.get-13.sentence-1' class='sentence'>If
<span class='texttt'>eback()</span>
and
<span class='texttt'>gptr()</span>
are non-null then the function is not constrained as to their contents, but the â€œusual backup conditionâ€ is that either
<ul class='itemize'><li id='streambuf.virt.get-13.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.get-13.1'>(13.1)</a></div><div id='streambuf.virt.get-13.1.sentence-1' class='sentence'>the backup sequence contains at least
<span class='texttt'>gptr() - eback()</span>
characters, in which case the characters in
<span class='texttt'>[eback(), gptr())</span>
agree with the last
<span class='texttt'>gptr() - eback()</span>
characters of the backup sequence, or</div></li><li id='streambuf.virt.get-13.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.get-13.2'>(13.2)</a></div><div id='streambuf.virt.get-13.2.sentence-1' class='sentence'>the characters in <span class='texttt'>[gptr() - n, gptr())</span>
agree with the backup sequence (where <span class='texttt'>n</span> is the length of the backup sequence)<a class='hidden_link' href='#streambuf.virt.get-13.2.sentence-1'>.</a></div></li></ul></div></div></div><div class='para' id='streambuf.virt.get-14'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3863'>#</a></div><div id='streambuf.virt.get-14.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Returns
<span class='texttt'>traits&#x200b;::&#x200b;eof()</span><a class='hidden_link' href='#streambuf.virt.get-14.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:uflow,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,uflow'></a></span><div class='itemdecl' id='streambuf.virt.get-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.get-itemdecl:4'>ğŸ”—</a></div><code class='itemdeclcode'>int_type uflow();
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.get-15'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3875'>#</a></div><div id='streambuf.virt.get-15.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The constraints are the same as for
<span class='texttt'>underflow()</span>,
except that the result character shall be transferred from the pending
sequence to the backup sequence, and the pending sequence shall not
be empty before the transfer<a class='hidden_link' href='#streambuf.virt.get-15.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.get-16'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3883'>#</a></div><div id='streambuf.virt.get-16.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Calls
<span class='texttt'>underflow()</span><a class='hidden_link' href='#streambuf.virt.get-16.sentence-1'>.</a></div> <div id='streambuf.virt.get-16.sentence-2' class='sentence'>If
<span class='texttt'>underflow()</span>
returns
<span class='texttt'>traits&#x200b;::&#x200b;eof()</span>,
returns
<span class='texttt'>traits&#x200b;::&#x200b;eof()</span><a class='hidden_link' href='#streambuf.virt.get-16.sentence-2'>.</a></div> <div id='streambuf.virt.get-16.sentence-3' class='sentence'>Otherwise, returns the value of
<span class='texttt'>traits&#x200b;::&#x200b;to_&shy;int_&shy;type(*gptr())</span>
and increment the value of the next pointer for the input sequence<a class='hidden_link' href='#streambuf.virt.get-16.sentence-3'>.</a></div></div></div><div class='para' id='streambuf.virt.get-17'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3897'>#</a></div><div id='streambuf.virt.get-17.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>traits&#x200b;::&#x200b;eof()</span>
to indicate failure<a class='hidden_link' href='#streambuf.virt.get-17.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-301'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-301'>301)</a></div><div id='footnote-301.sentence-1' class='sentence'><span class='textrm'>The morphemes of <span class='texttt'>showmanyc</span>
are â€œes-how-many-seeâ€, not â€œshow-manicâ€.</span></div></div><div class='footnote' id='footnote-302'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-302'>302)</a></div><div id='footnote-302.sentence-1' class='sentence'><span class='texttt'>underflow</span>
or
<span class='texttt'>uflow</span>
might fail by throwing an exception prematurely<a class='hidden_link' href='#footnote-302.sentence-1'>.</a></div> <div id='footnote-302.sentence-2' class='sentence'>The intention is not only that the calls will not return
<span class='texttt'>eof()</span>
but that they will return â€œimmediatelyâ€<a class='hidden_link' href='#footnote-302.sentence-2'>.</a></div></div><div class='footnote' id='footnote-303'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-303'>303)</a></div><div id='footnote-303.sentence-1' class='sentence'>Classes derived from
<span class='texttt'>basic_&shy;streambuf</span>
can provide more efficient ways to implement
<span class='texttt'>xsgetn()</span>
and
<span class='texttt'>xsputn()</span>
by overriding these definitions from the base class<a class='hidden_link' href='#footnote-303.sentence-1'>.</a></div></div></div><div id='streambuf.virt.pback' class='section'><h4 ><a class='secnum' href='#streambuf.virt.pback' style='min-width:133pt'>27.6.3.4.4</a> Putback <a class='abbr_ref' href='streambuf.virt.pback'>[streambuf.virt.pback]</a></h4><span class='indexparent'><a class='index' id='lib:pbackfail,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,pbackfail'></a></span><div class='itemdecl' id='streambuf.virt.pback-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.pback-itemdecl:1'>ğŸ”—</a></div><code class='itemdeclcode'>int_type pbackfail(int_type c = traits::eof());
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.pback-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.pback-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3911'>#</a></div><div id='streambuf.virt.pback-1.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
The public functions of
<span class='texttt'>basic_&shy;streambuf</span>
call this virtual function only when
<span class='texttt'>gptr()</span>
is null,
<span class='texttt'>gptr() == eback()</span>,
or
<span class='texttt'>traits&#x200b;::&#x200b;eq(traits&#x200b;::&#x200b;to_&shy;char_&shy;type(c), gptr()[-1])</span>
returns
<span class='texttt'>false</span><a class='hidden_link' href='#streambuf.virt.pback-1.sentence-1'>.</a></div> <div id='streambuf.virt.pback-1.sentence-2' class='sentence'>Other calls shall also satisfy that constraint<a class='hidden_link' href='#streambuf.virt.pback-1.sentence-2'>.</a></div><div style='height:0.6em;display:block'></div><div id='streambuf.virt.pback-1.sentence-3' class='sentence'>The
<a class='hidden_link' href='#def:pending_sequence' id='def:pending_sequence'><i>pending sequence</i></a>
is defined as for
<span class='texttt'>underflow()</span>,
with the modifications that
<ul class='itemize'><li id='streambuf.virt.pback-1.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.pback-1.1'>(1.1)</a></div><div id='streambuf.virt.pback-1.1.sentence-1' class='sentence'>If
<span class='texttt'>traits&#x200b;::&#x200b;eq_&shy;int_&shy;type(c, traits&#x200b;::&#x200b;eof())</span>
returns
<span class='texttt'>true</span>,
then the input sequence is backed up one character before the pending sequence is determined<a class='hidden_link' href='#streambuf.virt.pback-1.1.sentence-1'>.</a></div></li><li id='streambuf.virt.pback-1.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.pback-1.2'>(1.2)</a></div><div id='streambuf.virt.pback-1.2.sentence-1' class='sentence'>If
<span class='texttt'>traits&#x200b;::&#x200b;eq_&shy;int_&shy;type(c, traits&#x200b;::&#x200b;eof())</span>
returns <span class='texttt'>false</span>, then <span class='texttt'>c</span> is prepended<a class='hidden_link' href='#streambuf.virt.pback-1.2.sentence-1'>.</a></div> <div id='streambuf.virt.pback-1.2.sentence-2' class='sentence'>Whether the input sequence is backed up or modified in any other way is unspecified<a class='hidden_link' href='#streambuf.virt.pback-1.2.sentence-2'>.</a></div></li></ul></div></div></div><div class='para' id='streambuf.virt.pback-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.pback-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3944'>#</a></div><div id='streambuf.virt.pback-2.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
On return, the constraints of
<span class='texttt'>gptr()</span>,
<span class='texttt'>eback()</span>,
and
<span class='texttt'>pptr()</span>
are the same as for
<span class='texttt'>underflow()</span><a class='hidden_link' href='#streambuf.virt.pback-2.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.pback-3'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.pback-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3954'>#</a></div><div id='streambuf.virt.pback-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>traits&#x200b;::&#x200b;eof()</span>
to indicate failure<a class='hidden_link' href='#streambuf.virt.pback-3.sentence-1'>.</a></div> <div id='streambuf.virt.pback-3.sentence-2' class='sentence'>Failure may occur because the input sequence could not be backed up, or if for some
other reason the pointers could not be set consistent with the constraints<a class='hidden_link' href='#streambuf.virt.pback-3.sentence-2'>.</a></div> <div id='streambuf.virt.pback-3.sentence-3' class='sentence'><span class='texttt'>pbackfail()</span>
is called only when put back has really failed<a class='hidden_link' href='#streambuf.virt.pback-3.sentence-3'>.</a></div></div></div><div class='para' id='streambuf.virt.pback-4'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.pback-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3963'>#</a></div><div id='streambuf.virt.pback-4.sentence-1' class='sentence'>Returns some value other than
<span class='texttt'>traits&#x200b;::&#x200b;eof()</span>
to indicate success<a class='hidden_link' href='#streambuf.virt.pback-4.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.pback-5'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.pback-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3968'>#</a></div><div id='streambuf.virt.pback-5.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Returns
<span class='texttt'>traits&#x200b;::&#x200b;eof()</span><a class='hidden_link' href='#streambuf.virt.pback-5.sentence-1'>.</a></div></div></div></div><div id='streambuf.virt.put' class='section'><h4 ><a class='secnum' href='#streambuf.virt.put' style='min-width:133pt'>27.6.3.4.5</a> Put area <a class='abbr_ref' href='streambuf.virt.put'>[streambuf.virt.put]</a></h4><span class='indexparent'><a class='index' id='lib:xsputn,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,xsputn'></a></span><div class='itemdecl' id='streambuf.virt.put-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.put-itemdecl:1'>ğŸ”—</a></div><code class='itemdeclcode'>streamsize xsputn(const char_type* s, streamsize n);
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.put-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.put-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3982'>#</a></div><div id='streambuf.virt.put-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Writes up to <span class='texttt'>n</span> characters to the output sequence as if
by repeated calls to
<span class='texttt'>sputc(c)</span><a class='hidden_link' href='#streambuf.virt.put-1.sentence-1'>.</a></div> <div id='streambuf.virt.put-1.sentence-2' class='sentence'>The characters written are obtained from successive elements of
the array whose first element is designated by <span class='texttt'>s</span><a class='hidden_link' href='#streambuf.virt.put-1.sentence-2'>.</a></div> <div id='streambuf.virt.put-1.sentence-3' class='sentence'>Writing stops when either <span class='texttt'>n</span> characters have been written or
a call to
<span class='texttt'>sputc(c)</span>
would return
<span class='texttt'>traits&#x200b;::&#x200b;eof()</span><a class='hidden_link' href='#streambuf.virt.put-1.sentence-3'>.</a></div> <div id='streambuf.virt.put-1.sentence-4' class='sentence'>It is unspecified whether the function calls <span class='texttt'>overflow()</span> when <span class='texttt'>pptr() == epptr()</span> becomes <span class='texttt'>true</span> or whether it achieves the same effects by other means<a class='hidden_link' href='#streambuf.virt.put-1.sentence-4'>.</a></div></div></div><div class='para' id='streambuf.virt.put-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.put-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L3996'>#</a></div><div id='streambuf.virt.put-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The number of characters written<a class='hidden_link' href='#streambuf.virt.put-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:overflow,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,overflow'></a></span><div class='itemdecl' id='streambuf.virt.put-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.put-itemdecl:2'>ğŸ”—</a></div><code class='itemdeclcode'>int_type overflow(int_type c = traits::eof());
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.put-3'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.put-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L4007'>#</a></div><div id='streambuf.virt.put-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Consumes some initial subsequence of the characters of the
<a class='hidden_link' href='#def:pending_sequence' id='def:pending_sequence'><i>pending sequence</i></a><a class='hidden_link' href='#streambuf.virt.put-3.sentence-1'>.</a></div> <div id='streambuf.virt.put-3.sentence-2' class='sentence'>The pending sequence is defined as the concatenation of
<ul class='itemize'><li id='streambuf.virt.put-3.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.put-3.1'>(3.1)</a></div><div id='streambuf.virt.put-3.1.sentence-1' class='sentence'>the empty sequence if <span class='texttt'>pbase()</span> is null, otherwise the
<span class='texttt'>pptr() - pbase()</span>
characters beginning at
<span class='texttt'>pbase()</span>, followed by</div></li><li id='streambuf.virt.put-3.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.put-3.2'>(3.2)</a></div><div id='streambuf.virt.put-3.2.sentence-1' class='sentence'>the empty sequence
if
<span class='texttt'>traits&#x200b;::&#x200b;eq_&shy;int_&shy;type(c, traits&#x200b;::&#x200b;eof())</span>
returns
<span class='texttt'>true</span>, otherwise the sequence consisting of <span class='texttt'>c</span><a class='hidden_link' href='#streambuf.virt.put-3.2.sentence-1'>.</a></div></li></ul></div></div></div><div class='para' id='streambuf.virt.put-4'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.put-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L4026'>#</a></div><div id='streambuf.virt.put-4.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
The member functions
<span class='texttt'>sputc()</span>
and
<span class='texttt'>sputn()</span>
call this function in case that
no room can be found in the put buffer enough to accommodate the
argument character sequence<a class='hidden_link' href='#streambuf.virt.put-4.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.put-5'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.put-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L4036'>#</a></div><div id='streambuf.virt.put-5.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
Every overriding definition of this virtual function
shall obey the following constraints:
<ul class='itemize'><li id='streambuf.virt.put-5.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.put-5.1'>(5.1)</a></div><div id='streambuf.virt.put-5.1.sentence-1' class='sentence'>The effect of consuming a character on the associated output sequence is
specified<a class='hidden_link' href='#streambuf.virt.put-5.1.sentence-1'>.</a><a class='footnotenum' href='#footnote-304'>304</a></div></li><li id='streambuf.virt.put-5.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.put-5.2'>(5.2)</a></div><div id='streambuf.virt.put-5.2.sentence-1' class='sentence'>Let
<span class='texttt'>r</span>
be the number of characters in the pending sequence not consumed<a class='hidden_link' href='#streambuf.virt.put-5.2.sentence-1'>.</a></div> <div id='streambuf.virt.put-5.2.sentence-2' class='sentence'>If
<span class='texttt'>r</span>
is nonzero then
<span class='texttt'>pbase()</span>
and
<span class='texttt'>pptr()</span>
shall be set so that:
<span class='texttt'>pptr() - pbase() == r</span>
and the <span class='texttt'>r</span> characters starting at
<span class='texttt'>pbase()</span>
are the associated output stream<a class='hidden_link' href='#streambuf.virt.put-5.2.sentence-2'>.</a></div> <div id='streambuf.virt.put-5.2.sentence-3' class='sentence'>In case <span class='texttt'>r</span>  is zero (all characters of the pending sequence have been consumed)
then either
<span class='texttt'>pbase()</span>
is set to
<span class='texttt'>nullptr</span>,
or
<span class='texttt'>pbase()</span>
and
<span class='texttt'>pptr()</span>
are both set to the same non-null value<a class='hidden_link' href='#streambuf.virt.put-5.2.sentence-3'>.</a></div></li><li id='streambuf.virt.put-5.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.put-5.3'>(5.3)</a></div><div id='streambuf.virt.put-5.3.sentence-1' class='sentence'>The function may fail if either
appending some character to the associated output stream fails or
if it is unable to establish
<span class='texttt'>pbase()</span>
and
<span class='texttt'>pptr()</span>
according to the above rules<a class='hidden_link' href='#streambuf.virt.put-5.3.sentence-1'>.</a></div></li></ul></div></div></div><div class='para' id='streambuf.virt.put-6'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.put-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L4084'>#</a></div><div id='streambuf.virt.put-6.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>traits&#x200b;::&#x200b;eof()</span>
or throws an exception
if the function fails<a class='hidden_link' href='#streambuf.virt.put-6.sentence-1'>.</a></div><div style='height:0.6em;display:block'></div><div id='streambuf.virt.put-6.sentence-2' class='sentence'>Otherwise,
returns some value other than
<span class='texttt'>traits&#x200b;::&#x200b;eof()</span>
to indicate success<a class='hidden_link' href='#streambuf.virt.put-6.sentence-2'>.</a><a class='footnotenum' href='#footnote-305'>305</a></div></div></div><div class='para' id='streambuf.virt.put-7'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.put-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e160ea1300e21eb412feaa7733f1e7cd0e1875d8/source/iostreams.tex#L4102'>#</a></div><div id='streambuf.virt.put-7.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Returns
<span class='texttt'>traits&#x200b;::&#x200b;eof()</span><a class='hidden_link' href='#streambuf.virt.put-7.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-304'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-304'>304)</a></div><div id='footnote-304.sentence-1' class='sentence'>That is, for each class derived from an instance of
<span class='texttt'>basic_&shy;streambuf</span>
in this Clause (<a href='stringbuf'>[stringbuf]</a>,
<a href='filebuf'>[filebuf]</a>),
a specification of how consuming a character effects the associated output sequence is given<a class='hidden_link' href='#footnote-304.sentence-1'>.</a></div> <div id='footnote-304.sentence-2' class='sentence'>There is no requirement on a program-defined class<a class='hidden_link' href='#footnote-304.sentence-2'>.</a></div></div><div class='footnote' id='footnote-305'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-305'>305)</a></div><div id='footnote-305.sentence-1' class='sentence'>Typically,
<span class='texttt'>overflow</span>
returns <span class='texttt'>c</span> to indicate success, except when
<span class='texttt'>traits&#x200b;::&#x200b;eq_&shy;int_&shy;type(c, traits&#x200b;::&#x200b;eof())</span>
returns
<span class='texttt'>true</span>,
in which case it returns
<span class='texttt'>traits&#x200b;::&#x200b;not_&shy;eof(c)</span><a class='hidden_link' href='#footnote-305.sentence-1'>.</a></div></div></div></div></div></div></body></html>