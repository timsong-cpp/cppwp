<!DOCTYPE html><html lang='en'><head><title>[basic.scope.namespace]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>6</a> Basics <a class='abbr_ref' href='./#basic'>[basic]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>6.4</a> Scope <a class='abbr_ref' href='basic.scope#namespace'>[basic.scope]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>6.4.6</a> Namespace scope <a class='abbr_ref'>[basic.scope.namespace]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f30ae8fa2e8023bb070d9a6225063168f278cbb2/source/basic.tex#L1082'>#</a></div><div id='1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':scope,namespace'></a></span>The declarative region of a <a class='grammarterm' href='namespace.def#nt:namespace-definition'>namespace-definition</a> is its
<a class='grammarterm' href='namespace.def#nt:namespace-body'>namespace-body</a><a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>Entities declared in a
<a class='grammarterm' href='namespace.def#nt:namespace-body'>namespace-body</a> are said to be <a class='hidden_link' href='#def:members' id='def:members'><i >members</i></a> of the
namespace, and names introduced by these declarations into the
declarative region of the namespace are said to be <a class='hidden_link' href='#def:member_names' id='def:member_names'><i >member
names</i></a> of the namespace<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>A namespace member name has namespace scope<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>Its potential scope includes its namespace from the name's <a href='basic.scope.pdecl'>point of
declaration</a> onwards; and for each
<a class='grammarterm' href='namespace.udir#nt:using-directive'>using-directive</a> that nominates the
member's namespace, the member's potential scope includes that portion
of the potential scope of the <a class='grammarterm' href='namespace.udir#nt:using-directive'>using-directive</a> that follows
the member's point of declaration<a class='hidden_link' href='#1.sentence-4'>.</a></div> <div id='1.example-1' class='example'>[&nbsp;<a class='example_link' href='#1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i;
  <span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> a; <span class='curlybracket'>}</span>
  <span class='keyword'>int</span> j<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> q<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>namespace</span> <span class='curlybracket'>{</span> <span class='keyword'>int</span> l<span class='operator'>=</span><span class='literal'>1</span>; <span class='curlybracket'>}</span>
<span class='comment'>// the potential scope of <span class='tcode_in_codeblock'>l</span> is from its point of declaration to the end of the translation unit</span>

<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='keyword'>char</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>   <span class='comment'>// overloads <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;g(int)</span></span>
    <span class='keyword'>return</span> l<span class='operator'>+</span>a;     <span class='comment'>// <span class='tcode_in_codeblock'>l</span> is from unnamed namespace</span>
  <span class='curlybracket'>}</span>

  <span class='keyword'>int</span> i;            <span class='comment'>// error: duplicate definition</span>
  <span class='keyword'>int</span> j<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;          <span class='comment'>// OK: duplicate function declaration</span>

  <span class='keyword'>int</span> j<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>         <span class='comment'>// OK: definition of <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;j()</span></span>
    <span class='keyword'>return</span> g<span class='parenthesis'>(</span>i<span class='parenthesis'>)</span>;    <span class='comment'>// calls <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;g(int)</span></span>
  <span class='curlybracket'>}</span>
  <span class='keyword'>int</span> q<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;          <span class='comment'>// error: different return type</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f30ae8fa2e8023bb070d9a6225063168f278cbb2/source/basic.tex#L1123'>#</a></div><div id='2.sentence-1' class='sentence'>If a translation unit <span class='math'><span class='mathalpha'>Q</span></span> is imported into a translation unit <span class='math'><span class='mathalpha'>R</span></span> (<a href='module.import'>[module.import]</a>),
the potential scope of a name <span class='math'><span class='mathalpha'>X</span></span> declared with namespace scope in <span class='math'><span class='mathalpha'>Q</span></span>
is extended to include the portion of the corresponding namespace
scope in <span class='math'><span class='mathalpha'>R</span></span> following the first <a class='grammarterm' href='module.import#nt:module-import-declaration'>module-import-declaration</a>
or <a class='grammarterm' href='module.unit#nt:module-declaration'>module-declaration</a>
in <span class='math'><span class='mathalpha'>R</span></span> that imports <span class='math'><span class='mathalpha'>Q</span></span> (directly or indirectly) if
<ul class='itemize'><li id='2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.1'>(2.1)</a></div><span class='math'><span class='mathalpha'>X</span></span> does not have internal linkage, and</li><li id='2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.2'>(2.2)</a></div><span class='math'><span class='mathalpha'>X</span></span> is declared after the <a class='grammarterm' href='module.unit#nt:module-declaration'>module-declaration</a> in <span class='math'><span class='mathalpha'>Q</span></span> (if any), and</li><li id='2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.3'>(2.3)</a></div>either <span class='math'><span class='mathalpha'>X</span></span> is exported or <span class='math'><span class='mathalpha'>Q</span></span> and <span class='math'><span class='mathalpha'>R</span></span> are part of the same module<a class='hidden_link' href='#2.sentence-1'>.</a></li></ul></div> <div id='2.note-1' class='note'>[&nbsp;<a class='note_link' href='#2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-2' class='sentence'>A <a class='grammarterm' href='module.import#nt:module-import-declaration'>module-import-declaration</a> imports both
the named translation unit(s) and
any modules named by exported
<a class='grammarterm' href='module.import#nt:module-import-declaration'>module-import-declaration</a><span class='textit'>s</span> within them,
recursively<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.example-1' class='example'>[&nbsp;<a class='example_link' href='#2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <p>Translation unit #1:<pre class='codeblock'>
<span class='keyword'>export</span> <span class='keyword'>module</span> Q;
<span class='keyword'>export</span> <span class='keyword'>int</span> sq<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> i<span class='operator'>*</span>i; <span class='curlybracket'>}</span>
</pre><p>Translation unit #2:<pre class='codeblock'>
<span class='keyword'>export</span> <span class='keyword'>module</span> R;
<span class='keyword'>export</span> <span class='keyword'>import</span> Q;
</pre><p>Translation unit #3:<pre class='codeblock'>
<span class='keyword'>import</span> R;
<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> sq<span class='parenthesis'>(</span><span class='literal'>9</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>    <span class='comment'>// OK: <span class='tcode_in_codeblock'>sq</span> from module <span class='tcode_in_codeblock'>Q</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f30ae8fa2e8023bb070d9a6225063168f278cbb2/source/basic.tex#L1159'>#</a></div><div id='3.sentence-1' class='sentence'>A namespace member can also be referred to after the <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> scope
resolution operator (<a href='expr.prim.id.qual'>[expr.prim.id.qual]</a>) applied to the name of its
namespace or the name of a namespace which nominates the member's
namespace in a <a class='grammarterm' href='namespace.udir#nt:using-directive'>using-directive</a>; see <a href='namespace.qual'>[namespace.qual]</a><a class='hidden_link' href='#3.sentence-1'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f30ae8fa2e8023bb070d9a6225063168f278cbb2/source/basic.tex#L1165'>#</a></div><div id='4.sentence-1' class='sentence'>The outermost declarative region of a translation unit is also a
namespace, called the <a class='hidden_link' href='#def:namespace,global' id='def:namespace,global'><i >global namespace</i></a><a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>A name declared in
the global namespace has <a class='hidden_link' href='#def:namespace_scope,global' id='def:namespace_scope,global'><i >global namespace scope</i></a> (also called
<a class='hidden_link' href='#def:scope,global' id='def:scope,global'><i >global scope</i></a>)<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.sentence-3' class='sentence'>The potential scope of such a name begins at
its point of declaration (<a href='basic.scope.pdecl'>[basic.scope.pdecl]</a>) and ends at the end
of the translation unit that is its declarative region<a class='hidden_link' href='#4.sentence-3'>.</a></div> <div id='4.sentence-4' class='sentence'>A name with global namespace scope is said to be a
<a class='hidden_link' href='#def:name,global' id='def:name,global'><i >global name</i></a><a class='hidden_link' href='#4.sentence-4'>.</a></div></div></div></body></html>