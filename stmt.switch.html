<!DOCTYPE html><html lang='en'><head><title>[stmt.switch]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>8</a> Statements <a class='abbr_ref' href='./#stmt.stmt'>[stmt.stmt]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>8.5</a> Selection statements <a class='abbr_ref' href='stmt.select#stmt.switch'>[stmt.select]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>8.5.3</a> The <span class='texttt'>switch</span> statement <a class='abbr_ref'>[stmt.switch]</a></h3><div class='texpara'><a class='index' id=':statement,switch'></a></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5494117ea39b36ce3e590025943a8ff48e78b4d3/source/statements.tex#L320'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>The <span class='texttt'><span class='keyword'>switch</span></span> statement causes control to be transferred to one of
several statements depending on the value of a condition<a class='hidden_link' href='#1.sentence-1'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5494117ea39b36ce3e590025943a8ff48e78b4d3/source/statements.tex#L324'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>The condition shall be of integral type, enumeration type, or class
type<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>If of class type, the
condition is <a href='conv#def:contextually_implicitly_converted' title='7.3&emsp;Standard conversions&emsp;[conv]'>contextually implicitly converted</a> to
an integral or enumeration type<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>If the (possibly converted) type is subject to <a href='conv.prom' title='7.3.7&emsp;Integral promotions&emsp;[conv.prom]'>integral
promotions</a>, the condition is converted
to the promoted type<a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='2.sentence-4' class='sentence'>Any
statement within the <span class='texttt'><span class='keyword'>switch</span></span> statement can be labeled with one or
more case labels as follows:
<div class='bnf'>
<a class='index' id=':label,case'></a><span id=':case'><span class='texttt'><span class='keyword'>case</span></span></span> <a href='expr.const#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression'><span class='textsf'><i >constant-expression</i></span></span></a> <span class='terminal'><span class='operator'>:</span></span>
</div>
where the <a href='expr.const#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression_'><span class='textsf'><i >constant-expression</i></span></span></a> shall be
a converted <a href='expr.const' title='7.7&emsp;Constant expressions&emsp;[expr.const]'>constant expression</a> of the
adjusted type of the switch condition<a class='hidden_link' href='#2.sentence-4'>.</a></div> <div id='2.sentence-5' class='sentence'>No two of the case constants in
the same switch shall have the same value after conversion<a class='hidden_link' href='#2.sentence-5'>.</a></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5494117ea39b36ce3e590025943a8ff48e78b4d3/source/statements.tex#L344'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'><a class='index' id=':label,default'></a>There shall be at most one label of the form
<span class='codeblock'><span class='keyword'>default</span> <span class='operator'>:</span>
</span>
within a <span class='texttt'><span class='keyword'>switch</span></span> statement<a class='hidden_link' href='#3.sentence-1'>.</a></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5494117ea39b36ce3e590025943a8ff48e78b4d3/source/statements.tex#L352'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>Switch statements can be nested; a <span class='texttt'><span class='keyword'>case</span></span> or <span class='texttt'><span class='keyword'>default</span></span> label
is associated with the smallest switch enclosing it<a class='hidden_link' href='#4.sentence-1'>.</a></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5494117ea39b36ce3e590025943a8ff48e78b4d3/source/statements.tex#L356'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'>When the <span class='texttt'><span class='keyword'>switch</span></span> statement is executed, its condition is
evaluated<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'><a class='index' id=':label,case_'></a>If one of the case constants has the same value as the condition,
control is passed to the statement following the matched case label<a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'>If
no case constant matches the condition, and if there is a
<a class='index' id=':label,default_'></a><span class='texttt'><span class='keyword'>default</span></span> label, control passes to the statement labeled by the
default label<a class='hidden_link' href='#5.sentence-3'>.</a></div> <div id='5.sentence-4' class='sentence'>If no case matches and if there is no <span class='texttt'><span class='keyword'>default</span></span>
then none of the statements in the switch is executed<a class='hidden_link' href='#5.sentence-4'>.</a></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5494117ea39b36ce3e590025943a8ff48e78b4d3/source/statements.tex#L368'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'><span class='texttt'><span class='keyword'>case</span></span> and <span class='texttt'><span class='keyword'>default</span></span> labels in themselves do not alter the
flow of control, which continues unimpeded across such labels<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>To exit
from a switch, see <a href='stmt.break' title='8.7.2&emsp;The break statement&emsp;[stmt.break]'><span class='texttt'>break</span></a><a class='hidden_link' href='#6.sentence-2'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>: <div id='6.sentence-3' class='sentence'>Usually, the substatement that is the subject of a switch is compound
and <span class='texttt'><span class='keyword'>case</span></span> and <span class='texttt'><span class='keyword'>default</span></span> labels appear on the top-level
statements contained within the (compound) substatement, but this is not
required<a class='hidden_link' href='#6.sentence-3'>.</a></div> <div id='6.sentence-4' class='sentence'><a class='index' id=':statement,declaration_in_switch'></a>Declarations can appear in the substatement of a
<span class='texttt'><span class='keyword'>switch</span></span> statement<a class='hidden_link' href='#6.sentence-4'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5494117ea39b36ce3e590025943a8ff48e78b4d3/source/statements.tex#L382'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'>A <span class='texttt'><span class='keyword'>switch</span></span> statement of the form
<div class='simplebnf'>
<span id=':switch'><span class='texttt'><span class='keyword'>switch</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='stmt.pre#nt:init-statement' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:init-statement'><span class='textsf'><i >init-statement</i></span></span></a> <a href='stmt.pre#nt:condition' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:condition'><span class='textsf'><i >condition</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='stmt.pre#nt:statement' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:statement'><span class='textsf'><i >statement</i></span></span></a>
</div>
is equivalent to
<div class='simplebnf'>
<span class='terminal'><span class='curlybracket'>{</span></span><br/>&emsp;&emsp;&emsp;<a href='stmt.pre#nt:init-statement' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:init-statement_'><span class='textsf'><i >init-statement</i></span></span></a><br/>&emsp;&emsp;&emsp;<span id=':switch_'><span class='texttt'><span class='keyword'>switch</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='stmt.pre#nt:condition' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:condition_'><span class='textsf'><i >condition</i></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='stmt.pre#nt:statement' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:statement_'><span class='textsf'><i >statement</i></span></span></a><br/><span class='terminal'><span class='curlybracket'>}</span></span>
</div>
except that the <a href='stmt.pre#nt:init-statement' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:init-statement__'><span class='textsf'><i >init-statement</i></span></span></a> is in
the same scope as the <a href='stmt.pre#nt:condition' title='8.1&emsp;Preamble&emsp;[stmt.pre]'><span id='ntref:condition__'><span class='textsf'><i >condition</i></span></span></a><a class='hidden_link' href='#7.sentence-1'>.</a></div></div><div class='texpara'></div></div></div></body></html>