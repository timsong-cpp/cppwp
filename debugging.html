<!DOCTYPE html><html lang='en'><head><title>[debugging]</title><meta charset='UTF-8'><link rel='stylesheet' type='text/css' href='14882.css'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'><link rel='icon' href='icon.png'><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>19</a> Diagnostics library <a class='abbr_ref' href='./#diagnostics'>[diagnostics]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>19.7</a> Debugging <a class='abbr_ref'>[debugging]</a></h2><div id='general' class='section'><h3 ><a class='secnum' href='#general' style='min-width:80pt'>19.7.1</a> General <a class='abbr_ref' href='debugging.general'>[debugging.general]</a></h3><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/896196c8c08ed834ef876c29c1182510da9c1a1c/source/diagnostics.tex#L2489'>#</a></div><div class='texpara'><div id='general-1.sentence-1' class='sentence'>Subclause [debugging] describes functionality to introspect and
interact with the execution of the program<a class='hidden_link' href='#general-1.sentence-1'>.</a></div></div><div class='texpara'><div id='general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#general-note-1'>1</a></i>:&ensp;<div id='general-1.sentence-2' class='sentence'>The facilities provided by the debugging functionality interact with a program
that could be tracing the execution of a C++ program, such as a debugger<a class='hidden_link' href='#general-1.sentence-2'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div></div><div id='syn' class='section'><h3 ><a class='secnum' href='#syn' style='min-width:80pt'>19.7.2</a> Header <span class='texttt'>&lt;debugging&gt;</span> synopsis <a class='abbr_ref' href='debugging.syn'>[debugging.syn]</a></h3><div class='texpara'><span id='header:<debugging>'><div class='marginalizedparent'><a class='itemDeclLink' href='#header:%3cdebugging%3e'>ðŸ”—</a></div><span class='codeblock'><span class='comment'>// all freestanding</span>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='comment'>// <a href='#utility' title='19.7.3&emsp;Utility'>[debugging.<span class='shy'></span>utility]</a>, utility</span>
  <span class='keyword'>void</span> breakpoint<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>void</span> breakpoint_if_debugging<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>bool</span> is_debugger_present<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='curlybracket'>}</span>
</span></span></div></div><div id='utility' class='section'><h3 ><a class='secnum' href='#utility' style='min-width:80pt'>19.7.3</a> Utility <a class='abbr_ref' href='debugging.utility'>[debugging.utility]</a></h3><div class='texpara'><div id='lib:breakpoint'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:breakpoint'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> breakpoint<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='utility-1'><div class='marginalizedparent'><a class='marginalized' href='#utility-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/896196c8c08ed834ef876c29c1182510da9c1a1c/source/diagnostics.tex#L2520'>#</a></div><div class='texpara'><div id='utility-1.sentence-1' class='sentence'>The semantics of this function are <a class='index' id=':semantics_of_breakpoint'></a>implementation-defined<a class='hidden_link' href='#utility-1.sentence-1'>.</a></div></div><div class='texpara'><div id='utility-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#utility-note-1'>1</a></i>:&ensp;<div id='utility-1.sentence-2' class='sentence'>When invoked, the execution of the program temporarily halts and execution is
handed to the debugger until such a time as: The program is terminated by the
debugger, or the debugger resumes execution of the program as if the function
was not invoked<a class='hidden_link' href='#utility-1.sentence-2'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div></div><div class='texpara'><div id='lib:breakpoint_if_debugging'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:breakpoint_if_debugging'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> breakpoint_if_debugging<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='utility-2'><div class='marginalizedparent'><a class='marginalized' href='#utility-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/896196c8c08ed834ef876c29c1182510da9c1a1c/source/diagnostics.tex#L2539'>#</a></div><div class='texpara'><div id='utility-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>if</span> <span class='parenthesis'>(</span>is_debugger_present<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> breakpoint<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:is_debugger_present'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:is_debugger_present'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>bool</span> is_debugger_present<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='utility-3'><div class='marginalizedparent'><a class='marginalized' href='#utility-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/896196c8c08ed834ef876c29c1182510da9c1a1c/source/diagnostics.tex#L2554'>#</a></div><div class='texpara'><div id='utility-3.sentence-1' class='sentence'><i >Replaceable</i>: A C++ program may define a function with this function signature, and
thereby displace the default version defined by the C++ standard library<a class='hidden_link' href='#utility-3.sentence-1'>.</a></div></div></div></div><div class='para' id='utility-4'><div class='marginalizedparent'><a class='marginalized' href='#utility-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/896196c8c08ed834ef876c29c1182510da9c1a1c/source/diagnostics.tex#L2559'>#</a></div><div class='texpara'><div id='utility-4.sentence-1' class='sentence'><i >Required behavior</i>: This function has no preconditions<a class='hidden_link' href='#utility-4.sentence-1'>.</a></div></div></div></div><div class='para' id='utility-5'><div class='marginalizedparent'><a class='marginalized' href='#utility-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/896196c8c08ed834ef876c29c1182510da9c1a1c/source/diagnostics.tex#L2563'>#</a></div><div class='texpara'><div id='utility-5.sentence-1' class='sentence'><i >Default behavior</i>: <a class='index' id=':default_semantics_of_is_debugger_present'></a>implementation-defined<a class='hidden_link' href='#utility-5.sentence-1'>.</a></div></div><div class='texpara'><div id='utility-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#utility-note-2'>2</a></i>:&ensp;<div id='utility-5.sentence-2' class='sentence'>When tracing the execution of a program with a debugger, an implementation
returns <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#utility-5.sentence-2'>.</a></div> <div id='utility-5.sentence-3' class='sentence'>An implementation performs an immediate query, as needed,
to determine if the program is traced by a debugger<a class='hidden_link' href='#utility-5.sentence-3'>.</a></div> <div id='utility-5.sentence-4' class='sentence'>On Windows or equivalent
systems, this can be achieved by calling the <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span>IsDebuggerPresent<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> Win32
function<a class='hidden_link' href='#utility-5.sentence-4'>.</a></div> <div id='utility-5.sentence-5' class='sentence'>On POSIX, this can be achieved by checking for a tracer parent process,
with best effort determination that such a tracer parent process is a debugger<a class='hidden_link' href='#utility-5.sentence-5'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div></div></div></div></body></html>