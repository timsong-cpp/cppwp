<!DOCTYPE html><html lang='en'><head><title>[iterators.counted]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>9</a> Iterators library <a class='abbr_ref' href='./#iterators'>[iterators]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>9.7</a> Iterator adaptors <a class='abbr_ref' href='iterators.predef#iterators.counted'>[iterators.predef]</a></h2><div id='iterators.counted'><h3 ><a class='secnum' style='min-width:103pt'>9.7.6</a> Counted iterators <a class='abbr_ref'>[iterators.counted]</a></h3><div id='counted.iterator'><h4 ><a class='secnum' href='#counted.iterator' style='min-width:118pt'>9.7.6.1</a> Class template <span class='texttt'>counted_iterator</span> <a class='abbr_ref' href='counted.iterator'>[counted.iterator]</a></h4><div class='para' id='counted.iterator-1'><div class='marginalizedparent'><a class='marginalized' href='#counted.iterator-1'>1</a></div><p >Class template <span class='texttt'>counted_iterator</span> is an iterator adaptor
with the same behavior as the underlying iterator except that it
keeps track of its distance from its starting position. It can be
used together with class <span class='texttt'>default_sentinel</span> in calls to generic
algorithms to operate on a range of <span class='math'><span class='mathalpha'>N</span></span> elements starting at a given
position without needing to know the end position <i>a priori</i>.</p></div><div class='para' id='counted.iterator-2'><div class='marginalizedparent'><a class='marginalized' href='#counted.iterator-2'>2</a></div><p >[&nbsp;<i>Example:</i></p><pre class='codeblock'>
list&lt;string&gt; s;
<span class='comment'>// populate the list <span class='texttt'>s</span> with at least 10 strings
</span>vector&lt;string&gt; v(make_counted_iterator(s.begin(), 10),
                 default_sentinel()); <span class='comment'>// copies 10 strings into <span class='texttt'>v</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='counted.iterator-3'><div class='marginalizedparent'><a class='marginalized' href='#counted.iterator-3'>3</a></div><p >Two values <span class='texttt'>i1</span> and <span class='texttt'>i2</span> of (possibly differing) types
<span class='texttt'>counted_iterator&lt;I1&gt;</span> and <span class='texttt'>counted_iterator&lt;I2&gt;</span> refer to
elements of the same sequence if and only if <span class='texttt'>next(i1.base(), i1.count())</span>
and <span class='texttt'>next(i2.base(), i2.count())</span> refer to the same (possibly past-the-end) element.</p><p ><span class='indexparent'><a class='index' id='counted_iterator'></a></span></p><pre class='codeblock'>
namespace std { namespace experimental { namespace ranges { inline namespace v1 {
  template &lt;Iterator I&gt;
  class counted_iterator {
  public:
    using iterator_type = I;
    using difference_type = difference_type_t&lt;I&gt;;

    constexpr counted_iterator();
    constexpr counted_iterator(I x, difference_type_t&lt;I&gt; n);
    constexpr counted_iterator(const counted_iterator&lt;ConvertibleTo&lt;I&gt;&gt;&amp; i);
    constexpr counted_iterator&amp; operator=(const counted_iterator&lt;ConvertibleTo&lt;I&gt;&gt;&amp; i);

    constexpr I base() const;
    constexpr difference_type_t&lt;I&gt; count() const;
    constexpr decltype(auto) operator*();
    constexpr decltype(auto) operator*() const
      requires <i>dereferenceable</i>&lt;const I&gt;;

    constexpr counted_iterator&amp; operator++();
    decltype(auto) operator++(int);
    constexpr counted_iterator operator++(int)
      requires ForwardIterator&lt;I&gt;;
    constexpr counted_iterator&amp; operator--()
      requires BidirectionalIterator&lt;I&gt;;
    constexpr counted_iterator operator--(int)
      requires BidirectionalIterator&lt;I&gt;;

    constexpr counted_iterator  operator+ (difference_type n) const
      requires RandomAccessIterator&lt;I&gt;;
    constexpr counted_iterator&amp; operator+=(difference_type n)
      requires RandomAccessIterator&lt;I&gt;;
    constexpr counted_iterator  operator- (difference_type n) const
      requires RandomAccessIterator&lt;I&gt;;
    constexpr counted_iterator&amp; operator-=(difference_type n)
      requires RandomAccessIterator&lt;I&gt;;
    constexpr decltype(auto) operator[](difference_type n) const
      requires RandomAccessIterator&lt;I&gt;;

    friend constexpr rvalue_reference_t&lt;I&gt; iter_move(const counted_iterator&amp; i)
      noexcept(<i><span class='texttt'>see below</span></i>)
        requires InputIterator&lt;I&gt;;
    template &lt;IndirectlySwappable&lt;I&gt; I2&gt;
      friend constexpr void iter_swap(const counted_iterator&amp; x, const counted_iterator&lt;I2&gt;&amp; y)
        noexcept(<i><span class='texttt'>see below</span></i>);

  private:
    I current; <span class='comment'>// <i>exposition only</i>
</span>    difference_type_t&lt;I&gt; cnt; <span class='comment'>// <i>exposition only</i>
</span>  };

  template &lt;Readable I&gt;
  struct value_type&lt;counted_iterator&lt;I&gt;&gt; {
    using type = value_type_t&lt;I&gt;;
  };

  template &lt;InputIterator I&gt;
  struct iterator_category&lt;counted_iterator&lt;I&gt;&gt; {
    using type = iterator_category_t&lt;I&gt;;
  };

  template &lt;class I1, class I2&gt;
      requires Common&lt;I1, I2&gt;
    constexpr bool operator==(
      const counted_iterator&lt;I1&gt;&amp; x, const counted_iterator&lt;I2&gt;&amp; y);
    constexpr bool operator==(
      const counted_iterator&lt;auto&gt;&amp; x, default_sentinel);
    constexpr bool operator==(
      default_sentinel, const counted_iterator&lt;auto&gt;&amp; x);

  template &lt;class I1, class I2&gt;
      requires Common&lt;I1, I2&gt;
    constexpr bool operator!=(
      const counted_iterator&lt;I1&gt;&amp; x, const counted_iterator&lt;I2&gt;&amp; y);
    constexpr bool operator!=(
      const counted_iterator&lt;auto&gt;&amp; x, default_sentinel y);
    constexpr bool operator!=(
      default_sentinel x, const counted_iterator&lt;auto&gt;&amp; y);

  template &lt;class I1, class I2&gt;
      requires Common&lt;I1, I2&gt;
    constexpr bool operator&lt;(
      const counted_iterator&lt;I1&gt;&amp; x, const counted_iterator&lt;I2&gt;&amp; y);
  template &lt;class I1, class I2&gt;
      requires Common&lt;I1, I2&gt;
    constexpr bool operator&lt;=(
      const counted_iterator&lt;I1&gt;&amp; x, const counted_iterator&lt;I2&gt;&amp; y);
  template &lt;class I1, class I2&gt;
      requires Common&lt;I1, I2&gt;
    constexpr bool operator&gt;(
      const counted_iterator&lt;I1&gt;&amp; x, const counted_iterator&lt;I2&gt;&amp; y);
  template &lt;class I1, class I2&gt;
      requires Common&lt;I1, I2&gt;
    constexpr bool operator&gt;=(
      const counted_iterator&lt;I1&gt;&amp; x, const counted_iterator&lt;I2&gt;&amp; y);
  template &lt;class I1, class I2&gt;
      requires Common&lt;I1, I2&gt;
    constexpr difference_type_t&lt;I2&gt; operator-(
      const counted_iterator&lt;I1&gt;&amp; x, const counted_iterator&lt;I2&gt;&amp; y);
  template &lt;class I&gt;
    constexpr difference_type_t&lt;I&gt; operator-(
      const counted_iterator&lt;I&gt;&amp; x, default_sentinel y);
  template &lt;class I&gt;
    constexpr difference_type_t&lt;I&gt; operator-(
      default_sentinel x, const counted_iterator&lt;I&gt;&amp; y);

  template &lt;RandomAccessIterator I&gt;
    constexpr counted_iterator&lt;I&gt; operator+(
      difference_type_t&lt;I&gt; n, const counted_iterator&lt;I&gt;&amp; x);

  template &lt;Iterator I&gt;
    constexpr counted_iterator&lt;I&gt; make_counted_iterator(I i, difference_type_t&lt;I&gt; n);
}}}}
</pre></div></div><div id='counted.iter.ops'><h4 ><a class='secnum' href='#counted.iter.ops' style='min-width:118pt'>9.7.6.2</a> <span class='texttt'>counted_iterator</span> operations <a class='abbr_ref' href='counted.iter.ops'>[counted.iter.ops]</a></h4><div id='counted.iter.op.const'><h4 ><a class='secnum' href='#counted.iter.op.const' style='min-width:133pt'>9.7.6.2.1</a> <span class='texttt'>counted_iterator</span> constructors <a class='abbr_ref' href='counted.iter.op.const'>[counted.iter.op.const]</a></h4><p ><span class='indexparent'><a class='index' id='counted_iterator,counted_iterator'></a></span><code class='itemdecl'>
constexpr counted_iterator();
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.const-1'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.const-1'>1</a></div><div class='itemdescr'><p ><i>Effects:</i> Constructs a <span class='texttt'>counted_iterator</span>, value-initializing
<span class='texttt'>current</span> and <span class='texttt'>cnt</span>. Iterator operations applied to the
resulting iterator have defined behavior if and only if the corresponding operations
are defined on a value-initialized iterator of type <span class='texttt'>I</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='counted_iterator,constructor'></a></span><code class='itemdecl'>
constexpr counted_iterator(I i, difference_type_t&lt;I&gt; n);
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.const-2'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.const-2'>2</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>n &gt;= 0</span></p></div></div><div class='para' id='counted.iter.op.const-3'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.const-3'>3</a></div><div class='itemdescr'><p ><i>Effects:</i> Constructs a <span class='texttt'>counted_iterator</span>, initializing
<span class='texttt'>current</span> with <span class='texttt'>i</span> and <span class='texttt'>cnt</span> with <span class='texttt'>n</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='counted_iterator,constructor'></a></span><code class='itemdecl'>
constexpr counted_iterator(const counted_iterator&lt;ConvertibleTo&lt;I&gt;&gt;&amp; i);
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.const-4'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.const-4'>4</a></div><div class='itemdescr'><p ><i>Effects:</i> Constructs a <span class='texttt'>counted_iterator</span>, initializing
<span class='texttt'>current</span> with <span class='texttt'>i.current</span> and <span class='texttt'>cnt</span> with <span class='texttt'>i.cnt</span>.
</p></div></div></div><div id='counted.iter.op='><h4 ><a class='secnum' href='#counted.iter.op=' style='min-width:133pt'>9.7.6.2.2</a> <span class='texttt'>counted_iterator::operator=</span> <a class='abbr_ref' href='counted.iter.op='>[counted.iter.op=]</a></h4><p ><span class='indexparent'><a class='index' id='operator=,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,operator='></a></span><code class='itemdecl'>
constexpr counted_iterator&amp; operator=(const counted_iterator&lt;ConvertibleTo&lt;I&gt;&gt;&amp; i);
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op=-1'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op=-1'>1</a></div><div class='itemdescr'><p ><i>Effects:</i> Assigns <span class='texttt'>i.current</span> to
<span class='texttt'>current</span> and <span class='texttt'>i.cnt</span> to <span class='texttt'>cnt</span>.</p></div></div></div><div id='counted.iter.op.conv'><h4 ><a class='secnum' href='#counted.iter.op.conv' style='min-width:133pt'>9.7.6.2.3</a> <span class='texttt'>counted_iterator</span> conversion <a class='abbr_ref' href='counted.iter.op.conv'>[counted.iter.op.conv]</a></h4><p ><span class='indexparent'><a class='index' id='base,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,base'></a></span><code class='itemdecl'>
constexpr I base() const;
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.conv-1'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.conv-1'>1</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>current</span>.
</p></div></div></div><div id='counted.iter.op.cnt'><h4 ><a class='secnum' href='#counted.iter.op.cnt' style='min-width:133pt'>9.7.6.2.4</a> <span class='texttt'>counted_iterator</span> count <a class='abbr_ref' href='counted.iter.op.cnt'>[counted.iter.op.cnt]</a></h4><p ><span class='indexparent'><a class='index' id='count,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,count'></a></span><code class='itemdecl'>
constexpr difference_type_t&lt;I&gt; count() const;
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.cnt-1'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.cnt-1'>1</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>cnt</span>.
</p></div></div></div><div id='counted.iter.op.star'><h4 ><a class='secnum' href='#counted.iter.op.star' style='min-width:133pt'>9.7.6.2.5</a> <span class='texttt'>counted_iterator::operator*</span> <a class='abbr_ref' href='counted.iter.op.star'>[counted.iter.op.star]</a></h4><p ><span class='indexparent'><a class='index' id='operator*,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,operator*'></a></span><code class='itemdecl'>
constexpr decltype(auto) operator*();
constexpr decltype(auto) operator*() const
  requires <i>dereferenceable</i>&lt;const I&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.star-1'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.star-1'>1</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
<span class='texttt'>return *current;</span>
</p></div></div></div><div id='counted.iter.op.incr'><h4 ><a class='secnum' href='#counted.iter.op.incr' style='min-width:133pt'>9.7.6.2.6</a> <span class='texttt'>counted_iterator::operator++</span> <a class='abbr_ref' href='counted.iter.op.incr'>[counted.iter.op.incr]</a></h4><p ><span class='indexparent'><a class='index' id='operator++,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,operator++'></a></span><code class='itemdecl'>
constexpr counted_iterator&amp; operator++();
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.incr-1'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.incr-1'>1</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>cnt &gt; 0</span></p></div></div><div class='para' id='counted.iter.op.incr-2'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.incr-2'>2</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
</p><pre class='codeblock'>
++current;
--cnt;
</pre></div></div><div class='para' id='counted.iter.op.incr-3'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.incr-3'>3</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator++,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,operator++'></a></span><code class='itemdecl'>
decltype(auto) operator++(int);
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.incr-4'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.incr-4'>4</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>cnt &gt; 0</span>.</p></div></div><div class='para' id='counted.iter.op.incr-5'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.incr-5'>5</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
</p><pre class='codeblock'>
--cnt;
try { return current++; }
catch(...) { ++cnt; throw; }
</pre></div></div><p ><code class='itemdecl'>
constexpr counted_iterator operator++(int)
  requires ForwardIterator&lt;I&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.incr-6'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.incr-6'>6</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>cnt &gt; 0</span></p></div></div><div class='para' id='counted.iter.op.incr-7'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.incr-7'>7</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
</p><pre class='codeblock'>
counted_iterator tmp = *this;
++*this;
return tmp;
</pre></div></div></div><div id='counted.iter.op.decr'><h4 ><a class='secnum' href='#counted.iter.op.decr' style='min-width:133pt'>9.7.6.2.7</a> <span class='texttt'>counted_iterator::operator--</span> <a class='abbr_ref' href='counted.iter.op.decr'>[counted.iter.op.decr]</a></h4><p ><span class='indexparent'><a class='index' id='operator--,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,operator--'></a></span><code class='itemdecl'>
  constexpr counted_iterator&amp; operator--();
    requires BidirectionalIterator&lt;I&gt;
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.decr-1'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.decr-1'>1</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
</p><pre class='codeblock'>
--current;
++cnt;
</pre></div></div><div class='para' id='counted.iter.op.decr-2'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.decr-2'>2</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator--,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,operator--'></a></span><code class='itemdecl'>
  constexpr counted_iterator operator--(int)
    requires BidirectionalIterator&lt;I&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.decr-3'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.decr-3'>3</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
</p><pre class='codeblock'>
counted_iterator tmp = *this;
--*this;
return tmp;
</pre></div></div></div><div id='counted.iter.op.+'><h4 ><a class='secnum' href='#counted.iter.op.+' style='min-width:133pt'>9.7.6.2.8</a> <span class='texttt'>counted_iterator::operator+</span> <a class='abbr_ref' href='counted.iter.op.+'>[counted.iter.op.+]</a></h4><p ><span class='indexparent'><a class='index' id='operator+,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,operator+'></a></span><code class='itemdecl'>
  constexpr counted_iterator operator+(difference_type n) const
    requires RandomAccessIterator&lt;I&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.+-1'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.+-1'>1</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>n &lt;= cnt</span></p></div></div><div class='para' id='counted.iter.op.+-2'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.+-2'>2</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
<span class='texttt'>return counted_iterator(current + n, cnt - n);</span>
</p></div></div></div><div id='counted.iter.op.+='><h4 ><a class='secnum' href='#counted.iter.op.+=' style='min-width:133pt'>9.7.6.2.9</a> <span class='texttt'>counted_iterator::operator+=</span> <a class='abbr_ref' href='counted.iter.op.+='>[counted.iter.op.+=]</a></h4><p ><span class='indexparent'><a class='index' id='operator+=,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,operator+='></a></span><code class='itemdecl'>
  constexpr counted_iterator&amp; operator+=(difference_type n)
    requires RandomAccessIterator&lt;I&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.+=-1'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.+=-1'>1</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>n &lt;= cnt</span></p></div></div><div class='para' id='counted.iter.op.+=-2'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.+=-2'>2</a></div><div class='itemdescr'><p ><i>Effects:</i>
</p><pre class='codeblock'>
current += n;
cnt -= n;
</pre></div></div><div class='para' id='counted.iter.op.+=-3'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.+=-3'>3</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div></div><div id='counted.iter.op.-'><h4 ><a class='secnum' href='#counted.iter.op.-' style='min-width:133pt'>9.7.6.2.10</a> <span class='texttt'>counted_iterator::operator-</span> <a class='abbr_ref' href='counted.iter.op.-'>[counted.iter.op.-]</a></h4><p ><span class='indexparent'><a class='index' id='operator-,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,operator-'></a></span><code class='itemdecl'>
  constexpr counted_iterator operator-(difference_type n) const
    requires RandomAccessIterator&lt;I&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.--1'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.--1'>1</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>-n &lt;= cnt</span></p></div></div><div class='para' id='counted.iter.op.--2'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.--2'>2</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
<span class='texttt'>return counted_iterator(current - n, cnt + n);</span>
</p></div></div></div><div id='counted.iter.op.-='><h4 ><a class='secnum' href='#counted.iter.op.-=' style='min-width:133pt'>9.7.6.2.11</a> <span class='texttt'>counted_iterator::operator-=</span> <a class='abbr_ref' href='counted.iter.op.-='>[counted.iter.op.-=]</a></h4><p ><span class='indexparent'><a class='index' id='operator-=,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,operator-='></a></span><code class='itemdecl'>
  constexpr counted_iterator&amp; operator-=(difference_type n)
    requires RandomAccessIterator&lt;I&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.-=-1'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.-=-1'>1</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>-n &lt;= cnt</span></p></div></div><div class='para' id='counted.iter.op.-=-2'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.-=-2'>2</a></div><div class='itemdescr'><p ><i>Effects:</i>
</p><pre class='codeblock'>
current -= n;
cnt += n;
</pre></div></div><div class='para' id='counted.iter.op.-=-3'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.-=-3'>3</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div></div><div id='counted.iter.op.index'><h4 ><a class='secnum' href='#counted.iter.op.index' style='min-width:133pt'>9.7.6.2.12</a> <span class='texttt'>counted_iterator::operator[]</span> <a class='abbr_ref' href='counted.iter.op.index'>[counted.iter.op.index]</a></h4><p ><span class='indexparent'><a class='index' id='operator[],counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,operator[]'></a></span><code class='itemdecl'>
  constexpr decltype(auto) operator[](difference_type n) const
    requires RandomAccessIterator&lt;I&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.index-1'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.index-1'>1</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>n &lt;= cnt</span></p></div></div><div class='para' id='counted.iter.op.index-2'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.index-2'>2</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
<span class='texttt'>return current[n];</span>
</p></div></div></div><div id='counted.iter.op.comp'><h4 ><a class='secnum' href='#counted.iter.op.comp' style='min-width:133pt'>9.7.6.2.13</a> <span class='texttt'>counted_iterator</span> comparisons <a class='abbr_ref' href='counted.iter.op.comp'>[counted.iter.op.comp]</a></h4><p ><span class='indexparent'><a class='index' id='operator==,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,operator=='></a></span><code class='itemdecl'>
template &lt;class I1, class I2&gt;
    requires Common&lt;I1, I2&gt;
  constexpr bool operator==(
    const counted_iterator&lt;I1&gt;&amp; x, const counted_iterator&lt;I2&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.comp-1'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.comp-1'>1</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>x</span> and y shall refer to elements of the same
sequence (<a href='iterators.counted'>[iterators.counted]</a>).</p></div></div><div class='para' id='counted.iter.op.comp-2'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.comp-2'>2</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
<span class='texttt'>return x.cnt == y.cnt;</span>
</p></div></div><p ><code class='itemdecl'>
  constexpr bool operator==(
    const counted_iterator&lt;auto&gt;&amp; x, default_sentinel);
  constexpr bool operator==(
    default_sentinel, const counted_iterator&lt;auto&gt;&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.comp-3'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.comp-3'>3</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
<span class='texttt'>return x.cnt == 0;</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,operator!='></a></span><code class='itemdecl'>
template &lt;class I1, class I2&gt;
    requires Common&lt;I1, I2&gt;
  constexpr bool operator!=(
    const counted_iterator&lt;I1&gt;&amp; x, const counted_iterator&lt;I2&gt;&amp; y);
  constexpr bool operator!=(
    const counted_iterator&lt;auto&gt;&amp; x, default_sentinel);
  constexpr bool operator!=(
    default_sentinel, const counted_iterator&lt;auto&gt;&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.comp-4'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.comp-4'>4</a></div><div class='itemdescr'><p ><i>Requires:</i> For the first overload, <span class='texttt'>x</span> and y shall refer to
elements of the same sequence (<a href='iterators.counted'>[iterators.counted]</a>).</p></div></div><div class='para' id='counted.iter.op.comp-5'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.comp-5'>5</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
<span class='texttt'>return !(x == y);</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,operator<'></a></span><code class='itemdecl'>
template &lt;class I1, class I2&gt;
    requires Common&lt;I1, I2&gt;
  constexpr bool operator&lt;(
    const counted_iterator&lt;I1&gt;&amp; x, const counted_iterator&lt;I2&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.comp-6'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.comp-6'>6</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>x</span> and y shall refer to
elements of the same sequence (<a href='iterators.counted'>[iterators.counted]</a>).</p></div></div><div class='para' id='counted.iter.op.comp-7'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.comp-7'>7</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
<span class='texttt'>return y.cnt &lt; x.cnt;</span></p></div></div><div class='para' id='counted.iter.op.comp-8'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.comp-8'>8</a></div><div class='itemdescr'><p >[&nbsp;<i>Note:</i> The argument order in the <i>Effects</i> element is reversed because <span class='texttt'>cnt</span>
counts down, not up. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div></div><p ><span class='indexparent'><a class='index' id='operator<=,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,operator<='></a></span><code class='itemdecl'>
template &lt;class I1, class I2&gt;
    requires Common&lt;I1, I2&gt;
  constexpr bool operator&lt;=(
    const counted_iterator&lt;I1&gt;&amp; x, const counted_iterator&lt;I2&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.comp-9'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.comp-9'>9</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>x</span> and y shall refer to
elements of the same sequence (<a href='iterators.counted'>[iterators.counted]</a>).</p></div></div><div class='para' id='counted.iter.op.comp-10'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.comp-10'>10</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
<span class='texttt'>return !(y &lt; x);</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,operator>'></a></span><code class='itemdecl'>
template &lt;class I1, class I2&gt;
    requires Common&lt;I1, I2&gt;
  constexpr bool operator&gt;(
    const counted_iterator&lt;I1&gt;&amp; x, const counted_iterator&lt;I2&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.comp-11'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.comp-11'>11</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>x</span> and y shall refer to
elements of the same sequence (<a href='iterators.counted'>[iterators.counted]</a>).</p></div></div><div class='para' id='counted.iter.op.comp-12'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.comp-12'>12</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
<span class='texttt'>return y &lt; x;</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>=,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,operator>='></a></span><code class='itemdecl'>
template &lt;class I1, class I2&gt;
    requires Common&lt;I1, I2&gt;
  constexpr bool operator&gt;=(
    const counted_iterator&lt;I1&gt;&amp; x, const counted_iterator&lt;I2&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.op.comp-13'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.comp-13'>13</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>x</span> and y shall refer to
elements of the same sequence (<a href='iterators.counted'>[iterators.counted]</a>).</p></div></div><div class='para' id='counted.iter.op.comp-14'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.op.comp-14'>14</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
<span class='texttt'>return !(x &lt; y);</span>
</p></div></div></div><div id='counted.iter.nonmember'><h4 ><a class='secnum' href='#counted.iter.nonmember' style='min-width:133pt'>9.7.6.2.14</a> <span class='texttt'>counted_iterator</span> non-member functions <a class='abbr_ref' href='counted.iter.nonmember'>[counted.iter.nonmember]</a></h4><p ><span class='indexparent'><a class='index' id='operator-,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,operator-'></a></span><code class='itemdecl'>
  template &lt;class I1, class I2&gt;
      requires Common&lt;I1, I2&gt;
  constexpr difference_type_t&lt;I2&gt; operator-(
    const counted_iterator&lt;I1&gt;&amp; x, const counted_iterator&lt;I2&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.nonmember-1'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.nonmember-1'>1</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>x</span> and y shall refer to
elements of the same sequence (<a href='iterators.counted'>[iterators.counted]</a>).</p></div></div><div class='para' id='counted.iter.nonmember-2'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.nonmember-2'>2</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
<span class='texttt'>return y.cnt - x.cnt;</span>
</p></div></div><p ><code class='itemdecl'>
template &lt;class I&gt;
  constexpr difference_type_t&lt;I&gt; operator-(
    const counted_iterator&lt;I&gt;&amp; x, default_sentinel y);
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.nonmember-3'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.nonmember-3'>3</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
<span class='texttt'>return -x.cnt;</span>
</p></div></div><p ><code class='itemdecl'>
template &lt;class I&gt;
  constexpr difference_type_t&lt;I&gt; operator-(
    default_sentinel x, const counted_iterator&lt;I&gt;&amp; y);
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.nonmember-4'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.nonmember-4'>4</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
<span class='texttt'>return y.cnt;</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='operator+,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,operator+'></a></span><code class='itemdecl'>
template &lt;RandomAccessIterator I&gt;
  constexpr counted_iterator&lt;I&gt; operator+(
    difference_type_t&lt;I&gt; n, const counted_iterator&lt;I&gt;&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.nonmember-5'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.nonmember-5'>5</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>n &lt;= x.cnt</span>.</p></div></div><div class='para' id='counted.iter.nonmember-6'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.nonmember-6'>6</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to:
<span class='texttt'>return x + n;</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='iter_move,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,iter_move'></a></span><code class='itemdecl'>
friend constexpr rvalue_reference_t&lt;I&gt; iter_move(const counted_iterator&amp; i)
  noexcept(<i><span class='texttt'>see below</span></i>)
    requires InputIterator&lt;I&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.nonmember-7'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.nonmember-7'>7</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to: <span class='texttt'>return ranges::iter_move(i.current);</span></p></div></div><div class='para' id='counted.iter.nonmember-8'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.nonmember-8'>8</a></div><div class='itemdescr'><p ><i>Remarks:</i> The expression in <span class='texttt'>noexcept</span> is equivalent to:
</p><pre class='codeblock'>
noexcept(ranges::iter_move(i.current))
</pre></div></div><p ><span class='indexparent'><a class='index' id='iter_swap,counted_iterator'></a></span><span class='indexparent'><a class='index' id='counted_iterator,iter_swap'></a></span><code class='itemdecl'>
template &lt;IndirectlySwappable&lt;I&gt; I2&gt;
  friend constexpr void iter_swap(const counted_iterator&amp; x, const counted_iterator&lt;I2&gt;&amp; y)
    noexcept(<i><span class='texttt'>see below</span></i>);
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.nonmember-9'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.nonmember-9'>9</a></div><div class='itemdescr'><p ><i>Effects:</i> Equivalent to <span class='texttt'>ranges::iter_swap(x.current, y.current)</span>.</p></div></div><div class='para' id='counted.iter.nonmember-10'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.nonmember-10'>10</a></div><div class='itemdescr'><p ><i>Remarks:</i> The expression in <span class='texttt'>noexcept</span> is equivalent to:
</p><pre class='codeblock'>
noexcept(ranges::iter_swap(x.current, y.current))
</pre></div></div><p ><span class='indexparent'><a class='index' id='make_counted_iterator'></a></span><code class='itemdecl'>
template &lt;Iterator I&gt;
  constexpr counted_iterator&lt;I&gt; make_counted_iterator(I i, difference_type_t&lt;I&gt; n);
</code></p><div class='itemdescr'></div><div class='para' id='counted.iter.nonmember-11'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.nonmember-11'>11</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>n &gt;= 0</span>.</p></div></div><div class='para' id='counted.iter.nonmember-12'><div class='marginalizedparent'><a class='marginalized' href='#counted.iter.nonmember-12'>12</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>counted_iterator&lt;I&gt;(i, n)</span>.
</p></div></div></div></div></div></div></body></html>