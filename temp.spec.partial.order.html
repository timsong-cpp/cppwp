<!DOCTYPE html><html lang='en'><head><title>[temp.spec.partial.order]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>13</a> Templates <a class='abbr_ref' href='./#temp'>[temp]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>13.7</a> Template declarations <a class='abbr_ref' href='temp.decls#temp.spec.partial.order'>[temp.decls]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>13.7.6</a> Partial specialization <a class='abbr_ref' href='temp.spec.partial#order'>[temp.spec.partial]</a></h3><h4 ><a class='secnum' style='min-width:95pt'>13.7.6.3</a> Partial ordering of partial specializations <a class='abbr_ref'>[temp.spec.partial.order]</a></h4><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5494117ea39b36ce3e590025943a8ff48e78b4d3/source/templates.tex#L3368'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'><a class='index' id=':more_specialized,class_template'></a>For two partial specializations,
the first is <a class='hidden_link' href='temp.deduct.partial#def:more_specialized' title='13.10.3.5&emsp;Deducing template arguments during partial ordering&emsp;[temp.deduct.partial]'><span id='def:more_specialized'><i >more specialized</i></span></a> than the second if, given the following
rewrite to two function templates, the first function template is more
specialized than the second according to the <a href='temp.func.order' title='13.7.7.3&emsp;Partial ordering of function templates&emsp;[temp.func.order]'>ordering rules for function
templates</a>:
<ul class='itemize'><li id='1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.1'>(1.1)</a></div><div class='texpara'><div id='1.1.sentence-1' class='sentence'>Each of the two
function templates has the same template parameters
and <a href='temp.constr.decl#def:associated_constraints' title='13.5.3&emsp;Constrained declarations&emsp;[temp.constr.decl]'>associated constraints</a>
as the corresponding partial specialization<a class='hidden_link' href='#1.1.sentence-1'>.</a></div></div></li><li id='1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.2'>(1.2)</a></div><div class='texpara'><div id='1.2.sentence-1' class='sentence'>Each function template
has a single function parameter
whose type is a class template specialization where the template arguments
are the corresponding template parameters from the function template
for each template argument
in the <a href='temp.names#nt:template-argument-list' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument-list'><span class='textsf'><i >template-argument-list</i></span></span></a>
of the <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id'><span class='textsf'><i >simple-template-id</i></span></span></a>
of the partial specialization<a class='hidden_link' href='#1.2.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para nonNormativeOnly' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5494117ea39b36ce3e590025943a8ff48e78b4d3/source/templates.tex#L3392'>#</a></div><div class='texpara'><div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I, <span class='keyword'>int</span> J, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> X <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I, <span class='keyword'>int</span> J<span class='anglebracket'>&gt;</span>          <span class='keyword'>class</span> X<span class='anglebracket'>&lt;</span>I, J, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;         <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span>                 <span class='keyword'>class</span> X<span class='anglebracket'>&lt;</span>I, I, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;         <span class='comment'>// #2</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I0, <span class='keyword'>int</span> J0<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>X<span class='anglebracket'>&lt;</span>I0, J0, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;                <span class='comment'>// A</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I0<span class='anglebracket'>&gt;</span>         <span class='keyword'>void</span> f<span class='parenthesis'>(</span>X<span class='anglebracket'>&lt;</span>I0, I0, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;                <span class='comment'>// B</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>auto</span> v<span class='anglebracket'>&gt;</span>    <span class='keyword'>class</span> Y <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>auto</span><span class='operator'>*</span> p<span class='anglebracket'>&gt;</span>   <span class='keyword'>class</span> Y<span class='anglebracket'>&lt;</span>p<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                            <span class='comment'>// #3</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>auto</span><span class='operator'>*</span><span class='operator'>*</span> pp<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> Y<span class='anglebracket'>&lt;</span>pp<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                           <span class='comment'>// #4</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>auto</span><span class='operator'>*</span> p0<span class='anglebracket'>&gt;</span>   <span class='keyword'>void</span> g<span class='parenthesis'>(</span>Y<span class='anglebracket'>&lt;</span>p0<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;                            <span class='comment'>// C</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>auto</span><span class='operator'>*</span><span class='operator'>*</span> pp0<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>Y<span class='anglebracket'>&lt;</span>pp0<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;                           <span class='comment'>// D</span>
</span></div><div class='texpara'><div id='2.sentence-1' class='sentence'>According to the ordering rules for function templates,
the function template
<i >B</i>
is more specialized than the function template
<i >A</i>
and
the function template
<i >D</i>
is more specialized than the function template
<i >C</i><a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>Therefore, the partial specialization #2
is more specialized than the partial specialization #1
and the partial specialization #4
is more specialized than the partial specialization #3<a class='hidden_link' href='#2.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> t<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> D <span class='operator'>=</span> C<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>requires</span> <span class='parenthesis'>(</span>T t<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> t<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> S <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;   <span class='comment'>// #1</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>D T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;   <span class='comment'>// #2</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>C T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;     <span class='comment'>// A</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>D T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;     <span class='comment'>// B</span>
</span> <div id='2.sentence-3' class='sentence'>
The partial specialization #2 is more specialized than #1
because <span class='texttt'>B</span> is more specialized than <span class='texttt'>A</span><a class='hidden_link' href='#2.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div></div></body></html>