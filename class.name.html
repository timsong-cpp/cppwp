<!DOCTYPE html><html lang='en'><head><title>[class.name]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>11</a> Classes <a class='abbr_ref' href='./#class'>[class]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>11.3</a> Class names <a class='abbr_ref'>[class.name]</a></h2><div class='texpara'><a class='index' id=':definition,class_name_as_type'></a><a class='index' id=':equivalence,type'></a></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12b6307589257a803527eb38c43f08f867d59322/source/classes.tex#L320'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>A class definition introduces a new type<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>:&ensp;<div id='1.sentence-2' class='sentence'><span class='codeblock'><span class='keyword'>struct</span> X <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Y <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='curlybracket'>}</span>;
X a1;
Y a2;
<span class='keyword'>int</span> a3;
</span>
declares three variables of three different types<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>This implies that
<span class='codeblock'>a1 <span class='operator'>=</span> a2;                        <span class='comment'>// error: <span class='tcode_in_codeblock'>Y</span> assigned to <span class='tcode_in_codeblock'>X</span></span>
a1 <span class='operator'>=</span> a3;                        <span class='comment'>// error: <span class='tcode_in_codeblock'>int</span> assigned to <span class='tcode_in_codeblock'>X</span></span>
</span>
are type mismatches, and that
<span class='codeblock'><span class='keyword'>int</span> f<span class='parenthesis'>(</span>X<span class='parenthesis'>)</span>;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span>Y<span class='parenthesis'>)</span>;
</span>
<a class='index' id=':overloading'></a>declare overloads (<a href='over' title='12&emsp;Overloading'>[over]</a>) named <span class='texttt'>f</span> and not
simply a single function <span class='texttt'>f</span> twice<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>For the same reason,
<span class='codeblock'><span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='curlybracket'>}</span>;            <span class='comment'>// error: double definition</span>
</span>
is ill-formed because it defines <span class='texttt'>S</span> twice<a class='hidden_link' href='#1.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12b6307589257a803527eb38c43f08f867d59322/source/classes.tex#L350'>#</a></div><div class='texpara'><a class='index' id=':definition,scope_of_class'></a><div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='2.sentence-1' class='sentence'>It can be necessary to use an <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a>
to refer to a class
that belongs to a scope in which its name is also bound to
a variable, function, or enumerator (<a href='basic.lookup.elab' title='6.5.6&emsp;Elaborated type specifiers'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>elab]</a>)<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> stat <span class='curlybracket'>{</span>
  <span class='comment'>// ...</span>
<span class='curlybracket'>}</span>;

stat gstat;                     <span class='comment'>// use plain <span class='tcode_in_codeblock'>stat</span> to define variable</span>

<span class='keyword'>int</span> stat<span class='parenthesis'>(</span><span class='keyword'>struct</span> stat<span class='operator'>*</span><span class='parenthesis'>)</span>;         <span class='comment'>// <span class='tcode_in_codeblock'>stat</span> now also names a function</span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> stat<span class='operator'>*</span> ps;              <span class='comment'>// <span id=':struct'><span class='tcode_in_codeblock'>struct</span></span> prefix needed to name <span class='tcode_in_codeblock'>struct stat</span></span>
  stat<span class='parenthesis'>(</span>ps<span class='parenthesis'>)</span>;                     <span class='comment'>// call <span class='tcode_in_codeblock'>stat</span> function</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='2.sentence-2' class='sentence'><a class='index' id=':class_name,elaborated'></a><a class='index' id=':declaration,forward_class'></a>An <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier_'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a> can also be used to declare
an <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier'><span class='textsf'><i >identifier</i></span></span></a> as a <a href='class.pre#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name'><span class='textsf'><i >class-name</i></span></span></a><a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> s <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='curlybracket'>}</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> s;                     <span class='comment'>// hide global <span class='tcode_in_codeblock'>struct s</span> with a block-scope declaration</span>
  s<span class='operator'>*</span> p;                         <span class='comment'>// refer to local <span class='tcode_in_codeblock'>struct s</span></span>
  <span class='keyword'>struct</span> s <span class='curlybracket'>{</span> <span class='keyword'>char</span><span class='operator'>*</span> p; <span class='curlybracket'>}</span>;        <span class='comment'>// define local <span class='tcode_in_codeblock'>struct s</span></span>
  <span class='keyword'>struct</span> s;                     <span class='comment'>// redeclaration, has no effect</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div> <div id='2.sentence-3' class='sentence'>
Such declarations allow definition of classes that refer to each other<a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-4'>4</a></i>:&ensp;<span class='codeblock'><span class='keyword'>class</span> Vector;

<span class='keyword'>class</span> Matrix <span class='curlybracket'>{</span>
  <span class='comment'>// ...</span>
  <span class='keyword'>friend</span> Vector <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='keyword'>const</span> Matrix<span class='operator'>&amp;</span>, <span class='keyword'>const</span> Vector<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> Vector <span class='curlybracket'>{</span>
  <span class='comment'>// ...</span>
  <span class='keyword'>friend</span> Vector <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='keyword'>const</span> Matrix<span class='operator'>&amp;</span>, <span class='keyword'>const</span> Vector<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
</span> <div id='2.sentence-4' class='sentence'>
Declaration of friends is described in <a href='class.friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>,
operator functions in <a href='over.oper' title='12.4&emsp;Overloaded operators'>[over.<span class='shy'></span>oper]</a><a class='hidden_link' href='#2.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12b6307589257a803527eb38c43f08f867d59322/source/classes.tex#L409'>#</a></div><div class='texpara'><a class='index' id=':class_name,elaborated_'></a><div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>:&ensp;<div id='3.sentence-1' class='sentence'>An <a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier__'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a> (<a href='dcl.type.elab' title='9.2.9.5&emsp;Elaborated type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>elab]</a>) can also
be used as a <a href='dcl.type.general#nt:type-specifier' title='9.2.9.1&emsp;General&emsp;[dcl.type.general]'><span id='ntref:type-specifier'><span class='textsf'><i >type-specifier</i></span></span></a> as part of a declaration<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>It
differs from a class declaration in that it can refer to
an existing class of the given name<a class='hidden_link' href='#3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div>
<div id='example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-5'>5</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> s <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='curlybracket'>}</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span> s<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> s<span class='operator'>*</span> p <span class='operator'>=</span> <span class='keyword'>new</span> <span class='keyword'>struct</span> s;   <span class='comment'>// global <span class='tcode_in_codeblock'>s</span></span>
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>a <span class='operator'>=</span> s;                     <span class='comment'>// parameter <span class='tcode_in_codeblock'>s</span></span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12b6307589257a803527eb38c43f08f867d59322/source/classes.tex#L429'>#</a></div><div class='texpara'><a class='index' id=':class_name,point_of_declaration'></a><div id='note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-3'>3</a></i>:&ensp;<div id='4.sentence-1' class='sentence'>The declaration of a class name takes effect immediately after the
<a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_'><span class='textsf'><i >identifier</i></span></span></a> is seen in the class definition or
<a href='dcl.type.elab#nt:elaborated-type-specifier' title='9.2.9.5&emsp;Elaborated type specifiers&emsp;[dcl.type.elab]'><span id='ntref:elaborated-type-specifier___'><span class='textsf'><i >elaborated-type-specifier</i></span></span></a><a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>For example,
<span class='codeblock'><span class='keyword'>class</span> A <span class='operator'>*</span> A;
</span>
first specifies <span class='texttt'>A</span> to be the name of a class and then redefines
it as the name of a pointer to an object of that class<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.sentence-3' class='sentence'>This means that
the elaborated form <span id=':class'><span class='texttt'><span class='keyword'>class</span></span></span> <span class='texttt'>A</span> must be used to refer to the
class<a class='hidden_link' href='#4.sentence-3'>.</a></div> <div id='4.sentence-4' class='sentence'>Such artistry with names can be confusing and is best avoided<a class='hidden_link' href='#4.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12b6307589257a803527eb38c43f08f867d59322/source/classes.tex#L444'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'><a class='index' id=':class_name,typedef'></a>A <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id'><span class='textsf'><i >simple-template-id</i></span></span></a> is only a <a href='class.pre#nt:class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'><span id='ntref:class-name_'><span class='textsf'><i >class-name</i></span></span></a>
if its <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name'><span class='textsf'><i >template-name</i></span></span></a> names a class template<a class='hidden_link' href='#5.sentence-1'>.</a></div></div></div></div></body></html>