<!DOCTYPE html><html lang='en'><head><title>[atomics.ref.generic]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>30</a> Atomic operations library <a class='abbr_ref' href='./#atomics'>[atomics]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>30.6</a> Class template <span class='texttt'>atomic_&shy;ref</span> <a class='abbr_ref'>[atomics.ref.generic]</a></h2><span class='indexparent'><a class='index' id='lib:atomic_ref'></a></span><span class='indexparent'><a class='index' id='lib:value_type,atomic_ref'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref,value_type'></a></span><pre class='codeblock'>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> atomic_ref <span class='curlybracket'>{</span>
  <span class='keyword'>private</span><span class='operator'>:</span>
    T<span class='operator'>*</span> ptr;             <span class='comment' style='font-style:italic;font-family:serif;'>// <span class='textit'>exposition only</span></span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> value_type <span class='operator'>=</span> T;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> is_always_lock_free <span class='operator'>=</span> <span class='indexparent'><a class='index' id=':whether_a_given_atomic_ref_type&#39;s_operations_are_always_lock_free'></a></span><span class='textit'>implementation-defined</span>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> size_t required_alignment <span class='operator'>=</span> <span class='indexparent'><a class='index' id=':required_alignment_for_atomic_ref_type&#39;s_operations'></a></span><span class='textit'>implementation-defined</span>;

    atomic_ref<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> atomic_ref<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;

    <span class='keyword'>explicit</span> atomic_ref<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    atomic_ref<span class='parenthesis'>(</span><span class='keyword'>const</span> atomic_ref<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    T <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>operator</span> T<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    <span class='keyword'>bool</span> is_lock_free<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>void</span> store<span class='parenthesis'>(</span>T, memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    T load<span class='parenthesis'>(</span>memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    T exchange<span class='parenthesis'>(</span>T, memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_weak<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span>, T,
                               memory_order, memory_order<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_strong<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span>, T,
                                 memory_order, memory_order<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_weak<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span>, T,
                               memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_strong<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span>, T,
                                 memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</pre><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L628'>#</a></div><div id='1.sentence-1' class='sentence'>An <span class='texttt'>atomic_&shy;ref</span> object applies atomic operations (<a href='atomics.general'>[atomics.general]</a>) to
the object referenced by <span class='texttt'><span class='operator'>*</span>ptr</span> such that,
for the lifetime (<a href='basic.life'>[basic.life]</a>) of the <span class='texttt'>atomic_&shy;ref</span> object,
the object referenced by <span class='texttt'><span class='operator'>*</span>ptr</span> is an atomic object (<a href='intro.races'>[intro.races]</a>)<a class='hidden_link' href='#1.sentence-1'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L634'>#</a></div><div id='2.sentence-1' class='sentence'>The template argument for <span class='texttt'>T</span>
shall be trivially copyable (<a href='basic.types'>[basic.types]</a>)<a class='hidden_link' href='#2.sentence-1'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L638'>#</a></div><div id='3.sentence-1' class='sentence'>The lifetime (<a href='basic.life'>[basic.life]</a>) of an object referenced by <span class='texttt'><span class='operator'>*</span>ptr</span>
shall exceed the lifetime of all <span class='texttt'>atomic_&shy;ref</span>s that reference the object<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>While any <span class='texttt'>atomic_&shy;ref</span> instances exist
that reference the <span class='texttt'><span class='operator'>*</span>ptr</span> object,
all accesses to that object shall exclusively occur
through those <span class='texttt'>atomic_&shy;ref</span> instances<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>No subobject of the object referenced by <span class='texttt'>atomic_&shy;ref</span>
shall be concurrently referenced by any other <span class='texttt'>atomic_&shy;ref</span> object<a class='hidden_link' href='#3.sentence-3'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L648'>#</a></div><div id='4.sentence-1' class='sentence'>Atomic operations applied to an object
through a referencing <span class='texttt'>atomic_&shy;ref</span> are atomic with respect to
atomic operations applied through any other <span class='texttt'>atomic_&shy;ref</span>
referencing the same object<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='4.sentence-2' class='sentence'>Atomic operations or the <span class='texttt'>atomic_&shy;ref</span> constructor could acquire
a shared resource, such as a lock associated with the referenced object,
to enable atomic operations to be applied to the referenced object<a class='hidden_link' href='#4.sentence-2'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div><div id='atomics.ref.operations' class='section'><h3 ><a class='secnum' href='#atomics.ref.operations' style='min-width:103pt'>30.6.1</a> Operations <a class='abbr_ref' href='atomics.ref.operations'>[atomics.ref.operations]</a></h3><span class='indexparent'><a class='index' id='lib:is_always_lock_free,atomic_ref'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref,is_always_lock_free'></a></span><span class='indexparent'><a class='index' id='lib:is_always_lock_free,atomic_ref<T*>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,is_always_lock_free'></a></span><span class='indexparent'><a class='index' id='lib:is_always_lock_free,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,is_always_lock_free'></a></span><span class='indexparent'><a class='index' id='lib:is_always_lock_free,atomic_ref<floating-point>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<floating-point>,is_always_lock_free'></a></span><div class='itemdecl' id='atomics.ref.operations-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.operations-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>static</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> is_always_lock_free;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.operations-1'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L670'>#</a></div><div id='atomics.ref.operations-1.sentence-1' class='sentence'>The static data member <span class='texttt'>is_&shy;always_&shy;lock_&shy;free</span> is <span class='texttt'><span class='literal'>true</span></span>
if the <span class='texttt'>atomic_&shy;ref</span> type's operations are always lock-free,
and <span class='texttt'><span class='literal'>false</span></span> otherwise<a class='hidden_link' href='#atomics.ref.operations-1.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:required_alignment,atomic_ref'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref,required_alignment'></a></span><span class='indexparent'><a class='index' id='lib:required_alignment,atomic_ref<T*>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,required_alignment'></a></span><span class='indexparent'><a class='index' id='lib:required_alignment,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,required_alignment'></a></span><span class='indexparent'><a class='index' id='lib:required_alignment,atomic_ref<floating-point>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<floating-point>,required_alignment'></a></span><div class='itemdecl' id='atomics.ref.operations-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.operations-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>static</span> <span class='keyword'>constexpr</span> size_t required_alignment;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.operations-2'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L685'>#</a></div><div id='atomics.ref.operations-2.sentence-1' class='sentence'>The alignment required for an object to be referenced by an atomic reference,
which is at least <span class='texttt'><span class='keyword'>alignof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span></span><a class='hidden_link' href='#atomics.ref.operations-2.sentence-1'>.</a></div></div></div><div class='para' id='atomics.ref.operations-3'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L689'>#</a></div><div id='atomics.ref.operations-3.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#atomics.ref.operations-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='atomics.ref.operations-3.sentence-1' class='sentence'>Hardware could require an object
referenced by an <span class='texttt'>atomic_&shy;ref</span>
to have stricter alignment (<a href='basic.align'>[basic.align]</a>)
than other objects of type <span class='texttt'>T</span><a class='hidden_link' href='#atomics.ref.operations-3.sentence-1'>.</a></div> <div id='atomics.ref.operations-3.sentence-2' class='sentence'>Further, whether operations on an <span class='texttt'>atomic_&shy;ref</span>
are lock-free could depend on the alignment of the referenced object<a class='hidden_link' href='#atomics.ref.operations-3.sentence-2'>.</a></div> <div id='atomics.ref.operations-3.sentence-3' class='sentence'>For example, lock-free operations on <span class='texttt'>std<span class='operator'>:</span><span class='operator'>:</span>complex<span class='anglebracket'>&lt;</span><span class='keyword'>double</span><span class='anglebracket'>&gt;</span></span>
could be supported only if aligned to <span class='texttt'><span class='literal'>2</span><span class='operator'>*</span><span class='keyword'>alignof</span><span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#atomics.ref.operations-3.sentence-3'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:atomic_ref,constructor'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,constructor'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,constructor'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<floating-point>,constructor'></a></span><div class='itemdecl' id='atomics.ref.operations-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.operations-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>atomic_ref<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span> obj<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.operations-4'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L711'>#</a></div><div id='atomics.ref.operations-4.sentence-1' class='sentence'><span class='textit'>Requires:</span> The referenced object shall be aligned to <span class='texttt'>required_&shy;alignment</span><a class='hidden_link' href='#atomics.ref.operations-4.sentence-1'>.</a></div></div></div><div class='para' id='atomics.ref.operations-5'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L714'>#</a></div><div id='atomics.ref.operations-5.sentence-1' class='sentence'><span class='textit'>Effects:</span> Constructs an atomic reference that references the object<a class='hidden_link' href='#atomics.ref.operations-5.sentence-1'>.</a></div></div></div><div class='para' id='atomics.ref.operations-6'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L717'>#</a></div><div id='atomics.ref.operations-6.sentence-1' class='sentence'><span class='textit'>Throws:</span> Nothing<a class='hidden_link' href='#atomics.ref.operations-6.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:atomic_ref,constructor_'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,constructor_'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,constructor_'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<floating-point>,constructor_'></a></span><div class='itemdecl' id='atomics.ref.operations-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.operations-itemdecl:4'>ðŸ”—</a></div><code class='itemdeclcode'>atomic_ref<span class='parenthesis'>(</span><span class='keyword'>const</span> atomic_ref<span class='operator'>&amp;</span> ref<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.operations-7'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L730'>#</a></div><div id='atomics.ref.operations-7.sentence-1' class='sentence'><span class='textit'>Effects:</span> Constructs an atomic reference
that references the object referenced by <span class='texttt'>ref</span><a class='hidden_link' href='#atomics.ref.operations-7.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,atomic_ref'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref,operator='></a></span><span class='indexparent'><a class='index' id='lib:operator=,atomic_ref<T*>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,operator='></a></span><span class='indexparent'><a class='index' id='lib:operator=,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,operator='></a></span><span class='indexparent'><a class='index' id='lib:operator=,atomic_ref<floating-point>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<floating-point>,operator='></a></span><div class='itemdecl' id='atomics.ref.operations-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.operations-itemdecl:5'>ðŸ”—</a></div><code class='itemdeclcode'>T <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>T desired<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.operations-8'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L744'>#</a></div><div id='atomics.ref.operations-8.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to:
<pre class='codeblock'>
store<span class='parenthesis'>(</span>desired<span class='parenthesis'>)</span>;
<span class='keyword'>return</span> desired;
</pre></div></div></div><span class='indexparent'><a class='index' id='lib:operator_type,atomic_ref'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref,operator_type'></a></span><span class='indexparent'><a class='index' id='lib:operator_T*,atomic_ref<T*>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,operator_T*'></a></span><span class='indexparent'><a class='index' id='lib:operator_integral,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,operator_integral'></a></span><span class='indexparent'><a class='index' id='lib:operator_floating-point,atomic_ref<floating-point>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<floating-point>,operator_floating-point'></a></span><div class='itemdecl' id='atomics.ref.operations-itemdecl:6'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.operations-itemdecl:6'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>operator</span> T<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.operations-9'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L761'>#</a></div><div id='atomics.ref.operations-9.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> load<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;</span></div></div></div><span class='indexparent'><a class='index' id='lib:is_lock_free,atomic_ref'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref,is_lock_free'></a></span><span class='indexparent'><a class='index' id='lib:is_lock_free,atomic_ref<T*>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,is_lock_free'></a></span><span class='indexparent'><a class='index' id='lib:is_lock_free,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,is_lock_free'></a></span><span class='indexparent'><a class='index' id='lib:is_lock_free,atomic_ref<floating-point>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<floating-point>,is_lock_free'></a></span><div class='itemdecl' id='atomics.ref.operations-itemdecl:7'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.operations-itemdecl:7'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>bool</span> is_lock_free<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.operations-10'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L774'>#</a></div><div id='atomics.ref.operations-10.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'><span class='literal'>true</span></span> if the object's operations are lock-free,
<span class='texttt'><span class='literal'>false</span></span> otherwise<a class='hidden_link' href='#atomics.ref.operations-10.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:store,atomic_ref'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref,store'></a></span><span class='indexparent'><a class='index' id='lib:store,atomic_ref<T*>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,store'></a></span><span class='indexparent'><a class='index' id='lib:store,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,store'></a></span><span class='indexparent'><a class='index' id='lib:store,atomic_ref<floating-point>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<floating-point>,store'></a></span><div class='itemdecl' id='atomics.ref.operations-itemdecl:8'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.operations-itemdecl:8'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> store<span class='parenthesis'>(</span>T desired, memory_order order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.operations-11'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L788'>#</a></div><div id='atomics.ref.operations-11.sentence-1' class='sentence'><span class='textit'>Requires:</span> The <span class='texttt'>order</span> argument shall not be
<span class='texttt'>memory_&shy;order_&shy;consume</span>,
<span class='texttt'>memory_&shy;order_&shy;acquire</span>, nor
<span class='texttt'>memory_&shy;order_&shy;acq_&shy;rel</span><a class='hidden_link' href='#atomics.ref.operations-11.sentence-1'>.</a></div></div></div><div class='para' id='atomics.ref.operations-12'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L794'>#</a></div><div id='atomics.ref.operations-12.sentence-1' class='sentence'><span class='textit'>Effects:</span> Atomically replaces the value referenced by <span class='texttt'><span class='operator'>*</span>ptr</span>
with the value of <span class='texttt'>desired</span><a class='hidden_link' href='#atomics.ref.operations-12.sentence-1'>.</a></div> <div id='atomics.ref.operations-12.sentence-2' class='sentence'>Memory is affected according to the value of <span class='texttt'>order</span><a class='hidden_link' href='#atomics.ref.operations-12.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:load,atomic_ref'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref,load'></a></span><span class='indexparent'><a class='index' id='lib:load,atomic_ref<T*>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,load'></a></span><span class='indexparent'><a class='index' id='lib:load,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,load'></a></span><span class='indexparent'><a class='index' id='lib:load,atomic_ref<floating-point>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<floating-point>,load'></a></span><div class='itemdecl' id='atomics.ref.operations-itemdecl:9'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.operations-itemdecl:9'>ðŸ”—</a></div><code class='itemdeclcode'>T load<span class='parenthesis'>(</span>memory_order order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.operations-13'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L809'>#</a></div><div id='atomics.ref.operations-13.sentence-1' class='sentence'><span class='textit'>Requires:</span> The <span class='texttt'>order</span> argument shall not be
<span class='texttt'>memory_&shy;order_&shy;release</span> nor <span class='texttt'>memory_&shy;order_&shy;acq_&shy;rel</span><a class='hidden_link' href='#atomics.ref.operations-13.sentence-1'>.</a></div></div></div><div class='para' id='atomics.ref.operations-14'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L813'>#</a></div><div id='atomics.ref.operations-14.sentence-1' class='sentence'><span class='textit'>Effects:</span> Memory is affected according to the value of <span class='texttt'>order</span><a class='hidden_link' href='#atomics.ref.operations-14.sentence-1'>.</a></div></div></div><div class='para' id='atomics.ref.operations-15'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L816'>#</a></div><div id='atomics.ref.operations-15.sentence-1' class='sentence'><span class='textit'>Returns:</span> Atomically returns the value referenced by <span class='texttt'><span class='operator'>*</span>ptr</span><a class='hidden_link' href='#atomics.ref.operations-15.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:exchange,atomic_ref'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref,exchange'></a></span><span class='indexparent'><a class='index' id='lib:exchange,atomic_ref<T*>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,exchange'></a></span><span class='indexparent'><a class='index' id='lib:exchange,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,exchange'></a></span><span class='indexparent'><a class='index' id='lib:exchange,atomic_ref<floating-point>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<floating-point>,exchange'></a></span><div class='itemdecl' id='atomics.ref.operations-itemdecl:10'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.operations-itemdecl:10'>ðŸ”—</a></div><code class='itemdeclcode'>T exchange<span class='parenthesis'>(</span>T desired, memory_order order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.operations-16'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L829'>#</a></div><div id='atomics.ref.operations-16.sentence-1' class='sentence'><span class='textit'>Effects:</span> Atomically replaces the value referenced by <span class='texttt'><span class='operator'>*</span>ptr</span>
with <span class='texttt'>desired</span><a class='hidden_link' href='#atomics.ref.operations-16.sentence-1'>.</a></div> <div id='atomics.ref.operations-16.sentence-2' class='sentence'>Memory is affected according to the value of <span class='texttt'>order</span><a class='hidden_link' href='#atomics.ref.operations-16.sentence-2'>.</a></div> <div id='atomics.ref.operations-16.sentence-3' class='sentence'>This operation is an atomic read-modify-write operation (<a href='intro.multithread'>[intro.multithread]</a>)<a class='hidden_link' href='#atomics.ref.operations-16.sentence-3'>.</a></div></div></div><div class='para' id='atomics.ref.operations-17'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L835'>#</a></div><div id='atomics.ref.operations-17.sentence-1' class='sentence'><span class='textit'>Returns:</span> Atomically returns the value referenced by <span class='texttt'><span class='operator'>*</span>ptr</span>
immediately before the effects<a class='hidden_link' href='#atomics.ref.operations-17.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:compare_exchange_weak,atomic_ref'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref,compare_exchange_weak'></a></span><span class='indexparent'><a class='index' id='lib:compare_exchange_weak,atomic_ref<T*>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,compare_exchange_weak'></a></span><span class='indexparent'><a class='index' id='lib:compare_exchange_weak,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,compare_exchange_weak'></a></span><span class='indexparent'><a class='index' id='lib:compare_exchange_weak,atomic_ref<floating-point>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<floating-point>,compare_exchange_weak'></a></span><span class='indexparent'><a class='index' id='lib:compare_exchange_strong,atomic_ref'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref,compare_exchange_strong'></a></span><span class='indexparent'><a class='index' id='lib:compare_exchange_strong,atomic_ref<T*>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,compare_exchange_strong'></a></span><span class='indexparent'><a class='index' id='lib:compare_exchange_strong,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,compare_exchange_strong'></a></span><span class='indexparent'><a class='index' id='lib:compare_exchange_strong,atomic_ref<floating-point>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<floating-point>,compare_exchange_strong'></a></span><div class='itemdecl' id='atomics.ref.operations-itemdecl:11'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.operations-itemdecl:11'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>bool</span> compare_exchange_weak<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span> expected, T desired,
                           memory_order success, memory_order failure<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

<span class='keyword'>bool</span> compare_exchange_strong<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span> expected, T desired,
                             memory_order success, memory_order failure<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

<span class='keyword'>bool</span> compare_exchange_weak<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span> expected, T desired,
                           memory_order order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

<span class='keyword'>bool</span> compare_exchange_strong<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span> expected, T desired,
                             memory_order order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.operations-18'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L863'>#</a></div><div id='atomics.ref.operations-18.sentence-1' class='sentence'><span class='textit'>Requires:</span> The <span class='texttt'>failure</span> argument shall not be
<span class='texttt'>memory_&shy;order_&shy;release</span> nor <span class='texttt'>memory_&shy;order_&shy;acq_&shy;rel</span><a class='hidden_link' href='#atomics.ref.operations-18.sentence-1'>.</a></div></div></div><div class='para' id='atomics.ref.operations-19'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L867'>#</a></div><div id='atomics.ref.operations-19.sentence-1' class='sentence'><span class='textit'>Effects:</span> Retrieves the value in <span class='texttt'>expected</span><a class='hidden_link' href='#atomics.ref.operations-19.sentence-1'>.</a></div> <div id='atomics.ref.operations-19.sentence-2' class='sentence'>It then atomically compares the value representation of
the value referenced by <span class='texttt'><span class='operator'>*</span>ptr</span> for equality
with that previously retrieved from <span class='texttt'>expected</span>,
and if <span class='texttt'><span class='literal'>true</span></span>, replaces the value referenced by <span class='texttt'><span class='operator'>*</span>ptr</span>
with that in <span class='texttt'>desired</span><a class='hidden_link' href='#atomics.ref.operations-19.sentence-2'>.</a></div> <div id='atomics.ref.operations-19.sentence-3' class='sentence'>If and only if the comparison is <span class='texttt'><span class='literal'>true</span></span>,
memory is affected according to the value of <span class='texttt'>success</span>, and
if the comparison is <span class='texttt'><span class='literal'>false</span></span>,
memory is affected according to the value of <span class='texttt'>failure</span><a class='hidden_link' href='#atomics.ref.operations-19.sentence-3'>.</a></div> <div id='atomics.ref.operations-19.sentence-4' class='sentence'>When only one <span class='texttt'>memory_&shy;order</span> argument is supplied,
the value of <span class='texttt'>success</span> is <span class='texttt'>order</span>, and
the value of <span class='texttt'>failure</span> is <span class='texttt'>order</span>
except that a value of <span class='texttt'>memory_&shy;order_&shy;acq_&shy;rel</span> shall be replaced by
the value <span class='texttt'>memory_&shy;order_&shy;acquire</span> and
a value of <span class='texttt'>memory_&shy;order_&shy;release</span> shall be replaced by
the value <span class='texttt'>memory_&shy;order_&shy;relaxed</span><a class='hidden_link' href='#atomics.ref.operations-19.sentence-4'>.</a></div> <div id='atomics.ref.operations-19.sentence-5' class='sentence'>If and only if the comparison is <span class='texttt'><span class='literal'>false</span></span> then,
after the atomic operation,
the value in <span class='texttt'>expected</span> is replaced by
the value read from the value referenced by <span class='texttt'><span class='operator'>*</span>ptr</span>
during the atomic comparison<a class='hidden_link' href='#atomics.ref.operations-19.sentence-5'>.</a></div> <div id='atomics.ref.operations-19.sentence-6' class='sentence'>If the operation returns <span class='texttt'><span class='literal'>true</span></span>,
these operations are atomic read-modify-write operations (<a href='intro.races'>[intro.races]</a>)
on the value referenced by <span class='texttt'><span class='operator'>*</span>ptr</span><a class='hidden_link' href='#atomics.ref.operations-19.sentence-6'>.</a></div> <div id='atomics.ref.operations-19.sentence-7' class='sentence'>Otherwise, these operations are atomic load operations on that memory<a class='hidden_link' href='#atomics.ref.operations-19.sentence-7'>.</a></div></div></div><div class='para' id='atomics.ref.operations-20'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L895'>#</a></div><div id='atomics.ref.operations-20.sentence-1' class='sentence'><span class='textit'>Returns:</span> The result of the comparison<a class='hidden_link' href='#atomics.ref.operations-20.sentence-1'>.</a></div></div></div><div class='para' id='atomics.ref.operations-21'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.operations-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L898'>#</a></div><div id='atomics.ref.operations-21.sentence-1' class='sentence'><span class='textit'>Remarks:</span> A weak compare-and-exchange operation may fail spuriously<a class='hidden_link' href='#atomics.ref.operations-21.sentence-1'>.</a></div> <div id='atomics.ref.operations-21.sentence-2' class='sentence'>That is, even when the contents of memory referred to
by <span class='texttt'>expected</span> and <span class='texttt'>ptr</span> are equal,
it may return <span class='texttt'><span class='literal'>false</span></span> and
store back to <span class='texttt'>expected</span> the same memory contents
that were originally there<a class='hidden_link' href='#atomics.ref.operations-21.sentence-2'>.</a></div> <div id='atomics.ref.operations-21.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#atomics.ref.operations-21.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='atomics.ref.operations-21.sentence-3' class='sentence'>This spurious failure enables implementation of compare-and-exchange
on a broader class of machines, e.g., load-locked store-conditional machines.
A consequence of spurious failure is
that nearly all uses of weak compare-and-exchange will be in a loop.
When a compare-and-exchange is in a loop,
the weak version will yield better performance on some platforms.
When a weak compare-and-exchange would require a loop and
a strong one would not, the strong one is preferable<a class='hidden_link' href='#atomics.ref.operations-21.sentence-3'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div></div><div id='atomics.ref.int' class='section'><h3 ><a class='secnum' href='#atomics.ref.int' style='min-width:103pt'>30.6.2</a> Specializations for integral types <a class='abbr_ref' href='atomics.ref.int'>[atomics.ref.int]</a></h3><div class='para' id='atomics.ref.int-1'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.int-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L919'>#</a></div><div id='atomics.ref.int-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>'></a></span>There are specializations of the <span class='texttt'>atomic_&shy;ref</span> class template
for the integral types
<span class='texttt'><span class='keyword'>char</span></span>,
<span class='texttt'><span class='keyword'>signed</span> <span class='keyword'>char</span></span>,
<span class='texttt'><span class='keyword'>unsigned</span> <span class='keyword'>char</span></span>,
<span class='texttt'><span class='keyword'>short</span></span>,
<span class='texttt'><span class='keyword'>unsigned</span> <span class='keyword'>short</span></span>,
<span class='texttt'><span class='keyword'>int</span></span>,
<span class='texttt'><span class='keyword'>unsigned</span> <span class='keyword'>int</span></span>,
<span class='texttt'><span class='keyword'>long</span></span>,
<span class='texttt'><span class='keyword'>unsigned</span> <span class='keyword'>long</span></span>,
<span class='texttt'><span class='keyword'>long</span> <span class='keyword'>long</span></span>,
<span class='texttt'><span class='keyword'>unsigned</span> <span class='keyword'>long</span> <span class='keyword'>long</span></span>,
<span class='texttt'><span class='keyword'>char8_&shy;t</span></span>,
<span class='texttt'><span class='keyword'>char16_&shy;t</span></span>,
<span class='texttt'><span class='keyword'>char32_&shy;t</span></span>,
<span class='texttt'><span class='keyword'>wchar_&shy;t</span></span>,
and any other types needed by the typedefs in the header <span class='texttt'><span class='anglebracket'>&lt;</span>cstdint<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#atomics.ref.int-1.sentence-1'>.</a></div> <div id='atomics.ref.int-1.sentence-2' class='sentence'>For each such type <span class='texttt'><span class='textit'>integral</span></span>,
the specialization <span class='texttt'>atomic_&shy;ref<span class='anglebracket'>&lt;</span><span class='textit'>integral</span><span class='anglebracket'>&gt;</span></span> provides
additional atomic operations appropriate to integral types<a class='hidden_link' href='#atomics.ref.int-1.sentence-2'>.</a></div> <div id='atomics.ref.int-1.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#atomics.ref.int-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='atomics.ref.int-1.sentence-3' class='sentence'>For the specialization <span class='texttt'>atomic_&shy;ref<span class='anglebracket'>&lt;</span><span class='keyword'>bool</span><span class='anglebracket'>&gt;</span></span>, see <a href='#atomics.ref.generic'>[atomics.ref.generic]</a><a class='hidden_link' href='#atomics.ref.int-1.sentence-3'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> <pre class='codeblock'>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> atomic_ref<span class='anglebracket'>&lt;</span><span class='textit'>integral</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>private</span><span class='operator'>:</span>
    <span class='textit'>integral</span><span class='operator'>*</span> ptr;        <span class='comment' style='font-style:italic;font-family:serif;'>// <span class='textit'>exposition only</span></span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> value_type <span class='operator'>=</span> <span class='textit'>integral</span>;
    <span class='keyword'>using</span> difference_type <span class='operator'>=</span> value_type;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> is_always_lock_free <span class='operator'>=</span> <span class='indexparent'><a class='index' id=':whether_a_given_atomic_ref_type&#39;s_operations_are_always_lock_free_'></a></span><span class='textit'>implementation-defined</span>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> size_t required_alignment <span class='operator'>=</span> <span class='indexparent'><a class='index' id=':required_alignment_for_atomic_ref_type&#39;s_operations_'></a></span><span class='textit'>implementation-defined</span>;

    atomic_ref<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> atomic_ref<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;

    <span class='keyword'>explicit</span> atomic_ref<span class='parenthesis'>(</span><span class='textit'>integral</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    atomic_ref<span class='parenthesis'>(</span><span class='keyword'>const</span> atomic_ref<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>integral</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>operator</span> <span class='textit'>integral</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    <span class='keyword'>bool</span> is_lock_free<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>void</span> store<span class='parenthesis'>(</span><span class='textit'>integral</span>, memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> load<span class='parenthesis'>(</span>memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> exchange<span class='parenthesis'>(</span><span class='textit'>integral</span>,
                      memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_weak<span class='parenthesis'>(</span><span class='textit'>integral</span><span class='operator'>&amp;</span>, <span class='textit'>integral</span>,
                               memory_order, memory_order<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_strong<span class='parenthesis'>(</span><span class='textit'>integral</span><span class='operator'>&amp;</span>, <span class='textit'>integral</span>,
                                 memory_order, memory_order<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_weak<span class='parenthesis'>(</span><span class='textit'>integral</span><span class='operator'>&amp;</span>, <span class='textit'>integral</span>,
                               memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_strong<span class='parenthesis'>(</span><span class='textit'>integral</span><span class='operator'>&amp;</span>, <span class='textit'>integral</span>,
                                 memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    <span class='textit'>integral</span> fetch_add<span class='parenthesis'>(</span><span class='textit'>integral</span>,
                       memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> fetch_sub<span class='parenthesis'>(</span><span class='textit'>integral</span>,
                       memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> fetch_and<span class='parenthesis'>(</span><span class='textit'>integral</span>,
                       memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> fetch_or<span class='parenthesis'>(</span><span class='textit'>integral</span>,
                      memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> fetch_xor<span class='parenthesis'>(</span><span class='textit'>integral</span>,
                       memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>-</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>-</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>integral</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>integral</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>&amp;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>integral</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>|</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>integral</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>^</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>integral</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</pre></div><div class='para' id='atomics.ref.int-2'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.int-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1003'>#</a></div><div id='atomics.ref.int-2.sentence-1' class='sentence'>Descriptions are provided below only for members
that differ from the primary template<a class='hidden_link' href='#atomics.ref.int-2.sentence-1'>.</a></div></div><div class='para' id='atomics.ref.int-3'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.int-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1007'>#</a></div><div id='atomics.ref.int-3.sentence-1' class='sentence'>The following operations perform arithmetic computations<a class='hidden_link' href='#atomics.ref.int-3.sentence-1'>.</a></div> <div id='atomics.ref.int-3.sentence-2' class='sentence'>The key, operator, and computation correspondence is identified
in Table <a href='atomics.types.int#tab:atomic.arithmetic.computations'>132</a><a class='hidden_link' href='#atomics.ref.int-3.sentence-2'>.</a></div> <span class='indexparent'><a class='index' id='lib:fetch_add,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,fetch_add'></a></span><span class='indexparent'><a class='index' id='lib:fetch_and,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,fetch_and'></a></span><span class='indexparent'><a class='index' id='lib:fetch_or,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,fetch_or'></a></span><span class='indexparent'><a class='index' id='lib:fetch_sub,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,fetch_sub'></a></span><span class='indexparent'><a class='index' id='lib:fetch_xor,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,fetch_xor'></a></span></div><div class='itemdecl' id='atomics.ref.int-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.int-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'><span class='textit'>integral</span> fetch_<span class='textit'>key</span><span class='parenthesis'>(</span><span class='textit'>integral</span> operand, memory_order order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.int-4'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.int-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1022'>#</a></div><div id='atomics.ref.int-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> Atomically replaces the value referenced by <span class='texttt'><span class='operator'>*</span>ptr</span> with
the result of the computation applied to the value referenced by <span class='texttt'><span class='operator'>*</span>ptr</span>
and the given operand<a class='hidden_link' href='#atomics.ref.int-4.sentence-1'>.</a></div> <div id='atomics.ref.int-4.sentence-2' class='sentence'>Memory is affected according to the value of <span class='texttt'>order</span><a class='hidden_link' href='#atomics.ref.int-4.sentence-2'>.</a></div> <div id='atomics.ref.int-4.sentence-3' class='sentence'>These operations are atomic read-modify-write operations (<a href='intro.races'>[intro.races]</a>)<a class='hidden_link' href='#atomics.ref.int-4.sentence-3'>.</a></div></div></div><div class='para' id='atomics.ref.int-5'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.int-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1029'>#</a></div><div id='atomics.ref.int-5.sentence-1' class='sentence'><span class='textit'>Returns:</span> Atomically, the value referenced by <span class='texttt'><span class='operator'>*</span>ptr</span>
immediately before the effects<a class='hidden_link' href='#atomics.ref.int-5.sentence-1'>.</a></div></div></div><div class='para' id='atomics.ref.int-6'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.int-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1033'>#</a></div><div id='atomics.ref.int-6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':signed_integer_representation,two&#39;s_complement'></a></span><span class='textit'>Remarks:</span> For signed integer types,
the result is as if the object value and parameters
were converted to their corresponding unsigned types,
the computation performed on those types, and
the result converted back to the signed type<a class='hidden_link' href='#atomics.ref.int-6.sentence-1'>.</a></div> <div id='atomics.ref.int-6.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#atomics.ref.int-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='atomics.ref.int-6.sentence-2' class='sentence'>There are no undefined results arising from the computation<a class='hidden_link' href='#atomics.ref.int-6.sentence-2'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:operator+=,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,operator+='></a></span><span class='indexparent'><a class='index' id='lib:operator-=,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,operator-='></a></span><span class='indexparent'><a class='index' id='lib:operator&=,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,operator&='></a></span><span class='indexparent'><a class='index' id='lib:operator|=,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,operator|='></a></span><span class='indexparent'><a class='index' id='lib:operator^=,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,operator^='></a></span><div class='itemdecl' id='atomics.ref.int-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.int-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'><span class='textit'>integral</span> <span class='keyword'>operator</span> <span class='textit'>op</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>integral</span> operand<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.int-7'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.int-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1055'>#</a></div><div id='atomics.ref.int-7.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to:
<span class='texttt'><span class='keyword'>return</span> fetch_&shy;<span class='textit'>key</span><span class='parenthesis'>(</span>operand<span class='parenthesis'>)</span> <span class='textit'>op</span> operand;</span></div></div></div></div><div id='atomics.ref.float' class='section'><h3 ><a class='secnum' href='#atomics.ref.float' style='min-width:103pt'>30.6.3</a> Specializations for floating-point types <a class='abbr_ref' href='atomics.ref.float'>[atomics.ref.float]</a></h3><div class='para' id='atomics.ref.float-1'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.float-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1062'>#</a></div><div id='atomics.ref.float-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id='lib:atomic_ref<floating-point>'></a></span>There are specializations of the <span class='texttt'>atomic_&shy;ref</span> class template
for the floating-point types
<span class='texttt'><span class='keyword'>float</span></span>,
<span class='texttt'><span class='keyword'>double</span></span>, and
<span class='texttt'><span class='keyword'>long</span> <span class='keyword'>double</span></span><a class='hidden_link' href='#atomics.ref.float-1.sentence-1'>.</a></div> <div id='atomics.ref.float-1.sentence-2' class='sentence'>For each such type <span class='texttt'><span class='textit'>floating-point</span></span>,
the specialization <span class='texttt'>atomic_&shy;ref<span class='anglebracket'>&lt;</span><span class='textit'>floating-point</span><span class='anglebracket'>&gt;</span></span> provides
additional atomic operations appropriate to floating-point types<a class='hidden_link' href='#atomics.ref.float-1.sentence-2'>.</a></div><pre class='codeblock'>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> atomic_ref<span class='anglebracket'>&lt;</span><span class='textit'>floating-point</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>private</span><span class='operator'>:</span>
    <span class='textit'>floating-point</span><span class='operator'>*</span> ptr;  <span class='comment' style='font-style:italic;font-family:serif;'>// <span class='textit'>exposition only</span></span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> value_type <span class='operator'>=</span> <span class='textit'>floating-point</span>;
    <span class='keyword'>using</span> difference_type <span class='operator'>=</span> value_type;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> is_always_lock_free <span class='operator'>=</span> <span class='indexparent'><a class='index' id=':whether_a_given_atomic_ref_type&#39;s_operations_are_always_lock_free__'></a></span><span class='textit'>implementation-defined</span>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> size_t required_alignment <span class='operator'>=</span> <span class='indexparent'><a class='index' id=':required_alignment_for_atomic_ref_type&#39;s_operations__'></a></span><span class='textit'>implementation-defined</span>;

    atomic_ref<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> atomic_ref<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;

    <span class='keyword'>explicit</span> atomic_ref<span class='parenthesis'>(</span><span class='textit'>floating-point</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    atomic_ref<span class='parenthesis'>(</span><span class='keyword'>const</span> atomic_ref<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    <span class='textit'>floating-point</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>floating-point</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>operator</span> <span class='textit'>floating-point</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    <span class='keyword'>bool</span> is_lock_free<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>void</span> store<span class='parenthesis'>(</span><span class='textit'>floating-point</span>, memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>floating-point</span> load<span class='parenthesis'>(</span>memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>floating-point</span> exchange<span class='parenthesis'>(</span><span class='textit'>floating-point</span>,
                            memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_weak<span class='parenthesis'>(</span><span class='textit'>floating-point</span><span class='operator'>&amp;</span>, <span class='textit'>floating-point</span>,
                               memory_order, memory_order<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_strong<span class='parenthesis'>(</span><span class='textit'>floating-point</span><span class='operator'>&amp;</span>, <span class='textit'>floating-point</span>,
                                 memory_order, memory_order<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_weak<span class='parenthesis'>(</span><span class='textit'>floating-point</span><span class='operator'>&amp;</span>, <span class='textit'>floating-point</span>,
                               memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_strong<span class='parenthesis'>(</span><span class='textit'>floating-point</span><span class='operator'>&amp;</span>, <span class='textit'>floating-point</span>,
                                 memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    <span class='textit'>floating-point</span> fetch_add<span class='parenthesis'>(</span><span class='textit'>floating-point</span>,
                             memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>floating-point</span> fetch_sub<span class='parenthesis'>(</span><span class='textit'>floating-point</span>,
                             memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    <span class='textit'>floating-point</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>floating-point</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>floating-point</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>floating-point</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</pre></div><div class='para' id='atomics.ref.float-2'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.float-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1117'>#</a></div><div id='atomics.ref.float-2.sentence-1' class='sentence'>Descriptions are provided below only for members
that differ from the primary template<a class='hidden_link' href='#atomics.ref.float-2.sentence-1'>.</a></div></div><div class='para' id='atomics.ref.float-3'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.float-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1121'>#</a></div><div id='atomics.ref.float-3.sentence-1' class='sentence'>The following operations perform arithmetic computations<a class='hidden_link' href='#atomics.ref.float-3.sentence-1'>.</a></div> <div id='atomics.ref.float-3.sentence-2' class='sentence'>The key, operator, and computation correspondence are identified
in Table <a href='atomics.types.int#tab:atomic.arithmetic.computations'>132</a><a class='hidden_link' href='#atomics.ref.float-3.sentence-2'>.</a></div> <span class='indexparent'><a class='index' id='lib:fetch_add,atomic_ref<floating-point>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<floating-point>,fetch_add'></a></span><span class='indexparent'><a class='index' id='lib:fetch_sub,atomic_ref<floating-point>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<floating-point>,fetch_sub'></a></span></div><div class='itemdecl' id='atomics.ref.float-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.float-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'><span class='textit'>floating-point</span> fetch_<span class='textit'>key</span><span class='parenthesis'>(</span><span class='textit'>floating-point</span> operand,
                          memory_order order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.float-4'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.float-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1134'>#</a></div><div id='atomics.ref.float-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> Atomically replaces the value referenced by <span class='texttt'><span class='operator'>*</span>ptr</span> with
the result of the computation applied to the value referenced by <span class='texttt'><span class='operator'>*</span>ptr</span>
and the given operand<a class='hidden_link' href='#atomics.ref.float-4.sentence-1'>.</a></div> <div id='atomics.ref.float-4.sentence-2' class='sentence'>Memory is affected according to the value of <span class='texttt'>order</span><a class='hidden_link' href='#atomics.ref.float-4.sentence-2'>.</a></div> <div id='atomics.ref.float-4.sentence-3' class='sentence'>These operations are atomic read-modify-write operations (<a href='intro.races'>[intro.races]</a>)<a class='hidden_link' href='#atomics.ref.float-4.sentence-3'>.</a></div></div></div><div class='para' id='atomics.ref.float-5'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.float-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1141'>#</a></div><div id='atomics.ref.float-5.sentence-1' class='sentence'><span class='textit'>Returns:</span> Atomically, the value referenced by <span class='texttt'><span class='operator'>*</span>ptr</span>
immediately before the effects<a class='hidden_link' href='#atomics.ref.float-5.sentence-1'>.</a></div></div></div><div class='para' id='atomics.ref.float-6'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.float-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1145'>#</a></div><div id='atomics.ref.float-6.sentence-1' class='sentence'><span class='textit'>Remarks:</span> If the result is not a representable value for its type (<a href='expr.pre'>[expr.pre]</a>),
the result is unspecified,
but the operations otherwise have no undefined behavior<a class='hidden_link' href='#atomics.ref.float-6.sentence-1'>.</a></div> <div id='atomics.ref.float-6.sentence-2' class='sentence'>Atomic arithmetic operations on <span class='texttt'><span class='textit'>floating-point</span></span> should conform to
the <span class='texttt'>std<span class='operator'>:</span><span class='operator'>:</span>numeric_&shy;limits<span class='anglebracket'>&lt;</span><span class='textit'>floating-point</span><span class='anglebracket'>&gt;</span></span> traits
associated with the floating-point type (<a href='limits.syn'>[limits.syn]</a>)<a class='hidden_link' href='#atomics.ref.float-6.sentence-2'>.</a></div> <div id='atomics.ref.float-6.sentence-3' class='sentence'>The floating-point environment (<a href='cfenv'>[cfenv]</a>)
for atomic arithmetic operations on <span class='texttt'><span class='textit'>floating-point</span></span>
may be different than the calling thread's floating-point environment<a class='hidden_link' href='#atomics.ref.float-6.sentence-3'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator+=,atomic_ref<floating-point>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<floating-point>,operator+='></a></span><span class='indexparent'><a class='index' id='lib:operator-=,atomic_ref<floating-point>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<floating-point>,operator-='></a></span><div class='itemdecl' id='atomics.ref.float-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.float-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'><span class='textit'>floating-point</span> <span class='keyword'>operator</span> <span class='textit'>op</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>floating-point</span> operand<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'><div id='atomics.ref.float-sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to:
<span class='texttt'><span class='keyword'>return</span> fetch_&shy;<span class='textit'>key</span><span class='parenthesis'>(</span>operand<span class='parenthesis'>)</span> <span class='textit'>op</span> operand;</span></div></div></div><div id='atomics.ref.pointer' class='section'><h3 ><a class='secnum' href='#atomics.ref.pointer' style='min-width:103pt'>30.6.4</a> Partial specialization for pointers <a class='abbr_ref' href='atomics.ref.pointer'>[atomics.ref.pointer]</a></h3><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>'></a></span>
<pre class='codeblock'>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> atomic_ref<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>private</span><span class='operator'>:</span>
    T<span class='operator'>*</span><span class='operator'>*</span> ptr;              <span class='comment' style='font-style:italic;font-family:serif;'>// <span class='textit'>exposition only</span></span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> value_type <span class='operator'>=</span> T<span class='operator'>*</span>;
    <span class='keyword'>using</span> difference_type <span class='operator'>=</span> ptrdiff_t;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> is_always_lock_free <span class='operator'>=</span> <span class='indexparent'><a class='index' id=':whether_a_given_atomic_ref_type&#39;s_operations_are_always_lock_free___'></a></span><span class='textit'>implementation-defined</span>;
    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> size_t required_alignment <span class='operator'>=</span> <span class='indexparent'><a class='index' id=':required_alignment_for_atomic_ref_type&#39;s_operations___'></a></span><span class='textit'>implementation-defined</span>;

    atomic_ref<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> atomic_ref<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;

    <span class='keyword'>explicit</span> atomic_ref<span class='parenthesis'>(</span>T<span class='operator'>*</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    atomic_ref<span class='parenthesis'>(</span><span class='keyword'>const</span> atomic_ref<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>T<span class='operator'>*</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>operator</span> T<span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    <span class='keyword'>bool</span> is_lock_free<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>void</span> store<span class='parenthesis'>(</span>T<span class='operator'>*</span>, memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    T<span class='operator'>*</span> load<span class='parenthesis'>(</span>memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    T<span class='operator'>*</span> exchange<span class='parenthesis'>(</span>T<span class='operator'>*</span>, memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_weak<span class='parenthesis'>(</span>T<span class='operator'>*</span><span class='operator'>&amp;</span>, T<span class='operator'>*</span>,
                               memory_order, memory_order<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_strong<span class='parenthesis'>(</span>T<span class='operator'>*</span><span class='operator'>&amp;</span>, T<span class='operator'>*</span>,
                                 memory_order, memory_order<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_weak<span class='parenthesis'>(</span>T<span class='operator'>*</span><span class='operator'>&amp;</span>, T<span class='operator'>*</span>,
                               memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_strong<span class='parenthesis'>(</span>T<span class='operator'>*</span><span class='operator'>&amp;</span>, T<span class='operator'>*</span>,
                                 memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    T<span class='operator'>*</span> fetch_add<span class='parenthesis'>(</span>difference_type, memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    T<span class='operator'>*</span> fetch_sub<span class='parenthesis'>(</span>difference_type, memory_order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>-</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>-</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>=</span><span class='parenthesis'>(</span>difference_type<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>=</span><span class='parenthesis'>(</span>difference_type<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</pre><div class='para' id='atomics.ref.pointer-1'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.pointer-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1216'>#</a></div><div id='atomics.ref.pointer-1.sentence-1' class='sentence'>Descriptions are provided below only for members
that differ from the primary template<a class='hidden_link' href='#atomics.ref.pointer-1.sentence-1'>.</a></div></div><div class='para' id='atomics.ref.pointer-2'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.pointer-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1220'>#</a></div><div id='atomics.ref.pointer-2.sentence-1' class='sentence'>The following operations perform arithmetic computations<a class='hidden_link' href='#atomics.ref.pointer-2.sentence-1'>.</a></div> <div id='atomics.ref.pointer-2.sentence-2' class='sentence'>The key, operator, and computation correspondence is identified
in Table <a href='atomics.types.pointer#tab:atomic.pointer.computations'>133</a><a class='hidden_link' href='#atomics.ref.pointer-2.sentence-2'>.</a></div> <span class='indexparent'><a class='index' id='lib:fetch_add,atomic_ref<T*>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,fetch_add'></a></span><span class='indexparent'><a class='index' id='lib:fetch_sub,atomic_ref<T*>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,fetch_sub'></a></span></div><div class='itemdecl' id='atomics.ref.pointer-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.pointer-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>T<span class='operator'>*</span> fetch_<span class='textit'>key</span><span class='parenthesis'>(</span>difference_type operand, memory_order order <span class='operator'>=</span> memory_order_seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.pointer-3'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.pointer-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1232'>#</a></div><div id='atomics.ref.pointer-3.sentence-1' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>T</span> shall be an object type,
otherwise the program is ill-formed<a class='hidden_link' href='#atomics.ref.pointer-3.sentence-1'>.</a></div></div></div><div class='para' id='atomics.ref.pointer-4'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.pointer-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1236'>#</a></div><div id='atomics.ref.pointer-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> Atomically replaces the value referenced by <span class='texttt'><span class='operator'>*</span>ptr</span> with
the result of the computation applied to the value referenced by <span class='texttt'><span class='operator'>*</span>ptr</span>
and the given operand<a class='hidden_link' href='#atomics.ref.pointer-4.sentence-1'>.</a></div> <div id='atomics.ref.pointer-4.sentence-2' class='sentence'>Memory is affected according to the value of <span class='texttt'>order</span><a class='hidden_link' href='#atomics.ref.pointer-4.sentence-2'>.</a></div> <div id='atomics.ref.pointer-4.sentence-3' class='sentence'>These operations are atomic read-modify-write operations (<a href='intro.races'>[intro.races]</a>)<a class='hidden_link' href='#atomics.ref.pointer-4.sentence-3'>.</a></div></div></div><div class='para' id='atomics.ref.pointer-5'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.pointer-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1243'>#</a></div><div id='atomics.ref.pointer-5.sentence-1' class='sentence'><span class='textit'>Returns:</span> Atomically, the value referenced by <span class='texttt'><span class='operator'>*</span>ptr</span>
immediately before the effects<a class='hidden_link' href='#atomics.ref.pointer-5.sentence-1'>.</a></div></div></div><div class='para' id='atomics.ref.pointer-6'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.pointer-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1247'>#</a></div><div id='atomics.ref.pointer-6.sentence-1' class='sentence'><span class='textit'>Remarks:</span> The result may be an undefined address,
but the operations otherwise have no undefined behavior<a class='hidden_link' href='#atomics.ref.pointer-6.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator+=,atomic_ref<T*>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,operator+='></a></span><span class='indexparent'><a class='index' id='lib:operator-=,atomic_ref<T*>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,operator-='></a></span><div class='itemdecl' id='atomics.ref.pointer-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.pointer-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>T<span class='operator'>*</span> <span class='keyword'>operator</span> <span class='textit'>op</span><span class='operator'>=</span><span class='parenthesis'>(</span>difference_type operand<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.pointer-7'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.pointer-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1259'>#</a></div><div id='atomics.ref.pointer-7.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to:
<span class='texttt'><span class='keyword'>return</span> fetch_&shy;<span class='textit'>key</span><span class='parenthesis'>(</span>operand<span class='parenthesis'>)</span> <span class='textit'>op</span> operand;</span></div></div></div></div><div id='atomics.ref.memop' class='section'><h3 ><a class='secnum' href='#atomics.ref.memop' style='min-width:103pt'>30.6.5</a> Member operators
                          common to integers and pointers to objects <a class='abbr_ref' href='atomics.ref.memop'>[atomics.ref.memop]</a></h3><span class='indexparent'><a class='index' id='lib:operator++,atomic_ref<T*>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,operator++'></a></span><span class='indexparent'><a class='index' id='lib:operator++,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,operator++'></a></span><div class='itemdecl' id='atomics.ref.memop-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.memop-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.memop-1'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.memop-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1274'>#</a></div><div id='atomics.ref.memop-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> fetch_&shy;add<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;</span></div></div></div><span class='indexparent'><a class='index' id='lib:operator--,atomic_ref<T*>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,operator--'></a></span><span class='indexparent'><a class='index' id='lib:operator--,atomic_ref<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,operator--'></a></span><div class='itemdecl' id='atomics.ref.memop-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.memop-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>-</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.memop-2'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.memop-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1285'>#</a></div><div id='atomics.ref.memop-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> fetch_&shy;sub<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;</span></div></div></div><span class='indexparent'><a class='index' id='lib:operator++,atomic_ref<T*>_'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,operator++_'></a></span><span class='indexparent'><a class='index' id='lib:operator++,atomic_ref<integral>_'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,operator++_'></a></span><div class='itemdecl' id='atomics.ref.memop-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.memop-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.memop-3'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.memop-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1296'>#</a></div><div id='atomics.ref.memop-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> fetch_&shy;add<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span> <span class='operator'>+</span> <span class='literal'>1</span>;</span></div></div></div><span class='indexparent'><a class='index' id='lib:operator--,atomic_ref<T*>_'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<T*>,operator--_'></a></span><span class='indexparent'><a class='index' id='lib:operator--,atomic_ref<integral>_'></a></span><span class='indexparent'><a class='index' id='lib:atomic_ref<integral>,operator--_'></a></span><div class='itemdecl' id='atomics.ref.memop-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#atomics.ref.memop-itemdecl:4'>ðŸ”—</a></div><code class='itemdeclcode'>T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>-</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='atomics.ref.memop-4'><div class='marginalizedparent'><a class='marginalized' href='#atomics.ref.memop-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e23cbb5b79397dd07c4c7adbea35b90075c78268/source/atomics.tex#L1307'>#</a></div><div id='atomics.ref.memop-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> fetch_&shy;sub<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span> <span class='operator'>-</span> <span class='literal'>1</span>;</span></div></div></div></div></div></body></html>