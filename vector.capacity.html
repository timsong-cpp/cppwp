<!DOCTYPE html><html lang='en'><head><title>[vector.capacity]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>23</a> Containers library <a class='abbr_ref' href='./#containers'>[containers]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>23.3</a> Sequence containers <a class='abbr_ref' href='sequences#vector.capacity'>[sequences]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>23.3.11</a> Class template <span class='texttt'>vector</span> <a class='abbr_ref' href='vector#capacity'>[vector]</a></h3><div id='vector.capacity'><h4 ><a class='secnum' style='min-width:118pt'>23.3.11.3</a> <span class='texttt'>vector</span> capacity <a class='abbr_ref'>[vector.capacity]</a></h4><p ><span class='indexparent'><a class='index' id='capacity,vector'></a></span><code class='itemdecl'>
size_type capacity() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='itemdescr'><p ><i>Returns:</i>
The total number of elements that the vector can hold
without requiring reallocation.
</p></div></div><p ><span class='indexparent'><a class='index' id='reserve,vector'></a></span><code class='itemdecl'>
void reserve(size_type n);
</code></p><div class='itemdescr'></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>T</span> shall be <span class='texttt'>MoveInsertable</span> into <span class='texttt'>*this</span>.</p></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='itemdescr'><p ><i>Effects:</i>
A directive that informs a
<span class='texttt'>vector</span>
of a planned change in size, so that it can manage the storage allocation accordingly.
After
<span class='texttt'>reserve()</span>,
<span class='texttt'>capacity()</span>
is greater or equal to the argument of
<span class='texttt'>reserve</span>
if reallocation happens; and equal to the previous value of
<span class='texttt'>capacity()</span>
otherwise.
Reallocation happens at this point if and only if the current capacity is less than the
argument of
<span class='texttt'>reserve()</span>. If an exception is thrown
other than by the move constructor of a non-<span class='texttt'>CopyInsertable</span> type,
there are no effects.</p></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='itemdescr'><p ><i>Complexity:</i>
It does not change the size of the sequence and takes at most linear
time in the size of the sequence.</p></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='itemdescr'><p ><i>Throws:</i>
<span class='texttt'>length_error</span> if <span class='texttt'>n &gt;
max_size()</span>.<a class='footnotenum' href='#footnote-262'>262</a></p></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='itemdescr'><p ><i>Remarks:</i>
Reallocation invalidates all the references, pointers, and iterators
referring to the elements in the sequence.
No reallocation shall take place during insertions that happen
after a call to
<span class='texttt'>reserve()</span>
until the time when an insertion would make the size of the vector
greater than the value of
<span class='texttt'>capacity()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='shrink_to_fit,vector'></a></span><code class='itemdecl'>
void shrink_to_fit();
</code></p><div class='itemdescr'></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>T</span> shall be <span class='texttt'>MoveInsertable</span> into <span class='texttt'>*this</span>.</p></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='itemdescr'><p ><i>Effects:</i> <span class='texttt'>shrink_to_fit</span> is a non-binding request to reduce
<span class='texttt'>capacity()</span> to <span class='texttt'>size()</span>.
[&nbsp;<i>Note:</i> The request is non-binding to allow latitude for
implementation-specific optimizations. <i>&nbsp;â€”&nbsp;end note</i>&nbsp;]
It does not increase <span class='texttt'>capacity()</span>, but may reduce <span class='texttt'>capacity()</span>
by causing reallocation. 
If an exception is thrown other than by the move constructor
of a non-<span class='texttt'>CopyInsertable</span> <span class='texttt'>T</span> there are no effects.</p></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='itemdescr'><p ><i>Complexity:</i> Linear in the size of the sequence.</p></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='itemdescr'><p ><i>Remarks:</i> Reallocation invalidates all the references, pointers, and iterators
referring to the elements in the sequence.
If no reallocation happens, they remain valid.
</p></div></div><p ><span class='indexparent'><a class='index' id='swap,vector'></a></span><code class='itemdecl'>
void swap(vector&amp; x)
  noexcept(allocator_traits&lt;Allocator&gt;::propagate_on_container_swap::value ||
           allocator_traits&lt;Allocator&gt;::is_always_equal::value);
</code></p><div class='itemdescr'></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='itemdescr'><p ><i>Effects:</i>
Exchanges the contents and
<span class='texttt'>capacity()</span>
of
<span class='texttt'>*this</span>
with that of <span class='texttt'>x</span>.</p></div></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='itemdescr'><p ><i>Complexity:</i>
Constant time.
</p></div></div><p ><span class='indexparent'><a class='index' id='resize,vector'></a></span><code class='itemdecl'>
void resize(size_type sz);
</code></p><div class='itemdescr'></div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='itemdescr'><p ><i>Effects:</i> If <span class='texttt'>sz &lt; size()</span>, erases the last <span class='texttt'>size() - sz</span> elements
from the sequence. Otherwise,
appends <span class='texttt'>sz - size()</span> default-inserted elements to the sequence.</p></div></div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>T</span> shall be
<span class='texttt'>MoveInsertable</span> and <span class='texttt'>DefaultInsertable</span> into <span class='texttt'>*this</span>.</p></div></div><div class='para' id='15'><div class='marginalizedparent'><a class='marginalized' href='#15'>15</a></div><div class='itemdescr'><p ><i>Remarks:</i> If an exception is thrown other than by the move constructor of a non-<span class='texttt'>CopyInsertable</span>
<span class='texttt'>T</span> there are no effects.
</p></div></div><p ><span class='indexparent'><a class='index' id='resize,vector'></a></span><code class='itemdecl'>
void resize(size_type sz, const T&amp; c);
</code></p><div class='itemdescr'></div><div class='para' id='16'><div class='marginalizedparent'><a class='marginalized' href='#16'>16</a></div><div class='itemdescr'><p ><i>Effects:</i> If <span class='texttt'>sz &lt; size()</span>, erases the last <span class='texttt'>size() - sz</span> elements
from the sequence. Otherwise,
appends <span class='texttt'>sz - size()</span> copies of <span class='texttt'>c</span> to the sequence.</p></div></div><div class='para' id='17'><div class='marginalizedparent'><a class='marginalized' href='#17'>17</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>T</span> shall be
<span class='texttt'>CopyInsertable</span> into <span class='texttt'>*this</span>.</p></div></div><div class='para' id='18'><div class='marginalizedparent'><a class='marginalized' href='#18'>18</a></div><div class='itemdescr'><p ><i>Remarks:</i> If an exception is thrown there are no effects.
</p></div></div><div class='footnote' id='footnote-262'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-262'>262)</a></div><p ><span class='texttt'>reserve()</span> uses <span class='texttt'>Allocator::allocate()</span> which
may throw an appropriate exception.</p></div></div></div></body></html>