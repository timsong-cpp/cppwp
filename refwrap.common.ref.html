<!DOCTYPE html><html lang='en'><head><title>[refwrap.common.ref]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>22</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>22.10</a> Function objects <a class='abbr_ref' href='function.objects#refwrap.common.ref'>[function.objects]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>22.10.6</a> Class template <span class='texttt'>reference_<span class='shy'></span>wrapper</span> <a class='abbr_ref' href='refwrap#common.ref'>[refwrap]</a></h3><h4 ><a class='secnum' style='min-width:95pt'>22.10.6.7</a> <span class='texttt'>common_<span class='shy'></span>reference</span> related specializations <a class='abbr_ref'>[refwrap.common.ref]</a></h4><div class='texpara'><span id='lib:basic_common_reference'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_common_reference'>ðŸ”—</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <i >is-ref-wrapper</i> <span class='operator'>=</span> <span class='literal'>false</span>;                              <span class='comment'>// <i >exposition only</i></span>

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <i >is-ref-wrapper</i><span class='anglebracket'>&lt;</span>reference_wrapper<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> <span class='operator'>=</span> <span class='literal'>true</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span> T, <span class='keyword'>class</span> RQ, <span class='keyword'>class</span> TQ<span class='anglebracket'>&gt;</span>
    <span class='keyword'>concept</span> <a class='hidden_link' href='#concept:ref-wrap-common-reference-exists-with' title='22.10.6.7&emsp;common_&shy;reference related specializations&emsp;[refwrap.common.ref]'><span id='concept:ref-wrap-common-reference-exists-with'><span class='tcode_in_codeblock'><i >ref-wrap-common-reference-exists-with</i></span></span></a> <span class='operator'>=</span>                     <span class='comment'>// <i >exposition only</i></span>
      <i >is-ref-wrapper</i><span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
      <span class='keyword'>requires</span> <span class='curlybracket'>{</span> <span class='keyword'>typename</span> common_reference_t<span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> R<span class='operator'>::</span>type<span class='operator'>&amp;</span>, TQ<span class='anglebracket'>&gt;</span>; <span class='curlybracket'>}</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
      <a href='concept.convertible#concept:convertible_to' title='18.4.4&emsp;Concept convertible_&shy;to&emsp;[concept.convertible]'><span id='conceptref:convertible_to'><span class='tcode_in_codeblock'>convertible_<span class='shy'></span>to</span></span></a><span class='anglebracket'>&lt;</span>RQ, common_reference_t<span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> R<span class='operator'>::</span>type<span class='operator'>&amp;</span>, TQ<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span> T, <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> RQual, <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> TQual<span class='anglebracket'>&gt;</span>
    <span class='keyword'>requires</span> <span class='parenthesis'>(</span><a href='#concept:ref-wrap-common-reference-exists-with' title='22.10.6.7&emsp;common_&shy;reference related specializations&emsp;[refwrap.common.ref]'><span id='conceptref:ref-wrap-common-reference-exists-with'><span class='tcode_in_codeblock'><i >ref-wrap-common-reference-exists-with</i></span></span></a><span class='anglebracket'>&lt;</span>R, T, RQual<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span>, TQual<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
              <span class='operator'>!</span><a href='#concept:ref-wrap-common-reference-exists-with' title='22.10.6.7&emsp;common_&shy;reference related specializations&emsp;[refwrap.common.ref]'><span id='conceptref:ref-wrap-common-reference-exists-with_'><span class='tcode_in_codeblock'><i >ref-wrap-common-reference-exists-with</i></span></span></a><span class='anglebracket'>&lt;</span>T, R, TQual<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, RQual<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>
  <span class='keyword'>struct</span> basic_common_reference<span class='anglebracket'>&lt;</span>R, T, RQual, TQual<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
    <span class='keyword'>using</span> type <span class='operator'>=</span> common_reference_t<span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> R<span class='operator'>::</span>type<span class='operator'>&amp;</span>, TQual<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;
  <span class='curlybracket'>}</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> R, <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> TQual, <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> RQual<span class='anglebracket'>&gt;</span>
    <span class='keyword'>requires</span> <span class='parenthesis'>(</span><a href='#concept:ref-wrap-common-reference-exists-with' title='22.10.6.7&emsp;common_&shy;reference related specializations&emsp;[refwrap.common.ref]'><span id='conceptref:ref-wrap-common-reference-exists-with__'><span class='tcode_in_codeblock'><i >ref-wrap-common-reference-exists-with</i></span></span></a><span class='anglebracket'>&lt;</span>R, T, RQual<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span>, TQual<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
              <span class='operator'>!</span><a href='#concept:ref-wrap-common-reference-exists-with' title='22.10.6.7&emsp;common_&shy;reference related specializations&emsp;[refwrap.common.ref]'><span id='conceptref:ref-wrap-common-reference-exists-with___'><span class='tcode_in_codeblock'><i >ref-wrap-common-reference-exists-with</i></span></span></a><span class='anglebracket'>&lt;</span>T, R, TQual<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, RQual<span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>
  <span class='keyword'>struct</span> basic_common_reference<span class='anglebracket'>&lt;</span>T, R, TQual, RQual<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
    <span class='keyword'>using</span> type <span class='operator'>=</span> common_reference_t<span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> R<span class='operator'>::</span>type<span class='operator'>&amp;</span>, TQual<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></div></div></body></html>