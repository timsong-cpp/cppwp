<!DOCTYPE html><html lang='en'><head><title>[cpp.line]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>16</a> Preprocessing directives <a class='abbr_ref' href='./#cpp'>[cpp]</a></h1><div id='cpp.line'><h2 ><a class='secnum' style='min-width:88pt'>16.4</a> Line control <a class='abbr_ref'>[cpp.line]</a></h2><p ><span class='indexparent'><a class='index' id='preprocessing_directives,line_control'></a></span><span class='indexparent'><a class='index' id='#line'></a></span></p><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><p >The string literal of a
<span class='texttt'>#line</span>
directive, if present,
shall be a character string literal.</p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><p >The
<i>line number</i>
of the current source line is one greater than
the number of new-line characters read or introduced
in translation phase 1 (<a href='lex.phases'>[lex.phases]</a>)
while processing the source file to the current token.</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><p >A preprocessing directive of the form</p><pre class='bnf'><span class='terminal'># line</span> <i ><a href='lex.fcon#nt:digit-sequence'>digit-sequence</a></i> <i ><a href='cpp#nt:new-line'>new-line</a></i></pre><p >causes the implementation to behave as if
the following sequence of source lines begins with a
source line that has a line number as specified
by the digit sequence (interpreted as a decimal integer).
If the digit sequence specifies zero
or a number greater than 2147483647,
the behavior is undefined.</p></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><p >A preprocessing directive of the form</p><pre class='bnf'><span class='terminal'># line</span> <i ><a href='lex.fcon#nt:digit-sequence'>digit-sequence</a></i> <span class='terminal'>"</span> <i ><a href='lex.string#nt:s-char-sequence'>s-char-sequence</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <span class='terminal'>"</span> <i ><a href='cpp#nt:new-line'>new-line</a></i></pre><p >sets the presumed line number similarly and changes the
presumed name of the source file to be the contents
of the character string literal.</p></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><p >A preprocessing directive of the form</p><pre class='bnf'><span class='terminal'># line</span> <i ><a href='cpp#nt:pp-tokens'>pp-tokens</a></i> <i ><a href='cpp#nt:new-line'>new-line</a></i></pre><p >(that does not match one of the two previous forms)
is permitted.
The preprocessing tokens after
<span class='texttt'>line</span>
on the directive are processed just as in normal text
(each identifier currently defined as a macro name is replaced by its
replacement list of preprocessing tokens).
If the directive resulting after all replacements does not match
one of the two previous forms, the behavior is undefined;
otherwise, the result is processed as appropriate.</p></div></div></div></body></html>