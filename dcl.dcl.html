<!DOCTYPE html><html lang='en'><head><title>[dcl.dcl]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>9</a> Declarations <a class='abbr_ref' href='./#dcl.dcl'>[dcl.dcl]</a></h1><span class='indexparent'><a class='index' id=':declaration'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L9'>#</a></div><div id='1.sentence-1' class='sentence'>Declarations generally specify how names are to be interpreted<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>Declarations have
the form</div><pre class='bnf'><a class='nontermdef' href='#nt:declaration-seq' id='nt:declaration-seq'>declaration-seq:</a>
&#9;<i ><a href='dcl.dcl#nt:declaration'>declaration</a></i>
&#9;<i ><a href='dcl.dcl#nt:declaration-seq'>declaration-seq</a></i> <i ><a href='dcl.dcl#nt:declaration'>declaration</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:declaration' id='nt:declaration'>declaration:</a>
&#9;<i ><a href='dcl.dcl#nt:block-declaration'>block-declaration</a></i>
&#9;<i ><a href='dcl.dcl#nt:nodeclspec-function-declaration'>nodeclspec-function-declaration</a></i>
&#9;<i ><a href='dcl.fct.def.general#nt:function-definition'>function-definition</a></i>
&#9;<i ><a href='temp#nt:template-declaration'>template-declaration</a></i>
&#9;<i ><a href='temp.deduct.guide#nt:deduction-guide'>deduction-guide</a></i>
&#9;<i ><a href='temp.explicit#nt:explicit-instantiation'>explicit-instantiation</a></i>
&#9;<i ><a href='temp.expl.spec#nt:explicit-specialization'>explicit-specialization</a></i>
&#9;<i ><a href='dcl.link#nt:linkage-specification'>linkage-specification</a></i>
&#9;<i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i>
&#9;<i ><a href='dcl.dcl#nt:empty-declaration'>empty-declaration</a></i>
&#9;<i ><a href='dcl.dcl#nt:attribute-declaration'>attribute-declaration</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:block-declaration' id='nt:block-declaration'>block-declaration:</a>
&#9;<i ><a href='dcl.dcl#nt:simple-declaration'>simple-declaration</a></i>
&#9;<i ><a href='dcl.asm#nt:asm-definition'>asm-definition</a></i>
&#9;<i ><a href='namespace.alias#nt:namespace-alias-definition'>namespace-alias-definition</a></i>
&#9;<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>
&#9;<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i>
&#9;<i ><a href='dcl.dcl#nt:static_assert-declaration'>static_assert-declaration</a></i>
&#9;<i ><a href='dcl.dcl#nt:alias-declaration'>alias-declaration</a></i>
&#9;<i ><a href='dcl.enum#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:nodeclspec-function-declaration' id='nt:nodeclspec-function-declaration'>nodeclspec-function-declaration:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <span class='terminal'>;</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:alias-declaration' id='nt:alias-declaration'>alias-declaration:</a>
&#9;<span class='terminal'>using</span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>=</span> <i ><a href='dcl.name#nt:defining-type-id'>defining-type-id</a></i> <span class='terminal'>;</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:simple-declaration' id='nt:simple-declaration'>simple-declaration:</a>
&#9;<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> <i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>;</span>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> <i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i> <span class='terminal'>;</span>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>[</span> <i ><a href='cpp#nt:identifier-list'>identifier-list</a></i> <span class='terminal'>]</span> <i ><a href='dcl.init#nt:initializer'>initializer</a></i> <span class='terminal'>;</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:static_assert-declaration' id='nt:static_assert-declaration'>static_assert-declaration:</a>
&#9;<span class='terminal'>static_assert</span> <span class='terminal'>(</span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> <span class='terminal'>)</span> <span class='terminal'>;</span>
&#9;<span class='terminal'>static_assert</span> <span class='terminal'>(</span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> <span class='terminal'>,</span> <i ><a href='lex.string#nt:string-literal'>string-literal</a></i> <span class='terminal'>)</span> <span class='terminal'>;</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:empty-declaration' id='nt:empty-declaration'>empty-declaration:</a>
&#9;<span class='terminal'>;</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:attribute-declaration' id='nt:attribute-declaration'>attribute-declaration:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> <span class='terminal'>;</span>
</pre><div id='1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='1.sentence-3' class='sentence'><i ><a href='dcl.asm#nt:asm-definition'>asm-definition</a></i><span class='textit'>s</span> are described in <a href='#dcl.asm'>[dcl.asm]</a>, and
<i ><a href='dcl.link#nt:linkage-specification'>linkage-specification</a></i><span class='textit'>s</span> are described in <a href='#dcl.link'>[dcl.link]</a>;
<i ><a href='dcl.fct.def.general#nt:function-definition'>function-definition</a></i><span class='textit'>s</span> are described in <a href='#dcl.fct.def'>[dcl.fct.def]</a> and
<i ><a href='temp#nt:template-declaration'>template-declaration</a></i><span class='textit'>s</span> and
<i ><a href='temp.deduct.guide#nt:deduction-guide'>deduction-guide</a></i><span class='textit'>s</span> are described in <a href='temp'>[temp]</a>;
<i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i><span class='textit'>s</span> are described in <a href='#namespace.def'>[namespace.def]</a>,
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i><span class='textit'>s</span> are described in <a href='#namespace.udecl'>[namespace.udecl]</a> and
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><span class='textit'>s</span> are described in <a href='#namespace.udir'>[namespace.udir]</a><a class='hidden_link' href='#1.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L90'>#</a></div><div id='2.sentence-1' class='sentence'>A
<i ><a href='dcl.dcl#nt:simple-declaration'>simple-declaration</a></i> or
<i ><a href='dcl.dcl#nt:nodeclspec-function-declaration'>nodeclspec-function-declaration</a></i> of the form
<pre class='ncsimplebnf'><i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>;</span>
</pre>
is divided into three parts<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>Attributes are described in <a href='#dcl.attr'>[dcl.attr]</a><a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'><i ><a href='dcl.spec#nt:decl-specifier'>decl-specifier</a></i><span class='textit'>s</span>, the principal components of
a <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>, are described in <a href='#dcl.spec'>[dcl.spec]</a><a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='2.sentence-4' class='sentence'><i ><a href='dcl.decl#nt:declarator'>declarator</a></i><span class='textit'>s</span>, the components of an
<i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i>, are described in <a href='#dcl.decl'>[dcl.decl]</a><a class='hidden_link' href='#2.sentence-4'>.</a></div> <div id='2.sentence-5' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i>
appertains to each of the entities declared by
the <i ><a href='dcl.decl#nt:declarator'>declarator</a></i><span class='textit'>s</span>
of the <i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i><a class='hidden_link' href='#2.sentence-5'>.</a></div> <div id='2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-6' class='sentence'>In the declaration for an entity, attributes appertaining to that
entity may appear at the start of the declaration and after the
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> for that declaration<a class='hidden_link' href='#2.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>   <div id='2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
[[noreturn]] void f [[noreturn]] ();    <span class='comment'>// OK
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L116'>#</a></div><div id='3.sentence-1' class='sentence'>Except where otherwise specified, the meaning of an <i ><a href='dcl.dcl#nt:attribute-declaration'>attribute-declaration</a></i>
is <span class='indexparent'><a class='index' id=':meaning_of_attribute_declaration'></a></span>implementation-defined<a class='hidden_link' href='#3.sentence-1'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L120'>#</a></div><div id='4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':declaration_'></a></span><span class='indexparent'><a class='index' id=':scope'></a></span>A declaration occurs in a <a href='basic.scope#def:scope'>scope</a>; the scope rules are
summarized in <a href='basic.lookup'>[basic.lookup]</a><a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>A declaration that declares a function
or defines a class, namespace, template, or function also has one or
more scopes nested within it<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.sentence-3' class='sentence'>These nested scopes, in turn, can have
declarations nested within them<a class='hidden_link' href='#4.sentence-3'>.</a></div> <div id='4.sentence-4' class='sentence'>Unless otherwise stated, utterances in
<a href='#dcl.dcl'>[dcl.dcl]</a> about components in, of, or contained by a
declaration or subcomponent thereof refer only to those components of
the declaration that are <span class='emph'>not</span> nested within scopes nested within
the declaration<a class='hidden_link' href='#4.sentence-4'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L133'>#</a></div><div id='5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':identifier'></a></span><span class='indexparent'><a class='index' id=':declarator'></a></span>In a <i ><a href='dcl.dcl#nt:simple-declaration'>simple-declaration</a></i>, the optional
<i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i> can be omitted only when declaring a
<a href='class'>class</a> or <a href='#dcl.enum'>enumeration</a>, that is,
when the <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> contains either a
<i ><a href='class#nt:class-specifier'>class-specifier</a></i>, an <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> with
a <i ><a href='class#nt:class-key'>class-key</a></i> (<a href='class.name'>[class.name]</a>), or an
<i ><a href='dcl.enum#nt:enum-specifier'>enum-specifier</a></i><a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>In these cases and whenever a
<i ><a href='class#nt:class-specifier'>class-specifier</a></i> or <i ><a href='dcl.enum#nt:enum-specifier'>enum-specifier</a></i> is present in
the <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>, the identifiers in these specifiers
are among the names being declared by the declaration (as
<i ><a href='class#nt:class-name'>class-name</a></i><span class='textit'>s</span>, <i ><a href='dcl.enum#nt:enum-name'>enum-name</a></i><span class='textit'>s</span>, or
<i ><a href='dcl.enum#nt:enumerator'>enumerator</a></i><span class='textit'>s</span>, depending on the syntax)<a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'>In such cases,
the <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> shall introduce one or more names into
the program, or shall redeclare a name introduced by a previous
declaration<a class='hidden_link' href='#5.sentence-3'>.</a></div> <div id='5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
enum { };           <span class='comment'>// ill-formed
</span>typedef class { };  <span class='comment'>// ill-formed
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L158'>#</a></div><div id='6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':static_assert'></a></span>In a <i ><a href='dcl.dcl#nt:static_assert-declaration'>static_assert-declaration</a></i>, the
<i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> shall be
a <a href='expr.const#def:contextually_converted_constant_expression_of_type_bool'>contextually converted constant expression
of type <span class='texttt'>bool</span></a><a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>If the value of the expression when
so converted is <span class='texttt'>true</span>, the declaration has no
effect<a class='hidden_link' href='#6.sentence-2'>.</a></div> <div id='6.sentence-3' class='sentence'>Otherwise, the program is ill-formed, and the resulting
diagnostic message (<a href='intro.compliance'>[intro.compliance]</a>) shall include the text of
the <i ><a href='lex.string#nt:string-literal'>string-literal</a></i>, if one is supplied,
except that characters not in the <a href='lex.charset#def:character_set,basic_source'>basic
source character set</a> are not required to appear in
the diagnostic message<a class='hidden_link' href='#6.sentence-3'>.</a></div> <div id='6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
static_assert(sizeof(int) == sizeof(void*), "wrong pointer size");</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L178'>#</a></div><div id='7.sentence-1' class='sentence'>An <i ><a href='dcl.dcl#nt:empty-declaration'>empty-declaration</a></i> has no effect<a class='hidden_link' href='#7.sentence-1'>.</a></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L181'>#</a></div><div id='8.sentence-1' class='sentence'>A <i ><a href='dcl.dcl#nt:simple-declaration'>simple-declaration</a></i> with an <i ><a href='cpp#nt:identifier-list'>identifier-list</a></i> is called
a <a class='hidden_link' href='#def:structured_binding_declaration' id='def:structured_binding_declaration'><i >structured binding declaration</i></a> (<a href='#dcl.struct.bind'>[dcl.struct.bind]</a>)<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>The <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> shall
contain only the <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i> <a href='#dcl.spec.auto'><span class='texttt'>auto</span></a>
and <i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i><span class='textit'>s</span><a class='hidden_link' href='#8.sentence-2'>.</a></div> <div id='8.sentence-3' class='sentence'>The <i ><a href='dcl.init#nt:initializer'>initializer</a></i> shall be
of the form “<span class='texttt'>=</span> <i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i>”,
of the form “<span class='texttt'>{</span> <i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i> <span class='texttt'>}</span>”,
or
of the form “<span class='texttt'>(</span> <i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i> <span class='texttt'>)</span>”,
where the
<i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i> is of array or non-union class type<a class='hidden_link' href='#8.sentence-3'>.</a></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L195'>#</a></div><div id='9.sentence-1' class='sentence'>Each <i ><a href='dcl.decl#nt:init-declarator'>init-declarator</a></i> in the <i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i>
contains exactly one <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>, which is the name
declared by that <i ><a href='dcl.decl#nt:init-declarator'>init-declarator</a></i> and hence one of the names
declared by the declaration<a class='hidden_link' href='#9.sentence-1'>.</a></div> <div id='9.sentence-2' class='sentence'>The
<i ><a href='dcl.type#nt:defining-type-specifier'>defining-type-specifier</a></i><span class='textit'>s</span> in the
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> and the recursive <i ><a href='dcl.decl#nt:declarator'>declarator</a></i>
structure of the <i ><a href='dcl.decl#nt:init-declarator'>init-declarator</a></i> describe a
type (<a href='#dcl.meaning'>[dcl.meaning]</a>), which is then associated with the name being
declared by the <i ><a href='dcl.decl#nt:init-declarator'>init-declarator</a></i><a class='hidden_link' href='#9.sentence-2'>.</a></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L206'>#</a></div><div id='10.sentence-1' class='sentence'>If the <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> contains the <span class='texttt'>typedef</span>
specifier, the declaration is called a <a class='hidden_link' href='#def:declaration,typedef' id='def:declaration,typedef'><i >typedef declaration</i></a> and the name
of each <i ><a href='dcl.decl#nt:init-declarator'>init-declarator</a></i>
is declared to be a <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i>, synonymous with its
associated type (<a href='#dcl.typedef'>[dcl.typedef]</a>)<a class='hidden_link' href='#10.sentence-1'>.</a></div> <div id='10.sentence-2' class='sentence'>If the
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> contains no <span class='texttt'>typedef</span> specifier, the
declaration is called a <a class='hidden_link' href='#def:declaration,function' id='def:declaration,function'><i >function declaration</i></a> if
the type associated with the name is a function type (<a href='#dcl.fct'>[dcl.fct]</a>) and
an <a class='hidden_link' href='#def:declaration,object' id='def:declaration,object'><i >object declaration</i></a> otherwise<a class='hidden_link' href='#10.sentence-2'>.</a></div></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L217'>#</a></div><div id='11.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':definition,declaration_as'></a></span>Syntactic components beyond those found in the general form of
declaration are added to a function declaration to make a
<i ><a href='dcl.fct.def.general#nt:function-definition'>function-definition</a></i><a class='hidden_link' href='#11.sentence-1'>.</a></div> <div id='11.sentence-2' class='sentence'>An object declaration, however, is also
a definition unless it contains the <span class='texttt'>extern</span> specifier and has no
initializer (<a href='basic.def'>[basic.def]</a>)<a class='hidden_link' href='#11.sentence-2'>.</a></div> <div id='11.sentence-3' class='sentence'><span class='indexparent'><a class='index' id=':initialization,definition_and'></a></span>A
definition causes the appropriate amount of storage to be reserved and
any appropriate initialization (<a href='#dcl.init'>[dcl.init]</a>) to be done<a class='hidden_link' href='#11.sentence-3'>.</a></div></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L229'>#</a></div><div id='12.sentence-1' class='sentence'>A <i ><a href='dcl.dcl#nt:nodeclspec-function-declaration'>nodeclspec-function-declaration</a></i> shall declare a
constructor, destructor, or conversion function<a class='hidden_link' href='#12.sentence-1'>.</a></div> <div id='12.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#12.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='12.sentence-2' class='sentence'>A <i ><a href='dcl.dcl#nt:nodeclspec-function-declaration'>nodeclspec-function-declaration</a></i> can only be used in a
<i ><a href='temp#nt:template-declaration'>template-declaration</a></i>,
<i ><a href='temp.explicit#nt:explicit-instantiation'>explicit-instantiation</a></i>, or
<i ><a href='temp.expl.spec#nt:explicit-specialization'>explicit-specialization</a></i><a class='hidden_link' href='#12.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div id='dcl.spec' class='section'><h2 ><a class='secnum' href='#dcl.spec' style='min-width:88pt'>9.1</a> Specifiers <a class='abbr_ref' href='dcl.spec'>[dcl.spec]</a></h2><span class='indexparent'><a class='index' id=':specifier'></a></span><div class='para' id='dcl.spec-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.spec-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L242'>#</a></div><div id='dcl.spec-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':specifier,declaration'></a></span>The specifiers that can be used in a declaration are</div><pre class='bnf'><a class='nontermdef' href='#nt:decl-specifier' id='nt:decl-specifier'>decl-specifier:</a>
&#9;<i ><a href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a></i>
&#9;<i ><a href='dcl.type#nt:defining-type-specifier'>defining-type-specifier</a></i>
&#9;<i ><a href='dcl.fct.spec#nt:function-specifier'>function-specifier</a></i>
&#9;<span class='terminal'>friend</span>
&#9;<span class='terminal'>typedef</span>
&#9;<span class='terminal'>constexpr</span>
&#9;<span class='terminal'>inline</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:decl-specifier-seq' id='nt:decl-specifier-seq'>decl-specifier-seq:</a>
&#9;<i ><a href='dcl.spec#nt:decl-specifier'>decl-specifier</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='dcl.spec#nt:decl-specifier'>decl-specifier</a></i> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>
</pre><div id='dcl.spec-1.sentence-2' class='sentence'>The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> in a <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>
appertains to the type determined by the preceding
<i ><a href='dcl.spec#nt:decl-specifier'>decl-specifier</a></i><span class='textit'>s</span> (<a href='#dcl.meaning'>[dcl.meaning]</a>)<a class='hidden_link' href='#dcl.spec-1.sentence-2'>.</a></div> <div id='dcl.spec-1.sentence-3' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i>
affects the type only for the declaration it appears in, not other declarations involving the
same type<a class='hidden_link' href='#dcl.spec-1.sentence-3'>.</a></div></div><div class='para' id='dcl.spec-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.spec-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L269'>#</a></div><div id='dcl.spec-2.sentence-1' class='sentence'>Each <i ><a href='dcl.spec#nt:decl-specifier'>decl-specifier</a></i> shall appear at most once in a complete
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>, except that
<span class='texttt'>long</span> may appear twice<a class='hidden_link' href='#dcl.spec-2.sentence-1'>.</a></div></div><div class='para' id='dcl.spec-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.spec-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L274'>#</a></div><div id='dcl.spec-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':ambiguity,declaration_type'></a></span>If a <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i> is encountered while parsing a <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>,
it is interpreted as part of the <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> if and only if there is no
previous <i ><a href='dcl.type#nt:defining-type-specifier'>defining-type-specifier</a></i> other than a <i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i> in the
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i><a class='hidden_link' href='#dcl.spec-3.sentence-1'>.</a></div> <div id='dcl.spec-3.sentence-2' class='sentence'>The sequence shall be self-consistent as
described below<a class='hidden_link' href='#dcl.spec-3.sentence-2'>.</a></div> <div id='dcl.spec-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.spec-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef char* Pc;
static Pc;                      <span class='comment'>// error: name missing
</span></pre> <div id='dcl.spec-3.sentence-3' class='sentence'>
Here, the declaration <span class='texttt'>static</span> <span class='texttt'>Pc</span> is ill-formed because no
name was specified for the static variable of type <span class='texttt'>Pc</span><a class='hidden_link' href='#dcl.spec-3.sentence-3'>.</a></div> <div id='dcl.spec-3.sentence-4' class='sentence'>To get a
variable called <span class='texttt'>Pc</span>, a <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i> (other than
<span class='texttt'>const</span> or <span class='texttt'>volatile</span>) has to be present to indicate that
the <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> <span class='texttt'>Pc</span> is the name being (re)declared,
rather than being part of the <i ><a href='dcl.spec#nt:decl-specifier'>decl-specifier</a></i> sequence<a class='hidden_link' href='#dcl.spec-3.sentence-4'>.</a></div> <div id='dcl.spec-3.sentence-5' class='sentence'>For
another example,
<pre class='codeblock'>
void f(const Pc);               <span class='comment'>// <span class='tcode_in_codeblock'>void f(char* const)</span> (not <span class='tcode_in_codeblock'>const char*</span>)
</span>void g(const int Pc);           <span class='comment'>// <span class='tcode_in_codeblock'>void g(const int)</span>
</span></pre></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.spec-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.spec-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L300'>#</a></div><span class='indexparent'><a class='index' id=':signed,typedef_and'></a></span><span class='indexparent'><a class='index' id=':unsigned,typedef_and'></a></span><span class='indexparent'><a class='index' id=':long,typedef_and'></a></span><span class='indexparent'><a class='index' id=':short,typedef_and'></a></span><div id='dcl.spec-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.spec-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.spec-4.sentence-1' class='sentence'>Since <span class='texttt'>signed</span>, <span class='texttt'>unsigned</span>, <span class='texttt'>long</span>, and <span class='texttt'>short</span>
by default imply <span class='texttt'>int</span>, a <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i> appearing after one
of those specifiers is treated as the name being (re)declared<a class='hidden_link' href='#dcl.spec-4.sentence-1'>.</a></div> <div id='dcl.spec-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.spec-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void h(unsigned Pc);            <span class='comment'>// <span class='tcode_in_codeblock'>void h(unsigned int)</span>
</span>void k(unsigned int Pc);        <span class='comment'>// <span class='tcode_in_codeblock'>void k(unsigned int)</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div id='dcl.stc' class='section'><h3 ><a class='secnum' href='#dcl.stc' style='min-width:103pt'>9.1.1</a> Storage class specifiers <a class='abbr_ref' href='dcl.stc'>[dcl.stc]</a></h3><span class='indexparent'><a class='index' id=':specifier,storage_class'></a></span><span class='indexparent'><a class='index' id=':declaration,storage_class'></a></span><div class='para' id='dcl.stc-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.stc-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L321'>#</a></div><div id='dcl.stc-1.sentence-1' class='sentence'>The storage class specifiers are
<pre class='bnf'><a class='nontermdef' href='#nt:storage-class-specifier' id='nt:storage-class-specifier'>storage-class-specifier:</a>
&#9;<span id=':static'><span class='terminal'>static</span></span>
&#9;<span id=':thread_local'><span class='terminal'>thread_local</span></span>
&#9;<span id=':extern'><span class='terminal'>extern</span></span>
&#9;<span id=':mutable'><span class='terminal'>mutable</span></span>
</pre></div><div id='dcl.stc-1.sentence-2' class='sentence'>At most one <i ><a href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a></i> shall appear in a given
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>, except that <span class='texttt'>thread_&shy;local</span> may appear with <span class='texttt'>static</span> or
<span class='texttt'>extern</span><a class='hidden_link' href='#dcl.stc-1.sentence-2'>.</a></div> <div id='dcl.stc-1.sentence-3' class='sentence'>If <span class='texttt'>thread_&shy;local</span> appears in any declaration of
a variable it shall be present in all declarations of that entity<a class='hidden_link' href='#dcl.stc-1.sentence-3'>.</a></div> <div id='dcl.stc-1.sentence-4' class='sentence'>If a
<i ><a href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a></i>
appears in a <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>, there can be no
<span class='texttt'>typedef</span> specifier in the same <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> and
the <i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i> or <i ><a href='class.mem#nt:member-declarator-list'>member-declarator-list</a></i>
of the declaration shall not be
empty (except for an anonymous union declared in a named namespace or in the
global namespace, which shall be declared
<span class='indexparent'><a class='index' id=':specifier,static'></a></span><span class='texttt'>static</span> (<a href='class.union.anon'>[class.union.anon]</a>))<a class='hidden_link' href='#dcl.stc-1.sentence-4'>.</a></div> <div id='dcl.stc-1.sentence-5' class='sentence'>The
<i ><a href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a></i> applies to the name declared by each
<i ><a href='dcl.decl#nt:init-declarator'>init-declarator</a></i> in the list and not to any names declared by
other specifiers<a class='hidden_link' href='#dcl.stc-1.sentence-5'>.</a></div> <div id='dcl.stc-1.sentence-6' class='sentence'>A <i ><a href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a></i>
other than <span class='texttt'>thread_&shy;local</span>
shall not be
specified in an <a href='temp.expl.spec'>explicit specialization</a> or an
<a href='temp.explicit'>explicit instantiation</a> directive<a class='hidden_link' href='#dcl.stc-1.sentence-6'>.</a></div></div><div class='para' id='dcl.stc-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.stc-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L352'>#</a></div><div id='dcl.stc-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.stc-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.stc-2.sentence-1' class='sentence'>A variable declared without a <i ><a href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a></i>
at block scope or declared as a function parameter
has <a href='basic.stc.auto#def:automatic_storage_duration'>automatic storage duration</a> by default<a class='hidden_link' href='#dcl.stc-2.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.stc-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.stc-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L359'>#</a></div><div id='dcl.stc-3.sentence-1' class='sentence'>The <span class='texttt'>thread_&shy;local</span> specifier
indicates that the named entity has <a href='basic.stc.thread#def:thread_storage_duration'>thread storage duration</a><a class='hidden_link' href='#dcl.stc-3.sentence-1'>.</a></div> <div id='dcl.stc-3.sentence-2' class='sentence'>It shall be applied only to the names of variables of namespace
or block scope and to the names of static data members<a class='hidden_link' href='#dcl.stc-3.sentence-2'>.</a></div> <div id='dcl.stc-3.sentence-3' class='sentence'>When <span class='texttt'>thread_&shy;local</span> is applied to a variable of block scope the
<i ><a href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a></i> <span class='texttt'>static</span> is implied if no other
<i ><a href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a></i> appears in the
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i><a class='hidden_link' href='#dcl.stc-3.sentence-3'>.</a></div></div><div class='para' id='dcl.stc-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.stc-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L369'>#</a></div><div id='dcl.stc-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':restriction,static'></a></span>The <span class='texttt'>static</span> specifier can be applied only to names of variables and
functions and to <a href='class.union.anon'>anonymous unions</a><a class='hidden_link' href='#dcl.stc-4.sentence-1'>.</a></div> <div id='dcl.stc-4.sentence-2' class='sentence'>There can be no
<span class='texttt'>static</span> function declarations within a block, nor any
<span class='texttt'>static</span> function parameters<a class='hidden_link' href='#dcl.stc-4.sentence-2'>.</a></div> <div id='dcl.stc-4.sentence-3' class='sentence'>A <span class='texttt'>static</span> specifier used in
the declaration of a variable declares the variable to have
<a href='basic.stc.static#def:static_storage_duration'>static storage duration</a>, unless accompanied by the
<span class='texttt'>thread_&shy;local</span> specifier, which declares the variable to have
<a href='basic.stc.thread#def:thread_storage_duration'>thread storage duration</a><a class='hidden_link' href='#dcl.stc-4.sentence-3'>.</a></div> <div id='dcl.stc-4.sentence-4' class='sentence'>A <span class='texttt'>static</span> specifier can be
used in declarations of class members; <a href='class.static'>[class.static]</a> describes its
effect<a class='hidden_link' href='#dcl.stc-4.sentence-4'>.</a></div> <div id='dcl.stc-4.sentence-5' class='sentence'><span class='indexparent'><a class='index' id=':static,linkage_of'></a></span>For the linkage of a name declared with a <span class='texttt'>static</span> specifier,
see <a href='basic.link'>[basic.link]</a><a class='hidden_link' href='#dcl.stc-4.sentence-5'>.</a></div></div><div class='para' id='dcl.stc-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.stc-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L385'>#</a></div><div id='dcl.stc-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':restriction,extern'></a></span>The <span class='texttt'>extern</span> specifier can be applied only to the names of variables
and functions<a class='hidden_link' href='#dcl.stc-5.sentence-1'>.</a></div> <div id='dcl.stc-5.sentence-2' class='sentence'>The <span class='texttt'>extern</span> specifier cannot be used in the
declaration of class members or function parameters<a class='hidden_link' href='#dcl.stc-5.sentence-2'>.</a></div> <div id='dcl.stc-5.sentence-3' class='sentence'><span class='indexparent'><a class='index' id=':extern,linkage_of'></a></span><span class='indexparent'><a class='index' id=':consistency,linkage'></a></span>For the linkage of a name declared with an <span class='texttt'>extern</span> specifier,
see <a href='basic.link'>[basic.link]</a><a class='hidden_link' href='#dcl.stc-5.sentence-3'>.</a></div> <div id='dcl.stc-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.stc-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.stc-5.sentence-4' class='sentence'>The <span class='texttt'>extern</span> keyword can also be used in
<i ><a href='temp.explicit#nt:explicit-instantiation'>explicit-instantiation</a></i><span class='textit'>s</span> and
<i ><a href='dcl.link#nt:linkage-specification'>linkage-specification</a></i><span class='textit'>s</span>, but it is not a
<i ><a href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a></i> in such contexts<a class='hidden_link' href='#dcl.stc-5.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.stc-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.stc-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L401'>#</a></div><div id='dcl.stc-6.sentence-1' class='sentence'>The linkages implied by successive declarations for a given entity shall
agree<a class='hidden_link' href='#dcl.stc-6.sentence-1'>.</a></div> <div id='dcl.stc-6.sentence-2' class='sentence'>That is, within a given scope, each declaration declaring the
same variable name or the same overloading of a function name shall imply
the same linkage<a class='hidden_link' href='#dcl.stc-6.sentence-2'>.</a></div> <div id='dcl.stc-6.sentence-3' class='sentence'>Each function in a given set of overloaded functions
can have a different linkage, however<a class='hidden_link' href='#dcl.stc-6.sentence-3'>.</a></div> <div id='dcl.stc-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.stc-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
static char* f();               <span class='comment'>// <span class='tcode_in_codeblock'>f()</span> has internal linkage
</span>char* f()                       <span class='comment'>// <span class='tcode_in_codeblock'>f()</span> still has internal linkage
</span>  { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }

char* g();                      <span class='comment'>// <span class='tcode_in_codeblock'>g()</span> has external linkage
</span>static char* g()                <span class='comment'>// error: inconsistent linkage
</span>  { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }

void h();
inline void h();                <span class='comment'>// external linkage
</span>
inline void l();
void l();                       <span class='comment'>// external linkage
</span>
inline void m();
extern void m();                <span class='comment'>// external linkage
</span>
static void n();
inline void n();                <span class='comment'>// internal linkage
</span>
static int a;                   <span class='comment'>// <span class='tcode_in_codeblock'>a</span> has internal linkage
</span>int a;                          <span class='comment'>// error: two definitions
</span>
static int b;                   <span class='comment'>// <span class='tcode_in_codeblock'>b</span> has internal linkage
</span>extern int b;                   <span class='comment'>// <span class='tcode_in_codeblock'>b</span> still has internal linkage
</span>
int c;                          <span class='comment'>// <span class='tcode_in_codeblock'>c</span> has external linkage
</span>static int c;                   <span class='comment'>// error: inconsistent linkage
</span>
extern int d;                   <span class='comment'>// <span class='tcode_in_codeblock'>d</span> has external linkage
</span>static int d;                   <span class='comment'>// error: inconsistent linkage
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.stc-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.stc-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L443'>#</a></div><div id='dcl.stc-7.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':declaration,forward'></a></span>The name of a declared but undefined class can be used in an
<span class='texttt'>extern</span> declaration<a class='hidden_link' href='#dcl.stc-7.sentence-1'>.</a></div> <div id='dcl.stc-7.sentence-2' class='sentence'>Such a declaration can only be used in ways
that do not require a complete class type<a class='hidden_link' href='#dcl.stc-7.sentence-2'>.</a></div> <div id='dcl.stc-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.stc-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S;
extern S a;
extern S f();
extern void g(S);

void h() {
  g(a);                         <span class='comment'>// error: <span class='tcode_in_codeblock'>S</span> is incomplete
</span>  f();                          <span class='comment'>// error: <span class='tcode_in_codeblock'>S</span> is incomplete
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.stc-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.stc-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L462'>#</a></div><div id='dcl.stc-8.sentence-1' class='sentence'>The <span class='texttt'>mutable</span> specifier shall appear only in the declaration of
a <a href='class.mem#def:non-static_data_member'>non-static data member</a>
whose type is neither const-qualified nor a reference type<a class='hidden_link' href='#dcl.stc-8.sentence-1'>.</a></div> <div id='dcl.stc-8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.stc-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class X {
  mutable const int* p;         <span class='comment'>// OK
</span>  mutable int* const q;         <span class='comment'>// ill-formed
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.stc-9'><div class='marginalizedparent'><a class='marginalized' href='#dcl.stc-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L475'>#</a></div><div id='dcl.stc-9.sentence-1' class='sentence'>The <span class='texttt'>mutable</span> specifier on a class data member nullifies a
<span class='texttt'>const</span> specifier applied to the containing class object and
permits modification of the mutable class member even though the rest of
the object is const (<a href='#dcl.type.cv'>[dcl.type.cv]</a>)<a class='hidden_link' href='#dcl.stc-9.sentence-1'>.</a></div></div></div><div id='dcl.fct.spec' class='section'><h3 ><a class='secnum' href='#dcl.fct.spec' style='min-width:103pt'>9.1.2</a> Function specifiers <a class='abbr_ref' href='dcl.fct.spec'>[dcl.fct.spec]</a></h3><span class='indexparent'><a class='index' id=':specifier,function'></a></span><div class='para' id='dcl.fct.spec-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.spec-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L485'>#</a></div><div id='dcl.fct.spec-1.sentence-1' class='sentence'>A
<i ><a href='dcl.fct.spec#nt:function-specifier'>function-specifier</a></i>
can be used only in a function declaration<a class='hidden_link' href='#dcl.fct.spec-1.sentence-1'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:function-specifier' id='nt:function-specifier'>function-specifier:</a>
&#9;<span class='terminal'>virtual</span>
&#9;<i ><a href='dcl.fct.spec#nt:explicit-specifier'>explicit-specifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:explicit-specifier' id='nt:explicit-specifier'>explicit-specifier:</a>
&#9;<span class='terminal'>explicit</span> <span class='terminal'>(</span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> <span class='terminal'>)</span>
&#9;<span class='terminal'>explicit</span>
</pre></div><div class='para' id='dcl.fct.spec-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.spec-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L502'>#</a></div><div id='dcl.fct.spec-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':specifier,virtual'></a></span>The <span class='texttt'>virtual</span> specifier shall be used only in the initial
declaration of a non-static class member function;
see <a href='class.virtual'>[class.virtual]</a><a class='hidden_link' href='#dcl.fct.spec-2.sentence-1'>.</a></div></div><div class='para' id='dcl.fct.spec-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.spec-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L508'>#</a></div><div id='dcl.fct.spec-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':specifier,explicit'></a></span>An <i ><a href='dcl.fct.spec#nt:explicit-specifier'>explicit-specifier</a></i> shall be used only in the declaration of
a constructor or conversion function within its class definition;
see <a href='class.conv.ctor'>[class.conv.ctor]</a> and <a href='class.conv.fct'>[class.conv.fct]</a><a class='hidden_link' href='#dcl.fct.spec-3.sentence-1'>.</a></div></div><div class='para' id='dcl.fct.spec-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.spec-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L514'>#</a></div><div id='dcl.fct.spec-4.sentence-1' class='sentence'>In an <i ><a href='dcl.fct.spec#nt:explicit-specifier'>explicit-specifier</a></i>,
the <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i>, if supplied, shall be a
contextually converted constant expression of type <span class='texttt'>bool</span> (<a href='expr.const'>[expr.const]</a>)<a class='hidden_link' href='#dcl.fct.spec-4.sentence-1'>.</a></div> <div id='dcl.fct.spec-4.sentence-2' class='sentence'>The <i ><a href='dcl.fct.spec#nt:explicit-specifier'>explicit-specifier</a></i> <span class='texttt'>explicit</span>
without a <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> is equivalent to
the <i ><a href='dcl.fct.spec#nt:explicit-specifier'>explicit-specifier</a></i> <span class='texttt'>explicit(true)</span><a class='hidden_link' href='#dcl.fct.spec-4.sentence-2'>.</a></div> <div id='dcl.fct.spec-4.sentence-3' class='sentence'>If the constant expression evaluates to <span class='texttt'>true</span>,
the function is explicit<a class='hidden_link' href='#dcl.fct.spec-4.sentence-3'>.</a></div> <div id='dcl.fct.spec-4.sentence-4' class='sentence'>Otherwise, the function is not explicit<a class='hidden_link' href='#dcl.fct.spec-4.sentence-4'>.</a></div> <div id='dcl.fct.spec-4.sentence-5' class='sentence'>A <span class='texttt'>(</span> token that follows <span class='texttt'>explicit</span> is parsed as
part of the <i ><a href='dcl.fct.spec#nt:explicit-specifier'>explicit-specifier</a></i><a class='hidden_link' href='#dcl.fct.spec-4.sentence-5'>.</a></div></div></div><div id='dcl.typedef' class='section'><h3 ><a class='secnum' href='#dcl.typedef' style='min-width:103pt'>9.1.3</a> The <span class='texttt'>typedef</span> specifier <a class='abbr_ref' href='dcl.typedef'>[dcl.typedef]</a></h3><span class='indexparent'><a class='index' id=':specifier,typedef'></a></span><div class='para' id='dcl.typedef-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.typedef-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L529'>#</a></div><div id='dcl.typedef-1.sentence-1' class='sentence'>Declarations containing the <i ><a href='dcl.spec#nt:decl-specifier'>decl-specifier</a></i> <span class='texttt'>typedef</span>
declare identifiers that can be used later for naming
<a href='basic.fundamental'>fundamental</a> or <a href='basic.compound'>compound</a>
types<a class='hidden_link' href='#dcl.typedef-1.sentence-1'>.</a></div> <div id='dcl.typedef-1.sentence-2' class='sentence'>The <span class='texttt'>typedef</span> specifier shall not be
combined in a <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> with any other kind of
specifier except a <i ><a href='dcl.type#nt:defining-type-specifier'>defining-type-specifier</a></i>, and it shall not be used in the
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> of a
<i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i> nor in the
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> of a
<i ><a href='dcl.fct.def.general#nt:function-definition'>function-definition</a></i> (<a href='#dcl.fct.def'>[dcl.fct.def]</a>)<a class='hidden_link' href='#dcl.typedef-1.sentence-2'>.</a></div> <div id='dcl.typedef-1.sentence-3' class='sentence'>If a <span class='texttt'>typedef</span> specifier appears in a declaration without a <i ><a href='dcl.decl#nt:declarator'>declarator</a></i>,
the program is ill-formed<a class='hidden_link' href='#dcl.typedef-1.sentence-3'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:typedef-name' id='nt:typedef-name'>typedef-name:</a>
&#9;<i ><a href='lex.name#nt:identifier'>identifier</a></i>
</pre><div id='dcl.typedef-1.sentence-4' class='sentence'>A name declared with the <span class='texttt'>typedef</span> specifier becomes a
<i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i><a class='hidden_link' href='#dcl.typedef-1.sentence-4'>.</a></div> <div id='dcl.typedef-1.sentence-5' class='sentence'>Within the scope of its declaration, a
<i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> is syntactically equivalent to a keyword and
names the type associated with the identifier in the way described in
<a href='#dcl.decl'>[dcl.decl]</a><a class='hidden_link' href='#dcl.typedef-1.sentence-5'>.</a></div> <div id='dcl.typedef-1.sentence-6' class='sentence'><span class='indexparent'><a class='index' id=':declaration,typedef_as_type'></a></span><span class='indexparent'><a class='index' id=':equivalence,type'></a></span><span class='indexparent'><a class='index' id=':synonym,type_name_as'></a></span>A <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> is thus a synonym for another type<a class='hidden_link' href='#dcl.typedef-1.sentence-6'>.</a></div> <div id='dcl.typedef-1.sentence-7' class='sentence'>A
<i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> does not introduce a new type the way a class
declaration (<a href='class.name'>[class.name]</a>) or enum declaration does<a class='hidden_link' href='#dcl.typedef-1.sentence-7'>.</a></div> <div id='dcl.typedef-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.typedef-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='dcl.typedef-1.sentence-8' class='sentence'>After
<pre class='codeblock'>
typedef int MILES, *KLICKSP;</pre>
the constructions
<pre class='codeblock'>
MILES distance;
extern KLICKSP metricp;</pre>
are all correct declarations; the type of <span class='texttt'>distance</span> is
<span class='texttt'>int</span> and that of <span class='texttt'>metricp</span> is “pointer to <span class='texttt'>int</span>”<a class='hidden_link' href='#dcl.typedef-1.sentence-8'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.typedef-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.typedef-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L573'>#</a></div><div id='dcl.typedef-2.sentence-1' class='sentence'>A <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> can also be introduced by an
<i ><a href='dcl.dcl#nt:alias-declaration'>alias-declaration</a></i><a class='hidden_link' href='#dcl.typedef-2.sentence-1'>.</a></div> <div id='dcl.typedef-2.sentence-2' class='sentence'>The <i ><a href='lex.name#nt:identifier'>identifier</a></i> following the
<span class='texttt'>using</span> keyword becomes a <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i>
and the optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> following the
<i ><a href='lex.name#nt:identifier'>identifier</a></i> appertains to that <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i><a class='hidden_link' href='#dcl.typedef-2.sentence-2'>.</a></div> <div id='dcl.typedef-2.sentence-3' class='sentence'>Such a <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> has the same
semantics as if it were introduced by the <span class='texttt'>typedef</span> specifier<a class='hidden_link' href='#dcl.typedef-2.sentence-3'>.</a></div> <div id='dcl.typedef-2.sentence-4' class='sentence'>In
particular, it does not define a new type<a class='hidden_link' href='#dcl.typedef-2.sentence-4'>.</a></div> <div id='dcl.typedef-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.typedef-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
using handler_t = void (*)(int);
extern handler_t ignore;
extern void (*ignore)(int);         <span class='comment'>// redeclare <span class='tcode_in_codeblock'>ignore</span>
</span>using cell = pair&lt;void*, cell*&gt;;    <span class='comment'>// ill-formed
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.typedef-2.sentence-5' class='sentence'>
The <i ><a href='dcl.type#nt:defining-type-specifier-seq'>defining-type-specifier-seq</a></i>
of the <i ><a href='dcl.name#nt:defining-type-id'>defining-type-id</a></i> shall not define
a class or enumeration if the <i ><a href='dcl.dcl#nt:alias-declaration'>alias-declaration</a></i>
is the <i ><a href='dcl.dcl#nt:declaration'>declaration</a></i> of a <i ><a href='temp#nt:template-declaration'>template-declaration</a></i><a class='hidden_link' href='#dcl.typedef-2.sentence-5'>.</a></div></div><div class='para' id='dcl.typedef-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.typedef-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L595'>#</a></div><div id='dcl.typedef-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':redefinition,typedef'></a></span>In a given non-class scope, a <span class='texttt'>typedef</span> specifier can be used to
redefine the name of any type declared in that scope to refer to the
type to which it already refers<a class='hidden_link' href='#dcl.typedef-3.sentence-1'>.</a></div> <div id='dcl.typedef-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.typedef-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef struct s { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> } s;
typedef int I;
typedef int I;
typedef I I;</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.typedef-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.typedef-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L609'>#</a></div><div id='dcl.typedef-4.sentence-1' class='sentence'>In a given class scope, a <span class='texttt'>typedef</span> specifier can be used to
redefine any <i ><a href='class#nt:class-name'>class-name</a></i> declared in that scope that is not
also a <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> to refer to the type to which it already
refers<a class='hidden_link' href='#dcl.typedef-4.sentence-1'>.</a></div> <div id='dcl.typedef-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.typedef-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S {
  typedef struct A { } A;       <span class='comment'>// OK
</span>  typedef struct B B;           <span class='comment'>// OK
</span>  typedef A A;                  <span class='comment'>// error
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.typedef-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.typedef-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L624'>#</a></div><div id='dcl.typedef-5.sentence-1' class='sentence'>If a <span class='texttt'>typedef</span> specifier is used to redefine in a given scope an
entity that can be referenced using an <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i>,
the entity can continue to be referenced by an
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> or as an enumeration or class name
in an enumeration or class definition respectively<a class='hidden_link' href='#dcl.typedef-5.sentence-1'>.</a></div> <div id='dcl.typedef-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.typedef-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S;
typedef struct S S;
int main() {
  struct S* p;                  <span class='comment'>// OK
</span>}
struct S { };                   <span class='comment'>// OK
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.typedef-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.typedef-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L640'>#</a></div><div id='dcl.typedef-6.sentence-1' class='sentence'>In a given scope, a <span class='texttt'>typedef</span> specifier shall not be used to
redefine the name of any type declared in that scope to refer to a
different type<a class='hidden_link' href='#dcl.typedef-6.sentence-1'>.</a></div> <div id='dcl.typedef-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.typedef-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class complex { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> };
typedef int complex;            <span class='comment'>// error: redefinition
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.typedef-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.typedef-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L651'>#</a></div><div id='dcl.typedef-7.sentence-1' class='sentence'>Similarly, in a given scope, a class or enumeration shall not be
declared with the same name as a <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> that is
declared in that scope and refers to a type other than the class or
enumeration itself<a class='hidden_link' href='#dcl.typedef-7.sentence-1'>.</a></div> <div id='dcl.typedef-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.typedef-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef int complex;
class complex { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> };    <span class='comment'>// error: redefinition
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.typedef-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.typedef-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L663'>#</a></div><div id='dcl.typedef-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.typedef-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.typedef-8.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':class_name,typedef'></a></span>A <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> that names a class type, or a cv-qualified
version thereof, is also a <i ><a href='class#nt:class-name'>class-name</a></i> (<a href='class.name'>[class.name]</a>)<a class='hidden_link' href='#dcl.typedef-8.sentence-1'>.</a></div> <div id='dcl.typedef-8.sentence-2' class='sentence'>If
a <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> is used to identify the subject of
an <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i>,
a <a href='class'>class</a> definition,
a <a href='class.ctor'>constructor</a> declaration,
or a <a href='class.dtor'>destructor</a> declaration,
the program is ill-formed<a class='hidden_link' href='#dcl.typedef-8.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.typedef-8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.typedef-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S {
  S();
  ~S();
};

typedef struct S T;

S a = T();                      <span class='comment'>// OK
</span>struct T * p;                   <span class='comment'>// error
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.typedef-9'><div class='marginalizedparent'><a class='marginalized' href='#dcl.typedef-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L689'>#</a></div><div id='dcl.typedef-9.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':class_name,typedef_'></a></span><span class='indexparent'><a class='index' id=':enum_name,typedef'></a></span><span class='indexparent'><a class='index' id=':class,unnamed'></a></span>If the typedef declaration defines an unnamed class (or enum), the first
<i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> declared by the declaration to be that class
type (or enum type) is used to denote the class type (or enum type) for
linkage purposes only (<a href='basic.link'>[basic.link]</a>)<a class='hidden_link' href='#dcl.typedef-9.sentence-1'>.</a></div> <div id='dcl.typedef-9.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.typedef-9.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.typedef-9.sentence-2' class='sentence'>A typedef declaration involving a <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>
does not itself define the associated closure type,
and so the closure type is not given a name for linkage purposes<a class='hidden_link' href='#dcl.typedef-9.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.typedef-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.typedef-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef struct { } *ps, S;      <span class='comment'>// <span class='tcode_in_codeblock'>S</span> is the class name for linkage purposes
</span>typedef decltype([]{}) C;       <span class='comment'>// the closure type has no name for linkage purposes
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.friend' class='section'><h3 ><a class='secnum' href='#dcl.friend' style='min-width:103pt'>9.1.4</a> The <span class='texttt'>friend</span> specifier <a class='abbr_ref' href='dcl.friend'>[dcl.friend]</a></h3><span class='indexparent'><a class='index' id=':specifier,friend'></a></span><div class='para' id='dcl.friend-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.friend-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L712'>#</a></div><div id='dcl.friend-1.sentence-1' class='sentence'>The <span class='texttt'>friend</span> specifier is used to specify access to class members;
see <a href='class.friend'>[class.friend]</a><a class='hidden_link' href='#dcl.friend-1.sentence-1'>.</a></div></div></div><div id='dcl.constexpr' class='section'><h3 ><a class='secnum' href='#dcl.constexpr' style='min-width:103pt'>9.1.5</a> The <span class='texttt'>constexpr</span> specifier <a class='abbr_ref' href='dcl.constexpr'>[dcl.constexpr]</a></h3><span class='indexparent'><a class='index' id=':specifier,constexpr'></a></span><div class='para' id='dcl.constexpr-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.constexpr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L719'>#</a></div><div id='dcl.constexpr-1.sentence-1' class='sentence'>The <span class='texttt'>constexpr</span> specifier shall be applied only to the definition of
a variable or variable template or
the declaration of a
function or function template<a class='hidden_link' href='#dcl.constexpr-1.sentence-1'>.</a></div> <div id='dcl.constexpr-1.sentence-2' class='sentence'>A function or static data member declared with the <span class='texttt'>constexpr</span>
specifier is implicitly an inline function or variable (<a href='#dcl.inline'>[dcl.inline]</a>)<a class='hidden_link' href='#dcl.constexpr-1.sentence-2'>.</a></div> <div id='dcl.constexpr-1.sentence-3' class='sentence'>If any declaration of a function or function template has
a <span class='texttt'>constexpr</span> specifier,
then all its declarations shall contain the <span class='texttt'>constexpr</span> specifier<a class='hidden_link' href='#dcl.constexpr-1.sentence-3'>.</a></div> <div id='dcl.constexpr-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.constexpr-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.constexpr-1.sentence-4' class='sentence'>An
explicit specialization can differ from the template declaration with respect to the
<span class='texttt'>constexpr</span> specifier<a class='hidden_link' href='#dcl.constexpr-1.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.constexpr-1.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.constexpr-1.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.constexpr-1.sentence-5' class='sentence'>Function parameters cannot be declared <span class='texttt'>constexpr</span><a class='hidden_link' href='#dcl.constexpr-1.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.constexpr-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.constexpr-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
constexpr void square(int &amp;x);  <span class='comment'>// OK: declaration
</span>constexpr int bufsz = 1024;     <span class='comment'>// OK: definition
</span>constexpr struct pixel {        <span class='comment'>// error: <span class='tcode_in_codeblock'>pixel</span> is a type
</span>  int x;
  int y;
  constexpr pixel(int);         <span class='comment'>// OK: declaration
</span>};
constexpr pixel::pixel(int a)
  : x(a), y(x)                  <span class='comment'>// OK: definition
</span>  { square(x); }
constexpr pixel small(2);       <span class='comment'>// error: <span class='tcode_in_codeblock'>square</span> not defined, so <span class='tcode_in_codeblock'>small(2)</span>
</span>                                <span class='comment'>// not constant (<a href='expr.const'>[expr.const]</a>) so <span class='tcode_in_codeblock'>constexpr</span> not satisfied
</span>
constexpr void square(int &amp;x) { <span class='comment'>// OK: definition
</span>  x *= x;
}
constexpr pixel large(4);       <span class='comment'>// OK: <span class='tcode_in_codeblock'>square</span> defined
</span>int next(constexpr int x) {     <span class='comment'>// error: not for parameters
</span>     return x + 1;
}
extern constexpr int memsz;     <span class='comment'>// error: not a definition
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.constexpr-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.constexpr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L759'>#</a></div><div id='dcl.constexpr-2.sentence-1' class='sentence'>A <span class='texttt'>constexpr</span> specifier used in the declaration of a function that is not a
constructor declares that
function to be a <a class='hidden_link' href='#def:specifier,constexpr,function' id='def:specifier,constexpr,function'><i >constexpr function</i></a><a class='hidden_link' href='#dcl.constexpr-2.sentence-1'>.</a></div> <div id='dcl.constexpr-2.sentence-2' class='sentence'>Similarly, a
<span class='texttt'>constexpr</span> specifier used in
a constructor declaration declares that constructor to be a
<a class='hidden_link' href='#def:specifier,constexpr,constructor' id='def:specifier,constexpr,constructor'><i >constexpr constructor</i></a><a class='hidden_link' href='#dcl.constexpr-2.sentence-2'>.</a></div></div><div class='para' id='dcl.constexpr-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.constexpr-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L767'>#</a></div><div id='dcl.constexpr-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':specifier,constexpr,function_'></a></span>
<span class='indexparent'><a class='index' id=':constexpr_function'></a></span>
The definition of a constexpr function shall satisfy the following
requirements:
<ul class='itemize'><li id='dcl.constexpr-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.constexpr-3.1'>(3.1)</a></div><div id='dcl.constexpr-3.1.sentence-1' class='sentence'>its return type shall be a literal type;</div></li><li id='dcl.constexpr-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.constexpr-3.2'>(3.2)</a></div><div id='dcl.constexpr-3.2.sentence-1' class='sentence'>each of its parameter types shall be a literal type;</div></li><li id='dcl.constexpr-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.constexpr-3.3'>(3.3)</a></div><div id='dcl.constexpr-3.3.sentence-1' class='sentence'>its <i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i> shall be
<span class='texttt'>= delete</span>, <span class='texttt'>= default</span>, or
a <i ><a href='stmt.block#nt:compound-statement'>compound-statement</a></i>
that does not contain
<ul class='itemize'><li id='dcl.constexpr-3.3.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.constexpr-3.3.1'>(3.3.1)</a></div><div id='dcl.constexpr-3.3.1.sentence-1' class='sentence'>an <i ><a href='dcl.asm#nt:asm-definition'>asm-definition</a></i>,</div></li><li id='dcl.constexpr-3.3.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.constexpr-3.3.2'>(3.3.2)</a></div><div id='dcl.constexpr-3.3.2.sentence-1' class='sentence'>a <span class='texttt'>goto</span> statement,</div></li><li id='dcl.constexpr-3.3.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.constexpr-3.3.3'>(3.3.3)</a></div><div id='dcl.constexpr-3.3.3.sentence-1' class='sentence'>an <a href='stmt.label#def:identifier_label'>identifier label</a>,</div></li><li id='dcl.constexpr-3.3.4'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.constexpr-3.3.4'>(3.3.4)</a></div><div id='dcl.constexpr-3.3.4.sentence-1' class='sentence'>a <i ><a href='except#nt:try-block'>try-block</a></i>, or</div></li><li id='dcl.constexpr-3.3.5'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.constexpr-3.3.5'>(3.3.5)</a></div><div id='dcl.constexpr-3.3.5.sentence-1' class='sentence'>a definition of a variable
of non-literal type or
of static or thread storage duration or
for which no initialization is performed<a class='hidden_link' href='#dcl.constexpr-3.3.5.sentence-1'>.</a></div></li></ul></div></li></ul></div><div id='dcl.constexpr-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.constexpr-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
constexpr int square(int x)
  { return x * x; }             <span class='comment'>// OK
</span>constexpr long long_max()
  { return 2147483647; }        <span class='comment'>// OK
</span>constexpr int abs(int x) {
  if (x &lt; 0)
    x = -x;
  return x;                     <span class='comment'>// OK
</span>}
constexpr int first(int n) {
  static int value = n;         <span class='comment'>// error: variable has static storage duration
</span>  return value;
}
constexpr int uninit() {
  int a;                        <span class='comment'>// error: variable is uninitialized
</span>  return a;
}
constexpr int prev(int x)
  { return --x; }               <span class='comment'>// OK
</span>constexpr int g(int x, int n) { <span class='comment'>// OK
</span>  int r = 1;
  while (--n &gt; 0) r *= x;
  return r;
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.constexpr-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.constexpr-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L825'>#</a></div><div id='dcl.constexpr-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':specifier,constexpr,constructor_'></a></span>The definition of a constexpr constructor shall satisfy the
following requirements:
<ul class='itemize'><li id='dcl.constexpr-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.constexpr-4.1'>(4.1)</a></div><div id='dcl.constexpr-4.1.sentence-1' class='sentence'>the class shall not have any virtual base classes;</div></li><li id='dcl.constexpr-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.constexpr-4.2'>(4.2)</a></div><div id='dcl.constexpr-4.2.sentence-1' class='sentence'>each of the parameter types shall be a literal type;</div></li><li id='dcl.constexpr-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.constexpr-4.3'>(4.3)</a></div><div id='dcl.constexpr-4.3.sentence-1' class='sentence'>its <i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i> shall not be a <i ><a href='except#nt:function-try-block'>function-try-block</a></i><a class='hidden_link' href='#dcl.constexpr-4.3.sentence-1'>.</a></div></li></ul></div><div id='dcl.constexpr-4.sentence-2' class='sentence'>In addition, either its <i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i> shall be
<span class='texttt'>= delete</span>, or it shall satisfy the following requirements:
<ul class='itemize'><li id='dcl.constexpr-4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.constexpr-4.4'>(4.4)</a></div><div id='dcl.constexpr-4.4.sentence-1' class='sentence'>either its <i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i> shall be <span class='texttt'>= default</span>, or the <i ><a href='stmt.block#nt:compound-statement'>compound-statement</a></i> of its <i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i>
shall satisfy the requirements for a <i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i> of a
constexpr function;</div></li><li id='dcl.constexpr-4.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.constexpr-4.5'>(4.5)</a></div><div id='dcl.constexpr-4.5.sentence-1' class='sentence'>every non-variant non-static data member and base class subobject
shall be initialized (<a href='class.base.init'>[class.base.init]</a>);</div></li><li id='dcl.constexpr-4.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.constexpr-4.6'>(4.6)</a></div><div id='dcl.constexpr-4.6.sentence-1' class='sentence'>if the class is a union having variant members (<a href='class.union'>[class.union]</a>), exactly one of them
shall be initialized;</div></li><li id='dcl.constexpr-4.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.constexpr-4.7'>(4.7)</a></div><div id='dcl.constexpr-4.7.sentence-1' class='sentence'>if the class is a union-like class, but is not a union, for each of its anonymous union
members having variant members, exactly one of them shall be initialized;</div></li><li id='dcl.constexpr-4.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.constexpr-4.8'>(4.8)</a></div><div id='dcl.constexpr-4.8.sentence-1' class='sentence'>for a non-delegating constructor, every constructor selected to initialize non-static
data members and base class subobjects shall be a constexpr constructor;</div></li><li id='dcl.constexpr-4.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.constexpr-4.9'>(4.9)</a></div><div id='dcl.constexpr-4.9.sentence-1' class='sentence'>for a delegating constructor, the target constructor shall be a constexpr
constructor<a class='hidden_link' href='#dcl.constexpr-4.9.sentence-1'>.</a></div></li></ul></div><div id='dcl.constexpr-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.constexpr-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct Length {
  constexpr explicit Length(int i = 0) : val(i) { }
private:
  int val;
};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.constexpr-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.constexpr-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L879'>#</a></div><div id='dcl.constexpr-5.sentence-1' class='sentence'>For a constexpr function or constexpr constructor
that is neither defaulted nor a template,
if no argument values exist such that
an invocation of the function or constructor could be an evaluated subexpression of a
<a href='expr.const#def:expression,core_constant'>core constant expression</a>, or,
for a constructor, a constant initializer for some object (<a href='basic.start.static'>[basic.start.static]</a>),
the program is ill-formed, no diagnostic required<a class='hidden_link' href='#dcl.constexpr-5.sentence-1'>.</a></div> <div id='dcl.constexpr-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.constexpr-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
constexpr int f(bool b)
  { return b ? throw 0 : 0; }           <span class='comment'>// OK
</span>constexpr int f() { return f(true); }   <span class='comment'>// ill-formed, no diagnostic required
</span>
struct B {
  constexpr B(int x) : i(0) { }         <span class='comment'>// <span class='tcode_in_codeblock'>x</span> is unused
</span>  int i;
};

int global;

struct D : B {
  constexpr D() : B(global) { }         <span class='comment'>// ill-formed, no diagnostic required
</span>                                        <span class='comment'>// lvalue-to-rvalue conversion on non-constant <span class='tcode_in_codeblock'>global</span>
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.constexpr-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.constexpr-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L907'>#</a></div><div id='dcl.constexpr-6.sentence-1' class='sentence'>If the instantiated template specialization of a constexpr function
template
or member function of a class template
would fail to satisfy the requirements for a constexpr
function or constexpr constructor,
that specialization is still a constexpr function or constexpr
constructor, even though a call to such a function cannot appear in a constant
expression<a class='hidden_link' href='#dcl.constexpr-6.sentence-1'>.</a></div> <div id='dcl.constexpr-6.sentence-2' class='sentence'>If no specialization of the template would satisfy the
requirements for a constexpr function or constexpr constructor
when considered as a non-template function or constructor, the template is
ill-formed, no diagnostic required<a class='hidden_link' href='#dcl.constexpr-6.sentence-2'>.</a></div></div><div class='para' id='dcl.constexpr-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.constexpr-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L920'>#</a></div><div id='dcl.constexpr-7.sentence-1' class='sentence'>A call to a constexpr function produces the same result as a call to an equivalent
non-constexpr function in all respects except that
<ul class='itemize'><li id='dcl.constexpr-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.constexpr-7.1'>(7.1)</a></div><div id='dcl.constexpr-7.1.sentence-1' class='sentence'>a call to a constexpr
function can appear in a <a href='expr.const#def:constant_expression'>constant expression</a> and</div></li><li id='dcl.constexpr-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.constexpr-7.2'>(7.2)</a></div><div id='dcl.constexpr-7.2.sentence-1' class='sentence'>copy elision is mandatory in a constant expression (<a href='class.copy.elision'>[class.copy.elision]</a>)<a class='hidden_link' href='#dcl.constexpr-7.2.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='dcl.constexpr-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.constexpr-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L931'>#</a></div><div id='dcl.constexpr-8.sentence-1' class='sentence'>The <span class='texttt'>constexpr</span> specifier has no
effect on the type of a constexpr function or a constexpr constructor<a class='hidden_link' href='#dcl.constexpr-8.sentence-1'>.</a></div> <div id='dcl.constexpr-8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.constexpr-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
constexpr int bar(int x, int y)         <span class='comment'>// OK
</span>    { return x + y + x*y; }
<span class='comment'>// ...
</span>int bar(int x, int y)                   <span class='comment'>// error: redefinition of <span class='tcode_in_codeblock'>bar</span>
</span>    { return x * 2 + 3 * y; }</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.constexpr-9'><div class='marginalizedparent'><a class='marginalized' href='#dcl.constexpr-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L943'>#</a></div><div id='dcl.constexpr-9.sentence-1' class='sentence'>A <span class='texttt'>constexpr</span> specifier used in an object declaration
declares the object as const<a class='hidden_link' href='#dcl.constexpr-9.sentence-1'>.</a></div> <div id='dcl.constexpr-9.sentence-2' class='sentence'>Such an object
shall have literal type and
shall be initialized<a class='hidden_link' href='#dcl.constexpr-9.sentence-2'>.</a></div> <div id='dcl.constexpr-9.sentence-3' class='sentence'>In any <span class='texttt'>constexpr</span> variable declaration,
the full-expression of the initialization
shall be a <a href='expr.const'>constant expression</a><a class='hidden_link' href='#dcl.constexpr-9.sentence-3'>.</a></div> <div id='dcl.constexpr-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.constexpr-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct pixel {
  int x, y;
};
constexpr pixel ur = { 1294, 1024 };    <span class='comment'>// OK
</span>constexpr pixel origin;                 <span class='comment'>// error: initializer missing
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.inline' class='section'><h3 ><a class='secnum' href='#dcl.inline' style='min-width:103pt'>9.1.6</a> The <span class='texttt'>inline</span> specifier <a class='abbr_ref' href='dcl.inline'>[dcl.inline]</a></h3><span class='indexparent'><a class='index' id=':specifier,inline'></a></span><div class='para' id='dcl.inline-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.inline-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L965'>#</a></div><div id='dcl.inline-1.sentence-1' class='sentence'>The <span class='texttt'>inline</span> specifier can be applied only to the declaration
or definition of a variable or function<a class='hidden_link' href='#dcl.inline-1.sentence-1'>.</a></div></div><div class='para' id='dcl.inline-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.inline-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L969'>#</a></div><div id='dcl.inline-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':specifier,inline_'></a></span><span class='indexparent'><a class='index' id=':inline_function'></a></span>A function declaration (<a href='#dcl.fct'>[dcl.fct]</a>, <a href='class.mfct'>[class.mfct]</a>,
<a href='class.friend'>[class.friend]</a>) with an <span class='texttt'>inline</span> specifier declares an
<span class='indexparent'><a class='index' id=':function,inline'></a></span><span class='textit'>inline function</span><a class='hidden_link' href='#dcl.inline-2.sentence-1'>.</a></div> <div id='dcl.inline-2.sentence-2' class='sentence'>The inline specifier indicates to
the implementation that inline substitution of the function body at the
point of call is to be preferred to the usual function call mechanism<a class='hidden_link' href='#dcl.inline-2.sentence-2'>.</a></div> <div id='dcl.inline-2.sentence-3' class='sentence'>An implementation is not required to perform this inline substitution at
the point of call; however, even if this inline substitution is omitted,
the other rules for inline functions specified in this subclause shall
still be respected<a class='hidden_link' href='#dcl.inline-2.sentence-3'>.</a></div></div><div class='para' id='dcl.inline-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.inline-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L982'>#</a></div><div id='dcl.inline-3.sentence-1' class='sentence'>A variable declaration with an <span class='texttt'>inline</span> specifier declares an
<span class='indexparent'><a class='index' id=':variable,inline'></a></span><span class='textit'>inline variable</span><a class='hidden_link' href='#dcl.inline-3.sentence-1'>.</a></div></div><div class='para' id='dcl.inline-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.inline-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L986'>#</a></div><div id='dcl.inline-4.sentence-1' class='sentence'>A function defined within a class definition is an inline function<a class='hidden_link' href='#dcl.inline-4.sentence-1'>.</a></div></div><div class='para' id='dcl.inline-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.inline-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L989'>#</a></div><div id='dcl.inline-5.sentence-1' class='sentence'>The <span class='texttt'>inline</span> specifier shall not appear on a block scope
declaration<a class='hidden_link' href='#dcl.inline-5.sentence-1'>.</a><a class='footnotenum' href='#footnote-94'>94</a></div> <div id='dcl.inline-5.sentence-2' class='sentence'>
If the <span class='texttt'>inline</span> specifier is used in a friend function declaration, that
declaration shall be a definition or the function shall have previously
been declared inline<a class='hidden_link' href='#dcl.inline-5.sentence-2'>.</a></div></div><div class='para' id='dcl.inline-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.inline-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L996'>#</a></div><div id='dcl.inline-6.sentence-1' class='sentence'>An inline function or variable shall be defined in every translation unit in which
it is odr-used and shall have exactly the same definition in every
case (<a href='basic.def.odr'>[basic.def.odr]</a>)<a class='hidden_link' href='#dcl.inline-6.sentence-1'>.</a></div> <div id='dcl.inline-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.inline-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.inline-6.sentence-5' class='sentence'>A call to the inline function or a use of the inline variable may be encountered before its definition
appears in the translation unit<a class='hidden_link' href='#dcl.inline-6.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.inline-6.sentence-2' class='sentence'>
If the definition of a function or variable appears in a translation unit before its
first declaration as inline, the program is ill-formed<a class='hidden_link' href='#dcl.inline-6.sentence-2'>.</a></div> <div id='dcl.inline-6.sentence-3' class='sentence'>If a function or variable
with external linkage is declared inline in one translation unit, it
shall be declared inline in all translation units in which it appears;
no diagnostic is required<a class='hidden_link' href='#dcl.inline-6.sentence-3'>.</a></div> <div id='dcl.inline-6.sentence-4' class='sentence'>An inline function or variable with external
linkage shall have the same address in all translation units<a class='hidden_link' href='#dcl.inline-6.sentence-4'>.</a></div> <div id='dcl.inline-6.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.inline-6.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.inline-6.sentence-6' class='sentence'>A <span class='texttt'>static</span> local variable in an inline
function with external linkage always refers to the same object<a class='hidden_link' href='#dcl.inline-6.sentence-6'>.</a></div> <div id='dcl.inline-6.sentence-7' class='sentence'>A type defined within the body of an inline
function with external linkage is the
same type in every translation unit<a class='hidden_link' href='#dcl.inline-6.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-94'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-94'>94)</a></div><div id='footnote-94.sentence-1' class='sentence'>The <span class='texttt'>inline</span> keyword has no effect on the linkage of a function<a class='hidden_link' href='#footnote-94.sentence-1'>.</a></div></div></div><div id='dcl.type' class='section'><h3 ><a class='secnum' href='#dcl.type' style='min-width:103pt'>9.1.7</a> Type specifiers <a class='abbr_ref' href='dcl.type'>[dcl.type]</a></h3><div class='para' id='dcl.type-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1021'>#</a></div><div id='dcl.type-1.sentence-1' class='sentence'>The type-specifiers are</div><span class='indexparent'><a class='index' id=':type,const'></a></span><span class='indexparent'><a class='index' id=':type,volatile'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:type-specifier' id='nt:type-specifier'>type-specifier:</a>
&#9;<i ><a href='dcl.type.simple#nt:simple-type-specifier'>simple-type-specifier</a></i>
&#9;<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i>
&#9;<i ><a href='temp.res#nt:typename-specifier'>typename-specifier</a></i>
&#9;<i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:type-specifier-seq' id='nt:type-specifier-seq'>type-specifier-seq:</a>
&#9;<i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i> <i ><a href='dcl.type#nt:type-specifier-seq'>type-specifier-seq</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:defining-type-specifier' id='nt:defining-type-specifier'>defining-type-specifier:</a>
&#9;<i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i>
&#9;<i ><a href='class#nt:class-specifier'>class-specifier</a></i>
&#9;<i ><a href='dcl.enum#nt:enum-specifier'>enum-specifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:defining-type-specifier-seq' id='nt:defining-type-specifier-seq'>defining-type-specifier-seq:</a>
&#9;<i ><a href='dcl.type#nt:defining-type-specifier'>defining-type-specifier</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='dcl.type#nt:defining-type-specifier'>defining-type-specifier</a></i> <i ><a href='dcl.type#nt:defining-type-specifier-seq'>defining-type-specifier-seq</a></i>
</pre><div id='dcl.type-1.sentence-2' class='sentence'>The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> in a <i ><a href='dcl.type#nt:type-specifier-seq'>type-specifier-seq</a></i>
or a <i ><a href='dcl.type#nt:defining-type-specifier-seq'>defining-type-specifier-seq</a></i>
appertains
to the type denoted by the preceding <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i><span class='textit'>s</span>
or <i ><a href='dcl.type#nt:defining-type-specifier'>defining-type-specifier</a></i><span class='textit'>s</span> (<a href='#dcl.meaning'>[dcl.meaning]</a>)<a class='hidden_link' href='#dcl.type-1.sentence-2'>.</a></div> <div id='dcl.type-1.sentence-3' class='sentence'>The
<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> affects the type only for the declaration it appears in,
not other declarations involving the same type<a class='hidden_link' href='#dcl.type-1.sentence-3'>.</a></div></div><div class='para' id='dcl.type-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1062'>#</a></div><div id='dcl.type-2.sentence-1' class='sentence'>As a general rule, at most one
<i ><a href='dcl.type#nt:defining-type-specifier'>defining-type-specifier</a></i>
is allowed in the complete
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> of a <i ><a href='dcl.dcl#nt:declaration'>declaration</a></i> or in a
<i ><a href='dcl.type#nt:defining-type-specifier-seq'>defining-type-specifier-seq</a></i>,
and at most one
<i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i>
is allowed in a
<i ><a href='dcl.type#nt:type-specifier-seq'>type-specifier-seq</a></i><a class='hidden_link' href='#dcl.type-2.sentence-1'>.</a></div> <div id='dcl.type-2.sentence-2' class='sentence'>The only exceptions to this rule are the following:
<ul class='itemize'><li id='dcl.type-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.type-2.1'>(2.1)</a></div><div id='dcl.type-2.1.sentence-1' class='sentence'><span class='texttt'>const</span> can be combined with any type specifier except itself<a class='hidden_link' href='#dcl.type-2.1.sentence-1'>.</a></div></li><li id='dcl.type-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.type-2.2'>(2.2)</a></div><div id='dcl.type-2.2.sentence-1' class='sentence'><span class='texttt'>volatile</span> can be combined with any type specifier except itself<a class='hidden_link' href='#dcl.type-2.2.sentence-1'>.</a></div></li><li id='dcl.type-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.type-2.3'>(2.3)</a></div><div id='dcl.type-2.3.sentence-1' class='sentence'><span class='texttt'>signed</span> or <span class='texttt'>unsigned</span> can be combined with
<span class='texttt'>char</span>, <span class='texttt'>long</span>, <span class='texttt'>short</span>, or <span class='texttt'>int</span><a class='hidden_link' href='#dcl.type-2.3.sentence-1'>.</a></div></li><li id='dcl.type-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.type-2.4'>(2.4)</a></div><div id='dcl.type-2.4.sentence-1' class='sentence'><span class='texttt'>short</span> or <span class='texttt'>long</span> can be combined with <span class='texttt'>int</span><a class='hidden_link' href='#dcl.type-2.4.sentence-1'>.</a></div></li><li id='dcl.type-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.type-2.5'>(2.5)</a></div><div id='dcl.type-2.5.sentence-1' class='sentence'><span class='texttt'>long</span> can be combined with <span class='texttt'>double</span><a class='hidden_link' href='#dcl.type-2.5.sentence-1'>.</a></div></li><li id='dcl.type-2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.type-2.6'>(2.6)</a></div><div id='dcl.type-2.6.sentence-1' class='sentence'><span class='texttt'>long</span> can be combined with <span class='texttt'>long</span><a class='hidden_link' href='#dcl.type-2.6.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='dcl.type-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1088'>#</a></div><div id='dcl.type-3.sentence-1' class='sentence'>Except in a declaration of a constructor, destructor, or conversion
function, at least one <i ><a href='dcl.type#nt:defining-type-specifier'>defining-type-specifier</a></i> that is not a
<i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i> shall appear in a complete
<i ><a href='dcl.type#nt:type-specifier-seq'>type-specifier-seq</a></i> or a complete
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i><a class='hidden_link' href='#dcl.type-3.sentence-1'>.</a><a class='footnotenum' href='#footnote-95'>95</a></div></div><div class='para' id='dcl.type-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1099'>#</a></div><div id='dcl.type-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.type-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.type-4.sentence-1' class='sentence'><i ><a href='dcl.enum#nt:enum-specifier'>enum-specifier</a></i><span class='textit'>s</span>,
<i ><a href='class#nt:class-specifier'>class-specifier</a></i><span class='textit'>s</span>,
and
<i ><a href='temp.res#nt:typename-specifier'>typename-specifier</a></i><span class='textit'>s</span>
are discussed
in
<a href='#dcl.enum'>[dcl.enum]</a>,
<a href='class'>[class]</a>,
and
<a href='temp.res'>[temp.res]</a>, respectively<a class='hidden_link' href='#dcl.type-4.sentence-1'>.</a></div> <div id='dcl.type-4.sentence-2' class='sentence'>The remaining
<i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i><span class='textit'>s</span> are discussed in the rest of this subclause<a class='hidden_link' href='#dcl.type-4.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-95'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-95'>95)</a></div><div id='footnote-95.sentence-1' class='sentence'>There is no special
provision for a <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> that
lacks a <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i> or that has a
<i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i> that only specifies <i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i><span class='textit'>s</span><a class='hidden_link' href='#footnote-95.sentence-1'>.</a></div> <div id='footnote-95.sentence-2' class='sentence'>The “implicit int” rule of C is no longer supported<a class='hidden_link' href='#footnote-95.sentence-2'>.</a></div></div><div id='dcl.type.cv' class='section'><h4 ><a class='secnum' href='#dcl.type.cv' style='min-width:118pt'>9.1.7.1</a> The <span class='textit'>cv-qualifier</span><span class='textit'>s</span> <a class='abbr_ref' href='dcl.type.cv'>[dcl.type.cv]</a></h4><span class='indexparent'><a class='index' id=':specifier,cv-qualifier'></a></span><span class='indexparent'><a class='index' id=':initialization,const'></a></span><span class='indexparent'><a class='index' id=':type_specifier,const'></a></span><span class='indexparent'><a class='index' id=':type_specifier,volatile'></a></span><div class='para' id='dcl.type.cv-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.cv-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1120'>#</a></div><div id='dcl.type.cv-1.sentence-1' class='sentence'>There are two <i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i><span class='textit'>s</span>, <span class='texttt'>const</span> and
<span class='texttt'>volatile</span><a class='hidden_link' href='#dcl.type.cv-1.sentence-1'>.</a></div> <div id='dcl.type.cv-1.sentence-2' class='sentence'>Each <i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i> shall appear at most once in
a <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><a class='hidden_link' href='#dcl.type.cv-1.sentence-2'>.</a></div> <div id='dcl.type.cv-1.sentence-3' class='sentence'>If a <i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i> appears in a
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>, the <i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i>
or <i ><a href='class.mem#nt:member-declarator-list'>member-declarator-list</a></i> of
the declaration shall not be empty<a class='hidden_link' href='#dcl.type.cv-1.sentence-3'>.</a></div> <div id='dcl.type.cv-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.type.cv-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.type.cv-1.sentence-5' class='sentence'><a href='basic.type.qualifier'>[basic.type.qualifier]</a> and <a href='#dcl.fct'>[dcl.fct]</a> describe how cv-qualifiers affect object and
function types<a class='hidden_link' href='#dcl.type.cv-1.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.type.cv-1.sentence-4' class='sentence'>
Redundant cv-qualifications are ignored<a class='hidden_link' href='#dcl.type.cv-1.sentence-4'>.</a></div> <div id='dcl.type.cv-1.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.type.cv-1.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.type.cv-1.sentence-6' class='sentence'>For example,
these could be introduced by typedefs<a class='hidden_link' href='#dcl.type.cv-1.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.type.cv-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.cv-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1134'>#</a></div><div id='dcl.type.cv-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.type.cv-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.type.cv-2.sentence-1' class='sentence'>Declaring a variable <span class='texttt'>const</span> can affect its linkage (<a href='#dcl.stc'>[dcl.stc]</a>)
and its usability in <a href='expr.const'>constant expressions</a><a class='hidden_link' href='#dcl.type.cv-2.sentence-1'>.</a></div> <div id='dcl.type.cv-2.sentence-2' class='sentence'>As
described in <a href='#dcl.init'>[dcl.init]</a>, the definition of an object or subobject
of const-qualified type must specify an initializer or be subject to
default-initialization<a class='hidden_link' href='#dcl.type.cv-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.type.cv-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.cv-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1143'>#</a></div><div id='dcl.type.cv-3.sentence-1' class='sentence'>A pointer or reference to a cv-qualified type need not actually point or
refer to a cv-qualified object, but it is treated as if it does; a
const-qualified access path cannot be used to modify an object even if
the object referenced is a non-const object and can be modified through
some other access path<a class='hidden_link' href='#dcl.type.cv-3.sentence-1'>.</a></div> <div id='dcl.type.cv-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.type.cv-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.type.cv-3.sentence-2' class='sentence'>Cv-qualifiers are supported by the type system so that they cannot be
subverted without <a href='expr.const.cast'>casting</a><a class='hidden_link' href='#dcl.type.cv-3.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.type.cv-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.cv-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1154'>#</a></div><div id='dcl.type.cv-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':const_object,undefined_change_to'></a></span>Except that any class member declared <span class='texttt'>mutable</span> (<a href='#dcl.stc'>[dcl.stc]</a>)
can be modified, any attempt to modify (<a href='expr.ass'>[expr.ass]</a>,
<a href='expr.post.incr'>[expr.post.incr]</a>, <a href='expr.pre.incr'>[expr.pre.incr]</a>) a
const object (<a href='basic.type.qualifier'>[basic.type.qualifier]</a>) during its
lifetime (<a href='basic.life'>[basic.life]</a>) results in undefined behavior<a class='hidden_link' href='#dcl.type.cv-4.sentence-1'>.</a></div> <div id='dcl.type.cv-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.type.cv-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
const int ci = 3;                       <span class='comment'>// cv-qualified (initialized as required)
</span>ci = 4;                                 <span class='comment'>// ill-formed: attempt to modify <span class='tcode_in_codeblock'>const</span>
</span>
int i = 2;                              <span class='comment'>// not cv-qualified
</span>const int* cip;                         <span class='comment'>// pointer to <span class='tcode_in_codeblock'>const int</span>
</span>cip = &amp;i;                               <span class='comment'>// OK: cv-qualified access path to unqualified
</span>*cip = 4;                               <span class='comment'>// ill-formed: attempt to modify through ptr to <span class='tcode_in_codeblock'>const</span>
</span>
int* ip;
ip = const_cast&lt;int*&gt;(cip);             <span class='comment'>// cast needed to convert <span class='tcode_in_codeblock'>const int*</span> to <span class='tcode_in_codeblock'>int*</span>
</span>*ip = 4;                                <span class='comment'>// defined: <span class='tcode_in_codeblock'>*ip</span> points to <span class='tcode_in_codeblock'>i</span>, a non-const object
</span>
const int* ciq = new const int (3);     <span class='comment'>// initialized as required
</span>int* iq = const_cast&lt;int*&gt;(ciq);        <span class='comment'>// cast required
</span>*iq = 4;                                <span class='comment'>// undefined: modifies a const object
</span></pre> <div id='dcl.type.cv-4.sentence-2' class='sentence'>
For another example,
<pre class='codeblock'>
struct X {
  mutable int i;
  int j;
};
struct Y {
  X x;
  Y();
};

const Y y;
y.x.i++;                                <span class='comment'>// well-formed: <span class='tcode_in_codeblock'>mutable</span> member can be modified
</span>y.x.j++;                                <span class='comment'>// ill-formed: const-qualified member modified
</span>Y* p = const_cast&lt;Y*&gt;(&amp;y);              <span class='comment'>// cast away const-ness of <span class='tcode_in_codeblock'>y</span>
</span>p-&gt;x.i = 99;                            <span class='comment'>// well-formed: <span class='tcode_in_codeblock'>mutable</span> member can be modified
</span>p-&gt;x.j = 99;                            <span class='comment'>// undefined: modifies a const subobject
</span></pre></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.type.cv-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.cv-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1199'>#</a></div><div id='dcl.type.cv-5.sentence-1' class='sentence'>The semantics of an access through a volatile glvalue are
<span class='indexparent'><a class='index' id=':semantics_of_an_access_through_a_volatile_glvalue'></a></span>implementation-defined<a class='hidden_link' href='#dcl.type.cv-5.sentence-1'>.</a></div> <div id='dcl.type.cv-5.sentence-2' class='sentence'>If an attempt is made to access an object defined with a
volatile-qualified type through the use of a non-volatile glvalue,
the behavior is undefined<a class='hidden_link' href='#dcl.type.cv-5.sentence-2'>.</a></div></div><div class='para' id='dcl.type.cv-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.cv-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1206'>#</a></div><span class='indexparent'><a class='index' id=':type_specifier,volatile_'></a></span><span class='indexparent'><a class='index' id=':volatile,implementation-defined'></a></span><div id='dcl.type.cv-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.type.cv-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.type.cv-6.sentence-1' class='sentence'><span class='texttt'>volatile</span> is a hint to the implementation to avoid aggressive
optimization involving the object because the value of the object might
be changed by means undetectable by an implementation<a class='hidden_link' href='#dcl.type.cv-6.sentence-1'>.</a></div> <div id='dcl.type.cv-6.sentence-2' class='sentence'>Furthermore, for some implementations, <span class='texttt'>volatile</span> might indicate that
special hardware instructions are required to access the object<a class='hidden_link' href='#dcl.type.cv-6.sentence-2'>.</a></div> <div id='dcl.type.cv-6.sentence-3' class='sentence'>See <a href='intro.execution'>[intro.execution]</a> for detailed semantics<a class='hidden_link' href='#dcl.type.cv-6.sentence-3'>.</a></div> <div id='dcl.type.cv-6.sentence-4' class='sentence'>In general, the
semantics of <span class='texttt'>volatile</span> are intended to be the same in C++ as
they are in C<a class='hidden_link' href='#dcl.type.cv-6.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.type.simple' class='section'><h4 ><a class='secnum' href='#dcl.type.simple' style='min-width:118pt'>9.1.7.2</a> Simple type specifiers <a class='abbr_ref' href='dcl.type.simple'>[dcl.type.simple]</a></h4><span class='indexparent'><a class='index' id=':type_specifier,simple'></a></span><div class='para' id='dcl.type.simple-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.simple-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1223'>#</a></div><div id='dcl.type.simple-1.sentence-1' class='sentence'>The simple type specifiers are
<pre class='bnf'><a class='nontermdef' href='#nt:simple-type-specifier' id='nt:simple-type-specifier'>simple-type-specifier:</a>
&#9;<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i>
&#9;<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> <span class='terminal'>template</span> <i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i>
&#9;<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='temp.names#nt:template-name'>template-name</a></i>
&#9;<span class='terminal'>char</span>
&#9;<span class='terminal'>char16_t</span>
&#9;<span class='terminal'>char32_t</span>
&#9;<span class='terminal'>wchar_t</span>
&#9;<span class='terminal'>bool</span>
&#9;<span class='terminal'>short</span>
&#9;<span class='terminal'>int</span>
&#9;<span class='terminal'>long</span>
&#9;<span class='terminal'>signed</span>
&#9;<span class='terminal'>unsigned</span>
&#9;<span class='terminal'>float</span>
&#9;<span class='terminal'>double</span>
&#9;<span class='terminal'>void</span>
&#9;<span class='terminal'>auto</span>
&#9;<i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i>
</pre></div><pre class='bnf'><a class='nontermdef' href='#nt:type-name' id='nt:type-name'>type-name:</a>
&#9;<i ><a href='class#nt:class-name'>class-name</a></i>
&#9;<i ><a href='dcl.enum#nt:enum-name'>enum-name</a></i>
&#9;<i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i>
&#9;<i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:decltype-specifier' id='nt:decltype-specifier'>decltype-specifier:</a>
&#9;<span class='terminal'>decltype</span> <span class='terminal'>(</span> <i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='terminal'>)</span>
&#9;<span class='terminal'>decltype</span> <span class='terminal'>(</span> <span class='terminal'>auto</span> <span class='terminal'>)</span>
</pre></div><div class='para' id='dcl.type.simple-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.simple-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1261'>#</a></div><div id='dcl.type.simple-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type_specifier,char'></a></span><span class='indexparent'><a class='index' id=':type_specifier,char16_t'></a></span><span class='indexparent'><a class='index' id=':type_specifier,char32_t'></a></span><span class='indexparent'><a class='index' id=':type_specifier,wchar_t'></a></span><span class='indexparent'><a class='index' id=':type_specifier,bool'></a></span><span class='indexparent'><a class='index' id=':type_specifier,short'></a></span><span class='indexparent'><a class='index' id=':type_specifier,int'></a></span><span class='indexparent'><a class='index' id=':type_specifier,long'></a></span><span class='indexparent'><a class='index' id=':type_specifier,signed'></a></span><span class='indexparent'><a class='index' id=':type_specifier,unsigned'></a></span><span class='indexparent'><a class='index' id=':type_specifier,float'></a></span><span class='indexparent'><a class='index' id=':type_specifier,double'></a></span><span class='indexparent'><a class='index' id=':type_specifier,void'></a></span><span class='indexparent'><a class='index' id=':type_specifier,auto'></a></span><span class='indexparent'><a class='index' id=':type_specifier,decltype'></a></span><span class='indexparent'><a class='index' id=':type-name'></a></span><span class='indexparent'><a class='index' id=':lambda-introducer'></a></span>The <i ><a href='dcl.type.simple#nt:simple-type-specifier'>simple-type-specifier</a></i> <span class='texttt'>auto</span>
is a placeholder for
a type to be deduced (<a href='#dcl.spec.auto'>[dcl.spec.auto]</a>)<a class='hidden_link' href='#dcl.type.simple-2.sentence-1'>.</a></div> <div id='dcl.type.simple-2.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':deduction,class_template_arguments'></a></span>A <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i> of the form
<span class='texttt'>typename</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='temp.names#nt:template-name'>template-name</a></i>
is a placeholder for
a deduced class type (<a href='#dcl.type.class.deduct'>[dcl.type.class.deduct]</a>)<a class='hidden_link' href='#dcl.type.simple-2.sentence-2'>.</a></div> <div id='dcl.type.simple-2.sentence-3' class='sentence'>The <i ><a href='temp.names#nt:template-name'>template-name</a></i> shall name a class template
that is not an injected-class-name<a class='hidden_link' href='#dcl.type.simple-2.sentence-3'>.</a></div> <div id='dcl.type.simple-2.sentence-4' class='sentence'>The other
<i ><a href='dcl.type.simple#nt:simple-type-specifier'>simple-type-specifier</a></i><span class='textit'>s</span>
specify either a previously-declared type, a type determined from an
expression, or one of the
fundamental types (<a href='basic.fundamental'>[basic.fundamental]</a>)<a class='hidden_link' href='#dcl.type.simple-2.sentence-4'>.</a></div> <div id='dcl.type.simple-2.sentence-5' class='sentence'>Table <a href='#tab:simple.type.specifiers'>11</a>
 summarizes the valid combinations of
<i ><a href='dcl.type.simple#nt:simple-type-specifier'>simple-type-specifier</a></i><span class='textit'>s</span>
and the types they specify<a class='hidden_link' href='#dcl.type.simple-2.sentence-5'>.</a></div><div class='numberedTable' id='tab:simple.type.specifiers'>Table <a href='#tab:simple.type.specifiers'>11</a> — <span class='grammarterm'>simple-type-specifier</span><span class='textit'>s</span> and the types they specify<br><table ><tr class='rowsep'><td class='left'><div id='dcl.type.simple-2.sentence-6' class='sentence'><b>Specifier(s)</b></div></td><td class='left'><div id='dcl.type.simple-2.sentence-7' class='sentence'><b>Type</b></div></td></tr><tr class='capsep'><td class='left'><div id='dcl.type.simple-2.sentence-8' class='sentence'><span class='grammarterm'>type-name</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-9' class='sentence'>the type named</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-10' class='sentence'><span class='grammarterm'>simple-template-id</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-11' class='sentence'>the type as defined in <a href='temp.names'>[temp.names]</a></div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-12' class='sentence'><span class='grammarterm'>template-name</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-13' class='sentence'>placeholder for a type to be deduced</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-14' class='sentence'><span class='texttt'>char</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-15' class='sentence'>“<span class='texttt'>char</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-16' class='sentence'><span class='texttt'>unsigned char</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-17' class='sentence'>“<span class='texttt'>unsigned char</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-18' class='sentence'><span class='texttt'>signed char</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-19' class='sentence'>“<span class='texttt'>signed char</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-20' class='sentence'><span class='texttt'>char16_&shy;t</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-21' class='sentence'>“<span class='texttt'>char16_&shy;t</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-22' class='sentence'><span class='texttt'>char32_&shy;t</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-23' class='sentence'>“<span class='texttt'>char32_&shy;t</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-24' class='sentence'><span class='texttt'>bool</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-25' class='sentence'>“<span class='texttt'>bool</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-26' class='sentence'><span class='texttt'>unsigned</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-27' class='sentence'>“<span class='texttt'>unsigned int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-28' class='sentence'><span class='texttt'>unsigned int</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-29' class='sentence'>“<span class='texttt'>unsigned int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-30' class='sentence'><span class='texttt'>signed</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-31' class='sentence'>“<span class='texttt'>int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-32' class='sentence'><span class='texttt'>signed int</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-33' class='sentence'>“<span class='texttt'>int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-34' class='sentence'><span class='texttt'>int</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-35' class='sentence'>“<span class='texttt'>int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-36' class='sentence'><span class='texttt'>unsigned short int</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-37' class='sentence'>“<span class='texttt'>unsigned short int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-38' class='sentence'><span class='texttt'>unsigned short</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-39' class='sentence'>“<span class='texttt'>unsigned short int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-40' class='sentence'><span class='texttt'>unsigned long int</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-41' class='sentence'>“<span class='texttt'>unsigned long int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-42' class='sentence'><span class='texttt'>unsigned long</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-43' class='sentence'>“<span class='texttt'>unsigned long int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-44' class='sentence'><span class='texttt'>unsigned long long int</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-45' class='sentence'>“<span class='texttt'>unsigned long long int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-46' class='sentence'><span class='texttt'>unsigned long long</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-47' class='sentence'>“<span class='texttt'>unsigned long long int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-48' class='sentence'><span class='texttt'>signed long int</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-49' class='sentence'>“<span class='texttt'>long int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-50' class='sentence'><span class='texttt'>signed long</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-51' class='sentence'>“<span class='texttt'>long int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-52' class='sentence'><span class='texttt'>signed long long int</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-53' class='sentence'>“<span class='texttt'>long long int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-54' class='sentence'><span class='texttt'>signed long long</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-55' class='sentence'>“<span class='texttt'>long long int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-56' class='sentence'><span class='texttt'>long long int</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-57' class='sentence'>“<span class='texttt'>long long int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-58' class='sentence'><span class='texttt'>long long</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-59' class='sentence'>“<span class='texttt'>long long int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-60' class='sentence'><span class='texttt'>long int</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-61' class='sentence'>“<span class='texttt'>long int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-62' class='sentence'><span class='texttt'>long</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-63' class='sentence'>“<span class='texttt'>long int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-64' class='sentence'><span class='texttt'>signed short int</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-65' class='sentence'>“<span class='texttt'>short int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-66' class='sentence'><span class='texttt'>signed short</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-67' class='sentence'>“<span class='texttt'>short int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-68' class='sentence'><span class='texttt'>short int</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-69' class='sentence'>“<span class='texttt'>short int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-70' class='sentence'><span class='texttt'>short</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-71' class='sentence'>“<span class='texttt'>short int</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-72' class='sentence'><span class='texttt'>wchar_&shy;t</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-73' class='sentence'>“<span class='texttt'>wchar_&shy;t</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-74' class='sentence'><span class='texttt'>float</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-75' class='sentence'>“<span class='texttt'>float</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-76' class='sentence'><span class='texttt'>double</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-77' class='sentence'>“<span class='texttt'>double</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-78' class='sentence'><span class='texttt'>long double</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-79' class='sentence'>“<span class='texttt'>long double</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-80' class='sentence'><span class='texttt'>void</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-81' class='sentence'>“<span class='texttt'>void</span>”</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-82' class='sentence'><span class='texttt'>auto</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-83' class='sentence'>placeholder for a type to be deduced</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-84' class='sentence'><span class='texttt'>decltype(auto)</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-85' class='sentence'>placeholder for a type to be deduced</div></td></tr><tr ><td class='left'><div id='dcl.type.simple-2.sentence-86' class='sentence'><span class='texttt'>decltype(</span><span class='grammarterm'>expression</span><span class='texttt'>)</span></div></td><td class='left'><div id='dcl.type.simple-2.sentence-87' class='sentence'>the type as defined below</div></td></tr></table></div></div><div class='para' id='dcl.type.simple-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.simple-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1348'>#</a></div><div id='dcl.type.simple-3.sentence-1' class='sentence'>When multiple <i ><a href='dcl.type.simple#nt:simple-type-specifier'>simple-type-specifier</a></i><span class='textit'>s</span> are allowed, they can be
freely intermixed with other <i ><a href='dcl.spec#nt:decl-specifier'>decl-specifier</a></i><span class='textit'>s</span> in any order<a class='hidden_link' href='#dcl.type.simple-3.sentence-1'>.</a></div> <div id='dcl.type.simple-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.type.simple-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.type.simple-3.sentence-2' class='sentence'>It is <span class='indexparent'><a class='index' id=':signedness_of_char'></a></span>implementation-defined whether objects of <span class='texttt'>char</span> type are
represented as signed or unsigned quantities<a class='hidden_link' href='#dcl.type.simple-3.sentence-2'>.</a></div> <div id='dcl.type.simple-3.sentence-3' class='sentence'>The <span class='texttt'>signed</span> specifier
forces <span class='texttt'>char</span> objects to be signed; it is redundant in other contexts<a class='hidden_link' href='#dcl.type.simple-3.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.type.simple-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.simple-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1357'>#</a></div><div id='dcl.type.simple-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type_specifier,decltype_'></a></span>For an expression <span class='texttt'>e</span>, the type denoted by <span class='texttt'>decltype(e)</span> is defined as follows:</div><div id='dcl.type.simple-4.sentence-2' class='sentence'><ul class='itemize'><li id='dcl.type.simple-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.type.simple-4.1'>(4.1)</a></div><div id='dcl.type.simple-4.1.sentence-1' class='sentence'>if <span class='texttt'>e</span> is an unparenthesized <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>
naming a structured binding (<a href='#dcl.struct.bind'>[dcl.struct.bind]</a>),
<span class='texttt'>decltype(e)</span> is the referenced type as given in
the specification of the structured binding declaration;</div></li><li id='dcl.type.simple-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.type.simple-4.2'>(4.2)</a></div><div id='dcl.type.simple-4.2.sentence-1' class='sentence'>otherwise, if <span class='texttt'>e</span> is an unparenthesized <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>
naming a non-type <i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i>,
<span class='texttt'>decltype(e)</span> is the type of the <i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i>
after performing any necessary type deduction
(<a href='#dcl.spec.auto'>[dcl.spec.auto]</a>, <a href='#dcl.type.class.deduct'>[dcl.type.class.deduct]</a>);</div></li><li id='dcl.type.simple-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.type.simple-4.3'>(4.3)</a></div><div id='dcl.type.simple-4.3.sentence-1' class='sentence'>otherwise, if <span class='texttt'>e</span> is an unparenthesized <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> or
an unparenthesized
<a href='expr.ref'>class member access</a>, <span class='texttt'>decltype(e)</span> is the
type of the entity named by <span class='texttt'>e</span><a class='hidden_link' href='#dcl.type.simple-4.3.sentence-1'>.</a></div> <div id='dcl.type.simple-4.3.sentence-2' class='sentence'>If there is no such entity, or
if <span class='texttt'>e</span> names a set of overloaded functions, the program is
ill-formed;</div></li><li id='dcl.type.simple-4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.type.simple-4.4'>(4.4)</a></div><div id='dcl.type.simple-4.4.sentence-1' class='sentence'>otherwise, if <span class='texttt'>e</span> is
an xvalue, <span class='texttt'>decltype(e)</span> is <span class='texttt'>T&amp;&amp;</span>, where <span class='texttt'>T</span> is the type
of <span class='texttt'>e</span>;</div></li><li id='dcl.type.simple-4.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.type.simple-4.5'>(4.5)</a></div><div id='dcl.type.simple-4.5.sentence-1' class='sentence'>otherwise, if <span class='texttt'>e</span> is an lvalue, <span class='texttt'>decltype(e)</span>
is <span class='texttt'>T&amp;</span>, where <span class='texttt'>T</span> is the type of <span class='texttt'>e</span>;</div></li><li id='dcl.type.simple-4.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.type.simple-4.6'>(4.6)</a></div><div id='dcl.type.simple-4.6.sentence-1' class='sentence'>otherwise, <span class='texttt'>decltype(e)</span> is the type of <span class='texttt'>e</span><a class='hidden_link' href='#dcl.type.simple-4.6.sentence-1'>.</a></div></li></ul></div><div id='dcl.type.simple-4.sentence-3' class='sentence'>The operand of the <span class='texttt'>decltype</span> specifier is an
<a href='expr.prop#def:unevaluated_operand'>unevaluated operand</a><a class='hidden_link' href='#dcl.type.simple-4.sentence-3'>.</a></div><div style='height:0.6em;display:block'></div><div id='dcl.type.simple-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.type.simple-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
const int&amp;&amp; foo();
int i;
struct A { double x; };
const A* a = new A();
decltype(foo()) x1 = 17;        <span class='comment'>// type is <span class='tcode_in_codeblock'>const int&amp;&amp;</span>
</span>decltype(i) x2;                 <span class='comment'>// type is <span class='tcode_in_codeblock'>int</span>
</span>decltype(a-&gt;x) x3;              <span class='comment'>// type is <span class='tcode_in_codeblock'>double</span>
</span>decltype((a-&gt;x)) x4 = x3;       <span class='comment'>// type is <span class='tcode_in_codeblock'>const double&amp;</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.type.simple-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.type.simple-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.type.simple-4.sentence-4' class='sentence'>The rules for determining types involving <span class='texttt'>decltype(auto)</span> are specified
in <a href='#dcl.spec.auto'>[dcl.spec.auto]</a><a class='hidden_link' href='#dcl.type.simple-4.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.type.simple-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.simple-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1410'>#</a></div><div id='dcl.type.simple-5.sentence-1' class='sentence'>If the operand of a <i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i> is a prvalue,
the <a href='conv.rval'>temporary materialization conversion</a> is not applied
and no result object is provided for the prvalue<a class='hidden_link' href='#dcl.type.simple-5.sentence-1'>.</a></div> <div id='dcl.type.simple-5.sentence-2' class='sentence'>The type of the prvalue may be incomplete or an abstract class type<a class='hidden_link' href='#dcl.type.simple-5.sentence-2'>.</a></div> <div id='dcl.type.simple-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.type.simple-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.type.simple-5.sentence-3' class='sentence'>As a result, storage is not allocated for the prvalue and it is not destroyed<a class='hidden_link' href='#dcl.type.simple-5.sentence-3'>.</a></div> <div id='dcl.type.simple-5.sentence-4' class='sentence'>Thus, a class type is not instantiated
as a result of being the type of a function call in this context<a class='hidden_link' href='#dcl.type.simple-5.sentence-4'>.</a></div> <div id='dcl.type.simple-5.sentence-5' class='sentence'>In this context, the common purpose of
writing the expression is merely to refer to its type<a class='hidden_link' href='#dcl.type.simple-5.sentence-5'>.</a></div> <div id='dcl.type.simple-5.sentence-6' class='sentence'>In that sense, a
<i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i> is analogous to a use of a <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i>,
so the usual reasons for requiring a complete type do not apply<a class='hidden_link' href='#dcl.type.simple-5.sentence-6'>.</a></div> <div id='dcl.type.simple-5.sentence-7' class='sentence'>In particular,
it is not necessary to allocate storage for a temporary object or to enforce the
semantic constraints associated with invoking the type's destructor<a class='hidden_link' href='#dcl.type.simple-5.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.type.simple-5.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.type.simple-5.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.type.simple-5.sentence-8' class='sentence'>Unlike the preceding rule, parentheses have no special meaning in this context<a class='hidden_link' href='#dcl.type.simple-5.sentence-8'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.type.simple-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.type.simple-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T&gt; struct A { ~A() = delete; };
template&lt;class T&gt; auto h()
  -&gt; A&lt;T&gt;;
template&lt;class T&gt; auto i(T)     <span class='comment'>// identity
</span>  -&gt; T;
template&lt;class T&gt; auto f(T)     <span class='comment'>// #1
</span>  -&gt; decltype(i(h&lt;T&gt;()));       <span class='comment'>// forces completion of <span class='tcode_in_codeblock'>A&lt;T&gt;</span> and implicitly uses <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;~A()</span>
</span>                                <span class='comment'>// for the temporary introduced by the use of <span class='tcode_in_codeblock'>h()</span>.
</span>                                <span class='comment'>// (A temporary is not introduced as a result of the use of <span class='tcode_in_codeblock'>i()</span>.)
</span>template&lt;class T&gt; auto f(T)     <span class='comment'>// #2
</span>  -&gt; void;
auto g() -&gt; void {
  f(42);                        <span class='comment'>// OK: calls #2. (#1 is not a viable candidate: type deduction
</span>                                <span class='comment'>// fails (<a href='temp.deduct'>[temp.deduct]</a>) because <span class='tcode_in_codeblock'>A&lt;int&gt;&#x200b;::&#x200b;~A()</span> is implicitly used in its
</span>                                <span class='comment'>// <span class='grammarterm'>decltype-specifier</span>)
</span>}
template&lt;class T&gt; auto q(T)
  -&gt; decltype((h&lt;T&gt;()));        <span class='comment'>// does not force completion of <span class='tcode_in_codeblock'>A&lt;T&gt;</span>; <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;~A()</span> is not implicitly
</span>                                <span class='comment'>// used within the context of this <span class='grammarterm'>decltype-specifier</span>
</span>void r() {
  q(42);                        <span class='comment'>// error: deduction against <span class='tcode_in_codeblock'>q</span> succeeds, so overload resolution selects
</span>                                <span class='comment'>// the specialization “<span class='tcode_in_codeblock'>q(T) -&gt; decltype((h&lt;T&gt;()))</span>” with <span class='tcode_in_codeblock'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="="><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span></span></span></span><span class='tcode_in_codeblock'>int</span>;
</span>                                <span class='comment'>// the return type is <span class='tcode_in_codeblock'>A&lt;int&gt;</span>, so a temporary is introduced and its
</span>                                <span class='comment'>// destructor is used, so the program is ill-formed
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.type.elab' class='section'><h4 ><a class='secnum' href='#dcl.type.elab' style='min-width:118pt'>9.1.7.3</a> Elaborated type specifiers <a class='abbr_ref' href='dcl.type.elab'>[dcl.type.elab]</a></h4><span class='indexparent'><a class='index' id=':type_specifier,elaborated'></a></span><span class='indexparent'><a class='index' id=':typename'></a></span><span class='indexparent'><a class='index' id=':type_specifier,enum'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:elaborated-type-specifier' id='nt:elaborated-type-specifier'>elaborated-type-specifier:</a>
&#9;<i ><a href='class#nt:class-key'>class-key</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i>
&#9;<i ><a href='class#nt:class-key'>class-key</a></i> <i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i>
&#9;<i ><a href='class#nt:class-key'>class-key</a></i> <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> <span class='terminal'>template</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i>
&#9;<span class='terminal'>enum</span> <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i>
</pre><div class='para' id='dcl.type.elab-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.elab-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1472'>#</a></div><div id='dcl.type.elab-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':class_name,elaborated'></a></span><span class='indexparent'><a class='index' id=':name,elaborated,enum'></a></span>An <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> shall not appear in an <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i>
unless the latter is the sole constituent of a declaration<a class='hidden_link' href='#dcl.type.elab-1.sentence-1'>.</a></div> <div id='dcl.type.elab-1.sentence-2' class='sentence'>If an <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> is the sole constituent of a
declaration, the declaration is ill-formed unless it is an <a href='temp.expl.spec'>explicit
specialization</a>, an <a href='temp.explicit'>explicit
instantiation</a> or it has one of the following
forms:</div><pre class='ncsimplebnf'><i ><a href='class#nt:class-key'>class-key</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='terminal'>;</span>
<span class='terminal'>friend</span> <i ><a href='class#nt:class-key'>class-key</a></i> <span class='terminal'>::<span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='terminal'>;</span>
<span class='terminal'>friend</span> <i ><a href='class#nt:class-key'>class-key</a></i> <span class='terminal'>::<span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i> <span class='terminal'>;</span>
<span class='terminal'>friend</span> <i ><a href='class#nt:class-key'>class-key</a></i> <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='terminal'>;</span>
<span class='terminal'>friend</span> <i ><a href='class#nt:class-key'>class-key</a></i> <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> <span class='terminal'>template<span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i> <span class='terminal'>;</span>
</pre><div id='dcl.type.elab-1.sentence-3' class='sentence'>In the first case, the <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i>, if any, appertains
to the class being declared; the attributes in the
<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> are thereafter considered attributes of
the class whenever it is named<a class='hidden_link' href='#dcl.type.elab-1.sentence-3'>.</a></div></div><div class='para' id='dcl.type.elab-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.elab-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1496'>#</a></div><div id='dcl.type.elab-2.sentence-1' class='sentence'><a href='basic.lookup.elab'>[basic.lookup.elab]</a> describes how name lookup proceeds for the
<i ><a href='lex.name#nt:identifier'>identifier</a></i> in an <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i><a class='hidden_link' href='#dcl.type.elab-2.sentence-1'>.</a></div> <div id='dcl.type.elab-2.sentence-2' class='sentence'>If the
<i ><a href='lex.name#nt:identifier'>identifier</a></i> resolves to a <i ><a href='class#nt:class-name'>class-name</a></i> or
<i ><a href='dcl.enum#nt:enum-name'>enum-name</a></i>, the <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i>
introduces it into the declaration the same way a
<i ><a href='dcl.type.simple#nt:simple-type-specifier'>simple-type-specifier</a></i> introduces its <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i><a class='hidden_link' href='#dcl.type.elab-2.sentence-2'>.</a></div> <div id='dcl.type.elab-2.sentence-3' class='sentence'>If
the <i ><a href='lex.name#nt:identifier'>identifier</a></i> resolves to a
<i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> or the <i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i> resolves to
an alias template specialization,
the
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> is ill-formed<a class='hidden_link' href='#dcl.type.elab-2.sentence-3'>.</a></div> <div id='dcl.type.elab-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.type.elab-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.type.elab-2.sentence-4' class='sentence'>This implies that, within a class template with a template
<i ><a href='temp.param#nt:type-parameter'>type-parameter</a></i> <span class='texttt'>T</span>, the declaration
<pre class='codeblock'>
friend class T;</pre>
is ill-formed<a class='hidden_link' href='#dcl.type.elab-2.sentence-4'>.</a></div> <div id='dcl.type.elab-2.sentence-5' class='sentence'>However, the similar declaration <span class='texttt'>friend T;</span> is allowed (<a href='class.friend'>[class.friend]</a>)<a class='hidden_link' href='#dcl.type.elab-2.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.type.elab-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.elab-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1517'>#</a></div><div id='dcl.type.elab-3.sentence-1' class='sentence'>The <i ><a href='class#nt:class-key'>class-key</a></i> or <span class='texttt'>enum</span> keyword
present in the
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> shall agree in kind with the
declaration to which the name in the
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> refers<a class='hidden_link' href='#dcl.type.elab-3.sentence-1'>.</a></div> <div id='dcl.type.elab-3.sentence-2' class='sentence'>This rule also applies to
the form of <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> that declares a
<i ><a href='class#nt:class-name'>class-name</a></i> or friend class since it can be construed
as referring to the definition of the class<a class='hidden_link' href='#dcl.type.elab-3.sentence-2'>.</a></div> <div id='dcl.type.elab-3.sentence-3' class='sentence'>Thus, in any
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i>, the <span class='texttt'>enum</span> keyword
shall be
used to refer to an <a href='#dcl.enum'>enumeration</a>, the <span class='texttt'>union</span>
<i ><a href='class#nt:class-key'>class-key</a></i> shall be used to refer to a <a href='class#def:union'>union</a>,
and either the <span class='texttt'>class</span> or <span class='texttt'>struct</span>
<i ><a href='class#nt:class-key'>class-key</a></i> shall be used to refer to a <a href='class'>class</a>
declared using the <span class='texttt'>class</span> or <span class='texttt'>struct</span>
<i ><a href='class#nt:class-key'>class-key</a></i><a class='hidden_link' href='#dcl.type.elab-3.sentence-3'>.</a></div> <div id='dcl.type.elab-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.type.elab-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
enum class E { a, b };
enum E x = E::a;                <span class='comment'>// OK
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.spec.auto' class='section'><h4 ><a class='secnum' href='#dcl.spec.auto' style='min-width:118pt'>9.1.7.4</a> The <span class='texttt'>auto</span> specifier <a class='abbr_ref' href='dcl.spec.auto'>[dcl.spec.auto]</a></h4><span class='indexparent'><a class='index' id=':type_specifier,auto_'></a></span><div class='para' id='dcl.spec.auto-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.spec.auto-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1543'>#</a></div><div id='dcl.spec.auto-1.sentence-1' class='sentence'>The <span class='texttt'>auto</span> and <span class='texttt'>decltype(auto)</span> <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i><span class='textit'>s</span>
are used to
designate a placeholder type that will be replaced later by deduction
from an initializer<a class='hidden_link' href='#dcl.spec.auto-1.sentence-1'>.</a></div> <div id='dcl.spec.auto-1.sentence-2' class='sentence'>The <span class='texttt'>auto</span>
<i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i> is also used to
introduce a function type having a <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i> or to
signify that a lambda is a generic lambda (<a href='expr.prim.lambda'>[expr.prim.lambda]</a>)<a class='hidden_link' href='#dcl.spec.auto-1.sentence-2'>.</a></div> <div id='dcl.spec.auto-1.sentence-3' class='sentence'>The <span class='texttt'>auto</span> <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i> is also used to introduce a
<a href='#dcl.struct.bind'>structured binding declaration</a><a class='hidden_link' href='#dcl.spec.auto-1.sentence-3'>.</a></div></div><div class='para' id='dcl.spec.auto-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.spec.auto-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1554'>#</a></div><div id='dcl.spec.auto-2.sentence-1' class='sentence'>The placeholder type can appear with a function declarator in the
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>, <i ><a href='dcl.type#nt:type-specifier-seq'>type-specifier-seq</a></i>,
<i ><a href='class.conv.fct#nt:conversion-function-id'>conversion-function-id</a></i>, or <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i>,
in any context where such a declarator is valid<a class='hidden_link' href='#dcl.spec.auto-2.sentence-1'>.</a></div> <div id='dcl.spec.auto-2.sentence-2' class='sentence'>If the function declarator
includes a <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i> (<a href='#dcl.fct'>[dcl.fct]</a>), that
<i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i> specifies
the declared return type of the function<a class='hidden_link' href='#dcl.spec.auto-2.sentence-2'>.</a></div> <div id='dcl.spec.auto-2.sentence-3' class='sentence'>Otherwise, the function declarator
shall declare a function<a class='hidden_link' href='#dcl.spec.auto-2.sentence-3'>.</a></div> <div id='dcl.spec.auto-2.sentence-4' class='sentence'>If the declared return type of the
function contains a placeholder type, the return type of the function is
deduced from non-discarded <span class='texttt'>return</span> statements, if any, in the body
of the function (<a href='stmt.if'>[stmt.if]</a>)<a class='hidden_link' href='#dcl.spec.auto-2.sentence-4'>.</a></div></div><div class='para' id='dcl.spec.auto-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.spec.auto-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1567'>#</a></div><div id='dcl.spec.auto-3.sentence-1' class='sentence'>The type of a variable declared using <span class='texttt'>auto</span> or <span class='texttt'>decltype(auto)</span> is
deduced from its initializer<a class='hidden_link' href='#dcl.spec.auto-3.sentence-1'>.</a></div> <div id='dcl.spec.auto-3.sentence-2' class='sentence'>This use is allowed
in an initializing declaration (<a href='#dcl.init'>[dcl.init]</a>) of a variable<a class='hidden_link' href='#dcl.spec.auto-3.sentence-2'>.</a></div> <div id='dcl.spec.auto-3.sentence-3' class='sentence'><span class='texttt'>auto</span> or <span class='texttt'>decltype(auto)</span> shall appear as one of the
<i ><a href='dcl.spec#nt:decl-specifier'>decl-specifier</a></i><span class='textit'>s</span> in the
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> and the
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>
shall be followed by one or more
<i ><a href='dcl.decl#nt:declarator'>declarator</a></i><span class='textit'>s</span>,
each of which shall
be followed by a non-empty
<i ><a href='dcl.init#nt:initializer'>initializer</a></i><a class='hidden_link' href='#dcl.spec.auto-3.sentence-3'>.</a></div> <div id='dcl.spec.auto-3.sentence-4' class='sentence'>In an <i ><a href='dcl.init#nt:initializer'>initializer</a></i> of the form
<pre class='codeblock'>
( <span class='textrm'><span class='grammarterm'>expression-list</span></span> )</pre>
the <i ><a href='expr.post#nt:expression-list'>expression-list</a></i> shall be a single
<i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i><a class='hidden_link' href='#dcl.spec.auto-3.sentence-4'>.</a></div> <div id='dcl.spec.auto-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.spec.auto-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
auto x = 5;                     <span class='comment'>// OK: <span class='tcode_in_codeblock'>x</span> has type <span class='tcode_in_codeblock'>int</span>
</span>const auto *v = &amp;x, u = 6;      <span class='comment'>// OK: <span class='tcode_in_codeblock'>v</span> has type <span class='tcode_in_codeblock'>const int*</span>, <span class='tcode_in_codeblock'>u</span> has type <span class='tcode_in_codeblock'>const int</span>
</span>static auto y = 0.0;            <span class='comment'>// OK: <span class='tcode_in_codeblock'>y</span> has type <span class='tcode_in_codeblock'>double</span>
</span>auto int r;                     <span class='comment'>// error: <span class='tcode_in_codeblock'>auto</span> is not a <span class='grammarterm'>storage-class-specifier</span>
</span>auto f() -&gt; int;                <span class='comment'>// OK: <span class='tcode_in_codeblock'>f</span> returns <span class='tcode_in_codeblock'>int</span>
</span>auto g() { return 0.0; }        <span class='comment'>// OK: <span class='tcode_in_codeblock'>g</span> returns <span class='tcode_in_codeblock'>double</span>
</span>auto h();                       <span class='comment'>// OK: <span class='tcode_in_codeblock'>h</span>'s return type will be deduced when it is defined
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.spec.auto-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.spec.auto-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1599'>#</a></div><div id='dcl.spec.auto-4.sentence-1' class='sentence'>A placeholder type can also be used
in the <i ><a href='dcl.type#nt:type-specifier-seq'>type-specifier-seq</a></i> in
the <i ><a href='expr.new#nt:new-type-id'>new-type-id</a></i> or <i ><a href='dcl.name#nt:type-id'>type-id</a></i> of a
<i ><a href='expr.new#nt:new-expression'>new-expression</a></i>
and as a <i ><a href='dcl.spec#nt:decl-specifier'>decl-specifier</a></i>
of the <i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i>'s
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>
in a <i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i><a class='hidden_link' href='#dcl.spec.auto-4.sentence-1'>.</a></div></div><div class='para' id='dcl.spec.auto-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.spec.auto-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1609'>#</a></div><div id='dcl.spec.auto-5.sentence-1' class='sentence'>A program that uses <span class='texttt'>auto</span> or <span class='texttt'>decltype(auto)</span> in a context not
explicitly allowed in this subclause is ill-formed<a class='hidden_link' href='#dcl.spec.auto-5.sentence-1'>.</a></div></div><div class='para' id='dcl.spec.auto-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.spec.auto-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1613'>#</a></div><div id='dcl.spec.auto-6.sentence-1' class='sentence'>If the <i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i> contains more than one
<i ><a href='dcl.decl#nt:init-declarator'>init-declarator</a></i>, they shall all form declarations of
variables<a class='hidden_link' href='#dcl.spec.auto-6.sentence-1'>.</a></div> <div id='dcl.spec.auto-6.sentence-2' class='sentence'>The type of each declared variable is determined
by <a href='#def:placeholder_type_deduction'>placeholder type deduction</a>,
and if the type that replaces the placeholder type is not the
same in each deduction, the program is ill-formed<a class='hidden_link' href='#dcl.spec.auto-6.sentence-2'>.</a></div><div style='height:0.6em;display:block'></div><div id='dcl.spec.auto-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.spec.auto-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
auto x = 5, *y = &amp;x;            <span class='comment'>// OK: <span class='tcode_in_codeblock'>auto</span> is <span class='tcode_in_codeblock'>int</span>
</span>auto a = 5, b = { 1, 2 };       <span class='comment'>// error: different types for <span class='tcode_in_codeblock'>auto</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.spec.auto-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.spec.auto-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1628'>#</a></div><div id='dcl.spec.auto-7.sentence-1' class='sentence'>If a function with a declared return type that contains a placeholder type has
multiple non-discarded <span class='texttt'>return</span> statements, the return type is deduced for each
such <span class='texttt'>return</span> statement<a class='hidden_link' href='#dcl.spec.auto-7.sentence-1'>.</a></div> <div id='dcl.spec.auto-7.sentence-2' class='sentence'>If the type deduced is not the same in each
deduction, the program is ill-formed<a class='hidden_link' href='#dcl.spec.auto-7.sentence-2'>.</a></div></div><div class='para' id='dcl.spec.auto-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.spec.auto-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1634'>#</a></div><div id='dcl.spec.auto-8.sentence-1' class='sentence'>If a function with a declared return type that uses a placeholder type has no
non-discarded <span class='texttt'>return</span> statements, the return type is deduced as though from a
<span class='texttt'>return</span> statement with no operand at the closing brace of the function
body<a class='hidden_link' href='#dcl.spec.auto-8.sentence-1'>.</a></div> <div id='dcl.spec.auto-8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.spec.auto-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
auto  f() { }                   <span class='comment'>// OK, return type is <span class='tcode_in_codeblock'>void</span>
</span>auto* g() { }                   <span class='comment'>// error, cannot deduce <span class='tcode_in_codeblock'>auto*</span> from <span class='tcode_in_codeblock'>void()</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.spec.auto-9'><div class='marginalizedparent'><a class='marginalized' href='#dcl.spec.auto-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1646'>#</a></div><div id='dcl.spec.auto-9.sentence-1' class='sentence'>If the name of an entity with an undeduced placeholder type appears in an
expression, the program is ill-formed<a class='hidden_link' href='#dcl.spec.auto-9.sentence-1'>.</a></div> <div id='dcl.spec.auto-9.sentence-2' class='sentence'>Once a
non-discarded <span class='texttt'>return</span> statement has been seen in a function, however, the return type deduced
from that statement can be used in the rest of the function, including in other
<span class='texttt'>return</span> statements<a class='hidden_link' href='#dcl.spec.auto-9.sentence-2'>.</a></div> <div id='dcl.spec.auto-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.spec.auto-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
auto n = n;                     <span class='comment'>// error, <span class='tcode_in_codeblock'>n</span>'s initializer refers to <span class='tcode_in_codeblock'>n</span>
</span>auto f();
void g() { &amp;f; }                <span class='comment'>// error, <span class='tcode_in_codeblock'>f</span>'s return type is unknown
</span>auto sum(int i) {
  if (i == 1)
    return i;                   <span class='comment'>// <span class='tcode_in_codeblock'>sum</span>'s return type is <span class='tcode_in_codeblock'>int</span>
</span>  else
    return sum(i-1)+i;          <span class='comment'>// OK, <span class='tcode_in_codeblock'>sum</span>'s return type has been deduced
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.spec.auto-10'><div class='marginalizedparent'><a class='marginalized' href='#dcl.spec.auto-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1666'>#</a></div><div id='dcl.spec.auto-10.sentence-1' class='sentence'>Return type deduction for a function template with a placeholder in its
declared type occurs when the definition is instantiated even if the function
body contains a <span class='texttt'>return</span> statement with a non-type-dependent operand<a class='hidden_link' href='#dcl.spec.auto-10.sentence-1'>.</a></div> <div id='dcl.spec.auto-10.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.spec.auto-10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.spec.auto-10.sentence-2' class='sentence'>Therefore, any use of a specialization of the function template will
cause an implicit instantiation<a class='hidden_link' href='#dcl.spec.auto-10.sentence-2'>.</a></div> <div id='dcl.spec.auto-10.sentence-3' class='sentence'>Any errors that arise from this instantiation
are not in the immediate context of the function type and can result in the
program being ill-formed (<a href='temp.deduct'>[temp.deduct]</a>)<a class='hidden_link' href='#dcl.spec.auto-10.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.spec.auto-10.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.spec.auto-10.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template &lt;class T&gt; auto f(T t) { return t; }    <span class='comment'>// return type deduced at instantiation time
</span>typedef decltype(f(1)) fint_t;                  <span class='comment'>// instantiates <span class='tcode_in_codeblock'>f&lt;int&gt;</span> to deduce return type
</span>template&lt;class T&gt; auto f(T* t) { return *t; }
void g() { int (*p)(int*) = &amp;f; }               <span class='comment'>// instantiates both <span class='tcode_in_codeblock'>f</span>s to determine return types,
</span>                                                <span class='comment'>// chooses second
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.spec.auto-11'><div class='marginalizedparent'><a class='marginalized' href='#dcl.spec.auto-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1684'>#</a></div><div id='dcl.spec.auto-11.sentence-1' class='sentence'>Redeclarations or specializations of a function or function template with a
declared return type that uses a placeholder type shall also use that
placeholder, not a deduced type<a class='hidden_link' href='#dcl.spec.auto-11.sentence-1'>.</a></div> <div id='dcl.spec.auto-11.sentence-2' class='sentence'>Similarly,
redeclarations or specializations of a function or function template with a
declared return type that does not use a placeholder type
shall not use a placeholder<a class='hidden_link' href='#dcl.spec.auto-11.sentence-2'>.</a></div> <div id='dcl.spec.auto-11.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.spec.auto-11.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
auto f();
auto f() { return 42; }                         <span class='comment'>// return type is <span class='tcode_in_codeblock'>int</span>
</span>auto f();                                       <span class='comment'>// OK
</span>int f();                                        <span class='comment'>// error, cannot be overloaded with <span class='tcode_in_codeblock'>auto f()</span>
</span>decltype(auto) f();                             <span class='comment'>// error, <span class='tcode_in_codeblock'>auto</span> and <span class='tcode_in_codeblock'>decltype(auto)</span> don't match
</span>
template &lt;typename T&gt; auto g(T t) { return t; } <span class='comment'>// #1
</span>template auto g(int);                           <span class='comment'>// OK, return type is <span class='tcode_in_codeblock'>int</span>
</span>template char g(char);                          <span class='comment'>// error, no matching template
</span>template&lt;&gt; auto g(double);                      <span class='comment'>// OK, forward declaration with unknown return type
</span>
template &lt;class T&gt; T g(T t) { return t; }       <span class='comment'>// OK, not functionally equivalent to #1
</span>template char g(char);                          <span class='comment'>// OK, now there is a matching template
</span>template auto g(float);                         <span class='comment'>// still matches #1
</span>
void h() { return g(42); }                      <span class='comment'>// error, ambiguous
</span>
template &lt;typename T&gt; struct A {
  friend T frf(T);
};
auto frf(int i) { return i; }                   <span class='comment'>// not a friend of <span class='tcode_in_codeblock'>A&lt;int&gt;</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.spec.auto-12'><div class='marginalizedparent'><a class='marginalized' href='#dcl.spec.auto-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1718'>#</a></div><div id='dcl.spec.auto-12.sentence-1' class='sentence'>A function declared with a return type that uses a placeholder type shall not
be <a href='class.virtual'><span class='texttt'>virtual</span></a><a class='hidden_link' href='#dcl.spec.auto-12.sentence-1'>.</a></div></div><div class='para' id='dcl.spec.auto-13'><div class='marginalizedparent'><a class='marginalized' href='#dcl.spec.auto-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1722'>#</a></div><div id='dcl.spec.auto-13.sentence-1' class='sentence'>An <a href='temp.explicit'>explicit instantiation declaration</a> does not cause the
instantiation of an entity declared using a placeholder type, but it also does
not prevent that entity from being instantiated as needed to determine its
type<a class='hidden_link' href='#dcl.spec.auto-13.sentence-1'>.</a></div> <div id='dcl.spec.auto-13.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.spec.auto-13.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template &lt;typename T&gt; auto f(T t) { return t; }
extern template auto f(int);    <span class='comment'>// does not instantiate <span class='tcode_in_codeblock'>f&lt;int&gt;</span>
</span>int (*p)(int) = f;              <span class='comment'>// instantiates <span class='tcode_in_codeblock'>f&lt;int&gt;</span> to determine its return type, but an explicit
</span>                                <span class='comment'>// instantiation definition is still required somewhere in the program
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div id='dcl.type.auto.deduct' class='section'><h4 ><a class='secnum' href='#dcl.type.auto.deduct' style='min-width:133pt'>9.1.7.4.1</a> Placeholder type deduction <a class='abbr_ref' href='dcl.type.auto.deduct'>[dcl.type.auto.deduct]</a></h4><span class='indexparent'><a class='index' id=':deduction,placeholder_type'></a></span><div class='para' id='dcl.type.auto.deduct-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.auto.deduct-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1739'>#</a></div><div id='dcl.type.auto.deduct-1.sentence-1' class='sentence'><a class='hidden_link' href='#def:placeholder_type_deduction' id='def:placeholder_type_deduction'><i >Placeholder type deduction</i></a>
is the process by which
a type containing a placeholder type
is replaced by a deduced type<a class='hidden_link' href='#dcl.type.auto.deduct-1.sentence-1'>.</a></div></div><div class='para' id='dcl.type.auto.deduct-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.auto.deduct-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1745'>#</a></div><div id='dcl.type.auto.deduct-2.sentence-1' class='sentence'>A type <span class='texttt'>T</span> containing a placeholder type,
and a corresponding initializer <span class='texttt'>e</span>,
are determined as follows:</div><div id='dcl.type.auto.deduct-2.sentence-2' class='sentence'><ul class='itemize'><li id='dcl.type.auto.deduct-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.type.auto.deduct-2.1'>(2.1)</a></div><div id='dcl.type.auto.deduct-2.1.sentence-1' class='sentence'>for a non-discarded <span class='texttt'>return</span> statement that occurs
in a function declared with a return type
that contains a placeholder type,
<span class='texttt'>T</span> is the declared return type
and <span class='texttt'>e</span> is the operand of the <span class='texttt'>return</span> statement<a class='hidden_link' href='#dcl.type.auto.deduct-2.1.sentence-1'>.</a></div> <div id='dcl.type.auto.deduct-2.1.sentence-2' class='sentence'>If the <span class='texttt'>return</span> statement
has no operand,
then <span class='texttt'>e</span> is <span class='texttt'>void()</span>;</div></li><li id='dcl.type.auto.deduct-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.type.auto.deduct-2.2'>(2.2)</a></div><div id='dcl.type.auto.deduct-2.2.sentence-1' class='sentence'>for a variable declared with a type
that contains a placeholder type,
<span class='texttt'>T</span> is the declared type of the variable
and <span class='texttt'>e</span> is the initializer<a class='hidden_link' href='#dcl.type.auto.deduct-2.2.sentence-1'>.</a></div> <div id='dcl.type.auto.deduct-2.2.sentence-2' class='sentence'>If the initialization is direct-list-initialization,
the initializer shall be a <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>
containing only a single <i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i>
and <span class='texttt'>e</span> is the <i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i>;</div></li><li id='dcl.type.auto.deduct-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.type.auto.deduct-2.3'>(2.3)</a></div><div id='dcl.type.auto.deduct-2.3.sentence-1' class='sentence'>for a non-type template parameter declared with a type
that contains a placeholder type,
<span class='texttt'>T</span> is the declared type of the non-type template parameter
and <span class='texttt'>e</span> is the corresponding template argument<a class='hidden_link' href='#dcl.type.auto.deduct-2.3.sentence-1'>.</a></div></li></ul></div><div id='dcl.type.auto.deduct-2.sentence-3' class='sentence'>In the case of a <span class='texttt'>return</span> statement with no operand
or with an operand of type <span class='texttt'>void</span>,
<span class='texttt'>T</span> shall be either
<span class='texttt'>decltype(auto)</span> or <span class='mathit'>cv</span> <span class='texttt'>auto</span><a class='hidden_link' href='#dcl.type.auto.deduct-2.sentence-3'>.</a></div></div><div class='para' id='dcl.type.auto.deduct-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.auto.deduct-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1781'>#</a></div><div id='dcl.type.auto.deduct-3.sentence-1' class='sentence'>If the deduction is for a <span class='texttt'>return</span> statement
and <span class='texttt'>e</span> is a <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i> (<a href='#dcl.init.list'>[dcl.init.list]</a>),
the program is ill-formed<a class='hidden_link' href='#dcl.type.auto.deduct-3.sentence-1'>.</a></div></div><div class='para' id='dcl.type.auto.deduct-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.auto.deduct-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1786'>#</a></div><div id='dcl.type.auto.deduct-4.sentence-1' class='sentence'>If the placeholder is the <span class='texttt'>auto</span> <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i>, the
deduced type
<span class='math'><span class='mathtt'>T</span>'</span> replacing <span class='texttt'>T</span>
is determined using the rules for template argument deduction<a class='hidden_link' href='#dcl.type.auto.deduct-4.sentence-1'>.</a></div> <div id='dcl.type.auto.deduct-4.sentence-2' class='sentence'>Obtain <span class='texttt'>P</span> from
<span class='texttt'>T</span> by replacing the occurrences of <span class='texttt'>auto</span> with either a new
invented type template parameter <span class='texttt'>U</span> or,
if the initialization is copy-list-initialization, with
<span class='texttt'>std&#x200b;::&#x200b;initializer_&shy;list&lt;U&gt;</span><a class='hidden_link' href='#dcl.type.auto.deduct-4.sentence-2'>.</a></div> <div id='dcl.type.auto.deduct-4.sentence-3' class='sentence'>Deduce a value for <span class='texttt'>U</span> using the rules
of <a href='temp.deduct.call'>template argument deduction from a function call</a>,
where <span class='texttt'>P</span> is a
function template parameter type and
the corresponding argument is <span class='texttt'>e</span><a class='hidden_link' href='#dcl.type.auto.deduct-4.sentence-3'>.</a></div> <div id='dcl.type.auto.deduct-4.sentence-4' class='sentence'>If the deduction fails, the declaration is ill-formed<a class='hidden_link' href='#dcl.type.auto.deduct-4.sentence-4'>.</a></div> <div id='dcl.type.auto.deduct-4.sentence-5' class='sentence'>Otherwise, <span class='math'><span class='mathtt'>T</span>'</span> is obtained by
substituting the deduced <span class='texttt'>U</span> into <span class='texttt'>P</span><a class='hidden_link' href='#dcl.type.auto.deduct-4.sentence-5'>.</a></div> <div id='dcl.type.auto.deduct-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.type.auto.deduct-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
auto x1 = { 1, 2 };             <span class='comment'>// <span class='tcode_in_codeblock'>decltype(x1)</span> is <span class='tcode_in_codeblock'>std&#x200b;::&#x200b;initializer_&shy;list&lt;int&gt;</span>
</span>auto x2 = { 1, 2.0 };           <span class='comment'>// error: cannot deduce element type
</span>auto x3{ 1, 2 };                <span class='comment'>// error: not a single element
</span>auto x4 = { 3 };                <span class='comment'>// <span class='tcode_in_codeblock'>decltype(x4)</span> is <span class='tcode_in_codeblock'>std&#x200b;::&#x200b;initializer_&shy;list&lt;int&gt;</span>
</span>auto x5{ 3 };                   <span class='comment'>// <span class='tcode_in_codeblock'>decltype(x5)</span> is <span class='tcode_in_codeblock'>int</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> <div id='dcl.type.auto.deduct-4.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.type.auto.deduct-4.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
const auto &amp;i = expr;</pre> <div id='dcl.type.auto.deduct-4.sentence-6' class='sentence'>
The type of <span class='texttt'>i</span> is the deduced type of the parameter <span class='texttt'>u</span> in
the call <span class='texttt'>f(expr)</span> of the following invented function template:
<pre class='codeblock'>
template &lt;class U&gt; void f(const U&amp; u);</pre></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.type.auto.deduct-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.auto.deduct-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1824'>#</a></div><div id='dcl.type.auto.deduct-5.sentence-1' class='sentence'>If the placeholder is the <span class='texttt'>decltype(auto)</span> <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i>,
<span class='texttt'>T</span> shall be the
placeholder alone<a class='hidden_link' href='#dcl.type.auto.deduct-5.sentence-1'>.</a></div> <div id='dcl.type.auto.deduct-5.sentence-2' class='sentence'>The type deduced for <span class='texttt'>T</span> is
determined as described in <a href='#dcl.type.simple'>[dcl.type.simple]</a>, as though
<span class='texttt'>e</span> had
been the operand of the <span class='texttt'>decltype</span><a class='hidden_link' href='#dcl.type.auto.deduct-5.sentence-2'>.</a></div> <div id='dcl.type.auto.deduct-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.type.auto.deduct-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int i;
int&amp;&amp; f();
auto           x2a(i);          <span class='comment'>// <span class='tcode_in_codeblock'>decltype(x2a)</span> is <span class='tcode_in_codeblock'>int</span>
</span>decltype(auto) x2d(i);          <span class='comment'>// <span class='tcode_in_codeblock'>decltype(x2d)</span> is <span class='tcode_in_codeblock'>int</span>
</span>auto           x3a = i;         <span class='comment'>// <span class='tcode_in_codeblock'>decltype(x3a)</span> is <span class='tcode_in_codeblock'>int</span>
</span>decltype(auto) x3d = i;         <span class='comment'>// <span class='tcode_in_codeblock'>decltype(x3d)</span> is <span class='tcode_in_codeblock'>int</span>
</span>auto           x4a = (i);       <span class='comment'>// <span class='tcode_in_codeblock'>decltype(x4a)</span> is <span class='tcode_in_codeblock'>int</span>
</span>decltype(auto) x4d = (i);       <span class='comment'>// <span class='tcode_in_codeblock'>decltype(x4d)</span> is <span class='tcode_in_codeblock'>int&amp;</span>
</span>auto           x5a = f();       <span class='comment'>// <span class='tcode_in_codeblock'>decltype(x5a)</span> is <span class='tcode_in_codeblock'>int</span>
</span>decltype(auto) x5d = f();       <span class='comment'>// <span class='tcode_in_codeblock'>decltype(x5d)</span> is <span class='tcode_in_codeblock'>int&amp;&amp;</span>
</span>auto           x6a = { 1, 2 };  <span class='comment'>// <span class='tcode_in_codeblock'>decltype(x6a)</span> is <span class='tcode_in_codeblock'>std&#x200b;::&#x200b;initializer_&shy;list&lt;int&gt;</span>
</span>decltype(auto) x6d = { 1, 2 };  <span class='comment'>// error, <span class='tcode_in_codeblock'>{ 1, 2 }</span> is not an expression
</span>auto          *x7a = &amp;i;        <span class='comment'>// <span class='tcode_in_codeblock'>decltype(x7a)</span> is <span class='tcode_in_codeblock'>int*</span>
</span>decltype(auto)*x7d = &amp;i;        <span class='comment'>// error, declared type is not plain <span class='tcode_in_codeblock'>decltype(auto)</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div></div><div id='dcl.type.class.deduct' class='section'><h4 ><a class='secnum' href='#dcl.type.class.deduct' style='min-width:118pt'>9.1.7.5</a> Deduced class template specialization types <a class='abbr_ref' href='dcl.type.class.deduct'>[dcl.type.class.deduct]</a></h4><span class='indexparent'><a class='index' id=':deduction,class_template_arguments_'></a></span><div class='para' id='dcl.type.class.deduct-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.class.deduct-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1852'>#</a></div><div id='dcl.type.class.deduct-1.sentence-1' class='sentence'>If a placeholder for a deduced class type
appears as a <i ><a href='dcl.spec#nt:decl-specifier'>decl-specifier</a></i>
in the <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>
of an initializing declaration (<a href='#dcl.init'>[dcl.init]</a>) of a variable,
the placeholder is replaced by the return type
of the function selected by overload resolution
for class template deduction (<a href='over.match.class.deduct'>[over.match.class.deduct]</a>)<a class='hidden_link' href='#dcl.type.class.deduct-1.sentence-1'>.</a></div> <div id='dcl.type.class.deduct-1.sentence-2' class='sentence'>If the <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>
is followed by an <i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i>
or <i ><a href='class.mem#nt:member-declarator-list'>member-declarator-list</a></i>
containing more than one <i ><a href='dcl.decl#nt:declarator'>declarator</a></i>,
the type that replaces the placeholder shall be the same in each deduction<a class='hidden_link' href='#dcl.type.class.deduct-1.sentence-2'>.</a></div></div><div class='para' id='dcl.type.class.deduct-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.class.deduct-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1866'>#</a></div><div id='dcl.type.class.deduct-2.sentence-1' class='sentence'>A placeholder for a deduced class type
can also be used
in the <i ><a href='dcl.type#nt:type-specifier-seq'>type-specifier-seq</a></i>
in the <i ><a href='expr.new#nt:new-type-id'>new-type-id</a></i> or <i ><a href='dcl.name#nt:type-id'>type-id</a></i>
of a <i ><a href='expr.new#nt:new-expression'>new-expression</a></i>,
as the <i ><a href='dcl.type.simple#nt:simple-type-specifier'>simple-type-specifier</a></i>
in an explicit type conversion (functional notation) (<a href='expr.type.conv'>[expr.type.conv]</a>),
or
as the <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i> in the <i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i>
of a <i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i><a class='hidden_link' href='#dcl.type.class.deduct-2.sentence-1'>.</a></div> <div id='dcl.type.class.deduct-2.sentence-2' class='sentence'>A placeholder for a deduced class type
shall not appear in any other context<a class='hidden_link' href='#dcl.type.class.deduct-2.sentence-2'>.</a></div></div><div class='para' id='dcl.type.class.deduct-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.type.class.deduct-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1880'>#</a></div><div id='dcl.type.class.deduct-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.type.class.deduct-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T&gt; struct container {
    container(T t) {}
    template&lt;class Iter&gt; container(Iter beg, Iter end);
};
template&lt;class Iter&gt;
container(Iter b, Iter e) -&gt; container&lt;typename std::iterator_traits&lt;Iter&gt;::value_type&gt;;
std::vector&lt;double&gt; v = { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> };

container c(7);                         <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>int</span> for <span class='tcode_in_codeblock'>T</span>
</span>auto d = container(v.begin(), v.end()); <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>double</span> for <span class='tcode_in_codeblock'>T</span>
</span>container e{5, 6};                      <span class='comment'>// error, <span class='tcode_in_codeblock'>int</span> is not an iterator
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  </div></div></div></div><div id='dcl.decl' class='section'><h2 ><a class='secnum' href='#dcl.decl' style='min-width:88pt'>9.2</a> Declarators <a class='abbr_ref' href='dcl.decl'>[dcl.decl]</a></h2><span class='indexparent'><a class='index' id=':declarator_'></a></span>
<div class='para' id='dcl.decl-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.decl-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1908'>#</a></div><div id='dcl.decl-1.sentence-1' class='sentence'>A declarator declares a single variable, function, or type, within a declaration<a class='hidden_link' href='#dcl.decl-1.sentence-1'>.</a></div> <div id='dcl.decl-1.sentence-2' class='sentence'>The
<i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i>
appearing in a declaration
is a comma-separated sequence of declarators,
each of which can have an initializer<a class='hidden_link' href='#dcl.decl-1.sentence-2'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:init-declarator-list' id='nt:init-declarator-list'>init-declarator-list:</a>
&#9;<i ><a href='dcl.decl#nt:init-declarator'>init-declarator</a></i>
&#9;<i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i> <span class='terminal'>,</span> <i ><a href='dcl.decl#nt:init-declarator'>init-declarator</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:init-declarator' id='nt:init-declarator'>init-declarator:</a>
&#9;<i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <i ><a href='dcl.init#nt:initializer'>initializer</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <i ><a href='temp#nt:requires-clause'>requires-clause</a></i>
</pre></div><div class='para' id='dcl.decl-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.decl-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1928'>#</a></div><div id='dcl.decl-2.sentence-1' class='sentence'>The three components of a
<i ><a href='dcl.dcl#nt:simple-declaration'>simple-declaration</a></i>
are the
attributes (<a href='#dcl.attr'>[dcl.attr]</a>), the
specifiers
(<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>;
<a href='#dcl.spec'>[dcl.spec]</a>) and the declarators
(<i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i>)<a class='hidden_link' href='#dcl.decl-2.sentence-1'>.</a></div> <div id='dcl.decl-2.sentence-2' class='sentence'>The specifiers indicate the type, storage class or other properties of
the entities being declared<a class='hidden_link' href='#dcl.decl-2.sentence-2'>.</a></div> <div id='dcl.decl-2.sentence-3' class='sentence'>The declarators specify the names of these entities
and (optionally) modify the type of the specifiers with operators such as
<span class='texttt'>*</span>
(pointer
to)
and
<span class='texttt'>()</span>
(function returning)<a class='hidden_link' href='#dcl.decl-2.sentence-3'>.</a></div> <div id='dcl.decl-2.sentence-4' class='sentence'>Initial values can also be specified in a declarator;
initializers are discussed in <a href='#dcl.init'>[dcl.init]</a> and <a href='class.init'>[class.init]</a><a class='hidden_link' href='#dcl.decl-2.sentence-4'>.</a></div></div><div class='para' id='dcl.decl-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.decl-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1950'>#</a></div><div id='dcl.decl-3.sentence-1' class='sentence'>Each
<i ><a href='dcl.decl#nt:init-declarator'>init-declarator</a></i>
in a declaration is analyzed separately as if it was in a declaration by itself<a class='hidden_link' href='#dcl.decl-3.sentence-1'>.</a></div> <div id='dcl.decl-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.decl-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.decl-3.sentence-2' class='sentence'>A declaration with several declarators is usually equivalent to the corresponding
sequence of declarations each with a single declarator<a class='hidden_link' href='#dcl.decl-3.sentence-2'>.</a></div> <div id='dcl.decl-3.sentence-3' class='sentence'>That is
<pre class='codeblock'>
T D1, D2, ... Dn;</pre>
is usually equivalent to
<pre class='codeblock'>
T D1; T D2; ... T Dn;</pre>
where <span class='texttt'>T</span> is a <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>
and each <span class='texttt'>Di</span> is an <i ><a href='dcl.decl#nt:init-declarator'>init-declarator</a></i><a class='hidden_link' href='#dcl.decl-3.sentence-3'>.</a></div> <div id='dcl.decl-3.sentence-4' class='sentence'>One exception is when a name introduced by one of the
<i ><a href='dcl.decl#nt:declarator'>declarator</a></i><span class='textit'>s</span> hides a type name used by the
<i ><a href='dcl.spec#nt:decl-specifier'>decl-specifier</a></i><span class='textit'>s</span>, so that when the same
<i ><a href='dcl.spec#nt:decl-specifier'>decl-specifier</a></i><span class='textit'>s</span> are used in a subsequent declaration,
they do not have the same meaning, as in
<pre class='codeblock'>
struct S { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> };
S S, T;                 <span class='comment'>// declare two instances of <span class='tcode_in_codeblock'>struct S</span>
</span></pre>
which is not equivalent to
<pre class='codeblock'>
struct S { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> };
S S;
S T;                    <span class='comment'>// error
</span></pre>
Another exception is when <span class='texttt'>T</span> is <span class='texttt'>auto</span> (<a href='#dcl.spec.auto'>[dcl.spec.auto]</a>),
for example:
<pre class='codeblock'>
auto i = 1, j = 2.0;    <span class='comment'>// error: deduced types for <span class='tcode_in_codeblock'>i</span> and <span class='tcode_in_codeblock'>j</span> do not match
</span></pre>
as opposed to
<pre class='codeblock'>
auto i = 1;             <span class='comment'>// OK: <span class='tcode_in_codeblock'>i</span> deduced to have type <span class='tcode_in_codeblock'>int</span>
</span>auto j = 2.0;           <span class='comment'>// OK: <span class='tcode_in_codeblock'>j</span> deduced to have type <span class='tcode_in_codeblock'>double</span>
</span></pre></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.decl-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.decl-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L1993'>#</a></div><div id='dcl.decl-4.sentence-1' class='sentence'>The optional <i ><a href='temp#nt:requires-clause'>requires-clause</a></i> in an
<i ><a href='dcl.decl#nt:init-declarator'>init-declarator</a></i> or <i ><a href='class.mem#nt:member-declarator'>member-declarator</a></i>
shall not be present when the declarator does not declare a
function (<a href='#dcl.fct'>[dcl.fct]</a>)<a class='hidden_link' href='#dcl.decl-4.sentence-1'>.</a></div> <div id='dcl.decl-4.sentence-2' class='sentence'>When present after a declarator, the <i ><a href='temp#nt:requires-clause'>requires-clause</a></i>
is called the <a class='hidden_link' href='#def:requires-clause,trailing' id='def:requires-clause,trailing'><i >trailing <i >requires-clause</i></i></a><a class='hidden_link' href='#dcl.decl-4.sentence-2'>.</a></div> <div id='dcl.decl-4.sentence-3' class='sentence'>The trailing <i ><a href='temp#nt:requires-clause'>requires-clause</a></i> introduces the
<i ><a href='temp.constr.decl#nt:constraint-expression'>constraint-expression</a></i> that results from interpreting
its <i ><a href='temp#nt:constraint-logical-or-expression'>constraint-logical-or-expression</a></i> as a
<i ><a href='temp.constr.decl#nt:constraint-expression'>constraint-expression</a></i><a class='hidden_link' href='#dcl.decl-4.sentence-3'>.</a></div> <div id='dcl.decl-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.decl-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f1(int a) requires true;               <span class='comment'>// OK
</span>auto f2(int a) -&gt; bool requires true;       <span class='comment'>// OK
</span>auto f3(int a) requires true -&gt; bool;       <span class='comment'>// error: <span class='grammarterm'>requires-clause</span> precedes <span class='grammarterm'>trailing-return-type</span>
</span>void (*pf)() requires true;                 <span class='comment'>// error: constraint on a variable
</span>void g(int (*)() requires true);            <span class='comment'>// error: constraint on a <span class='grammarterm'>parameter-declaration</span>
</span>
auto* p = new void(*)(char) requires true;  <span class='comment'>// error: not a function declaration
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.decl-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.decl-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2020'>#</a></div><div id='dcl.decl-5.sentence-1' class='sentence'>Declarators have the syntax</div><pre class='bnf'><a class='nontermdef' href='#nt:declarator' id='nt:declarator'>declarator:</a>
&#9;<i ><a href='dcl.decl#nt:ptr-declarator'>ptr-declarator</a></i>
&#9;<i ><a href='dcl.decl#nt:noptr-declarator'>noptr-declarator</a></i> <i ><a href='dcl.decl#nt:parameters-and-qualifiers'>parameters-and-qualifiers</a></i> <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:ptr-declarator' id='nt:ptr-declarator'>ptr-declarator:</a>
&#9;<i ><a href='dcl.decl#nt:noptr-declarator'>noptr-declarator</a></i>
&#9;<i ><a href='dcl.decl#nt:ptr-operator'>ptr-operator</a></i> <i ><a href='dcl.decl#nt:ptr-declarator'>ptr-declarator</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:noptr-declarator' id='nt:noptr-declarator'>noptr-declarator:</a>
&#9;<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='dcl.decl#nt:noptr-declarator'>noptr-declarator</a></i> <i ><a href='dcl.decl#nt:parameters-and-qualifiers'>parameters-and-qualifiers</a></i>
&#9;<i ><a href='dcl.decl#nt:noptr-declarator'>noptr-declarator</a></i> <span class='terminal'>[</span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>]</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<span class='terminal'>(</span> <i ><a href='dcl.decl#nt:ptr-declarator'>ptr-declarator</a></i> <span class='terminal'>)</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:parameters-and-qualifiers' id='nt:parameters-and-qualifiers'>parameters-and-qualifiers:</a>
&#9;<span class='terminal'>(</span> <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> <span class='terminal'>)</span> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;&#9;<i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:trailing-return-type' id='nt:trailing-return-type'>trailing-return-type:</a>
&#9;<span class='terminal'>-&gt;</span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:ptr-operator' id='nt:ptr-operator'>ptr-operator:</a>
&#9;<span class='terminal'>*</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<span class='terminal'>&amp;</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<span class='terminal'>&amp;&amp;</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> <span class='terminal'>*</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:cv-qualifier-seq' id='nt:cv-qualifier-seq'>cv-qualifier-seq:</a>
&#9;<i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:cv-qualifier' id='nt:cv-qualifier'>cv-qualifier:</a>
&#9;<span class='terminal'>const</span>
&#9;<span class='terminal'>volatile</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:ref-qualifier' id='nt:ref-qualifier'>ref-qualifier:</a>
&#9;<span class='terminal'>&amp;</span>
&#9;<span class='terminal'>&amp;&amp;</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:declarator-id' id='nt:declarator-id'>declarator-id:</a>
&#9;<span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>
</pre></div><div id='dcl.name' class='section'><h3 ><a class='secnum' href='#dcl.name' style='min-width:103pt'>9.2.1</a> Type names <a class='abbr_ref' href='dcl.name'>[dcl.name]</a></h3><div class='para' id='dcl.name-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.name-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2086'>#</a></div><div id='dcl.name-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type_name'></a></span>To specify type conversions explicitly,
<span class='indexparent'><a class='index' id=':operator,cast'></a></span>and as an argument of
<span class='texttt'>sizeof</span>,
<span class='texttt'>alignof</span>,
<span class='texttt'>new</span>,
or
<span class='texttt'>typeid</span>,
the name of a type shall be specified<a class='hidden_link' href='#dcl.name-1.sentence-1'>.</a></div> <div id='dcl.name-1.sentence-2' class='sentence'>This can be done with a
<i ><a href='dcl.name#nt:type-id'>type-id</a></i>,
which is syntactically a declaration for a variable or function
of that type that omits the name of the entity<a class='hidden_link' href='#dcl.name-1.sentence-2'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:type-id' id='nt:type-id'>type-id:</a>
&#9;<i ><a href='dcl.type#nt:type-specifier-seq'>type-specifier-seq</a></i> <i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:defining-type-id' id='nt:defining-type-id'>defining-type-id:</a>
&#9;<i ><a href='dcl.type#nt:defining-type-specifier-seq'>defining-type-specifier-seq</a></i> <i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:abstract-declarator' id='nt:abstract-declarator'>abstract-declarator:</a>
&#9;<i ><a href='dcl.name#nt:ptr-abstract-declarator'>ptr-abstract-declarator</a></i>
&#9;<i ><a href='dcl.name#nt:noptr-abstract-declarator'>noptr-abstract-declarator</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:parameters-and-qualifiers'>parameters-and-qualifiers</a></i> <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i>
&#9;<i ><a href='dcl.name#nt:abstract-pack-declarator'>abstract-pack-declarator</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:ptr-abstract-declarator' id='nt:ptr-abstract-declarator'>ptr-abstract-declarator:</a>
&#9;<i ><a href='dcl.name#nt:noptr-abstract-declarator'>noptr-abstract-declarator</a></i>
&#9;<i ><a href='dcl.decl#nt:ptr-operator'>ptr-operator</a></i> <i ><a href='dcl.name#nt:ptr-abstract-declarator'>ptr-abstract-declarator</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:noptr-abstract-declarator' id='nt:noptr-abstract-declarator'>noptr-abstract-declarator:</a>
&#9;<i ><a href='dcl.name#nt:noptr-abstract-declarator'>noptr-abstract-declarator</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:parameters-and-qualifiers'>parameters-and-qualifiers</a></i>
&#9;<i ><a href='dcl.name#nt:noptr-abstract-declarator'>noptr-abstract-declarator</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>[</span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>]</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<span class='terminal'>(</span> <i ><a href='dcl.name#nt:ptr-abstract-declarator'>ptr-abstract-declarator</a></i> <span class='terminal'>)</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:abstract-pack-declarator' id='nt:abstract-pack-declarator'>abstract-pack-declarator:</a>
&#9;<i ><a href='dcl.name#nt:noptr-abstract-pack-declarator'>noptr-abstract-pack-declarator</a></i>
&#9;<i ><a href='dcl.decl#nt:ptr-operator'>ptr-operator</a></i> <i ><a href='dcl.name#nt:abstract-pack-declarator'>abstract-pack-declarator</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:noptr-abstract-pack-declarator' id='nt:noptr-abstract-pack-declarator'>noptr-abstract-pack-declarator:</a>
&#9;<i ><a href='dcl.name#nt:noptr-abstract-pack-declarator'>noptr-abstract-pack-declarator</a></i> <i ><a href='dcl.decl#nt:parameters-and-qualifiers'>parameters-and-qualifiers</a></i>
&#9;<i ><a href='dcl.name#nt:noptr-abstract-pack-declarator'>noptr-abstract-pack-declarator</a></i> <span class='terminal'>[</span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>]</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<span class='terminal'>...</span>
</pre><div id='dcl.name-1.sentence-3' class='sentence'>It is possible to identify uniquely the location in the
<i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i>
where the identifier would appear if the construction were a declarator
in a declaration<a class='hidden_link' href='#dcl.name-1.sentence-3'>.</a></div> <div id='dcl.name-1.sentence-4' class='sentence'>The named type is then the same as the type of the
hypothetical identifier<a class='hidden_link' href='#dcl.name-1.sentence-4'>.</a></div> <div id='dcl.name-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.name-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int                 <span class='comment'>// <span class='tcode_in_codeblock'>int i</span>
</span>int *               <span class='comment'>// <span class='tcode_in_codeblock'>int *pi</span>
</span>int *[3]            <span class='comment'>// <span class='tcode_in_codeblock'>int *p[3]</span>
</span>int (*)[3]          <span class='comment'>// <span class='tcode_in_codeblock'>int (*p3i)[3]</span>
</span>int *()             <span class='comment'>// <span class='tcode_in_codeblock'>int *f()</span>
</span>int (*)(double)     <span class='comment'>// <span class='tcode_in_codeblock'>int (*pf)(double)</span>
</span></pre> <div id='dcl.name-1.sentence-5' class='sentence'>
name respectively the types
“<span class='texttt'>int</span>”,
“pointer to
<span class='texttt'>int</span>”,
“array of 3 pointers to
<span class='texttt'>int</span>”,
“pointer to array of 3
<span class='texttt'>int</span>”,
“function of (no parameters) returning pointer to
<span class='texttt'>int</span>”,
and “pointer to a function of
(<span class='texttt'>double</span>)
returning
<span class='texttt'>int</span>”<a class='hidden_link' href='#dcl.name-1.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.name-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.name-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2176'>#</a></div><div id='dcl.name-2.sentence-1' class='sentence'>A type can also be named (often more easily) by using a
<span class='texttt'>typedef</span> (<a href='#dcl.typedef'>[dcl.typedef]</a>)<a class='hidden_link' href='#dcl.name-2.sentence-1'>.</a></div></div></div><div id='dcl.ambig.res' class='section'><h3 ><a class='secnum' href='#dcl.ambig.res' style='min-width:103pt'>9.2.2</a> Ambiguity resolution <a class='abbr_ref' href='dcl.ambig.res'>[dcl.ambig.res]</a></h3><span class='indexparent'><a class='index' id=':ambiguity,declaration_versus_cast'></a></span><span class='indexparent'><a class='index' id=':declaration,parentheses_in'></a></span><div class='para' id='dcl.ambig.res-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ambig.res-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2184'>#</a></div><div id='dcl.ambig.res-1.sentence-1' class='sentence'>The ambiguity arising from the similarity between a function-style cast and
a declaration mentioned in <a href='stmt.ambig'>[stmt.ambig]</a> can also occur in the context of a declaration<a class='hidden_link' href='#dcl.ambig.res-1.sentence-1'>.</a></div> <div id='dcl.ambig.res-1.sentence-2' class='sentence'>In that context, the choice is between a function declaration with
a redundant set of parentheses around a parameter name and an object declaration
with a function-style cast as the initializer<a class='hidden_link' href='#dcl.ambig.res-1.sentence-2'>.</a></div> <div id='dcl.ambig.res-1.sentence-3' class='sentence'>Just as for the ambiguities mentioned in <a href='stmt.ambig'>[stmt.ambig]</a>,
the resolution is to consider any construct that could possibly
be a declaration a declaration<a class='hidden_link' href='#dcl.ambig.res-1.sentence-3'>.</a></div> <div id='dcl.ambig.res-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.ambig.res-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.ambig.res-1.sentence-4' class='sentence'>A declaration can be explicitly disambiguated by adding parentheses
around the argument<a class='hidden_link' href='#dcl.ambig.res-1.sentence-4'>.</a></div> <div id='dcl.ambig.res-1.sentence-5' class='sentence'>The ambiguity can be avoided by use of copy-initialization or
list-initialization syntax, or by use of a non-function-style cast<a class='hidden_link' href='#dcl.ambig.res-1.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.ambig.res-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.ambig.res-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S {
  S(int);
};

void foo(double a) {
  S w(int(a));                  <span class='comment'>// function declaration
</span>  S x(int());                   <span class='comment'>// function declaration
</span>  S y((int(a)));                <span class='comment'>// object declaration
</span>  S y((int)a);                  <span class='comment'>// object declaration
</span>  S z = int(a);                 <span class='comment'>// object declaration
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.ambig.res-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ambig.res-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2215'>#</a></div><div id='dcl.ambig.res-2.sentence-1' class='sentence'>An ambiguity can arise from the similarity between a function-style
cast and a
<i ><a href='dcl.name#nt:type-id'>type-id</a></i><a class='hidden_link' href='#dcl.ambig.res-2.sentence-1'>.</a></div> <div id='dcl.ambig.res-2.sentence-2' class='sentence'>The resolution is that any construct that could possibly be a
<i ><a href='dcl.name#nt:type-id'>type-id</a></i>
in its syntactic context shall be considered a
<i ><a href='dcl.name#nt:type-id'>type-id</a></i><a class='hidden_link' href='#dcl.ambig.res-2.sentence-2'>.</a></div> <div id='dcl.ambig.res-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.ambig.res-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template &lt;class T&gt; struct X {};
template &lt;int N&gt; struct Y {};
X&lt;int()&gt; a;                     <span class='comment'>// type-id
</span>X&lt;int(1)&gt; b;                    <span class='comment'>// expression (ill-formed)
</span>Y&lt;int()&gt; c;                     <span class='comment'>// type-id (ill-formed)
</span>Y&lt;int(1)&gt; d;                    <span class='comment'>// expression
</span>
void foo(signed char a) {
  sizeof(int());                <span class='comment'>// type-id (ill-formed)
</span>  sizeof(int(a));               <span class='comment'>// expression
</span>  sizeof(int(unsigned(a)));     <span class='comment'>// type-id (ill-formed)
</span>
  (int())+1;                    <span class='comment'>// type-id (ill-formed)
</span>  (int(a))+1;                   <span class='comment'>// expression
</span>  (int(unsigned(a)))+1;         <span class='comment'>// type-id (ill-formed)
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.ambig.res-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ambig.res-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2245'>#</a></div><div id='dcl.ambig.res-3.sentence-1' class='sentence'>Another ambiguity arises in a
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> when a
<i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i>
is nested in parentheses<a class='hidden_link' href='#dcl.ambig.res-3.sentence-1'>.</a></div> <div id='dcl.ambig.res-3.sentence-2' class='sentence'>In this case, the choice is between the declaration of a parameter of type
pointer to function and the declaration of a parameter with redundant
parentheses around the
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i><a class='hidden_link' href='#dcl.ambig.res-3.sentence-2'>.</a></div> <div id='dcl.ambig.res-3.sentence-3' class='sentence'>The resolution is to consider the
<i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i>
as a
<i ><a href='dcl.type.simple#nt:simple-type-specifier'>simple-type-specifier</a></i>
rather than a
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i><a class='hidden_link' href='#dcl.ambig.res-3.sentence-3'>.</a></div> <div id='dcl.ambig.res-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.ambig.res-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class C { };
void f(int(C)) { }              <span class='comment'>// <span class='tcode_in_codeblock'>void f(int(*fp)(C c)) { }</span>
</span>                                <span class='comment'>// not: <span class='tcode_in_codeblock'>void f(int C) { }</span>
</span>
int g(C);

void foo() {
  f(1);                         <span class='comment'>// error: cannot convert <span class='tcode_in_codeblock'>1</span> to function pointer
</span>  f(g);                         <span class='comment'>// OK
</span>}</pre><div id='dcl.ambig.res-3.sentence-4' class='sentence'>For another example,</div><pre class='codeblock'>
class C { };
void h(int *(C[10]));           <span class='comment'>// <span class='tcode_in_codeblock'>void h(int *(*_&shy;fp)(C _&shy;parm[10]));</span>
</span>                                <span class='comment'>// not: <span class='tcode_in_codeblock'>void h(int *C[10]);</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.meaning' class='section'><h3 ><a class='secnum' href='#dcl.meaning' style='min-width:103pt'>9.2.3</a> Meaning of declarators <a class='abbr_ref' href='dcl.meaning'>[dcl.meaning]</a></h3><span class='indexparent'><a class='index' id=':declarator,meaning_of'></a></span><div class='para' id='dcl.meaning-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.meaning-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2287'>#</a></div><div id='dcl.meaning-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':declaration,type'></a></span>A declarator contains exactly one
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>;
it names the identifier that is declared<a class='hidden_link' href='#dcl.meaning-1.sentence-1'>.</a></div> <div id='dcl.meaning-1.sentence-2' class='sentence'>An
<i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i>
occurring in
a
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
shall be a simple
<i ><a href='lex.name#nt:identifier'>identifier</a></i>
except for the declaration of some special functions (<a href='class.ctor'>[class.ctor]</a>,
<a href='class.conv'>[class.conv]</a>, <a href='class.dtor'>[class.dtor]</a>, <a href='over.oper'>[over.oper]</a>) and
for the declaration of template specializations
or partial specializations (<a href='temp.spec'>[temp.spec]</a>)<a class='hidden_link' href='#dcl.meaning-1.sentence-2'>.</a></div> <div id='dcl.meaning-1.sentence-3' class='sentence'>When the
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
is qualified, the declaration shall refer to a previously declared member
of the class or namespace to which the qualifier refers (or,
in the case of a namespace,
of an element of the inline namespace
set of that namespace (<a href='#namespace.def'>[namespace.def]</a>)) or to a specialization thereof; the member
shall not merely have been introduced by a
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>
in the scope of the class or namespace nominated by the
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>
of the
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i><a class='hidden_link' href='#dcl.meaning-1.sentence-3'>.</a></div> <div id='dcl.meaning-1.sentence-4' class='sentence'>The <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> of a qualified <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> shall not
begin with a <i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i><a class='hidden_link' href='#dcl.meaning-1.sentence-4'>.</a></div> <div id='dcl.meaning-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.meaning-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.meaning-1.sentence-6' class='sentence'>If the qualifier is the global
<span class='texttt'>&#x200b;::&#x200b;</span>
scope resolution operator, the
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
refers to a name declared in the global namespace scope<a class='hidden_link' href='#dcl.meaning-1.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.meaning-1.sentence-5' class='sentence'>
The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> following a <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> appertains to the entity that is declared<a class='hidden_link' href='#dcl.meaning-1.sentence-5'>.</a></div></div><div class='para' id='dcl.meaning-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.meaning-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2327'>#</a></div><div id='dcl.meaning-2.sentence-1' class='sentence'>A
<span class='texttt'>static</span>,
<span class='texttt'>thread_&shy;local</span>,
<span class='texttt'>extern</span>,
<span class='texttt'>mutable</span>,
<span class='texttt'>friend</span>,
<span class='texttt'>inline</span>,
<span class='texttt'>virtual</span>,
<span class='texttt'>constexpr</span>,
or
<span class='texttt'>typedef</span>
specifier
or an <i ><a href='dcl.fct.spec#nt:explicit-specifier'>explicit-specifier</a></i>
applies directly to each <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
in an <i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i> or <i ><a href='class.mem#nt:member-declarator-list'>member-declarator-list</a></i>;
the type specified for each <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> depends on
both the <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> and its <i ><a href='dcl.decl#nt:declarator'>declarator</a></i><a class='hidden_link' href='#dcl.meaning-2.sentence-1'>.</a></div></div><div class='para' id='dcl.meaning-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.meaning-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2346'>#</a></div><div id='dcl.meaning-3.sentence-1' class='sentence'>Thus, a declaration of a particular identifier has the form</div><pre class='codeblock'>
T D</pre><div id='dcl.meaning-3.sentence-2' class='sentence'>where
<span class='texttt'>T</span>
is of the form <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>
and
<span class='texttt'>D</span>
is a declarator<a class='hidden_link' href='#dcl.meaning-3.sentence-2'>.</a></div> <div id='dcl.meaning-3.sentence-3' class='sentence'>Following is a recursive procedure for determining
the type specified for the contained
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
by such a declaration<a class='hidden_link' href='#dcl.meaning-3.sentence-3'>.</a></div></div><div class='para' id='dcl.meaning-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.meaning-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2365'>#</a></div><div id='dcl.meaning-4.sentence-1' class='sentence'>First, the
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>
determines a type<a class='hidden_link' href='#dcl.meaning-4.sentence-1'>.</a></div> <div id='dcl.meaning-4.sentence-2' class='sentence'>In a declaration</div><pre class='codeblock'>
T D</pre><div id='dcl.meaning-4.sentence-3' class='sentence'>the
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>
<span class='texttt'>T</span>
determines the type
<span class='texttt'>T</span><a class='hidden_link' href='#dcl.meaning-4.sentence-3'>.</a></div> <div id='dcl.meaning-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.meaning-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='dcl.meaning-4.sentence-4' class='sentence'>In the declaration</div><pre class='codeblock'>
int unsigned i;</pre><div id='dcl.meaning-4.sentence-5' class='sentence'>the type specifiers
<span class='texttt'>int</span>
<span class='texttt'>unsigned</span>
determine the type
“<span class='texttt'>unsigned int</span>” (<a href='#dcl.type.simple'>[dcl.type.simple]</a>)<a class='hidden_link' href='#dcl.meaning-4.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.meaning-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.meaning-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2394'>#</a></div><div id='dcl.meaning-5.sentence-1' class='sentence'>In a declaration
<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
<span class='texttt'>T</span>
<span class='texttt'>D</span>
where
<span class='texttt'>D</span>
is an unadorned identifier the type of this identifier is
“<span class='texttt'>T</span>”<a class='hidden_link' href='#dcl.meaning-5.sentence-1'>.</a></div></div><div class='para' id='dcl.meaning-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.meaning-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2404'>#</a></div><div id='dcl.meaning-6.sentence-1' class='sentence'>In a declaration
<span class='texttt'>T</span>
<span class='texttt'>D</span>
where
<span class='texttt'>D</span>
has the form</div><pre class='ncsimplebnf'><span class='terminal'>(</span> <span class='terminal'>D1</span> <span class='terminal'>)</span>
</pre><div id='dcl.meaning-6.sentence-2' class='sentence'>the type of the contained
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
is the same as that of the contained
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
in the declaration
<pre class='codeblock'>
T D1</pre>
<span class='indexparent'><a class='index' id=':declaration,parentheses_in_'></a></span>Parentheses do not alter the type of the embedded
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>,
but they can alter the binding of complex declarators<a class='hidden_link' href='#dcl.meaning-6.sentence-2'>.</a></div></div><div id='dcl.ptr' class='section'><h4 ><a class='secnum' href='#dcl.ptr' style='min-width:118pt'>9.2.3.1</a> Pointers <a class='abbr_ref' href='dcl.ptr'>[dcl.ptr]</a></h4><span class='indexparent'><a class='index' id=':declarator,pointer'></a></span><div class='para' id='dcl.ptr-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ptr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2432'>#</a></div><div id='dcl.ptr-1.sentence-1' class='sentence'>In a declaration
<span class='texttt'>T</span>
<span class='texttt'>D</span>
where
<span class='texttt'>D</span>
has the form</div><pre class='ncsimplebnf'><span class='terminal'>*</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>D1</span>
</pre><div id='dcl.ptr-1.sentence-2' class='sentence'>and the type of the identifier in the declaration
<span class='texttt'>T</span>
<span class='texttt'>D1</span>
is “<span class='textit'>derived-declarator-type-list</span>
<span class='texttt'>T</span>”,
then the type of the identifier of
<span class='texttt'>D</span>
is “<span class='textit'>derived-declarator-type-list</span> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i> pointer to
<span class='texttt'>T</span>”<a class='hidden_link' href='#dcl.ptr-1.sentence-2'>.</a></div> <div id='dcl.ptr-1.sentence-3' class='sentence'><span class='indexparent'><a class='index' id=':declaration,pointer'></a></span><span class='indexparent'><a class='index' id=':declaration,constant_pointer'></a></span>The
<i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i><span class='textit'>s</span>
apply to the pointer and not to the object pointed to<a class='hidden_link' href='#dcl.ptr-1.sentence-3'>.</a></div> <div id='dcl.ptr-1.sentence-4' class='sentence'>Similarly, the optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> appertains to the pointer and not to the object pointed to<a class='hidden_link' href='#dcl.ptr-1.sentence-4'>.</a></div></div><div class='para' id='dcl.ptr-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ptr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2460'>#</a></div><div id='dcl.ptr-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.ptr-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='dcl.ptr-2.sentence-1' class='sentence'>The declarations
<pre class='codeblock'>
const int ci = 10, *pc = &amp;ci, *const cpc = pc, **ppc;
int i, *p, *const cp = &amp;i;</pre></div><div id='dcl.ptr-2.sentence-2' class='sentence'>declare
<span class='texttt'>ci</span>,
a constant integer;
<span class='texttt'>pc</span>,
a pointer to a constant integer;
<span class='texttt'>cpc</span>,
a constant pointer to a constant integer;
<span class='texttt'>ppc</span>,
a pointer to a pointer to a constant integer;
<span class='texttt'>i</span>,
an integer;
<span class='texttt'>p</span>,
a pointer to integer; and
<span class='texttt'>cp</span>,
a constant pointer to integer<a class='hidden_link' href='#dcl.ptr-2.sentence-2'>.</a></div> <div id='dcl.ptr-2.sentence-3' class='sentence'>The value of
<span class='texttt'>ci</span>,
<span class='texttt'>cpc</span>,
and
<span class='texttt'>cp</span>
cannot be changed after initialization<a class='hidden_link' href='#dcl.ptr-2.sentence-3'>.</a></div> <div id='dcl.ptr-2.sentence-4' class='sentence'>The value of
<span class='texttt'>pc</span>
can be changed, and so can the object pointed to by
<span class='texttt'>cp</span><a class='hidden_link' href='#dcl.ptr-2.sentence-4'>.</a></div> <div id='dcl.ptr-2.sentence-5' class='sentence'>Examples of
some correct operations are</div><pre class='codeblock'>
i = ci;
*cp = ci;
pc++;
pc = cpc;
pc = p;
ppc = &amp;pc;</pre><div id='dcl.ptr-2.sentence-6' class='sentence'>Examples of ill-formed operations are</div><pre class='codeblock'>
ci = 1;             <span class='comment'>// error
</span>ci++;               <span class='comment'>// error
</span>*pc = 2;            <span class='comment'>// error
</span>cp = &amp;ci;           <span class='comment'>// error
</span>cpc++;              <span class='comment'>// error
</span>p = pc;             <span class='comment'>// error
</span>ppc = &amp;p;           <span class='comment'>// error
</span></pre><div id='dcl.ptr-2.sentence-7' class='sentence'>Each is unacceptable because it would either change the value of an object declared
<span class='texttt'>const</span>
or allow it to be changed through a cv-unqualified pointer later, for example:</div><pre class='codeblock'>
*ppc = &amp;ci;         <span class='comment'>// OK, but would make <span class='tcode_in_codeblock'>p</span> point to <span class='tcode_in_codeblock'>ci</span> because of previous error
</span>*p = 5;             <span class='comment'>// clobber <span class='tcode_in_codeblock'>ci</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.ptr-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ptr-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2527'>#</a></div><div id='dcl.ptr-3.sentence-1' class='sentence'>See also <a href='expr.ass'>[expr.ass]</a> and <a href='#dcl.init'>[dcl.init]</a><a class='hidden_link' href='#dcl.ptr-3.sentence-1'>.</a></div></div><div class='para' id='dcl.ptr-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ptr-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2530'>#</a></div><div id='dcl.ptr-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.ptr-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.ptr-4.sentence-1' class='sentence'>Forming a pointer to reference type is ill-formed; see <a href='#dcl.ref'>[dcl.ref]</a><a class='hidden_link' href='#dcl.ptr-4.sentence-1'>.</a></div> <div id='dcl.ptr-4.sentence-2' class='sentence'>Forming a function pointer type is ill-formed if the function type has
<i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i><span class='textit'>s</span> or a <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i>;
see <a href='#dcl.fct'>[dcl.fct]</a><a class='hidden_link' href='#dcl.ptr-4.sentence-2'>.</a></div> <div id='dcl.ptr-4.sentence-3' class='sentence'>Since the address of a bit-field (<a href='class.bit'>[class.bit]</a>) cannot be taken,
a pointer can never point to a bit-field<a class='hidden_link' href='#dcl.ptr-4.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.ref' class='section'><h4 ><a class='secnum' href='#dcl.ref' style='min-width:118pt'>9.2.3.2</a> References <a class='abbr_ref' href='dcl.ref'>[dcl.ref]</a></h4><span class='indexparent'><a class='index' id=':declarator,reference'></a></span><div class='para' id='dcl.ref-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ref-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2543'>#</a></div><div id='dcl.ref-1.sentence-1' class='sentence'>In a declaration
<span class='texttt'>T</span>
<span class='texttt'>D</span>
where
<span class='texttt'>D</span>
has either of the forms</div><pre class='ncsimplebnf'><span class='terminal'>&amp;</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>D1</span>
<span class='terminal'>&amp;&amp;</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>D1</span>
</pre><div id='dcl.ref-1.sentence-2' class='sentence'>and the type of the identifier in the declaration
<span class='texttt'>T</span>
<span class='texttt'>D1</span>
is “<span class='textit'>derived-declarator-type-list</span>
<span class='texttt'>T</span>”,
then the type of the identifier of
<span class='texttt'>D</span>
is “<span class='textit'>derived-declarator-type-list</span> reference to
<span class='texttt'>T</span>”<a class='hidden_link' href='#dcl.ref-1.sentence-2'>.</a></div> <div id='dcl.ref-1.sentence-3' class='sentence'>The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> appertains to the reference type<a class='hidden_link' href='#dcl.ref-1.sentence-3'>.</a></div> <div id='dcl.ref-1.sentence-4' class='sentence'>Cv-qualified references are ill-formed except when the cv-qualifiers
are introduced through the use of a
<i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> (<a href='#dcl.typedef'>[dcl.typedef]</a>, <a href='temp.param'>[temp.param]</a>) or
<i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i>,
in which case the cv-qualifiers are ignored<a class='hidden_link' href='#dcl.ref-1.sentence-4'>.</a></div> <div id='dcl.ref-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.ref-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef int&amp; A;
const A aref = 3;   <span class='comment'>// ill-formed; lvalue reference to non-<span class='tcode_in_codeblock'>const</span> initialized with rvalue
</span></pre><div id='dcl.ref-1.sentence-6' class='sentence'>The type of
<span class='texttt'>aref</span>
is “lvalue reference to <span class='texttt'>int</span>”,
not “lvalue reference to <span class='texttt'>const int</span>”<a class='hidden_link' href='#dcl.ref-1.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.ref-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.ref-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.ref-1.sentence-7' class='sentence'>A reference can be thought of as a name of an object<a class='hidden_link' href='#dcl.ref-1.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.ref-1.sentence-5' class='sentence'><span class='indexparent'><a class='index' id=':void&'></a></span>A declarator that specifies the type
“reference to <span class='mathit'>cv</span> <span class='texttt'>void</span>”
is ill-formed<a class='hidden_link' href='#dcl.ref-1.sentence-5'>.</a></div></div><div class='para' id='dcl.ref-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ref-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2592'>#</a></div><div id='dcl.ref-2.sentence-1' class='sentence'>A reference type that is declared using <span class='texttt'>&amp;</span> is called an
<a class='hidden_link' href='#def:lvalue_reference' id='def:lvalue_reference'><i >lvalue reference</i></a>, and a reference type that
is declared using <span class='texttt'>&amp;&amp;</span> is called an
<a class='hidden_link' href='#def:rvalue_reference' id='def:rvalue_reference'><i >rvalue reference</i></a><a class='hidden_link' href='#dcl.ref-2.sentence-1'>.</a></div> <div id='dcl.ref-2.sentence-2' class='sentence'>Lvalue references and
rvalue references are distinct types<a class='hidden_link' href='#dcl.ref-2.sentence-2'>.</a></div> <div id='dcl.ref-2.sentence-3' class='sentence'>Except where explicitly noted, they are
semantically equivalent and commonly referred to as references<a class='hidden_link' href='#dcl.ref-2.sentence-3'>.</a></div></div><div class='para' id='dcl.ref-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ref-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2600'>#</a></div><span class='indexparent'><a class='index' id=':declaration,reference'></a></span><span class='indexparent'><a class='index' id=':parameter,reference'></a></span><div id='dcl.ref-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.ref-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f(double&amp; a) { a += 3.14; }
<span class='comment'>// ...
</span>double d = 0;
f(d);</pre><div id='dcl.ref-3.sentence-1' class='sentence'>declares
<span class='texttt'>a</span>
to be a reference parameter of
<span class='texttt'>f</span>
so the call
<span class='texttt'>f(d)</span>
will add
<span class='texttt'>3.14</span>
to
<span class='texttt'>d</span><a class='hidden_link' href='#dcl.ref-3.sentence-1'>.</a></div><pre class='codeblock'>
int v[20];
<span class='comment'>// ...
</span>int&amp; g(int i) { return v[i]; }
<span class='comment'>// ...
</span>g(3) = 7;</pre><div id='dcl.ref-3.sentence-2' class='sentence'>declares the function
<span class='texttt'>g()</span>
to return a reference to an integer so
<span class='texttt'>g(3)=7</span>
will assign
<span class='texttt'>7</span>
to the fourth element of the array
<span class='texttt'>v</span><a class='hidden_link' href='#dcl.ref-3.sentence-2'>.</a></div> <div id='dcl.ref-3.sentence-3' class='sentence'>For another example,</div><pre class='codeblock'>
struct link {
  link* next;
};

link* first;

void h(link*&amp; p) {  <span class='comment'>// <span class='tcode_in_codeblock'>p</span> is a reference to pointer
</span>  p-&gt;next = first;
  first = p;
  p = 0;
}

void k() {
   link* q = new link;
   h(q);
}</pre><div id='dcl.ref-3.sentence-4' class='sentence'>declares
<span class='texttt'>p</span>
to be a reference to a pointer to
<span class='texttt'>link</span>
so
<span class='texttt'>h(q)</span>
will leave
<span class='texttt'>q</span>
with the value zero<a class='hidden_link' href='#dcl.ref-3.sentence-4'>.</a></div> <div id='dcl.ref-3.sentence-5' class='sentence'>See also <a href='#dcl.init.ref'>[dcl.init.ref]</a><a class='hidden_link' href='#dcl.ref-3.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.ref-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ref-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2672'>#</a></div><div id='dcl.ref-4.sentence-1' class='sentence'>It is unspecified whether or not
a reference requires storage (<a href='basic.stc'>[basic.stc]</a>)<a class='hidden_link' href='#dcl.ref-4.sentence-1'>.</a></div></div><div class='para' id='dcl.ref-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ref-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2676'>#</a></div><div id='dcl.ref-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':restriction,reference'></a></span>There shall be no references to references,
no arrays of references, and no pointers to references<a class='hidden_link' href='#dcl.ref-5.sentence-1'>.</a></div> <div id='dcl.ref-5.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':initialization,reference'></a></span>The declaration of a reference shall contain an
<i ><a href='dcl.init#nt:initializer'>initializer</a></i> (<a href='#dcl.init.ref'>[dcl.init.ref]</a>)
except when the declaration contains an explicit
<span class='texttt'>extern</span>
specifier (<a href='#dcl.stc'>[dcl.stc]</a>),
is a class member (<a href='class.mem'>[class.mem]</a>) declaration within a class definition,
or is the declaration of a parameter or a return type (<a href='#dcl.fct'>[dcl.fct]</a>); see <a href='basic.def'>[basic.def]</a><a class='hidden_link' href='#dcl.ref-5.sentence-2'>.</a></div> <div id='dcl.ref-5.sentence-3' class='sentence'>A reference shall be initialized to refer to a valid object or function<a class='hidden_link' href='#dcl.ref-5.sentence-3'>.</a></div> <div id='dcl.ref-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.ref-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.ref-5.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':reference,null'></a></span>In particular, a null reference cannot exist in a well-defined program,
because the only way to create such a reference would be to bind it to
the “object” obtained by indirection through a null pointer,
which causes undefined behavior<a class='hidden_link' href='#dcl.ref-5.sentence-4'>.</a></div> <div id='dcl.ref-5.sentence-5' class='sentence'>As described in <a href='class.bit'>[class.bit]</a>, a reference cannot be bound directly
to a bit-field<a class='hidden_link' href='#dcl.ref-5.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.ref-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ref-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2699'>#</a></div><div id='dcl.ref-6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':reference_collapsing'></a></span>If a <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> (<a href='#dcl.typedef'>[dcl.typedef]</a>, <a href='temp.param'>[temp.param]</a>)
or a <i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i> denotes a type <span class='texttt'>TR</span> that
is a reference to a type <span class='texttt'>T</span>, an attempt to create the type “lvalue reference to <span class='mathit'>cv</span> <span class='texttt'>TR</span>”
creates the type “lvalue reference to <span class='texttt'>T</span>”, while an attempt to create
the type “rvalue reference to <span class='mathit'>cv</span> <span class='texttt'>TR</span>” creates the type <span class='texttt'>TR</span><a class='hidden_link' href='#dcl.ref-6.sentence-1'>.</a></div> <div id='dcl.ref-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.ref-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.ref-6.sentence-2' class='sentence'>This rule is known as reference collapsing<a class='hidden_link' href='#dcl.ref-6.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.ref-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.ref-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int i;
typedef int&amp; LRI;
typedef int&amp;&amp; RRI;

LRI&amp; r1 = i;                    <span class='comment'>// <span class='tcode_in_codeblock'>r1</span> has the type <span class='tcode_in_codeblock'>int&amp;</span>
</span>const LRI&amp; r2 = i;              <span class='comment'>// <span class='tcode_in_codeblock'>r2</span> has the type <span class='tcode_in_codeblock'>int&amp;</span>
</span>const LRI&amp;&amp; r3 = i;             <span class='comment'>// <span class='tcode_in_codeblock'>r3</span> has the type <span class='tcode_in_codeblock'>int&amp;</span>
</span>
RRI&amp; r4 = i;                    <span class='comment'>// <span class='tcode_in_codeblock'>r4</span> has the type <span class='tcode_in_codeblock'>int&amp;</span>
</span>RRI&amp;&amp; r5 = 5;                   <span class='comment'>// <span class='tcode_in_codeblock'>r5</span> has the type <span class='tcode_in_codeblock'>int&amp;&amp;</span>
</span>
decltype(r2)&amp; r6 = i;           <span class='comment'>// <span class='tcode_in_codeblock'>r6</span> has the type <span class='tcode_in_codeblock'>int&amp;</span>
</span>decltype(r2)&amp;&amp; r7 = i;          <span class='comment'>// <span class='tcode_in_codeblock'>r7</span> has the type <span class='tcode_in_codeblock'>int&amp;</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.ref-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ref-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2726'>#</a></div><div id='dcl.ref-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.ref-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.ref-7.sentence-1' class='sentence'>Forming a reference to function type is ill-formed if the function
type has <i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i><span class='textit'>s</span> or a <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i>;
see <a href='#dcl.fct'>[dcl.fct]</a><a class='hidden_link' href='#dcl.ref-7.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.mptr' class='section'><h4 ><a class='secnum' href='#dcl.mptr' style='min-width:118pt'>9.2.3.3</a> Pointers to members <a class='abbr_ref' href='dcl.mptr'>[dcl.mptr]</a></h4><span class='indexparent'><a class='index' id=':declarator,pointer-to-member'></a></span><span class='indexparent'><a class='index' id=':pointer_to_member'></a></span><div class='para' id='dcl.mptr-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.mptr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2736'>#</a></div><div id='dcl.mptr-1.sentence-1' class='sentence'>In a declaration
<span class='texttt'>T</span>
<span class='texttt'>D</span>
where
<span class='texttt'>D</span>
has the form</div><pre class='ncsimplebnf'><i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> <span class='terminal'>*</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>D1</span>
</pre><div id='dcl.mptr-1.sentence-2' class='sentence'>and the
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>
denotes a class,
and the type of the identifier in the declaration
<span class='texttt'>T</span>
<span class='texttt'>D1</span>
is “<span class='textit'>derived-declarator-type-list</span>
<span class='texttt'>T</span>”,
then the type of the identifier of
<span class='texttt'>D</span>
is “<span class='textit'>derived-declarator-type-list</span> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i> pointer to member of class
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> of type
<span class='texttt'>T</span>”<a class='hidden_link' href='#dcl.mptr-1.sentence-2'>.</a></div> <div id='dcl.mptr-1.sentence-3' class='sentence'>The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> appertains to the
pointer-to-member<a class='hidden_link' href='#dcl.mptr-1.sentence-3'>.</a></div></div><div class='para' id='dcl.mptr-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.mptr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2764'>#</a></div><div id='dcl.mptr-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.mptr-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct X {
  void f(int);
  int a;
};
struct Y;

int X::* pmi = &amp;X::a;
void (X::* pmf)(int) = &amp;X::f;
double X::* pmd;
char Y::* pmc;</pre><div id='dcl.mptr-2.sentence-1' class='sentence'>declares
<span class='texttt'>pmi</span>,
<span class='texttt'>pmf</span>,
<span class='texttt'>pmd</span>
and
<span class='texttt'>pmc</span>
to be a pointer to a member of
<span class='texttt'>X</span>
of type
<span class='texttt'>int</span>,
a pointer to a member of
<span class='texttt'>X</span>
of type
<span class='texttt'>void(int)</span>,
a pointer to a member of
<span class='texttt'>X</span>
of type
<span class='texttt'>double</span>
and a pointer to a member of
<span class='texttt'>Y</span>
of type
<span class='texttt'>char</span>
respectively<a class='hidden_link' href='#dcl.mptr-2.sentence-1'>.</a></div> <div id='dcl.mptr-2.sentence-2' class='sentence'>The declaration of
<span class='texttt'>pmd</span>
is well-formed even though
<span class='texttt'>X</span>
has no members of type
<span class='texttt'>double</span><a class='hidden_link' href='#dcl.mptr-2.sentence-2'>.</a></div> <div id='dcl.mptr-2.sentence-3' class='sentence'>Similarly, the declaration of
<span class='texttt'>pmc</span>
is well-formed even though
<span class='texttt'>Y</span>
is an incomplete type<a class='hidden_link' href='#dcl.mptr-2.sentence-3'>.</a></div> <div id='dcl.mptr-2.sentence-4' class='sentence'><span class='texttt'>pmi</span>
and
<span class='texttt'>pmf</span>
can be used like this:
<pre class='codeblock'>
X obj;
<span class='comment'>// ...
</span>obj.*pmi = 7;       <span class='comment'>// assign <span class='tcode_in_codeblock'>7</span> to an integer member of <span class='tcode_in_codeblock'>obj</span>
</span>(obj.*pmf)(7);      <span class='comment'>// call a function member of <span class='tcode_in_codeblock'>obj</span> with the argument <span class='tcode_in_codeblock'>7</span>
</span></pre></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.mptr-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.mptr-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2825'>#</a></div><div id='dcl.mptr-3.sentence-1' class='sentence'>A pointer to member shall not point to a static member
of a class (<a href='class.static'>[class.static]</a>),
a member with reference type,
or
“<span class='mathit'>cv</span> <span class='texttt'>void</span>”<a class='hidden_link' href='#dcl.mptr-3.sentence-1'>.</a></div><div style='height:0.6em;display:block'></div><div id='dcl.mptr-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.mptr-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.mptr-3.sentence-2' class='sentence'>See also <a href='expr.unary'>[expr.unary]</a> and <a href='expr.mptr.oper'>[expr.mptr.oper]</a><a class='hidden_link' href='#dcl.mptr-3.sentence-2'>.</a></div> <div id='dcl.mptr-3.sentence-3' class='sentence'>The type “pointer to member” is distinct from the type “pointer”,
that is, a pointer to member is declared only by the pointer-to-member
declarator syntax, and never by the pointer declarator syntax<a class='hidden_link' href='#dcl.mptr-3.sentence-3'>.</a></div> <div id='dcl.mptr-3.sentence-4' class='sentence'>There is no “reference-to-member” type in C++<a class='hidden_link' href='#dcl.mptr-3.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.array' class='section'><h4 ><a class='secnum' href='#dcl.array' style='min-width:118pt'>9.2.3.4</a> Arrays <a class='abbr_ref' href='dcl.array'>[dcl.array]</a></h4><span class='indexparent'><a class='index' id=':declarator,array'></a></span><div class='para' id='dcl.array-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.array-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2843'>#</a></div><div id='dcl.array-1.sentence-1' class='sentence'>In a declaration
<span class='texttt'>T</span>
<span class='texttt'>D</span>
where
<span class='texttt'>D</span>
has the form</div><pre class='ncsimplebnf'><span class='terminal'>D1 [</span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>]</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><div id='dcl.array-1.sentence-2' class='sentence'>and the type of the identifier in the declaration
<span class='texttt'>T</span>
<span class='texttt'>D1</span>
is
“<span class='textit'>derived-declarator-type-list</span>
<span class='texttt'>T</span>”,
then the type of the identifier of
<span class='texttt'>D</span>
is an array type; if the type of the identifier of <span class='texttt'>D</span>
contains the <span class='texttt'>auto</span> <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i>,
the program is ill-formed<a class='hidden_link' href='#dcl.array-1.sentence-2'>.</a></div> <div id='dcl.array-1.sentence-3' class='sentence'><span class='texttt'>T</span>
is called the array
<a class='hidden_link' href='#def:element_type' id='def:element_type'><i>element type</i></a>;
this type shall not be a reference type, <span class='mathit'>cv</span> <span class='texttt'>void</span>,
or a function type<a class='hidden_link' href='#dcl.array-1.sentence-3'>.</a></div> <div id='dcl.array-1.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':declaration,array'></a></span>If the
<i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i>
is present, it shall be a converted constant
expression of type <span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span> and
its value shall be greater than zero<a class='hidden_link' href='#dcl.array-1.sentence-4'>.</a></div> <div id='dcl.array-1.sentence-5' class='sentence'>The constant expression specifies the
<span class='indexparent'><a class='index' id=':array,bound'></a></span><span class='indexparent'><a class='index' id=':bound,_of_array'></a></span><a class='hidden_link' href='#def:bound' id='def:bound'><i>bound</i></a>
of (number of elements in) the array<a class='hidden_link' href='#dcl.array-1.sentence-5'>.</a></div> <div id='dcl.array-1.sentence-6' class='sentence'>If the value of the constant expression is
<span class='texttt'>N</span>,
the array has
<span class='texttt'>N</span>
elements numbered
<span class='texttt'>0</span>
to
<span class='texttt'>N-1</span>,
and the type of the identifier of
<span class='texttt'>D</span>
is “<span class='textit'>derived-declarator-type-list</span> array of
<span class='texttt'>N</span>
<span class='texttt'>T</span>”<a class='hidden_link' href='#dcl.array-1.sentence-6'>.</a></div> <div id='dcl.array-1.sentence-7' class='sentence'>An object of array type contains a contiguously allocated non-empty set of
<span class='texttt'>N</span>
subobjects of type
<span class='texttt'>T</span><a class='hidden_link' href='#dcl.array-1.sentence-7'>.</a></div> <div id='dcl.array-1.sentence-8' class='sentence'>Except as noted below, if
the constant expression is omitted, the type of the identifier of
<span class='texttt'>D</span>
is “<span class='textit'>derived-declarator-type-list</span> array of unknown bound of
<span class='texttt'>T</span>”,
an incomplete object type<a class='hidden_link' href='#dcl.array-1.sentence-8'>.</a></div> <div id='dcl.array-1.sentence-9' class='sentence'>The type “<span class='textit'>derived-declarator-type-list</span> array of
<span class='texttt'>N</span>
<span class='texttt'>T</span>”
is a different type from the type
“<span class='textit'>derived-declarator-type-list</span> array of unknown bound of
<span class='texttt'>T</span>”,
see <a href='basic.types'>[basic.types]</a><a class='hidden_link' href='#dcl.array-1.sentence-9'>.</a></div> <div id='dcl.array-1.sentence-10' class='sentence'>Any type of the form
“<i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i> array of
<span class='texttt'>N</span>
<span class='texttt'>T</span>”
is adjusted to
“array of
<span class='texttt'>N</span>
<i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i>
<span class='texttt'>T</span>”,
and similarly for
“array of unknown bound of
<span class='texttt'>T</span>”<a class='hidden_link' href='#dcl.array-1.sentence-10'>.</a></div> <div id='dcl.array-1.sentence-11' class='sentence'>The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> appertains to the array<a class='hidden_link' href='#dcl.array-1.sentence-11'>.</a></div> <div id='dcl.array-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.array-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef int A[5], AA[2][3];
typedef const A CA;             <span class='comment'>// type is “array of 5 <span class='tcode_in_codeblock'>const int</span>”
</span>typedef const AA CAA;           <span class='comment'>// type is “array of 2 array of 3 <span class='tcode_in_codeblock'>const int</span>”
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.array-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.array-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.array-1.sentence-12' class='sentence'>An
“array of
<span class='texttt'>N</span>
<i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i>
<span class='texttt'>T</span>”
has cv-qualified type; see <a href='basic.type.qualifier'>[basic.type.qualifier]</a><a class='hidden_link' href='#dcl.array-1.sentence-12'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.array-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.array-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2942'>#</a></div><div id='dcl.array-2.sentence-1' class='sentence'>An array can be constructed from one of the fundamental types
(except
<span class='texttt'>void</span>),
from a pointer,
from a pointer to member, from a class,
from an enumeration type,
or from another array<a class='hidden_link' href='#dcl.array-2.sentence-1'>.</a></div></div><div class='para' id='dcl.array-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.array-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2951'>#</a></div><div id='dcl.array-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':declarator,multidimensional_array'></a></span>When several “array of” specifications are adjacent, a
multidimensional array
type is created;
only the first of
the constant expressions that specify the bounds
of the arrays may be omitted<a class='hidden_link' href='#dcl.array-3.sentence-1'>.</a></div> <div id='dcl.array-3.sentence-2' class='sentence'>In addition to declarations in which an incomplete object type is allowed,
an array bound may be omitted in some cases in the declaration of a function
parameter (<a href='#dcl.fct'>[dcl.fct]</a>)<a class='hidden_link' href='#dcl.array-3.sentence-2'>.</a></div> <div id='dcl.array-3.sentence-3' class='sentence'>An array bound may also be omitted
when the declarator is followed by an
<i ><a href='dcl.init#nt:initializer'>initializer</a></i>,
when a declarator for a static data member is followed by a
<i ><a href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a></i> (<a href='class.mem'>[class.mem]</a>),
or in an explicit type conversion (<a href='expr.type.conv'>[expr.type.conv]</a>)<a class='hidden_link' href='#dcl.array-3.sentence-3'>.</a></div> <div id='dcl.array-3.sentence-4' class='sentence'>In these cases, the bound is calculated from the number
<span class='indexparent'><a class='index' id=':array_size,default'></a></span>of initial elements (say,
<span class='texttt'>N</span>)
supplied (<a href='#dcl.init.aggr'>[dcl.init.aggr]</a>),
and the type of the identifier of
<span class='texttt'>D</span>
is “array of
<span class='texttt'>N</span>
<span class='texttt'>T</span>”<a class='hidden_link' href='#dcl.array-3.sentence-4'>.</a></div> <div id='dcl.array-3.sentence-5' class='sentence'>Furthermore, if there is a preceding declaration of the entity in the same
scope in which the bound was specified, an omitted array bound is taken to
be the same as in that earlier declaration, and similarly for the definition
of a static data member of a class<a class='hidden_link' href='#dcl.array-3.sentence-5'>.</a></div></div><div class='para' id='dcl.array-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.array-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2983'>#</a></div><div id='dcl.array-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.array-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
float fa[17], *afp[17];</pre> <div id='dcl.array-4.sentence-1' class='sentence'>
declares an array of
<span class='texttt'>float</span>
numbers and an array of
pointers to
<span class='texttt'>float</span>
numbers<a class='hidden_link' href='#dcl.array-4.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.array-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.array-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L2996'>#</a></div><div id='dcl.array-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.array-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int x3d[3][5][7];</pre> <div id='dcl.array-5.sentence-1' class='sentence'>
declares an array of three elements,
each of which is an array of five elements,
each of which is an array of seven integers<a class='hidden_link' href='#dcl.array-5.sentence-1'>.</a></div> <div id='dcl.array-5.sentence-2' class='sentence'>The overall array can be viewed as a
three-dimensional array of integers,
with rank <span class="mjx-chtml"><span class="mjx-math" aria-label="3 \times {}5 \times {}7"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">3</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-texatom MJXc-space2"><span class="mjx-mrow"></span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">5</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-texatom MJXc-space2"><span class="mjx-mrow"></span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">7</span></span></span></span></span><a class='hidden_link' href='#dcl.array-5.sentence-2'>.</a></div> <div id='dcl.array-5.sentence-3' class='sentence'>Any of the expressions
<span class='texttt'>x3d</span>,
<span class='texttt'>x3d[i]</span>,
<span class='texttt'>x3d[i][j]</span>,
<span class='texttt'>x3d[i][j][k]</span>
can reasonably appear in an expression<a class='hidden_link' href='#dcl.array-5.sentence-3'>.</a></div> <div id='dcl.array-5.sentence-4' class='sentence'>The expression
<span class='texttt'>x3d[i]</span>
is equivalent to
<span class='texttt'>*(x3d + i)</span>;
in that expression,
<span class='texttt'>x3d</span>
is subject to the array-to-pointer conversion (<a href='conv.array'>[conv.array]</a>)
and is first converted to
a pointer to a 2-dimensional
array with rank
<span class="mjx-chtml"><span class="mjx-math" aria-label="5 \times {}7"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">5</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-texatom MJXc-space2"><span class="mjx-mrow"></span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">7</span></span></span></span></span>
that points to the first element of <span class='texttt'>x3d</span><a class='hidden_link' href='#dcl.array-5.sentence-4'>.</a></div> <div id='dcl.array-5.sentence-5' class='sentence'>Then <span class='texttt'>i</span> is added,
which on typical implementations involves multiplying
<span class='texttt'>i</span> by the
length of the object to which the pointer points,
which is <span class='texttt'>sizeof(int)</span><span class="mjx-chtml"><span class="mjx-math" aria-label=" \times {}5 \times {}7"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">5</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-texatom MJXc-space2"><span class="mjx-mrow"></span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">7</span></span></span></span></span><a class='hidden_link' href='#dcl.array-5.sentence-5'>.</a></div> <div id='dcl.array-5.sentence-6' class='sentence'>The result of the addition and indirection is
an lvalue denoting
the <span class='texttt'>i</span><span class="mjx-chtml"><span class="mjx-math" aria-label="^\text{th}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> array element of
<span class='texttt'>x3d</span>
(an array of five arrays of seven integers)<a class='hidden_link' href='#dcl.array-5.sentence-6'>.</a></div> <div id='dcl.array-5.sentence-7' class='sentence'>If there is another subscript,
the same argument applies again, so
<span class='texttt'>x3d[i][j]</span> is
an lvalue denoting
the <span class='texttt'>j</span><span class="mjx-chtml"><span class="mjx-math" aria-label="^\text{th}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> array element of
the <span class='texttt'>i</span><span class="mjx-chtml"><span class="mjx-math" aria-label="^\text{th}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> array element of
<span class='texttt'>x3d</span>
(an array of seven integers), and
<span class='texttt'>x3d[i][j][k]</span> is
an lvalue denoting
the <span class='texttt'>k</span><span class="mjx-chtml"><span class="mjx-math" aria-label="^\text{th}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> array element of
the <span class='texttt'>j</span><span class="mjx-chtml"><span class="mjx-math" aria-label="^\text{th}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> array element of
the <span class='texttt'>i</span><span class="mjx-chtml"><span class="mjx-math" aria-label="^\text{th}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> array element of
<span class='texttt'>x3d</span>
(an integer)<a class='hidden_link' href='#dcl.array-5.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.array-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.array-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.array-5.sentence-8' class='sentence'>The first subscript in the declaration helps determine
the amount of storage consumed by an array
but plays no other part in subscript calculations<a class='hidden_link' href='#dcl.array-5.sentence-8'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.array-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.array-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3057'>#</a></div><div id='dcl.array-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.array-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
extern int x[10];
struct S {
  static int y[10];
};

int x[];                <span class='comment'>// OK: bound is 10
</span>int S::y[];             <span class='comment'>// OK: bound is 10
</span>
void f() {
  extern int x[];
  int i = sizeof(x);    <span class='comment'>// error: incomplete object type
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.array-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.array-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3075'>#</a></div><div id='dcl.array-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.array-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.array-7.sentence-1' class='sentence'>Conversions affecting expressions of array type are described in <a href='conv.array'>[conv.array]</a><a class='hidden_link' href='#dcl.array-7.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.array-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.array-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3080'>#</a></div><div id='dcl.array-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.array-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.array-8.sentence-1' class='sentence'>The subscript operator can be overloaded for a class (<a href='over.sub'>[over.sub]</a>)<a class='hidden_link' href='#dcl.array-8.sentence-1'>.</a></div> <div id='dcl.array-8.sentence-2' class='sentence'>For the operator's built-in meaning, see <a href='expr.sub'>[expr.sub]</a><a class='hidden_link' href='#dcl.array-8.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.fct' class='section'><h4 ><a class='secnum' href='#dcl.fct' style='min-width:118pt'>9.2.3.5</a> Functions <a class='abbr_ref' href='dcl.fct'>[dcl.fct]</a></h4><span class='indexparent'><a class='index' id=':declarator,function'></a></span><div class='para' id='dcl.fct-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3089'>#</a></div><div id='dcl.fct-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type,function'></a></span>In a declaration
<span class='texttt'>T</span>
<span class='texttt'>D</span>
where
<span class='texttt'>D</span>
has the form
<pre class='ncsimplebnf'><span class='terminal'>D1 (</span> <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> <span class='terminal'>)</span> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre>
and the type of the contained
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
in the declaration
<span class='texttt'>T</span>
<span class='texttt'>D1</span>
is
“<span class='textit'>derived-declarator-type-list</span>
<span class='texttt'>T</span>”,
the type of the
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
in
<span class='texttt'>D</span>
is
“<span class='textit'>derived-declarator-type-list</span>
<span class='texttt'>noexcept</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
function of
(<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>)
<i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
returning <span class='texttt'>T</span>”,
where the optional <span class='texttt'>noexcept</span> is present
if and only if
the exception specification (<a href='except.spec'>[except.spec]</a>) is non-throwing<a class='hidden_link' href='#dcl.fct-1.sentence-1'>.</a></div> <div id='dcl.fct-1.sentence-2' class='sentence'>The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i>
appertains to the function type<a class='hidden_link' href='#dcl.fct-1.sentence-2'>.</a></div></div><div class='para' id='dcl.fct-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3126'>#</a></div><div id='dcl.fct-2.sentence-1' class='sentence'>In a declaration
<span class='texttt'>T</span>
<span class='texttt'>D</span>
where
<span class='texttt'>D</span>
has the form</div><pre class='ncsimplebnf'><span class='terminal'>D1 (</span> <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> <span class='terminal'>)</span> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i>
</pre><div id='dcl.fct-2.sentence-2' class='sentence'>and the type of the contained
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
in the declaration
<span class='texttt'>T</span>
<span class='texttt'>D1</span>
is
“<span class='textit'>derived-declarator-type-list</span> <span class='texttt'>T</span>”,
<span class='texttt'>T</span> shall be the single <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i> <span class='texttt'>auto</span><a class='hidden_link' href='#dcl.fct-2.sentence-2'>.</a></div> <div id='dcl.fct-2.sentence-3' class='sentence'>The type of the
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
in
<span class='texttt'>D</span>
is
“<span class='textit'>derived-declarator-type-list</span>
<span class='texttt'>noexcept</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
function of
(<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>)
<i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
returning <span class='texttt'>U</span>”,
where <span class='texttt'>U</span> is the type specified by
the <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i>, and
where the optional <span class='texttt'>noexcept</span> is present if and only if
the exception specification is non-throwing<a class='hidden_link' href='#dcl.fct-2.sentence-3'>.</a></div> <div id='dcl.fct-2.sentence-4' class='sentence'>The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i>
appertains to the function type<a class='hidden_link' href='#dcl.fct-2.sentence-4'>.</a></div></div><div class='para' id='dcl.fct-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3165'>#</a></div><div id='dcl.fct-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type,function_'></a></span>A type of either form is a <a class='hidden_link' href='#def:function_type' id='def:function_type'><i>function type</i></a><a class='hidden_link' href='#dcl.fct-3.sentence-1'>.</a><a class='footnotenum' href='#footnote-96'>96</a></div><span class='indexparent'><a class='index' id=':declaration,function_'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:parameter-declaration-clause' id='nt:parameter-declaration-clause'>parameter-declaration-clause:</a>
&#9;<i ><a href='dcl.fct#nt:parameter-declaration-list'>parameter-declaration-list</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='dcl.fct#nt:parameter-declaration-list'>parameter-declaration-list</a></i> <span class='terminal'>, ...</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:parameter-declaration-list' id='nt:parameter-declaration-list'>parameter-declaration-list:</a>
&#9;<i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i>
&#9;<i ><a href='dcl.fct#nt:parameter-declaration-list'>parameter-declaration-list</a></i> <span class='terminal'>,</span> <i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:parameter-declaration' id='nt:parameter-declaration'>parameter-declaration:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> <i ><a href='dcl.decl#nt:declarator'>declarator</a></i>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <span class='terminal'>=</span> <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> <i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> <i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>=</span> <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
</pre><div id='dcl.fct-3.sentence-2' class='sentence'>The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> in a <i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i>
appertains to the parameter<a class='hidden_link' href='#dcl.fct-3.sentence-2'>.</a></div></div><div class='para' id='dcl.fct-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3193'>#</a></div><div id='dcl.fct-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':declaration,parameter'></a></span>The
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>
determines the arguments that can be specified, and their processing, when the function is called<a class='hidden_link' href='#dcl.fct-4.sentence-1'>.</a></div> <div id='dcl.fct-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.fct-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.fct-4.sentence-7' class='sentence'><span class='indexparent'><a class='index' id=':conversion,argument'></a></span>The
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>
is used to convert the arguments specified on the function call;
see <a href='expr.call'>[expr.call]</a><a class='hidden_link' href='#dcl.fct-4.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.fct-4.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':argument_list,empty'></a></span>If the
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>
is empty, the function takes no arguments<a class='hidden_link' href='#dcl.fct-4.sentence-2'>.</a></div> <div id='dcl.fct-4.sentence-3' class='sentence'>A parameter list consisting of a single unnamed parameter of
non-dependent type <span class='texttt'>void</span> is equivalent to an empty parameter
list<a class='hidden_link' href='#dcl.fct-4.sentence-3'>.</a></div> <div id='dcl.fct-4.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':parameter,void'></a></span>Except for this special case, a parameter shall not have type <a class='hidden_link' href='#def:cv' id='def:cv'><i>cv</i></a>
<span class='texttt'>void</span><a class='hidden_link' href='#dcl.fct-4.sentence-4'>.</a></div> <div id='dcl.fct-4.sentence-5' class='sentence'>If the
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>
<span class='indexparent'><a class='index' id=':argument_type,unknown'></a></span><span class='indexparent'><a class='index' id=':declaration,ellipsis_in_function'></a></span><span class='indexparent'><a class='index' id=':argument_list,variable'></a></span><span class='indexparent'><a class='index' id=':parameter_list,variable'></a></span>terminates with an ellipsis or a function parameter
pack (<a href='temp.variadic'>[temp.variadic]</a>), the number of arguments shall be equal
to or greater than the number of parameters that do not have a default
argument and are not function parameter packs<a class='hidden_link' href='#dcl.fct-4.sentence-5'>.</a></div> <div id='dcl.fct-4.sentence-6' class='sentence'>Where syntactically correct and where “<span class='texttt'>...</span>” is not
part of an <i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i>,
“<span class='texttt'>, ...</span>”
is synonymous with
“<span class='texttt'>...</span>”<a class='hidden_link' href='#dcl.fct-4.sentence-6'>.</a></div> <div id='dcl.fct-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='dcl.fct-4.sentence-8' class='sentence'>The declaration</div><pre class='codeblock'>
int printf(const char*, ...);</pre><div id='dcl.fct-4.sentence-9' class='sentence'>declares a function that can be called with varying numbers and types of arguments<a class='hidden_link' href='#dcl.fct-4.sentence-9'>.</a></div><pre class='codeblock'>
printf("hello world");
printf("a=%d b=%d", a, b);</pre><div id='dcl.fct-4.sentence-10' class='sentence'>However, the first argument must be of a type
that can be converted to a
<span class='texttt'>const</span>
<span class='texttt'>char*</span></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.fct-4.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.fct-4.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.fct-4.sentence-11' class='sentence'>The standard header
<span class='texttt'>&lt;cstdarg&gt;</span>
<span class='indexparent'><a class='index' id=':<cstdarg>'></a></span><span class='indexparent'><a class='index' id=':<cstdarg>'></a></span>contains a mechanism for accessing arguments passed using the ellipsis
(see <a href='expr.call'>[expr.call]</a> and <a href='support.runtime'>[support.runtime]</a>)<a class='hidden_link' href='#dcl.fct-4.sentence-11'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3258'>#</a></div><div id='dcl.fct-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type,function__'></a></span>The type of a function is determined using the following rules<a class='hidden_link' href='#dcl.fct-5.sentence-1'>.</a></div> <div id='dcl.fct-5.sentence-2' class='sentence'>The type of each parameter (including function parameter packs) is
determined from its own
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>
and
<i ><a href='dcl.decl#nt:declarator'>declarator</a></i><a class='hidden_link' href='#dcl.fct-5.sentence-2'>.</a></div> <div id='dcl.fct-5.sentence-3' class='sentence'>After determining the type of each parameter, any parameter
<span class='indexparent'><a class='index' id=':array,parameter_of_type'></a></span>of type “array of <span class='texttt'>T</span>” or
<span class='indexparent'><a class='index' id=':function,parameter_of_type'></a></span>of function type <span class='texttt'>T</span>
is adjusted to be “pointer to <span class='texttt'>T</span>”<a class='hidden_link' href='#dcl.fct-5.sentence-3'>.</a></div> <div id='dcl.fct-5.sentence-4' class='sentence'>After producing the list of parameter types,
any top-level
<i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i><span class='textit'>s</span>
modifying a parameter type are deleted
when forming the function type<a class='hidden_link' href='#dcl.fct-5.sentence-4'>.</a></div> <div id='dcl.fct-5.sentence-5' class='sentence'>The resulting list of transformed parameter types
and the presence or absence of the ellipsis or a function parameter pack
is the function's
<a class='hidden_link' href='#def:parameter-type-list' id='def:parameter-type-list'><i >parameter-type-list</i></a><a class='hidden_link' href='#dcl.fct-5.sentence-5'>.</a></div> <div id='dcl.fct-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.fct-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.fct-5.sentence-6' class='sentence'>This transformation does not affect the types of the parameters<a class='hidden_link' href='#dcl.fct-5.sentence-6'>.</a></div> <div id='dcl.fct-5.sentence-7' class='sentence'>For example, <span class='texttt'>int(*)(const int p, decltype(p)*)</span> and
<span class='texttt'>int(*)(int, const int*)</span> are identical types<a class='hidden_link' href='#dcl.fct-5.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3285'>#</a></div><div id='dcl.fct-6.sentence-1' class='sentence'>A function type with a <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i> or a
<i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i> (including a type named by
<i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> (<a href='#dcl.typedef'>[dcl.typedef]</a>, <a href='temp.param'>[temp.param]</a>))
shall appear only as:
<ul class='itemize'><li id='dcl.fct-6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct-6.1'>(6.1)</a></div><div id='dcl.fct-6.1.sentence-1' class='sentence'>the function type for a non-static member function,</div></li><li id='dcl.fct-6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct-6.2'>(6.2)</a></div><div id='dcl.fct-6.2.sentence-1' class='sentence'>the function type to which a pointer to member refers,</div></li><li id='dcl.fct-6.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct-6.3'>(6.3)</a></div><div id='dcl.fct-6.3.sentence-1' class='sentence'>the top-level function type of a function typedef declaration
or <i ><a href='dcl.dcl#nt:alias-declaration'>alias-declaration</a></i>,</div></li><li id='dcl.fct-6.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct-6.4'>(6.4)</a></div><div id='dcl.fct-6.4.sentence-1' class='sentence'>the <i ><a href='dcl.name#nt:type-id'>type-id</a></i> in the default argument of a
<i ><a href='temp.param#nt:type-parameter'>type-parameter</a></i>, or</div></li><li id='dcl.fct-6.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct-6.5'>(6.5)</a></div><div id='dcl.fct-6.5.sentence-1' class='sentence'>the <i ><a href='dcl.name#nt:type-id'>type-id</a></i> of a <i ><a href='temp.names#nt:template-argument'>template-argument</a></i> for a
<i ><a href='temp.param#nt:type-parameter'>type-parameter</a></i> (<a href='temp.arg.type'>[temp.arg.type]</a>)<a class='hidden_link' href='#dcl.fct-6.5.sentence-1'>.</a></div></li></ul></div> <div id='dcl.fct-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef int FIC(int) const;
FIC f;              <span class='comment'>// ill-formed: does not declare a member function
</span>struct S {
  FIC f;            <span class='comment'>// OK
</span>};
FIC S::*pm = &amp;S::f; <span class='comment'>// OK
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3316'>#</a></div><div id='dcl.fct-7.sentence-1' class='sentence'>The effect of a
<i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i>
in a function declarator is not the same as
adding cv-qualification on top of the function type<a class='hidden_link' href='#dcl.fct-7.sentence-1'>.</a></div> <div id='dcl.fct-7.sentence-2' class='sentence'>In the latter case, the cv-qualifiers are ignored<a class='hidden_link' href='#dcl.fct-7.sentence-2'>.</a></div> <div id='dcl.fct-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.fct-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.fct-7.sentence-3' class='sentence'>A function type that has a <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i> is not a
cv-qualified type; there are no cv-qualified function types<a class='hidden_link' href='#dcl.fct-7.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.fct-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef void F();
struct S {
  const F f;        <span class='comment'>// OK: equivalent to: <span class='tcode_in_codeblock'>void f();</span>
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3334'>#</a></div><div id='dcl.fct-8.sentence-1' class='sentence'>The return type, the parameter-type-list, the <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i>,
the <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i>, and
the exception specification,
but not the default arguments (<a href='#dcl.fct.default'>[dcl.fct.default]</a>)
or the trailing <i ><a href='temp#nt:requires-clause'>requires-clause</a></i> (<a href='#dcl.decl'>[dcl.decl]</a>),
are part of the function type<a class='hidden_link' href='#dcl.fct-8.sentence-1'>.</a></div> <div id='dcl.fct-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.fct-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.fct-8.sentence-2' class='sentence'>Function types are checked during the assignments and initializations of
pointers to functions, references to functions, and pointers to member functions<a class='hidden_link' href='#dcl.fct-8.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct-9'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3346'>#</a></div><div id='dcl.fct-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='dcl.fct-9.sentence-1' class='sentence'>The declaration</div><pre class='codeblock'>
int fseek(FILE*, long, int);</pre><div id='dcl.fct-9.sentence-2' class='sentence'>declares a function taking three arguments of the specified types,
and returning
<span class='texttt'>int</span> (<a href='#dcl.type'>[dcl.type]</a>)<a class='hidden_link' href='#dcl.fct-9.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct-10'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3359'>#</a></div><div id='dcl.fct-10.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':overloading'></a></span>A single name can be used for several different functions in a single scope;
this is function overloading (<a href='over'>[over]</a>)<a class='hidden_link' href='#dcl.fct-10.sentence-1'>.</a></div> <div id='dcl.fct-10.sentence-2' class='sentence'>All declarations for a function shall have equivalent return types,
parameter-type-lists, and <i ><a href='temp#nt:requires-clause'>requires-clause</a></i><span class='textit'>s</span> (<a href='temp.over.link'>[temp.over.link]</a>)<a class='hidden_link' href='#dcl.fct-10.sentence-2'>.</a></div></div><div class='para' id='dcl.fct-11'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3366'>#</a></div><div id='dcl.fct-11.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':return_type'></a></span>Functions shall not have a return type of type array or function,
although they may have a return type of type pointer or reference to such things<a class='hidden_link' href='#dcl.fct-11.sentence-1'>.</a></div> <div id='dcl.fct-11.sentence-2' class='sentence'>There shall be no arrays of functions, although there can be arrays of pointers
to functions<a class='hidden_link' href='#dcl.fct-11.sentence-2'>.</a></div></div><div class='para' id='dcl.fct-12'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3374'>#</a></div><div id='dcl.fct-12.sentence-1' class='sentence'>Types shall not be defined in return or parameter types<a class='hidden_link' href='#dcl.fct-12.sentence-1'>.</a></div></div><div class='para' id='dcl.fct-13'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3377'>#</a></div><div id='dcl.fct-13.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':typedef,function'></a></span>A typedef of function type may be used to declare a function but shall not be
used to define a function (<a href='#dcl.fct.def'>[dcl.fct.def]</a>)<a class='hidden_link' href='#dcl.fct-13.sentence-1'>.</a></div> <div id='dcl.fct-13.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct-13.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef void F();
F  fv;              <span class='comment'>// OK: equivalent to <span class='tcode_in_codeblock'>void fv();</span>
</span>F  fv { }           <span class='comment'>// ill-formed
</span>void fv() { }       <span class='comment'>// OK: definition of <span class='tcode_in_codeblock'>fv</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct-14'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3391'>#</a></div><div id='dcl.fct-14.sentence-1' class='sentence'>An identifier can optionally be provided as a parameter name;
if present in a function definition (<a href='#dcl.fct.def'>[dcl.fct.def]</a>), it names a parameter<a class='hidden_link' href='#dcl.fct-14.sentence-1'>.</a></div> <div id='dcl.fct-14.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.fct-14.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.fct-14.sentence-2' class='sentence'>In particular, parameter names are also optional in function definitions
and names used for a parameter in different declarations and the definition
of a function need not be the same<a class='hidden_link' href='#dcl.fct-14.sentence-2'>.</a></div> <div id='dcl.fct-14.sentence-3' class='sentence'>If a parameter name is present in a function declaration that is not a definition,
it cannot be used outside of
its function declarator because that is the extent of its potential scope (<a href='basic.scope.param'>[basic.scope.param]</a>)<a class='hidden_link' href='#dcl.fct-14.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct-15'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3403'>#</a></div><div id='dcl.fct-15.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct-15.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='dcl.fct-15.sentence-1' class='sentence'>The declaration</div><pre class='codeblock'>
int i,
    *pi,
    f(),
    *fpi(int),
    (*pif)(const char*, const char*),
    (*fpif(int))(int);</pre><div id='dcl.fct-15.sentence-2' class='sentence'>declares an integer
<span class='texttt'>i</span>,
a pointer
<span class='texttt'>pi</span>
to an integer,
a function
<span class='texttt'>f</span>
taking no arguments and returning an integer,
a function
<span class='texttt'>fpi</span>
taking an integer argument and returning a pointer to an integer,
a pointer
<span class='texttt'>pif</span>
to a function which
takes two pointers to constant characters and returns an integer,
a function
<span class='texttt'>fpif</span>
taking an integer argument and returning a pointer to a function that takes an integer argument and returns an integer<a class='hidden_link' href='#dcl.fct-15.sentence-2'>.</a></div> <div id='dcl.fct-15.sentence-3' class='sentence'>It is especially useful to compare
<span class='texttt'>fpi</span>
and
<span class='texttt'>pif</span><a class='hidden_link' href='#dcl.fct-15.sentence-3'>.</a></div> <div id='dcl.fct-15.sentence-4' class='sentence'>The binding of
<span class='texttt'>*fpi(int)</span>
is
<span class='texttt'>*(fpi(int))</span>,
so the declaration suggests,
and the same construction in an expression
requires, the calling of a function
<span class='texttt'>fpi</span>,
and then using indirection through the (pointer) result
to yield an integer<a class='hidden_link' href='#dcl.fct-15.sentence-4'>.</a></div> <div id='dcl.fct-15.sentence-5' class='sentence'>In the declarator
<span class='texttt'>(*pif)(const char*, const char*)</span>,
the extra parentheses are necessary to indicate that indirection through
a pointer to a function yields a function, which is then called<a class='hidden_link' href='#dcl.fct-15.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.fct-15.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.fct-15.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.fct-15.sentence-6' class='sentence'>Typedefs and <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i><span class='textit'>s</span> are sometimes convenient when the return type of a function is complex<a class='hidden_link' href='#dcl.fct-15.sentence-6'>.</a></div> <div id='dcl.fct-15.sentence-7' class='sentence'>For example,
the function
<span class='texttt'>fpif</span>
above could have been declared</div><pre class='codeblock'>
typedef int  IFUNC(int);
IFUNC*  fpif(int);</pre><div id='dcl.fct-15.sentence-8' class='sentence'>or</div><pre class='codeblock'>
auto fpif(int)-&gt;int(*)(int);</pre><div id='dcl.fct-15.sentence-9' class='sentence'>A <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i> is most useful for a type that would be more complicated to specify before the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>:</div><pre class='codeblock'>
template &lt;class T, class U&gt; auto add(T t, U u) -&gt; decltype(t + u);</pre><div id='dcl.fct-15.sentence-10' class='sentence'>rather than</div><pre class='codeblock'>
template &lt;class T, class U&gt; decltype((*(T*)0) + (*(U*)0)) add(T t, U u);</pre> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct-16'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3484'>#</a></div><div id='dcl.fct-16.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:non-template_function' id='def:non-template_function'><i>non-template function</i></a> is a function that is not a function template
specialization<a class='hidden_link' href='#dcl.fct-16.sentence-1'>.</a></div> <div id='dcl.fct-16.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.fct-16.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.fct-16.sentence-2' class='sentence'>A function template is not a function<a class='hidden_link' href='#dcl.fct-16.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct-17'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3488'>#</a></div><div id='dcl.fct-17.sentence-1' class='sentence'>A <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> or <i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i>
containing an ellipsis shall only
be used in a <i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i><a class='hidden_link' href='#dcl.fct-17.sentence-1'>.</a></div> <div id='dcl.fct-17.sentence-2' class='sentence'>When it is part of a
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>,
the <i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i> declares a
function parameter pack (<a href='temp.variadic'>[temp.variadic]</a>)<a class='hidden_link' href='#dcl.fct-17.sentence-2'>.</a></div> <div id='dcl.fct-17.sentence-3' class='sentence'>Otherwise, the <i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i> is part of a
<i ><a href='temp#nt:template-parameter-list'>template-parameter-list</a></i> and declares a
template parameter pack; see <a href='temp.param'>[temp.param]</a><a class='hidden_link' href='#dcl.fct-17.sentence-3'>.</a></div> <div id='dcl.fct-17.sentence-4' class='sentence'>A function parameter pack is a pack expansion (<a href='temp.variadic'>[temp.variadic]</a>)<a class='hidden_link' href='#dcl.fct-17.sentence-4'>.</a></div> <div id='dcl.fct-17.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct-17.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename... T&gt; void f(T (* ...t)(int, int));

int add(int, int);
float subtract(int, int);

void g() {
  f(add, subtract);
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct-18'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3514'>#</a></div><div id='dcl.fct-18.sentence-1' class='sentence'>There is a syntactic ambiguity when an ellipsis occurs at the end
of a <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> without a preceding
comma<a class='hidden_link' href='#dcl.fct-18.sentence-1'>.</a></div> <div id='dcl.fct-18.sentence-2' class='sentence'>In this case, the ellipsis is parsed as part of the
<i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i> if the type of the parameter either names
a template parameter pack that has not been expanded or contains <span class='texttt'>auto</span>;
otherwise, it is
parsed as part of the <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i><a class='hidden_link' href='#dcl.fct-18.sentence-2'>.</a><a class='footnotenum' href='#footnote-97'>97</a></div> </div><div class='footnote' id='footnote-96'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-96'>96)</a></div><div id='footnote-96.sentence-1' class='sentence'>As indicated by syntax, cv-qualifiers are a significant component in function return types<a class='hidden_link' href='#footnote-96.sentence-1'>.</a></div></div><div class='footnote' id='footnote-97'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-97'>97)</a></div><div id='footnote-97.sentence-1' class='sentence'>One can explicitly disambiguate the parse either by
introducing a comma (so the ellipsis will be parsed as part of the
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>) or by introducing a name for the
parameter (so the ellipsis will be parsed as part of the
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>)<a class='hidden_link' href='#footnote-97.sentence-1'>.</a></div></div></div><div id='dcl.fct.default' class='section'><h4 ><a class='secnum' href='#dcl.fct.default' style='min-width:118pt'>9.2.3.6</a> Default arguments <a class='abbr_ref' href='dcl.fct.default'>[dcl.fct.default]</a></h4><span class='indexparent'><a class='index' id=':declaration,default_argument'></a></span><div class='para' id='dcl.fct.default-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3531'>#</a></div><div id='dcl.fct.default-1.sentence-1' class='sentence'>If an <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i> is specified in a
<i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i> this
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
is used as a default argument<a class='hidden_link' href='#dcl.fct.default-1.sentence-1'>.</a></div> <div id='dcl.fct.default-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.fct.default-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.fct.default-1.sentence-2' class='sentence'>Default arguments will be used in calls
where trailing arguments are missing (<a href='expr.call'>[expr.call]</a>)<a class='hidden_link' href='#dcl.fct.default-1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct.default-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3541'>#</a></div><span class='indexparent'><a class='index' id=':argument,example_of_default'></a></span><div id='dcl.fct.default-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct.default-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='dcl.fct.default-2.sentence-1' class='sentence'>The declaration</div><pre class='codeblock'>
void point(int = 3, int = 4);</pre><div id='dcl.fct.default-2.sentence-2' class='sentence'>declares a function that can be called with zero, one, or two arguments of type
<span class='texttt'>int</span><a class='hidden_link' href='#dcl.fct.default-2.sentence-2'>.</a></div> <div id='dcl.fct.default-2.sentence-3' class='sentence'>It can be called in any of these ways:</div><pre class='codeblock'>
point(1,2);  point(1);  point();</pre><div id='dcl.fct.default-2.sentence-4' class='sentence'>The last two calls are equivalent to
<span class='texttt'>point(1,4)</span>
and
<span class='texttt'>point(3,4)</span>,
respectively<a class='hidden_link' href='#dcl.fct.default-2.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct.default-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3565'>#</a></div><div id='dcl.fct.default-3.sentence-1' class='sentence'>A default argument shall be specified only in the
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>
of a function declaration
or <i ><a href='expr.prim.lambda#nt:lambda-declarator'>lambda-declarator</a></i>
or in a
<i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i>;
in the latter case, the <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i> shall be an
<i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i><a class='hidden_link' href='#dcl.fct.default-3.sentence-1'>.</a></div> <div id='dcl.fct.default-3.sentence-2' class='sentence'>A default argument shall not be specified for
a template parameter pack or
a function parameter pack<a class='hidden_link' href='#dcl.fct.default-3.sentence-2'>.</a></div> <div id='dcl.fct.default-3.sentence-3' class='sentence'>If it is specified in a
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>,
it shall not occur within a
<i ><a href='dcl.decl#nt:declarator'>declarator</a></i>
or
<i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i>
of a
<i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i><a class='hidden_link' href='#dcl.fct.default-3.sentence-3'>.</a><a class='footnotenum' href='#footnote-98'>98</a></div></div><div class='para' id='dcl.fct.default-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3592'>#</a></div><div id='dcl.fct.default-4.sentence-1' class='sentence'>For non-template functions, default arguments can be added in later
declarations of a
function in the same scope<a class='hidden_link' href='#dcl.fct.default-4.sentence-1'>.</a></div> <div id='dcl.fct.default-4.sentence-2' class='sentence'>Declarations in different
scopes have completely distinct sets of default arguments<a class='hidden_link' href='#dcl.fct.default-4.sentence-2'>.</a></div> <div id='dcl.fct.default-4.sentence-3' class='sentence'>That
is, declarations in inner scopes do not acquire default
arguments from declarations in outer scopes, and vice versa<a class='hidden_link' href='#dcl.fct.default-4.sentence-3'>.</a></div> <div id='dcl.fct.default-4.sentence-4' class='sentence'>In
a given function declaration, each parameter subsequent to a
parameter with a default argument shall have a default argument
supplied in this or a previous declaration,
unless the parameter was expanded from a parameter pack,
or shall be a function parameter pack<a class='hidden_link' href='#dcl.fct.default-4.sentence-4'>.</a></div> <div id='dcl.fct.default-4.sentence-5' class='sentence'>A default argument
shall not be redefined by a later declaration (not even to the
same value)<a class='hidden_link' href='#dcl.fct.default-4.sentence-5'>.</a></div> <div id='dcl.fct.default-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct.default-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void g(int = 0, ...);           <span class='comment'>// OK, ellipsis is not a parameter so it can follow
</span>                                <span class='comment'>// a parameter with a default argument
</span>void f(int, int);
void f(int, int = 7);
void h() {
  f(3);                         <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>f(3, 7)</span>
</span>  void f(int = 1, int);         <span class='comment'>// error: does not use default from surrounding scope
</span>}
void m() {
  void f(int, int);             <span class='comment'>// has no defaults
</span>  f(4);                         <span class='comment'>// error: wrong number of arguments
</span>  void f(int, int = 5);         <span class='comment'>// OK
</span>  f(4);                         <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>f(4, 5);</span>
</span>  void f(int, int = 5);         <span class='comment'>// error: cannot redefine, even to same value
</span>}
void n() {
  f(6);                         <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>f(6, 7)</span>
</span>}
template&lt;class ... T&gt; struct C {
  void f(int n = 0, T...);
};
C&lt;int&gt; c;                       <span class='comment'>// OK, instantiates declaration <span class='tcode_in_codeblock'>void C&#x200b;::&#x200b;f(int n = 0, int)</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.fct.default-4.sentence-6' class='sentence'>
For a given inline function defined in different translation units,
the accumulated sets of default arguments at the end of the
translation units shall be the same;
see <a href='basic.def.odr'>[basic.def.odr]</a><a class='hidden_link' href='#dcl.fct.default-4.sentence-6'>.</a></div> <div id='dcl.fct.default-4.sentence-7' class='sentence'>If a friend declaration specifies a default argument expression,
that declaration shall be a definition and shall be the only
declaration of the function or function template in the translation unit<a class='hidden_link' href='#dcl.fct.default-4.sentence-7'>.</a></div></div><div class='para' id='dcl.fct.default-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3645'>#</a></div><div id='dcl.fct.default-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':argument,type_checking_of_default'></a></span><span class='indexparent'><a class='index' id=':argument,binding_of_default'></a></span><span class='indexparent'><a class='index' id=':argument,evaluation_of_default'></a></span>The default argument has the
same semantic constraints as the initializer in a
declaration of a variable of the parameter type, using the
copy-initialization semantics (<a href='#dcl.init'>[dcl.init]</a>)<a class='hidden_link' href='#dcl.fct.default-5.sentence-1'>.</a></div> <div id='dcl.fct.default-5.sentence-2' class='sentence'>The names in the
default argument are bound, and the semantic constraints are checked,
at the point where the default argument appears<a class='hidden_link' href='#dcl.fct.default-5.sentence-2'>.</a></div> <div id='dcl.fct.default-5.sentence-3' class='sentence'>Name lookup and checking of semantic constraints for default
arguments in function templates and in member functions of
class templates are performed as described in <a href='temp.inst'>[temp.inst]</a><a class='hidden_link' href='#dcl.fct.default-5.sentence-3'>.</a></div> <div id='dcl.fct.default-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct.default-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='dcl.fct.default-5.sentence-4' class='sentence'>In the following code,
<span class='indexparent'><a class='index' id=':argument,example_of_default_'></a></span><span class='texttt'>g</span>
will be called with the value
<span class='texttt'>f(2)</span>:</div><pre class='codeblock'>
int a = 1;
int f(int);
int g(int x = f(a));            <span class='comment'>// default argument: <span class='tcode_in_codeblock'>f(&#x200b;::&#x200b;a)</span>
</span>
void h() {
  a = 2;
  {
  int a = 3;
  g();                          <span class='comment'>// <span class='tcode_in_codeblock'>g(f(&#x200b;::&#x200b;a))</span>
</span>  }
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.fct.default-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.fct.default-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.fct.default-5.sentence-5' class='sentence'>In member function declarations,
names in default arguments are looked up
as described in <a href='basic.lookup.unqual'>[basic.lookup.unqual]</a><a class='hidden_link' href='#dcl.fct.default-5.sentence-5'>.</a></div> <div id='dcl.fct.default-5.sentence-6' class='sentence'>Access checking applies to names in default arguments as
described in <a href='class.access'>[class.access]</a><a class='hidden_link' href='#dcl.fct.default-5.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct.default-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3688'>#</a></div><div id='dcl.fct.default-6.sentence-1' class='sentence'>Except for member functions of class templates, the
default arguments in a member function definition that appears
outside of the class definition
are added to the set of default arguments provided by the
member function declaration in the class definition;
the program is ill-formed if a default constructor (<a href='class.default.ctor'>[class.default.ctor]</a>),
copy or move constructor (<a href='class.copy.ctor'>[class.copy.ctor]</a>), or
copy or move assignment operator (<a href='class.copy.assign'>[class.copy.assign]</a>)
is so declared<a class='hidden_link' href='#dcl.fct.default-6.sentence-1'>.</a></div> <div id='dcl.fct.default-6.sentence-2' class='sentence'>Default arguments for a member function of a class template
shall be specified on the initial declaration of the member
function within the class template<a class='hidden_link' href='#dcl.fct.default-6.sentence-2'>.</a></div> <div id='dcl.fct.default-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct.default-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class C {
  void f(int i = 3);
  void g(int i, int j = 99);
};

void C::f(int i = 3) {}         <span class='comment'>// error: default argument already specified in class scope
</span>void C::g(int i = 88, int j) {} <span class='comment'>// in this translation unit, <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;g</span> can be called with no argument
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct.default-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3713'>#</a></div><div id='dcl.fct.default-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.fct.default-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.fct.default-7.sentence-1' class='sentence'>A local variable cannot be odr-used (<a href='basic.def.odr'>[basic.def.odr]</a>)
in a default argument<a class='hidden_link' href='#dcl.fct.default-7.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.fct.default-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct.default-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f() {
  int i;
  extern void g(int x = i);         <span class='comment'>// error
</span>  extern void h(int x = sizeof(i)); <span class='comment'>// OK
</span>  <span class='comment'>// ...
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct.default-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3729'>#</a></div><div id='dcl.fct.default-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.fct.default-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.fct.default-8.sentence-1' class='sentence'>The keyword
<span class='texttt'>this</span>
may not appear in a default argument of a member function;
see <a href='expr.prim.this'>[expr.prim.this]</a><a class='hidden_link' href='#dcl.fct.default-8.sentence-1'>.</a></div> <div id='dcl.fct.default-8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct.default-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class A {
  void f(A* p = this) { }           <span class='comment'>// error
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct.default-9'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3745'>#</a></div><div id='dcl.fct.default-9.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':argument,evaluation_of_default_'></a></span>A default argument is evaluated each time the function is called
with no argument for the corresponding parameter<a class='hidden_link' href='#dcl.fct.default-9.sentence-1'>.</a></div> <div id='dcl.fct.default-9.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':argument,scope_of_default'></a></span>A parameter shall not appear as a potentially-evaluated expression
in a default argument<a class='hidden_link' href='#dcl.fct.default-9.sentence-2'>.</a></div> <div id='dcl.fct.default-9.sentence-3' class='sentence'><span class='indexparent'><a class='index' id=':argument_and_name_hiding,default'></a></span>Parameters of a function declared before a default argument
are in scope and can hide namespace and class member names<a class='hidden_link' href='#dcl.fct.default-9.sentence-3'>.</a></div> <div id='dcl.fct.default-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct.default-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int a;
int f(int a, int b = a);            <span class='comment'>// error: parameter <span class='tcode_in_codeblock'>a</span> used as default argument
</span>typedef int I;
int g(float I, int b = I(2));       <span class='comment'>// error: parameter <span class='tcode_in_codeblock'>I</span> found
</span>int h(int a, int b = sizeof(a));    <span class='comment'>// OK, unevaluated operand
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.fct.default-9.sentence-4' class='sentence'>
A non-static member shall not appear in a default argument unless it appears as
the <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> of a class member access expression (<a href='expr.ref'>[expr.ref]</a>) or
unless it is used to form a pointer to member (<a href='expr.unary.op'>[expr.unary.op]</a>)<a class='hidden_link' href='#dcl.fct.default-9.sentence-4'>.</a></div> <div id='dcl.fct.default-9.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct.default-9.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='dcl.fct.default-9.sentence-8' class='sentence'>The declaration of
<span class='texttt'>X&#x200b;::&#x200b;mem1()</span>
in the following example is ill-formed because no object is supplied for the
non-static member
<span class='texttt'>X&#x200b;::&#x200b;a</span>
used as an initializer<a class='hidden_link' href='#dcl.fct.default-9.sentence-8'>.</a></div> <pre class='codeblock'>
int b;
class X {
  int a;
  int mem1(int i = a);              <span class='comment'>// error: non-static member <span class='tcode_in_codeblock'>a</span> used as default argument
</span>  int mem2(int i = b);              <span class='comment'>// OK;  use <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;b</span>
</span>  static int b;
};</pre> <div id='dcl.fct.default-9.sentence-9' class='sentence'>
The declaration of
<span class='texttt'>X&#x200b;::&#x200b;mem2()</span>
is meaningful, however, since no object is needed to access the static member
<span class='texttt'>X&#x200b;::&#x200b;b</span><a class='hidden_link' href='#dcl.fct.default-9.sentence-9'>.</a></div> <div id='dcl.fct.default-9.sentence-10' class='sentence'>Classes, objects, and members are described in <a href='class'>[class]</a><a class='hidden_link' href='#dcl.fct.default-9.sentence-10'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.fct.default-9.sentence-5' class='sentence'>
A default argument is not part of the
type of a function<a class='hidden_link' href='#dcl.fct.default-9.sentence-5'>.</a></div> <div id='dcl.fct.default-9.example-3' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct.default-9.example-3'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int f(int = 0);

void h() {
  int j = f(1);
  int k = f();                      <span class='comment'>// OK, means <span class='tcode_in_codeblock'>f(0)</span>
</span>}

int (*p1)(int) = &amp;f;
int (*p2)() = &amp;f;                   <span class='comment'>// error: type mismatch
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.fct.default-9.sentence-6' class='sentence'>
When a declaration of a function is introduced by way of a
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>,
any default argument information associated
with the declaration is made known as well<a class='hidden_link' href='#dcl.fct.default-9.sentence-6'>.</a></div> <div id='dcl.fct.default-9.sentence-7' class='sentence'>If the function is redeclared
thereafter in the namespace with additional default arguments,
the additional arguments are also known at any point following
the redeclaration where the
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>
is in scope<a class='hidden_link' href='#dcl.fct.default-9.sentence-7'>.</a></div></div><div class='para' id='dcl.fct.default-10'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3815'>#</a></div><div id='dcl.fct.default-10.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':argument_and_virtual_function,default'></a></span>A virtual function call (<a href='class.virtual'>[class.virtual]</a>) uses the default
arguments in the declaration of the virtual function determined
by the static type of the pointer or reference denoting the
object<a class='hidden_link' href='#dcl.fct.default-10.sentence-1'>.</a></div> <div id='dcl.fct.default-10.sentence-2' class='sentence'>An overriding function in a derived class does not
acquire default arguments from the function it overrides<a class='hidden_link' href='#dcl.fct.default-10.sentence-2'>.</a></div> <div id='dcl.fct.default-10.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct.default-10.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A {
  virtual void f(int a = 7);
};
struct B : public A {
  void f(int a);
};
void m() {
  B* pb = new B;
  A* pa = pb;
  pa-&gt;f();          <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>pa-&gt;B&#x200b;::&#x200b;f(7)</span>
</span>  pb-&gt;f();          <span class='comment'>// error: wrong number of arguments for <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f()</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  </div><div class='footnote' id='footnote-98'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-98'>98)</a></div><div id='footnote-98.sentence-1' class='sentence'>This means that default
arguments cannot appear,
for example, in declarations of pointers to functions,
references to functions, or
<span class='texttt'>typedef</span>
declarations<a class='hidden_link' href='#footnote-98.sentence-1'>.</a></div></div></div></div></div><div id='dcl.init' class='section'><h2 ><a class='secnum' href='#dcl.init' style='min-width:88pt'>9.3</a> Initializers <a class='abbr_ref' href='dcl.init'>[dcl.init]</a></h2><span class='indexparent'><a class='index' id=':initialization'></a></span><div class='para' id='dcl.init-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3846'>#</a></div><div id='dcl.init-1.sentence-1' class='sentence'>The process of initialization described in this subclause applies to
all initializations regardless of syntactic context, including the
initialization of a function parameter (<a href='expr.call'>[expr.call]</a>), the
initialization of a return value (<a href='stmt.return'>[stmt.return]</a>), or when an
initializer follows a declarator<a class='hidden_link' href='#dcl.init-1.sentence-1'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:initializer' id='nt:initializer'>initializer:</a>
&#9;<i ><a href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a></i>
&#9;<span class='terminal'>(</span> <i ><a href='expr.post#nt:expression-list'>expression-list</a></i> <span class='terminal'>)</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:brace-or-equal-initializer' id='nt:brace-or-equal-initializer'>brace-or-equal-initializer:</a>
&#9;<span class='terminal'>=</span> <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
&#9;<i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:initializer-clause' id='nt:initializer-clause'>initializer-clause:</a>
&#9;<i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i>
&#9;<i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:braced-init-list' id='nt:braced-init-list'>braced-init-list:</a>
&#9;<span class='terminal'>{</span> <i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i> <span class='terminal'>,</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>}</span>
&#9;<span class='terminal'>{</span> <i ><a href='dcl.init#nt:designated-initializer-list'>designated-initializer-list</a></i> <span class='terminal'>,</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>}</span>
&#9;<span class='terminal'>{</span> <span class='terminal'>}</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:initializer-list' id='nt:initializer-list'>initializer-list:</a>
&#9;<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i> <span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i> <span class='terminal'>,</span> <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i> <span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:designated-initializer-list' id='nt:designated-initializer-list'>designated-initializer-list:</a>
&#9;<i ><a href='dcl.init#nt:designated-initializer-clause'>designated-initializer-clause</a></i>
&#9;<i ><a href='dcl.init#nt:designated-initializer-list'>designated-initializer-list</a></i> <span class='terminal'>,</span> <i ><a href='dcl.init#nt:designated-initializer-clause'>designated-initializer-clause</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:designated-initializer-clause' id='nt:designated-initializer-clause'>designated-initializer-clause:</a>
&#9;<i ><a href='dcl.init#nt:designator'>designator</a></i> <i ><a href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:designator' id='nt:designator'>designator:</a>
&#9;<span class='terminal'>.</span> <i ><a href='lex.name#nt:identifier'>identifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:expr-or-braced-init-list' id='nt:expr-or-braced-init-list'>expr-or-braced-init-list:</a>
&#9;<i ><a href='expr.comma#nt:expression'>expression</a></i>
&#9;<i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>
</pre><div id='dcl.init-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init-1.sentence-2' class='sentence'>The rules in this subclause apply even if the grammar permits only
the <i ><a href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a></i> form
of <i ><a href='dcl.init#nt:initializer'>initializer</a></i> in a given context<a class='hidden_link' href='#dcl.init-1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3912'>#</a></div><div id='dcl.init-2.sentence-1' class='sentence'>Except for objects declared with the <span class='texttt'>constexpr</span> specifier, for which see <a href='#dcl.constexpr'>[dcl.constexpr]</a>,
an <i ><a href='dcl.init#nt:initializer'>initializer</a></i> in the definition of a variable can consist of
arbitrary
<span class='indexparent'><a class='index' id=':initialization,automatic_object'></a></span><span class='indexparent'><a class='index' id=':initialization,static_object'></a></span>expressions involving literals and previously declared
variables and functions,
regardless of the variable's storage duration<a class='hidden_link' href='#dcl.init-2.sentence-1'>.</a></div> <div id='dcl.init-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int f(int);
int a = 2;
int b = f(a);
int c(b);</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3931'>#</a></div><div id='dcl.init-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init-3.sentence-1' class='sentence'>Default arguments are more restricted; see <a href='#dcl.fct.default'>[dcl.fct.default]</a><a class='hidden_link' href='#dcl.init-3.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3936'>#</a></div><div id='dcl.init-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init-4.sentence-1' class='sentence'>The order of initialization of variables with static storage duration is described in <a href='basic.start'>[basic.start]</a>
and <a href='stmt.dcl'>[stmt.dcl]</a><a class='hidden_link' href='#dcl.init-4.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3942'>#</a></div><div id='dcl.init-5.sentence-1' class='sentence'>A declaration of a block-scope variable with external or internal
linkage that has an <i ><a href='dcl.init#nt:initializer'>initializer</a></i> is ill-formed<a class='hidden_link' href='#dcl.init-5.sentence-1'>.</a></div></div><div class='para' id='dcl.init-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L3946'>#</a></div><div id='dcl.init-6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':initialization,static_object_'></a></span><span class='indexparent'><a class='index' id=':initialization,default'></a></span><span class='indexparent'><a class='index' id=':variable,indeterminate_uninitialized'></a></span><span class='indexparent'><a class='index' id=':initialization,zero-initialization'></a></span>To
<a class='hidden_link' href='#def:zero-initialization' id='def:zero-initialization'><i >zero-initialize</i></a>
an object or reference of type
<span class='texttt'>T</span>
means:</div><div id='dcl.init-6.sentence-2' class='sentence'><ul class='itemize'><li id='dcl.init-6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-6.1'>(6.1)</a></div><div id='dcl.init-6.1.sentence-1' class='sentence'>if
<span class='texttt'>T</span>
is a scalar type (<a href='basic.types'>[basic.types]</a>), the
object
is initialized to the value obtained by converting the integer literal <span class='texttt'>0</span>
(zero) to
<span class='texttt'>T</span>;<a class='footnotenum' href='#footnote-99'>99</a></div></li><li id='dcl.init-6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-6.2'>(6.2)</a></div><div id='dcl.init-6.2.sentence-1' class='sentence'>if
<span class='texttt'>T</span>
is a (possibly cv-qualified) non-union class type,
its padding bits (<a href='basic.types'>[basic.types]</a>) are initialized to zero bits and
each non-static data member,
each non-virtual base class subobject, and,
if the object is not a base class subobject,
each virtual base class subobject
is zero-initialized;</div></li><li id='dcl.init-6.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-6.3'>(6.3)</a></div><div id='dcl.init-6.3.sentence-1' class='sentence'>if
<span class='texttt'>T</span>
is a (possibly cv-qualified) union type,
its padding bits (<a href='basic.types'>[basic.types]</a>) are initialized to zero bits and
the
object's first non-static named
data member
is zero-initialized;</div></li><li id='dcl.init-6.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-6.4'>(6.4)</a></div><div id='dcl.init-6.4.sentence-1' class='sentence'>if
<span class='texttt'>T</span>
is an array type,
each element is zero-initialized;</div></li><li id='dcl.init-6.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-6.5'>(6.5)</a></div><div id='dcl.init-6.5.sentence-1' class='sentence'>if
<span class='texttt'>T</span>
is a reference type, no initialization is performed<a class='hidden_link' href='#dcl.init-6.5.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='dcl.init-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4003'>#</a></div><div id='dcl.init-7.sentence-1' class='sentence'>To
<a class='hidden_link' href='#def:default-initialization' id='def:default-initialization'><i >default-initialize</i></a>
an object of type
<span class='texttt'>T</span>
means:</div><div id='dcl.init-7.sentence-2' class='sentence'><ul class='itemize'><li id='dcl.init-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-7.1'>(7.1)</a></div><div id='dcl.init-7.1.sentence-1' class='sentence'>If
<span class='texttt'>T</span>
is a (possibly cv-qualified) class type (<a href='class'>[class]</a>),
constructors are considered<a class='hidden_link' href='#dcl.init-7.1.sentence-1'>.</a></div> <div id='dcl.init-7.1.sentence-2' class='sentence'>The applicable constructors are
enumerated (<a href='over.match.ctor'>[over.match.ctor]</a>), and the best one for the
<i ><a href='dcl.init#nt:initializer'>initializer</a></i> <span class='texttt'>()</span> is chosen through
overload resolution (<a href='over.match'>[over.match]</a>)<a class='hidden_link' href='#dcl.init-7.1.sentence-2'>.</a></div> <div id='dcl.init-7.1.sentence-3' class='sentence'>The constructor thus selected
is called, with an empty argument list, to initialize the object<a class='hidden_link' href='#dcl.init-7.1.sentence-3'>.</a></div></li><li id='dcl.init-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-7.2'>(7.2)</a></div><div id='dcl.init-7.2.sentence-1' class='sentence'>If
<span class='texttt'>T</span>
is an array type, each element is default-initialized<a class='hidden_link' href='#dcl.init-7.2.sentence-1'>.</a></div></li><li id='dcl.init-7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-7.3'>(7.3)</a></div><div id='dcl.init-7.3.sentence-1' class='sentence'>Otherwise,
no initialization is performed<a class='hidden_link' href='#dcl.init-7.3.sentence-1'>.</a></div></li></ul></div><div id='dcl.init-7.sentence-3' class='sentence'>A class type <span class='texttt'>T</span> is <a class='hidden_link' href='#def:const-default-constructible' id='def:const-default-constructible'><i >const-default-constructible</i></a> if
default-initialization of <span class='texttt'>T</span> would invoke
a user-provided constructor of <span class='texttt'>T</span> (not inherited from a base class)
or if</div><div id='dcl.init-7.sentence-4' class='sentence'><ul class='itemize'><li id='dcl.init-7.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-7.4'>(7.4)</a></div><div id='dcl.init-7.4.sentence-1' class='sentence'>each direct non-variant non-static data member <span class='texttt'>M</span> of <span class='texttt'>T</span>
has a default member initializer
or, if <span class='texttt'>M</span> is of class type <span class='texttt'>X</span> (or array thereof),
<span class='texttt'>X</span> is const-default-constructible,</div></li><li id='dcl.init-7.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-7.5'>(7.5)</a></div><div id='dcl.init-7.5.sentence-1' class='sentence'>if <span class='texttt'>T</span> is a union with at least one non-static data member,
exactly one variant member has a default member initializer,</div></li><li id='dcl.init-7.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-7.6'>(7.6)</a></div><div id='dcl.init-7.6.sentence-1' class='sentence'>if <span class='texttt'>T</span> is not a union,
for each anonymous union member with at least one non-static data member (if any),
exactly one non-static data member has a default member initializer, and</div></li><li id='dcl.init-7.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-7.7'>(7.7)</a></div><div id='dcl.init-7.7.sentence-1' class='sentence'>each potentially constructed base class of <span class='texttt'>T</span> is const-default-constructible<a class='hidden_link' href='#dcl.init-7.7.sentence-1'>.</a></div></li></ul></div><div id='dcl.init-7.sentence-5' class='sentence'>If a program calls for the default-initialization of an object of a
const-qualified type <span class='texttt'>T</span>,
<span class='texttt'>T</span> shall be a const-default-constructible class type or array thereof<a class='hidden_link' href='#dcl.init-7.sentence-5'>.</a></div></div><div class='para' id='dcl.init-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4057'>#</a></div><div id='dcl.init-8.sentence-1' class='sentence'>To
<a class='hidden_link' href='#def:value-initialization' id='def:value-initialization'><i >value-initialize</i></a>
an object of type
<span class='texttt'>T</span>
means:</div><div id='dcl.init-8.sentence-2' class='sentence'><ul class='itemize'><li id='dcl.init-8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-8.1'>(8.1)</a></div><div id='dcl.init-8.1.sentence-1' class='sentence'>if
<span class='texttt'>T</span>
is a (possibly cv-qualified) class type (<a href='class'>[class]</a>) with
either no default constructor (<a href='class.default.ctor'>[class.default.ctor]</a>) or a default
constructor that is user-provided or deleted, then the object is default-initialized;</div></li><li id='dcl.init-8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-8.2'>(8.2)</a></div><div id='dcl.init-8.2.sentence-1' class='sentence'>if
<span class='texttt'>T</span>
is a (possibly cv-qualified) class type without a
user-provided or deleted default constructor,
then the object is zero-initialized and the semantic constraints for
default-initialization are checked, and if <span class='texttt'>T</span> has a
non-trivial default constructor, the object is default-initialized;</div></li><li id='dcl.init-8.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-8.3'>(8.3)</a></div><div id='dcl.init-8.3.sentence-1' class='sentence'>if
<span class='texttt'>T</span>
is an array type, then each element is value-initialized;</div></li><li id='dcl.init-8.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-8.4'>(8.4)</a></div><div id='dcl.init-8.4.sentence-1' class='sentence'>otherwise, the object is zero-initialized<a class='hidden_link' href='#dcl.init-8.4.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='dcl.init-9'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4090'>#</a></div><div id='dcl.init-9.sentence-1' class='sentence'>A program that calls for default-initialization
or value-initialization
of an entity
of reference type is ill-formed<a class='hidden_link' href='#dcl.init-9.sentence-1'>.</a></div></div><div class='para' id='dcl.init-10'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4096'>#</a></div><div id='dcl.init-10.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init-10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init-10.sentence-1' class='sentence'>Every
object of static storage duration is
zero-initialized at program startup before any other initialization
takes place<a class='hidden_link' href='#dcl.init-10.sentence-1'>.</a></div> <div id='dcl.init-10.sentence-2' class='sentence'>In some cases, additional initialization is done later<a class='hidden_link' href='#dcl.init-10.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init-11'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4104'>#</a></div><div id='dcl.init-11.sentence-1' class='sentence'>An object whose initializer is an empty set of parentheses, i.e.,
<span class='texttt'>()</span>,
shall be
value-initialized<a class='hidden_link' href='#dcl.init-11.sentence-1'>.</a></div><div style='height:0.6em;display:block'></div><span class='indexparent'><a class='index' id=':ambiguity,function_declaration'></a></span><div id='dcl.init-11.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init-11.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init-11.sentence-2' class='sentence'>Since
<span class='texttt'>()</span>
is not permitted by the syntax for
<i ><a href='dcl.init#nt:initializer'>initializer</a></i>,</div><pre class='codeblock'>
X a();</pre><div id='dcl.init-11.sentence-3' class='sentence'>is not the declaration of an object of class
<span class='texttt'>X</span>,
but the declaration of a function taking no argument and returning an
<span class='texttt'>X</span><a class='hidden_link' href='#dcl.init-11.sentence-3'>.</a></div> <div id='dcl.init-11.sentence-4' class='sentence'>The form
<span class='texttt'>()</span>
is permitted in certain other initialization contexts (<a href='expr.new'>[expr.new]</a>,
<a href='expr.type.conv'>[expr.type.conv]</a>, <a href='class.base.init'>[class.base.init]</a>)<a class='hidden_link' href='#dcl.init-11.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init-12'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4131'>#</a></div><div id='dcl.init-12.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':value,indeterminate'></a></span><span class='indexparent'><a class='index' id=':indeterminate_value'></a></span>If no initializer is specified for an object, the object is default-initialized<a class='hidden_link' href='#dcl.init-12.sentence-1'>.</a></div> <div id='dcl.init-12.sentence-2' class='sentence'>When storage for an object with automatic or dynamic storage duration
is obtained, the object has an <a class='hidden_link' href='#def:indeterminate_value' id='def:indeterminate_value'><i>indeterminate value</i></a>, and if
no initialization is performed for the object, that object retains an
indeterminate value until that value is replaced (<a href='expr.ass'>[expr.ass]</a>)<a class='hidden_link' href='#dcl.init-12.sentence-2'>.</a></div> <div id='dcl.init-12.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init-12.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init-12.sentence-4' class='sentence'>Objects with static or thread storage duration are zero-initialized,
see <a href='basic.start.static'>[basic.start.static]</a><a class='hidden_link' href='#dcl.init-12.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.init-12.sentence-3' class='sentence'>
If an indeterminate value is produced by an evaluation, the behavior is
undefined except in the following cases:</div><div id='dcl.init-12.sentence-5' class='sentence'><ul class='itemize'><li id='dcl.init-12.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-12.1'>(12.1)</a></div><div id='dcl.init-12.1.sentence-1' class='sentence'>If an indeterminate value of
unsigned narrow character type (<a href='basic.fundamental'>[basic.fundamental]</a>)
or <span class='texttt'>std&#x200b;::&#x200b;byte</span> type (<a href='cstddef.syn'>[cstddef.syn]</a>)
is produced by the evaluation of:
<ul class='itemize'><li id='dcl.init-12.1.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init-12.1.1'>(12.1.1)</a></div><div id='dcl.init-12.1.1.sentence-1' class='sentence'>the second or third operand of a conditional expression (<a href='expr.cond'>[expr.cond]</a>),</div></li><li id='dcl.init-12.1.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init-12.1.2'>(12.1.2)</a></div><div id='dcl.init-12.1.2.sentence-1' class='sentence'>the right operand of a comma expression (<a href='expr.comma'>[expr.comma]</a>),</div></li><li id='dcl.init-12.1.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init-12.1.3'>(12.1.3)</a></div><div id='dcl.init-12.1.3.sentence-1' class='sentence'>the operand of a cast or conversion (<a href='conv.integral'>[conv.integral]</a>,
<a href='expr.type.conv'>[expr.type.conv]</a>, <a href='expr.static.cast'>[expr.static.cast]</a>, <a href='expr.cast'>[expr.cast]</a>) to an
unsigned narrow character type
or <span class='texttt'>std&#x200b;::&#x200b;byte</span> type (<a href='cstddef.syn'>[cstddef.syn]</a>), or</div></li><li id='dcl.init-12.1.4'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init-12.1.4'>(12.1.4)</a></div><div id='dcl.init-12.1.4.sentence-1' class='sentence'>a discarded-value expression (<a href='expr.prop'>[expr.prop]</a>),</div></li></ul>
then the result of the operation is an indeterminate value<a class='hidden_link' href='#dcl.init-12.1.sentence-1'>.</a></div></li><li id='dcl.init-12.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-12.2'>(12.2)</a></div><div id='dcl.init-12.2.sentence-1' class='sentence'>If an indeterminate value of
unsigned narrow character type
or <span class='texttt'>std&#x200b;::&#x200b;byte</span> type
is produced by the evaluation of the right
operand of a simple assignment operator (<a href='expr.ass'>[expr.ass]</a>) whose first operand
is an lvalue of
unsigned narrow character type
or <span class='texttt'>std&#x200b;::&#x200b;byte</span> type,
an indeterminate value replaces
the value of the object referred to by the left operand<a class='hidden_link' href='#dcl.init-12.2.sentence-1'>.</a></div></li><li id='dcl.init-12.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-12.3'>(12.3)</a></div><div id='dcl.init-12.3.sentence-1' class='sentence'>If an indeterminate value of unsigned narrow character type is produced by the
evaluation of the initialization expression when initializing an object of
unsigned narrow character type, that object is initialized to an indeterminate
value<a class='hidden_link' href='#dcl.init-12.3.sentence-1'>.</a></div></li><li id='dcl.init-12.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-12.4'>(12.4)</a></div><div id='dcl.init-12.4.sentence-1' class='sentence'>If an indeterminate value of
unsigned narrow character type
or <span class='texttt'>std&#x200b;::&#x200b;byte</span> type
is produced by the
evaluation of the initialization expression when initializing an object of
<span class='texttt'>std&#x200b;::&#x200b;byte</span> type, that object is initialized to an indeterminate
value<a class='hidden_link' href='#dcl.init-12.4.sentence-1'>.</a></div></li></ul></div> <div id='dcl.init-12.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init-12.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
  int f(bool b) {
    unsigned char c;
    unsigned char d = c;        <span class='comment'>// OK, <span class='tcode_in_codeblock'>d</span> has an indeterminate value
</span>    int e = d;                  <span class='comment'>// undefined behavior
</span>    return b ? d : 0;           <span class='comment'>// undefined behavior if <span class='tcode_in_codeblock'>b</span> is <span class='tcode_in_codeblock'>true</span>
</span>  }</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init-13'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4199'>#</a></div><div id='dcl.init-13.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':initialization,class_member'></a></span>An initializer for a static member is in the scope of the member's class<a class='hidden_link' href='#dcl.init-13.sentence-1'>.</a></div> <div id='dcl.init-13.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init-13.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int a;

struct X {
  static int a;
  static int b;
};

int X::a = 1;
int X::b = a;                   <span class='comment'>// <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;b = X&#x200b;::&#x200b;a</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init-14'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4216'>#</a></div><div id='dcl.init-14.sentence-1' class='sentence'>If the entity being initialized does not have class type, the
<i ><a href='expr.post#nt:expression-list'>expression-list</a></i> in a
parenthesized initializer shall be a single expression<a class='hidden_link' href='#dcl.init-14.sentence-1'>.</a></div></div><div class='para' id='dcl.init-15'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4221'>#</a></div><div id='dcl.init-15.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':initialization,copy'></a></span><span class='indexparent'><a class='index' id=':initialization,direct'></a></span>The initialization that occurs in the <span class='texttt'>=</span> form of a
<i ><a href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a></i> or
<i ><a href='stmt.stmt#nt:condition'>condition</a></i> (<a href='stmt.select'>[stmt.select]</a>),
as well as in argument passing, function return,
throwing an exception (<a href='except.throw'>[except.throw]</a>),
handling an exception (<a href='except.handle'>[except.handle]</a>),
and aggregate member initialization (<a href='#dcl.init.aggr'>[dcl.init.aggr]</a>),
is called
<a class='hidden_link' href='#def:copy-initialization' id='def:copy-initialization'><i >copy-initialization</i></a><a class='hidden_link' href='#dcl.init-15.sentence-1'>.</a></div> <div id='dcl.init-15.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init-15.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init-15.sentence-2' class='sentence'>Copy-initialization may invoke a move (<a href='class.copy.ctor'>[class.copy.ctor]</a>)<a class='hidden_link' href='#dcl.init-15.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init-16'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4237'>#</a></div><div id='dcl.init-16.sentence-1' class='sentence'>The initialization that occurs
<ul class='itemize'><li id='dcl.init-16.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-16.1'>(16.1)</a></div><div id='dcl.init-16.1.sentence-1' class='sentence'>for an <i ><a href='dcl.init#nt:initializer'>initializer</a></i> that is a
parenthesized <i ><a href='expr.post#nt:expression-list'>expression-list</a></i> or a <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>,</div></li><li id='dcl.init-16.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-16.2'>(16.2)</a></div><div id='dcl.init-16.2.sentence-1' class='sentence'>for a <i ><a href='expr.new#nt:new-initializer'>new-initializer</a></i>,</div></li><li id='dcl.init-16.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-16.3'>(16.3)</a></div><div id='dcl.init-16.3.sentence-1' class='sentence'>in a <span class='texttt'>static_&shy;cast</span> expression (<a href='expr.static.cast'>[expr.static.cast]</a>),</div></li><li id='dcl.init-16.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-16.4'>(16.4)</a></div><div id='dcl.init-16.4.sentence-1' class='sentence'>in a functional notation type conversion (<a href='expr.type.conv'>[expr.type.conv]</a>), and</div></li><li id='dcl.init-16.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-16.5'>(16.5)</a></div><div id='dcl.init-16.5.sentence-1' class='sentence'>in the <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i> form of a <i ><a href='stmt.stmt#nt:condition'>condition</a></i></div></li></ul>
is called
<a class='hidden_link' href='#def:direct-initialization' id='def:direct-initialization'><i >direct-initialization</i></a><a class='hidden_link' href='#dcl.init-16.sentence-1'>.</a></div></div><div class='para' id='dcl.init-17'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4250'>#</a></div><div id='dcl.init-17.sentence-1' class='sentence'>The semantics of initializers are as follows<a class='hidden_link' href='#dcl.init-17.sentence-1'>.</a></div> <div id='dcl.init-17.sentence-2' class='sentence'>The
<span class='indexparent'><a class='index' id=':type,destination'></a></span><a class='hidden_link' href='#def:destination_type' id='def:destination_type'><i>destination type</i></a>
is the type of the object or reference being initialized and the
<a class='hidden_link' href='#def:source_type' id='def:source_type'><i>source type</i></a>
is the type of the initializer expression<a class='hidden_link' href='#dcl.init-17.sentence-2'>.</a></div> <div id='dcl.init-17.sentence-3' class='sentence'>If the initializer is not a single (possibly parenthesized) expression, the
source type is not defined<a class='hidden_link' href='#dcl.init-17.sentence-3'>.</a></div> <div id='dcl.init-17.sentence-4' class='sentence'><ul class='itemize'><li id='dcl.init-17.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-17.1'>(17.1)</a></div><div id='dcl.init-17.1.sentence-1' class='sentence'>If the initializer is a (non-parenthesized) <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>
or is <span class='texttt'>=</span> <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>, the object or reference
is list-initialized (<a href='#dcl.init.list'>[dcl.init.list]</a>)<a class='hidden_link' href='#dcl.init-17.1.sentence-1'>.</a></div></li><li id='dcl.init-17.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-17.2'>(17.2)</a></div><div id='dcl.init-17.2.sentence-1' class='sentence'>If the destination type is a reference type, see <a href='#dcl.init.ref'>[dcl.init.ref]</a><a class='hidden_link' href='#dcl.init-17.2.sentence-1'>.</a></div></li><li id='dcl.init-17.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-17.3'>(17.3)</a></div><div id='dcl.init-17.3.sentence-1' class='sentence'>If the destination type is an array of characters,
an array of <span class='texttt'>char16_&shy;t</span>,
an array of <span class='texttt'>char32_&shy;t</span>,
or an array of
<span class='texttt'>wchar_&shy;t</span>,
and the initializer is a string literal, see <a href='#dcl.init.string'>[dcl.init.string]</a><a class='hidden_link' href='#dcl.init-17.3.sentence-1'>.</a></div></li><li id='dcl.init-17.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-17.4'>(17.4)</a></div><div id='dcl.init-17.4.sentence-1' class='sentence'>If the initializer is <span class='texttt'>()</span>, the object is value-initialized<a class='hidden_link' href='#dcl.init-17.4.sentence-1'>.</a></div></li><li id='dcl.init-17.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-17.5'>(17.5)</a></div><div id='dcl.init-17.5.sentence-1' class='sentence'>Otherwise, if the destination type is an array, the program is ill-formed<a class='hidden_link' href='#dcl.init-17.5.sentence-1'>.</a></div></li><li id='dcl.init-17.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-17.6'>(17.6)</a></div><div id='dcl.init-17.6.sentence-1' class='sentence'>If the destination type is a (possibly cv-qualified) class type:</div><div id='dcl.init-17.6.sentence-2' class='sentence'><ul class='itemize'><li id='dcl.init-17.6.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init-17.6.1'>(17.6.1)</a></div><div id='dcl.init-17.6.1.sentence-1' class='sentence'>If the initializer expression is a prvalue
and the cv-unqualified version of the source type
is the same class as the class of the destination,
the initializer expression is used to initialize the destination object<a class='hidden_link' href='#dcl.init-17.6.1.sentence-1'>.</a></div> <div id='dcl.init-17.6.1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init-17.6.1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='dcl.init-17.6.1.sentence-2' class='sentence'><span class='texttt'>T x = T(T(T()));</span> calls the <span class='texttt'>T</span> default constructor to initialize <span class='texttt'>x</span><a class='hidden_link' href='#dcl.init-17.6.1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='dcl.init-17.6.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init-17.6.2'>(17.6.2)</a></div><div id='dcl.init-17.6.2.sentence-1' class='sentence'>Otherwise, if the initialization is direct-initialization,
or if it is copy-initialization where the cv-unqualified version of the source
type is the same class as, or a derived class of, the class of the destination,
constructors are considered<a class='hidden_link' href='#dcl.init-17.6.2.sentence-1'>.</a></div> <div id='dcl.init-17.6.2.sentence-2' class='sentence'>The applicable constructors
are enumerated (<a href='over.match.ctor'>[over.match.ctor]</a>), and the best one is chosen
through overload resolution (<a href='over.match'>[over.match]</a>)<a class='hidden_link' href='#dcl.init-17.6.2.sentence-2'>.</a></div> <div id='dcl.init-17.6.2.sentence-3' class='sentence'>The constructor so selected
is called to initialize the object, with the initializer
expression or <i ><a href='expr.post#nt:expression-list'>expression-list</a></i> as its argument(s)<a class='hidden_link' href='#dcl.init-17.6.2.sentence-3'>.</a></div> <div id='dcl.init-17.6.2.sentence-4' class='sentence'>If no constructor applies, or the overload resolution is
ambiguous, the initialization is ill-formed<a class='hidden_link' href='#dcl.init-17.6.2.sentence-4'>.</a></div></li><li id='dcl.init-17.6.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init-17.6.3'>(17.6.3)</a></div><div id='dcl.init-17.6.3.sentence-1' class='sentence'>Otherwise (i.e., for the remaining copy-initialization cases),
user-defined conversions that can convert from the
source type to the destination type or (when a conversion function
is used) to a derived class thereof are enumerated as described in <a href='over.match.copy'>[over.match.copy]</a>,
and the best one is chosen through overload resolution (<a href='over.match'>[over.match]</a>)<a class='hidden_link' href='#dcl.init-17.6.3.sentence-1'>.</a></div> <div id='dcl.init-17.6.3.sentence-2' class='sentence'>If the conversion cannot be done or
is ambiguous, the initialization is ill-formed<a class='hidden_link' href='#dcl.init-17.6.3.sentence-2'>.</a></div> <div id='dcl.init-17.6.3.sentence-3' class='sentence'>The function
selected is called with the initializer expression as its
argument; if the function is a constructor, the call is a prvalue
of the cv-unqualified version of the
destination type whose result object is initialized by the constructor<a class='hidden_link' href='#dcl.init-17.6.3.sentence-3'>.</a></div> <div id='dcl.init-17.6.3.sentence-4' class='sentence'>The call is used
to direct-initialize, according to the rules above, the object
that is the destination of the copy-initialization<a class='hidden_link' href='#dcl.init-17.6.3.sentence-4'>.</a></div></li></ul></div></li><li id='dcl.init-17.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-17.7'>(17.7)</a></div><div id='dcl.init-17.7.sentence-1' class='sentence'>Otherwise, if the source type
is a (possibly cv-qualified) class type, conversion functions are
considered<a class='hidden_link' href='#dcl.init-17.7.sentence-1'>.</a></div> <div id='dcl.init-17.7.sentence-2' class='sentence'>The applicable conversion functions are enumerated (<a href='over.match.conv'>[over.match.conv]</a>),
and the best one is chosen through overload
resolution (<a href='over.match'>[over.match]</a>)<a class='hidden_link' href='#dcl.init-17.7.sentence-2'>.</a></div> <div id='dcl.init-17.7.sentence-3' class='sentence'>The user-defined conversion so selected
is called to convert the initializer expression into the
object being initialized<a class='hidden_link' href='#dcl.init-17.7.sentence-3'>.</a></div> <div id='dcl.init-17.7.sentence-4' class='sentence'>If the conversion cannot be done or is
ambiguous, the initialization is ill-formed<a class='hidden_link' href='#dcl.init-17.7.sentence-4'>.</a></div></li><li id='dcl.init-17.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-17.8'>(17.8)</a></div><div id='dcl.init-17.8.sentence-1' class='sentence'>Otherwise, the initial value of the object being initialized is
the (possibly converted) value of the initializer expression<a class='hidden_link' href='#dcl.init-17.8.sentence-1'>.</a></div> <div id='dcl.init-17.8.sentence-2' class='sentence'>Standard conversions (<a href='conv'>[conv]</a>) will be used, if necessary,
to convert the initializer expression to the cv-unqualified version of
the destination type;
no user-defined conversions are considered<a class='hidden_link' href='#dcl.init-17.8.sentence-2'>.</a></div> <div id='dcl.init-17.8.sentence-3' class='sentence'>If the conversion cannot
be done, the initialization is ill-formed<a class='hidden_link' href='#dcl.init-17.8.sentence-3'>.</a></div> <div id='dcl.init-17.8.sentence-4' class='sentence'>When initializing a bit-field with a value that it cannot represent, the
resulting value of the bit-field is
<span class='indexparent'><a class='index' id=':value_of_bit-field_that_cannot_represent,initializer'></a></span>implementation-defined<a class='hidden_link' href='#dcl.init-17.8.sentence-4'>.</a></div> <span class='indexparent'><a class='index' id=':initialization,const_'></a></span><div id='dcl.init-17.8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init-17.8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init-17.8.sentence-5' class='sentence'>An expression of type
“<span class='textit'>cv1</span> <span class='texttt'>T</span>”
can initialize an object of type
“<span class='textit'>cv2</span> <span class='texttt'>T</span>”
independently of
the cv-qualifiers
<span class='textit'>cv1</span>
and <span class='textit'>cv2</span><a class='hidden_link' href='#dcl.init-17.8.sentence-5'>.</a></div><pre class='codeblock'>
int a;
const int b = a;
int c = b;</pre> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </li></ul></div></div><div class='para' id='dcl.init-18'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4362'>#</a></div><div id='dcl.init-18.sentence-1' class='sentence'>An <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i> followed by an ellipsis is a
pack expansion (<a href='temp.variadic'>[temp.variadic]</a>)<a class='hidden_link' href='#dcl.init-18.sentence-1'>.</a></div></div><div class='para' id='dcl.init-19'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4366'>#</a></div><div id='dcl.init-19.sentence-1' class='sentence'>If the initializer is a parenthesized <i ><a href='expr.post#nt:expression-list'>expression-list</a></i>,
the expressions are evaluated in the order
specified for function calls (<a href='expr.call'>[expr.call]</a>)<a class='hidden_link' href='#dcl.init-19.sentence-1'>.</a></div></div><div class='para' id='dcl.init-20'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4371'>#</a></div><div id='dcl.init-20.sentence-1' class='sentence'>The same <i ><a href='lex.name#nt:identifier'>identifier</a></i>
shall not appear in multiple <i ><a href='dcl.init#nt:designator'>designator</a></i><span class='textit'>s</span> of a
<i ><a href='dcl.init#nt:designated-initializer-list'>designated-initializer-list</a></i><a class='hidden_link' href='#dcl.init-20.sentence-1'>.</a></div></div><div class='para' id='dcl.init-21'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-21'>21</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4376'>#</a></div><div id='dcl.init-21.sentence-1' class='sentence'>An object whose initialization has completed
is deemed to be constructed,
even if no constructor of the object's class
is invoked for the initialization<a class='hidden_link' href='#dcl.init-21.sentence-1'>.</a></div> <div id='dcl.init-21.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init-21.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init-21.sentence-2' class='sentence'>Such an object might have been value-initialized
or initialized by aggregate initialization (<a href='#dcl.init.aggr'>[dcl.init.aggr]</a>)
or by an inherited constructor (<a href='class.inhctor.init'>[class.inhctor.init]</a>)<a class='hidden_link' href='#dcl.init-21.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init-22'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-22'>22</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4387'>#</a></div><div id='dcl.init-22.sentence-1' class='sentence'>A declaration that specifies the initialization of a variable,
whether from an explicit initializer or by default-initialization,
is called the <a class='hidden_link' href='#def:initializing_declaration' id='def:initializing_declaration'><i >initializing declaration</i></a> of that variable<a class='hidden_link' href='#dcl.init-22.sentence-1'>.</a></div> <div id='dcl.init-22.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init-22.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init-22.sentence-2' class='sentence'>In most cases
this is the defining declaration (<a href='basic.def'>[basic.def]</a>) of the variable,
but the initializing declaration
of a non-inline static data member (<a href='class.static.data'>[class.static.data]</a>)
might be the declaration within the class definition
and not the definition at namespace scope<a class='hidden_link' href='#dcl.init-22.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-99'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-99'>99)</a></div><div id='footnote-99.sentence-1' class='sentence'>As specified in <a href='conv.ptr'>[conv.ptr]</a>, converting an integer
literal whose value is
<span class='texttt'>0</span>
to a pointer type results in a null pointer value<a class='hidden_link' href='#footnote-99.sentence-1'>.</a></div></div><div id='dcl.init.aggr' class='section'><h3 ><a class='secnum' href='#dcl.init.aggr' style='min-width:103pt'>9.3.1</a> Aggregates <a class='abbr_ref' href='dcl.init.aggr'>[dcl.init.aggr]</a></h3><span class='indexparent'><a class='index' id=':aggregate'></a></span><span class='indexparent'><a class='index' id=':initialization,aggregate'></a></span><span class='indexparent'><a class='index' id=':aggregate_initialization'></a></span><span class='indexparent'><a class='index' id=':initialization,array'></a></span><span class='indexparent'><a class='index' id=':initialization,class_object'></a></span><span class='indexparent'><a class='index' id=':{},initializer_list'></a></span><div class='para' id='dcl.init.aggr-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4409'>#</a></div><div id='dcl.init.aggr-1.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:aggregate_' id='def:aggregate_'><i >aggregate</i></a> is an array or a class (<a href='class'>[class]</a>) with
<ul class='itemize'><li id='dcl.init.aggr-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-1.1'>(1.1)</a></div><div id='dcl.init.aggr-1.1.sentence-1' class='sentence'>no user-declared or inherited constructors (<a href='class.ctor'>[class.ctor]</a>),</div></li><li id='dcl.init.aggr-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-1.2'>(1.2)</a></div><div id='dcl.init.aggr-1.2.sentence-1' class='sentence'>no private or protected non-static data members (<a href='class.access'>[class.access]</a>),</div></li><li id='dcl.init.aggr-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-1.3'>(1.3)</a></div><div id='dcl.init.aggr-1.3.sentence-1' class='sentence'>no virtual functions (<a href='class.virtual'>[class.virtual]</a>), and</div></li><li id='dcl.init.aggr-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-1.4'>(1.4)</a></div><div id='dcl.init.aggr-1.4.sentence-1' class='sentence'>no virtual, private, or protected base classes (<a href='class.mi'>[class.mi]</a>)<a class='hidden_link' href='#dcl.init.aggr-1.4.sentence-1'>.</a></div></li></ul></div> <div id='dcl.init.aggr-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init.aggr-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init.aggr-1.sentence-2' class='sentence'>Aggregate initialization does not allow accessing
protected and private base class' members or constructors<a class='hidden_link' href='#dcl.init.aggr-1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.aggr-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4426'>#</a></div><div id='dcl.init.aggr-2.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:aggregate,elements' id='def:aggregate,elements'><i >elements</i></a> of an aggregate are:
<ul class='itemize'><li id='dcl.init.aggr-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-2.1'>(2.1)</a></div><div id='dcl.init.aggr-2.1.sentence-1' class='sentence'>for an array, the array elements in increasing subscript order, or</div></li><li id='dcl.init.aggr-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-2.2'>(2.2)</a></div><div id='dcl.init.aggr-2.2.sentence-1' class='sentence'>for a class, the direct base classes in declaration order,
followed by the direct non-static data members (<a href='class.mem'>[class.mem]</a>)
that are not members of an anonymous union, in declaration order<a class='hidden_link' href='#dcl.init.aggr-2.2.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='dcl.init.aggr-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4437'>#</a></div><div id='dcl.init.aggr-3.sentence-1' class='sentence'>When an aggregate is initialized by an initializer list
as specified in <a href='#dcl.init.list'>[dcl.init.list]</a>,
the elements of the initializer list are taken as initializers
for the elements of the aggregate<a class='hidden_link' href='#dcl.init.aggr-3.sentence-1'>.</a></div> <div id='dcl.init.aggr-3.sentence-2' class='sentence'>The <a class='hidden_link' href='#def:explicitly_initialized_elements,aggregate' id='def:explicitly_initialized_elements,aggregate'><i >explicitly initialized elements</i></a>
of the aggregate are determined as follows:
<ul class='itemize'><li id='dcl.init.aggr-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-3.1'>(3.1)</a></div><div id='dcl.init.aggr-3.1.sentence-1' class='sentence'>If the initializer list is a <i ><a href='dcl.init#nt:designated-initializer-list'>designated-initializer-list</a></i>,
the aggregate shall be of class type,
the <i ><a href='lex.name#nt:identifier'>identifier</a></i> in each <i ><a href='dcl.init#nt:designator'>designator</a></i>
shall name a direct non-static data member of the class, and
the explicitly initialized elements of the aggregate
are the elements that are, or contain, those members<a class='hidden_link' href='#dcl.init.aggr-3.1.sentence-1'>.</a></div></li><li id='dcl.init.aggr-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-3.2'>(3.2)</a></div><div id='dcl.init.aggr-3.2.sentence-1' class='sentence'>If the initializer list is an <i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>,
the explicitly initialized elements of the aggregate
are the first <span class='math'><span class='mathalpha'>n</span></span> elements of the aggregate,
where <span class='math'><span class='mathalpha'>n</span></span> is the number of elements in the initializer list<a class='hidden_link' href='#dcl.init.aggr-3.2.sentence-1'>.</a></div></li><li id='dcl.init.aggr-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-3.3'>(3.3)</a></div><div id='dcl.init.aggr-3.3.sentence-1' class='sentence'>Otherwise, the initializer list must be <span class='texttt'>{}</span>,
and there are no explicitly initialized elements<a class='hidden_link' href='#dcl.init.aggr-3.3.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='dcl.init.aggr-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4462'>#</a></div><div id='dcl.init.aggr-4.sentence-1' class='sentence'>For each explicitly initialized element:
<ul class='itemize'><li id='dcl.init.aggr-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-4.1'>(4.1)</a></div><div id='dcl.init.aggr-4.1.sentence-1' class='sentence'>If the element is an anonymous union object and
the initializer list is a <i ><a href='dcl.init#nt:designated-initializer-list'>designated-initializer-list</a></i>,
the anonymous union object is initialized by the
<i ><a href='dcl.init#nt:designated-initializer-list'>designated-initializer-list</a></i> <span class='texttt'>{ </span><span class='textit'>D</span><span class='texttt'> }</span>,
where <span class='textit'>D</span> is the <i ><a href='dcl.init#nt:designated-initializer-clause'>designated-initializer-clause</a></i>
naming a member of the anonymous union object<a class='hidden_link' href='#dcl.init.aggr-4.1.sentence-1'>.</a></div> <div id='dcl.init.aggr-4.1.sentence-2' class='sentence'>There shall be only one such <i ><a href='dcl.init#nt:designated-initializer-clause'>designated-initializer-clause</a></i><a class='hidden_link' href='#dcl.init.aggr-4.1.sentence-2'>.</a></div></li><li id='dcl.init.aggr-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-4.2'>(4.2)</a></div><div id='dcl.init.aggr-4.2.sentence-1' class='sentence'>Otherwise, the element is copy-initialized
from the corresponding <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
or is initialized with the <i ><a href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a></i>
of the corresponding <i ><a href='dcl.init#nt:designated-initializer-clause'>designated-initializer-clause</a></i><a class='hidden_link' href='#dcl.init.aggr-4.2.sentence-1'>.</a></div> <div id='dcl.init.aggr-4.2.sentence-2' class='sentence'>If that initializer is of the form
<i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i> or
<span class='texttt'>= </span><i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i>
and
a narrowing conversion (<a href='#dcl.init.list'>[dcl.init.list]</a>) is required
to convert the expression, the program is ill-formed<a class='hidden_link' href='#dcl.init.aggr-4.2.sentence-2'>.</a></div> <div id='dcl.init.aggr-4.2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init.aggr-4.2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init.aggr-4.2.sentence-3' class='sentence'>If an initializer is itself an initializer list,
the element is list-initialized, which will result in a recursive application
of the rules in this subclause if the element is an aggregate<a class='hidden_link' href='#dcl.init.aggr-4.2.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </li></ul>
<div id='dcl.init.aggr-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.aggr-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A {
  int x;
  struct B {
    int i;
    int j;
  } b;
} a = { 1, { 2, 3 } };</pre> <div id='dcl.init.aggr-4.sentence-2' class='sentence'>
initializes
<span class='texttt'>a.x</span>
with 1,
<span class='texttt'>a.b.i</span>
with 2,
<span class='texttt'>a.b.j</span>
with 3<a class='hidden_link' href='#dcl.init.aggr-4.sentence-2'>.</a></div><pre class='codeblock'>
struct base1 { int b1, b2 = 42; };
struct base2 {
  base2() {
    b3 = 42;
  }
  int b3;
};
struct derived : base1, base2 {
  int d;
};

derived d1{{1, 2}, {}, 4};
derived d2{{}, {}, 4};</pre> <div id='dcl.init.aggr-4.sentence-3' class='sentence'>
initializes
<span class='texttt'>d1.b1</span> with 1,
<span class='texttt'>d1.b2</span> with 2,
<span class='texttt'>d1.b3</span> with 42,
<span class='texttt'>d1.d</span> with 4, and
<span class='texttt'>d2.b1</span> with 0,
<span class='texttt'>d2.b2</span> with 42,
<span class='texttt'>d2.b3</span> with 42,
<span class='texttt'>d2.d</span> with 4<a class='hidden_link' href='#dcl.init.aggr-4.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div class='para' id='dcl.init.aggr-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4532'>#</a></div><div id='dcl.init.aggr-5.sentence-1' class='sentence'>For a non-union aggregate,
each element that is not an explicitly initialized element
is initialized as follows:
<ul class='itemize'><li id='dcl.init.aggr-5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-5.1'>(5.1)</a></div><div id='dcl.init.aggr-5.1.sentence-1' class='sentence'>If the element has a default member initializer (<a href='class.mem'>[class.mem]</a>),
the element is initialized from that initializer<a class='hidden_link' href='#dcl.init.aggr-5.1.sentence-1'>.</a></div></li><li id='dcl.init.aggr-5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-5.2'>(5.2)</a></div><div id='dcl.init.aggr-5.2.sentence-1' class='sentence'>Otherwise, if the element is not a reference, the element
is copy-initialized from an empty initializer list (<a href='#dcl.init.list'>[dcl.init.list]</a>)<a class='hidden_link' href='#dcl.init.aggr-5.2.sentence-1'>.</a></div></li><li id='dcl.init.aggr-5.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-5.3'>(5.3)</a></div><div id='dcl.init.aggr-5.3.sentence-1' class='sentence'>Otherwise, the program is ill-formed<a class='hidden_link' href='#dcl.init.aggr-5.3.sentence-1'>.</a></div></li></ul></div> <div id='dcl.init.aggr-5.sentence-2' class='sentence'>
If the aggregate is a union and the initializer list is empty, then
<ul class='itemize'><li id='dcl.init.aggr-5.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-5.4'>(5.4)</a></div><div id='dcl.init.aggr-5.4.sentence-1' class='sentence'>if any variant member has a default member initializer,
that member is initialized from its default member initializer;</div></li><li id='dcl.init.aggr-5.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-5.5'>(5.5)</a></div><div id='dcl.init.aggr-5.5.sentence-1' class='sentence'>otherwise, the first member of the union (if any)
is copy-initialized from an empty initializer list<a class='hidden_link' href='#dcl.init.aggr-5.5.sentence-1'>.</a></div></li></ul></div> <div id='dcl.init.aggr-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.aggr-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S { int a; const char* b; int c; int d = b[a]; };
S ss = { 1, "asdf" };</pre><div id='dcl.init.aggr-5.sentence-3' class='sentence'>initializes
<span class='texttt'>ss.a</span>
with 1,
<span class='texttt'>ss.b</span>
with <span class='texttt'>"asdf"</span>,
<span class='texttt'>ss.c</span>
with the value of an expression of the form
<span class='texttt'>int{}</span>
(that is, <span class='texttt'>0</span>), and <span class='texttt'>ss.d</span> with the value of <span class='texttt'>ss.b[ss.a]</span>
(that is, <span class='texttt'>'s'</span>), and in</div><pre class='codeblock'>
struct X { int i, j, k = 42; };
X a[] = { 1, 2, 3, 4, 5, 6 };
X b[2] = { { 1, 2, 3 }, { 4, 5, 6 } };</pre><div id='dcl.init.aggr-5.sentence-4' class='sentence'><span class='texttt'>a</span> and <span class='texttt'>b</span> have the same value</div><pre class='codeblock'>
struct A {
  string a;
  int b = 42;
  int c = -1;
};</pre><div id='dcl.init.aggr-5.sentence-5' class='sentence'><span class='texttt'>A{.c=21}</span> has the following steps:
<ul class='itemize'><li ><div id='dcl.init.aggr-5.sentence-1' class='sentence'>Initialize <span class='texttt'>a</span> with <span class='texttt'>{}</span></div></li><li ><div id='dcl.init.aggr-5.sentence-1' class='sentence'>Initialize <span class='texttt'>b</span> with <span class='texttt'>= 42</span></div></li><li ><div id='dcl.init.aggr-5.sentence-1' class='sentence'>Initialize <span class='texttt'>c</span> with <span class='texttt'>= 21</span></div></li></ul></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.aggr-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4597'>#</a></div><div id='dcl.init.aggr-6.sentence-1' class='sentence'>The initializations of the elements of the aggregate
are evaluated in the element order<a class='hidden_link' href='#dcl.init.aggr-6.sentence-1'>.</a></div> <div id='dcl.init.aggr-6.sentence-2' class='sentence'>That is,
all value computations and side effects associated with a given element
are sequenced before
those of any element that follows it in order<a class='hidden_link' href='#dcl.init.aggr-6.sentence-2'>.</a></div></div><div class='para' id='dcl.init.aggr-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4605'>#</a></div><div id='dcl.init.aggr-7.sentence-1' class='sentence'>An aggregate that is a class can also be initialized with a single
expression not enclosed in braces, as described in <a href='#dcl.init'>[dcl.init]</a><a class='hidden_link' href='#dcl.init.aggr-7.sentence-1'>.</a></div></div><div class='para' id='dcl.init.aggr-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4609'>#</a></div><div id='dcl.init.aggr-8.sentence-1' class='sentence'>The destructor for each element of class type
is potentially invoked (<a href='class.dtor'>[class.dtor]</a>)
from the context where the aggregate initialization occurs<a class='hidden_link' href='#dcl.init.aggr-8.sentence-1'>.</a></div> <div id='dcl.init.aggr-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init.aggr-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init.aggr-8.sentence-2' class='sentence'>This provision ensures that destructors can be called
for fully-constructed subobjects
in case an exception is thrown (<a href='except.ctor'>[except.ctor]</a>)<a class='hidden_link' href='#dcl.init.aggr-8.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.aggr-9'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4619'>#</a></div><div id='dcl.init.aggr-9.sentence-1' class='sentence'>An array of unknown bound initialized with a
brace-enclosed
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>
containing
<span class='texttt'>n</span>
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i><span class='textit'>s</span>,
where
<span class='texttt'>n</span>
shall be greater than zero, is defined as having
<span class='texttt'>n</span>
elements (<a href='#dcl.array'>[dcl.array]</a>)<a class='hidden_link' href='#dcl.init.aggr-9.sentence-1'>.</a></div> <div id='dcl.init.aggr-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.aggr-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int x[] = { 1, 3, 5 };</pre><div id='dcl.init.aggr-9.sentence-3' class='sentence'>declares and initializes
<span class='texttt'>x</span>
as a one-dimensional array that has three elements
since no size was specified and there are three initializers<a class='hidden_link' href='#dcl.init.aggr-9.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.init.aggr-9.sentence-2' class='sentence'>
An empty initializer list
<span class='texttt'>{}</span>
shall not be used as the <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
for an array of unknown bound<a class='hidden_link' href='#dcl.init.aggr-9.sentence-2'>.</a><a class='footnotenum' href='#footnote-100'>100</a></div> <div id='dcl.init.aggr-9.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init.aggr-9.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init.aggr-9.sentence-4' class='sentence'>A default member initializer does not determine the bound for a member
array of unknown bound<a class='hidden_link' href='#dcl.init.aggr-9.sentence-4'>.</a></div> <div id='dcl.init.aggr-9.sentence-5' class='sentence'>Since the default member initializer is
ignored if a suitable <i ><a href='class.base.init#nt:mem-initializer'>mem-initializer</a></i> is present (<a href='class.base.init'>[class.base.init]</a>),
the default member initializer is not
considered to initialize the array of unknown bound<a class='hidden_link' href='#dcl.init.aggr-9.sentence-5'>.</a></div> <div id='dcl.init.aggr-9.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.aggr-9.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S {
  int y[] = { 0 };          <span class='comment'>// error: non-static data member of incomplete type
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.aggr-10'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4663'>#</a></div><div id='dcl.init.aggr-10.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init.aggr-10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init.aggr-10.sentence-1' class='sentence'>Static data members,
non-static data members of anonymous union members,
and
unnamed bit-fields
are not considered elements of the aggregate<a class='hidden_link' href='#dcl.init.aggr-10.sentence-1'>.</a></div> <div id='dcl.init.aggr-10.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.aggr-10.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A {
  int i;
  static int s;
  int j;
  int :17;
  int k;
} a = { 1, 2, 3 };</pre><div id='dcl.init.aggr-10.sentence-2' class='sentence'>Here, the second initializer 2 initializes
<span class='texttt'>a.j</span>
and not the static data member
<span class='texttt'>A&#x200b;::&#x200b;s</span>, and the third initializer 3 initializes <span class='texttt'>a.k</span>
and not the unnamed bit-field before it<a class='hidden_link' href='#dcl.init.aggr-10.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.aggr-11'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4690'>#</a></div><div id='dcl.init.aggr-11.sentence-1' class='sentence'>An
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>
is ill-formed if the number of
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i><span class='textit'>s</span>
exceeds the number of elements of the aggregate<a class='hidden_link' href='#dcl.init.aggr-11.sentence-1'>.</a></div> <div id='dcl.init.aggr-11.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.aggr-11.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
char cv[4] = { 'a', 's', 'd', 'f', 0 };     <span class='comment'>// error
</span></pre><div id='dcl.init.aggr-11.sentence-2' class='sentence'>is ill-formed<a class='hidden_link' href='#dcl.init.aggr-11.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.aggr-12'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4705'>#</a></div><div id='dcl.init.aggr-12.sentence-1' class='sentence'>If a reference member is initialized from its default member initializer
and a potentially-evaluated subexpression thereof is an aggregate
initialization that would use that default member initializer,
the program is ill-formed<a class='hidden_link' href='#dcl.init.aggr-12.sentence-1'>.</a></div> <div id='dcl.init.aggr-12.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.aggr-12.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
  struct A;
  extern A a;
  struct A {
    const A&amp; a1 { A{a,a} };     <span class='comment'>// OK
</span>    const A&amp; a2 { A{} };        <span class='comment'>// error
</span>  };
  A a{a,a};                     <span class='comment'>// OK
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.aggr-13'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4722'>#</a></div><div id='dcl.init.aggr-13.sentence-1' class='sentence'>If an aggregate class <span class='texttt'>C</span> contains a subaggregate element
<span class='texttt'>e</span> with no elements,
the <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i> for <span class='texttt'>e</span> shall not be
omitted from an <i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i> for an object of type
<span class='texttt'>C</span> unless the <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i><span class='textit'>s</span> for all
elements of <span class='texttt'>C</span> following <span class='texttt'>e</span> are also omitted<a class='hidden_link' href='#dcl.init.aggr-13.sentence-1'>.</a></div> <div id='dcl.init.aggr-13.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.aggr-13.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S { } s;
struct A {
  S s1;
  int i1;
  S s2;
  int i2;
  S s3;
  int i3;
} a = {
  { },              <span class='comment'>// Required initialization
</span>  0,
  s,                <span class='comment'>// Required initialization
</span>  0
};                  <span class='comment'>// Initialization not required for <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;s3</span> because <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;i3</span> is also not initialized
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.aggr-14'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4748'>#</a></div><div id='dcl.init.aggr-14.sentence-1' class='sentence'>When initializing a multi-dimensional array,
the
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i><span class='textit'>s</span>
initialize the elements with the last (rightmost) index of the array
varying the fastest (<a href='#dcl.array'>[dcl.array]</a>)<a class='hidden_link' href='#dcl.init.aggr-14.sentence-1'>.</a></div> <div id='dcl.init.aggr-14.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.aggr-14.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int x[2][2] = { 3, 1, 4, 2 };</pre><div id='dcl.init.aggr-14.sentence-2' class='sentence'>initializes
<span class='texttt'>x[0][0]</span>
to
<span class='texttt'>3</span>,
<span class='texttt'>x[0][1]</span>
to
<span class='texttt'>1</span>,
<span class='texttt'>x[1][0]</span>
to
<span class='texttt'>4</span>,
and
<span class='texttt'>x[1][1]</span>
to
<span class='texttt'>2</span><a class='hidden_link' href='#dcl.init.aggr-14.sentence-2'>.</a></div> <div id='dcl.init.aggr-14.sentence-3' class='sentence'>On the other hand,</div><pre class='codeblock'>
float y[4][3] = {
  { 1 }, { 2 }, { 3 }, { 4 }
};</pre><div id='dcl.init.aggr-14.sentence-4' class='sentence'>initializes the first column of
<span class='texttt'>y</span>
(regarded as a two-dimensional array)
and leaves the rest zero<a class='hidden_link' href='#dcl.init.aggr-14.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.aggr-15'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4788'>#</a></div><div id='dcl.init.aggr-15.sentence-1' class='sentence'>Braces can be elided in an
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>
as follows<a class='hidden_link' href='#dcl.init.aggr-15.sentence-1'>.</a></div> <div id='dcl.init.aggr-15.sentence-2' class='sentence'>If the
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>
begins with a left brace,
then the succeeding comma-separated list of
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i><span class='textit'>s</span>
initializes the elements of a subaggregate;
it is erroneous for there to be more
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i><span class='textit'>s</span>
than elements<a class='hidden_link' href='#dcl.init.aggr-15.sentence-2'>.</a></div> <div id='dcl.init.aggr-15.sentence-3' class='sentence'>If, however, the
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>
for a subaggregate does not begin with a left brace,
then only enough
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i><span class='textit'>s</span>
from the list are taken to initialize the elements of the subaggregate;
any remaining
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i><span class='textit'>s</span>
are left to initialize the next element of the aggregate
of which the current subaggregate is an element<a class='hidden_link' href='#dcl.init.aggr-15.sentence-3'>.</a></div> <div id='dcl.init.aggr-15.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.aggr-15.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
float y[4][3] = {
  { 1, 3, 5 },
  { 2, 4, 6 },
  { 3, 5, 7 },
};</pre><div id='dcl.init.aggr-15.sentence-4' class='sentence'>is a completely-braced initialization:
1, 3, and 5 initialize the first row of the array
<span class='texttt'>y[0]</span>,
namely
<span class='texttt'>y[0][0]</span>,
<span class='texttt'>y[0][1]</span>,
and
<span class='texttt'>y[0][2]</span><a class='hidden_link' href='#dcl.init.aggr-15.sentence-4'>.</a></div> <div id='dcl.init.aggr-15.sentence-5' class='sentence'>Likewise the next two lines initialize
<span class='texttt'>y[1]</span>
and
<span class='texttt'>y[2]</span><a class='hidden_link' href='#dcl.init.aggr-15.sentence-5'>.</a></div> <div id='dcl.init.aggr-15.sentence-6' class='sentence'>The initializer ends early and therefore
<span class='texttt'>y[3]</span>s
elements are initialized as if explicitly initialized with an
expression of the form
<span class='texttt'>float()</span>,
that is, are initialized with
<span class='texttt'>0.0</span><a class='hidden_link' href='#dcl.init.aggr-15.sentence-6'>.</a></div> <div id='dcl.init.aggr-15.sentence-7' class='sentence'>In the following example, braces in the
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>
are elided;
however the
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>
has the same effect as the completely-braced
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>
of the above example,</div><pre class='codeblock'>
float y[4][3] = {
  1, 3, 5, 2, 4, 6, 3, 5, 7
};</pre><div id='dcl.init.aggr-15.sentence-8' class='sentence'>The initializer for
<span class='texttt'>y</span>
begins with a left brace, but the one for
<span class='texttt'>y[0]</span>
does not,
therefore three elements from the list are used<a class='hidden_link' href='#dcl.init.aggr-15.sentence-8'>.</a></div> <div id='dcl.init.aggr-15.sentence-9' class='sentence'>Likewise the next three are taken successively for
<span class='texttt'>y[1]</span>
and
<span class='texttt'>y[2]</span><a class='hidden_link' href='#dcl.init.aggr-15.sentence-9'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.aggr-16'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4867'>#</a></div><div id='dcl.init.aggr-16.sentence-1' class='sentence'>All implicit type conversions (<a href='conv'>[conv]</a>) are considered when
initializing the element with an <i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i><a class='hidden_link' href='#dcl.init.aggr-16.sentence-1'>.</a></div> <div id='dcl.init.aggr-16.sentence-2' class='sentence'>If the
<i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i>
can initialize an element, the element is initialized<a class='hidden_link' href='#dcl.init.aggr-16.sentence-2'>.</a></div> <div id='dcl.init.aggr-16.sentence-3' class='sentence'>Otherwise, if the element is itself a subaggregate,
brace elision is assumed and the
<i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i>
is considered for the initialization of the first element of the subaggregate<a class='hidden_link' href='#dcl.init.aggr-16.sentence-3'>.</a></div> <div id='dcl.init.aggr-16.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init.aggr-16.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init.aggr-16.sentence-4' class='sentence'>As specified above, brace elision cannot apply to
subaggregates with no elements; an
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i> for the entire subobject is
required<a class='hidden_link' href='#dcl.init.aggr-16.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> <div id='dcl.init.aggr-16.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.aggr-16.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A {
  int i;
  operator int();
};
struct B {
  A a1, a2;
  int z;
};
A a;
B b = { 4, a, a };</pre><div id='dcl.init.aggr-16.sentence-5' class='sentence'>Braces are elided around the
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
for
<span class='texttt'>b.a1.i</span><a class='hidden_link' href='#dcl.init.aggr-16.sentence-5'>.</a></div> <div id='dcl.init.aggr-16.sentence-6' class='sentence'><span class='texttt'>b.a1.i</span>
is initialized with 4,
<span class='texttt'>b.a2</span>
is initialized with
<span class='texttt'>a</span>,
<span class='texttt'>b.z</span>
is initialized with whatever
<span class='texttt'>a.operator int()</span>
returns<a class='hidden_link' href='#dcl.init.aggr-16.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.aggr-17'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4912'>#</a></div><span class='indexparent'><a class='index' id=':initialization,array_of_class_objects'></a></span><div id='dcl.init.aggr-17.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init.aggr-17.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init.aggr-17.sentence-1' class='sentence'>An aggregate array or an aggregate class may contain elements of a
class type with a user-declared constructor (<a href='class.ctor'>[class.ctor]</a>)<a class='hidden_link' href='#dcl.init.aggr-17.sentence-1'>.</a></div> <div id='dcl.init.aggr-17.sentence-2' class='sentence'>Initialization of these aggregate objects is described in <a href='class.expl.init'>[class.expl.init]</a><a class='hidden_link' href='#dcl.init.aggr-17.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.aggr-18'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4920'>#</a></div><div id='dcl.init.aggr-18.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init.aggr-18.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init.aggr-18.sentence-1' class='sentence'>Whether the initialization of aggregates with static storage duration
is static or dynamic is specified
in <a href='basic.start.static'>[basic.start.static]</a>, <a href='basic.start.dynamic'>[basic.start.dynamic]</a>, and <a href='stmt.dcl'>[stmt.dcl]</a><a class='hidden_link' href='#dcl.init.aggr-18.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.aggr-19'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4927'>#</a></div><div id='dcl.init.aggr-19.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':initialization,union'></a></span>When a union is initialized with an initializer list,
there shall not be more than one
explicitly initialized element<a class='hidden_link' href='#dcl.init.aggr-19.sentence-1'>.</a></div> <div id='dcl.init.aggr-19.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.aggr-19.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
union u { int a; const char* b; };
u a = { 1 };
u b = a;
u c = 1;                        <span class='comment'>// error
</span>u d = { 0, "asdf" };            <span class='comment'>// error
</span>u e = { "asdf" };               <span class='comment'>// error
</span>u f = { .b = "asdf" };
u g = { .a = 1, .b = "asdf" };  <span class='comment'>// error
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.aggr-20'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4945'>#</a></div><div id='dcl.init.aggr-20.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init.aggr-20.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init.aggr-20.sentence-1' class='sentence'>As described above,
the braces around the
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
for a union member can be omitted if the
union is a member of another aggregate<a class='hidden_link' href='#dcl.init.aggr-20.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-100'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-100'>100)</a></div><div id='footnote-100.sentence-1' class='sentence'>The syntax provides for empty
initializer lists,
but nonetheless C++ does not have zero length arrays<a class='hidden_link' href='#footnote-100.sentence-1'>.</a></div></div></div><div id='dcl.init.string' class='section'><h3 ><a class='secnum' href='#dcl.init.string' style='min-width:103pt'>9.3.2</a> Character arrays <a class='abbr_ref' href='dcl.init.string'>[dcl.init.string]</a></h3><span class='indexparent'><a class='index' id=':initialization,character_array'></a></span><div class='para' id='dcl.init.string-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.string-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4957'>#</a></div><div id='dcl.init.string-1.sentence-1' class='sentence'>An array of narrow character type (<a href='basic.fundamental'>[basic.fundamental]</a>),
<span class='texttt'>char16_&shy;t</span> array,
<span class='texttt'>char32_&shy;t</span> array,
or <span class='texttt'>wchar_&shy;t</span> array
can be initialized by a
narrow string literal, <span class='texttt'>char16_&shy;t</span> string literal, <span class='texttt'>char32_&shy;t</span> string
literal, or wide string literal,
respectively, or by an appropriately-typed string literal enclosed in
braces (<a href='lex.string'>[lex.string]</a>)<a class='hidden_link' href='#dcl.init.string-1.sentence-1'>.</a></div> <div id='dcl.init.string-1.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':initialization,character_array_'></a></span>Successive
characters of the
value of the string literal
initialize the elements of the array<a class='hidden_link' href='#dcl.init.string-1.sentence-2'>.</a></div> <div id='dcl.init.string-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.string-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
char msg[] = "Syntax error on line %s\n";</pre><div id='dcl.init.string-1.sentence-3' class='sentence'>shows a character array whose members are initialized
with a
<i ><a href='lex.string#nt:string-literal'>string-literal</a></i><a class='hidden_link' href='#dcl.init.string-1.sentence-3'>.</a></div> <div id='dcl.init.string-1.sentence-4' class='sentence'>Note that because
<span class='texttt'>'\n'</span>
is a single character and
because a trailing
<span class='texttt'>'\0'</span>
is appended,
<span class='texttt'>sizeof(msg)</span>
is
<span class='texttt'>25</span><a class='hidden_link' href='#dcl.init.string-1.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.string-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.string-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L4992'>#</a></div><div id='dcl.init.string-2.sentence-1' class='sentence'>There shall not be more initializers than there are array elements<a class='hidden_link' href='#dcl.init.string-2.sentence-1'>.</a></div> <div id='dcl.init.string-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.string-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
char cv[4] = "asdf";            <span class='comment'>// error
</span></pre><div id='dcl.init.string-2.sentence-2' class='sentence'>is ill-formed since there is no space for the implied trailing
<span class='texttt'>'\0'</span><a class='hidden_link' href='#dcl.init.string-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.string-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.string-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5004'>#</a></div><div id='dcl.init.string-3.sentence-1' class='sentence'>If there are fewer initializers than there are array elements, each element not
explicitly initialized shall be zero-initialized (<a href='#dcl.init'>[dcl.init]</a>)<a class='hidden_link' href='#dcl.init.string-3.sentence-1'>.</a></div></div></div><div id='dcl.init.ref' class='section'><h3 ><a class='secnum' href='#dcl.init.ref' style='min-width:103pt'>9.3.3</a> References <a class='abbr_ref' href='dcl.init.ref'>[dcl.init.ref]</a></h3><span class='indexparent'><a class='index' id=':initialization,reference_'></a></span><div class='para' id='dcl.init.ref-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.ref-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5011'>#</a></div><div id='dcl.init.ref-1.sentence-1' class='sentence'>A variable whose declared type is
“reference to type <span class='texttt'>T</span>” (<a href='#dcl.ref'>[dcl.ref]</a>)
shall be initialized<a class='hidden_link' href='#dcl.init.ref-1.sentence-1'>.</a></div> <div id='dcl.init.ref-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.ref-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int g(int) noexcept;
void f() {
  int i;
  int&amp; r = i;                   <span class='comment'>// <span class='tcode_in_codeblock'>r</span> refers to <span class='tcode_in_codeblock'>i</span>
</span>  r = 1;                        <span class='comment'>// the value of <span class='tcode_in_codeblock'>i</span> becomes <span class='tcode_in_codeblock'>1</span>
</span>  int* p = &amp;r;                  <span class='comment'>// <span class='tcode_in_codeblock'>p</span> points to <span class='tcode_in_codeblock'>i</span>
</span>  int&amp; rr = r;                  <span class='comment'>// <span class='tcode_in_codeblock'>rr</span> refers to what <span class='tcode_in_codeblock'>r</span> refers to, that is, to <span class='tcode_in_codeblock'>i</span>
</span>  int (&amp;rg)(int) = g;           <span class='comment'>// <span class='tcode_in_codeblock'>rg</span> refers to the function <span class='tcode_in_codeblock'>g</span>
</span>  rg(i);                        <span class='comment'>// calls function <span class='tcode_in_codeblock'>g</span>
</span>  int a[3];
  int (&amp;ra)[3] = a;             <span class='comment'>// <span class='tcode_in_codeblock'>ra</span> refers to the array <span class='tcode_in_codeblock'>a</span>
</span>  ra[1] = i;                    <span class='comment'>// modifies <span class='tcode_in_codeblock'>a[1]</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.ref-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.ref-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5034'>#</a></div><div id='dcl.init.ref-2.sentence-1' class='sentence'>A reference cannot be changed to refer to another object after initialization<a class='hidden_link' href='#dcl.init.ref-2.sentence-1'>.</a></div> <div id='dcl.init.ref-2.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':assignment,reference'></a></span><div id='dcl.init.ref-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init.ref-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init.ref-2.sentence-3' class='sentence'>Assignment to a reference assigns to the object referred to by the reference (<a href='expr.ass'>[expr.ass]</a>)<a class='hidden_link' href='#dcl.init.ref-2.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> 
<span class='indexparent'><a class='index' id=':argument_passing,reference_and'></a></span>Argument passing (<a href='expr.call'>[expr.call]</a>)
<span class='indexparent'><a class='index' id=':return,reference_and'></a></span>and function value return (<a href='stmt.return'>[stmt.return]</a>) are initializations<a class='hidden_link' href='#dcl.init.ref-2.sentence-2'>.</a></div></div><div class='para' id='dcl.init.ref-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.ref-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5045'>#</a></div><div id='dcl.init.ref-3.sentence-1' class='sentence'>The initializer can be omitted for a reference only in a parameter declaration (<a href='#dcl.fct'>[dcl.fct]</a>),
in the declaration of a function return type, in the declaration of
a class member within its class definition (<a href='class.mem'>[class.mem]</a>), and where the
<span class='texttt'>extern</span>
specifier is explicitly used<a class='hidden_link' href='#dcl.init.ref-3.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id=':declaration,extern_reference'></a></span><div id='dcl.init.ref-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.ref-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int&amp; r1;                        <span class='comment'>// error: initializer missing
</span>extern int&amp; r2;                 <span class='comment'>// OK
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.ref-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.ref-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5060'>#</a></div><div id='dcl.init.ref-4.sentence-1' class='sentence'>Given types “<span class='textit'>cv1</span> <span class='texttt'>T1</span>” and “<span class='textit'>cv2</span> <span class='texttt'>T2</span>”,
“<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is <a class='hidden_link' href='#def:reference-related' id='def:reference-related'><i >reference-related</i></a> to
“<span class='textit'>cv2</span> <span class='texttt'>T2</span>” if
<span class='texttt'>T1</span> is the same type as <span class='texttt'>T2</span>, or
<span class='texttt'>T1</span> is a base class of <span class='texttt'>T2</span><a class='hidden_link' href='#dcl.init.ref-4.sentence-1'>.</a></div> <div id='dcl.init.ref-4.sentence-2' class='sentence'>“<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is <a class='hidden_link' href='#def:reference-compatible' id='def:reference-compatible'><i >reference-compatible</i></a>
with “<span class='textit'>cv2</span> <span class='texttt'>T2</span>” if
<ul class='itemize'><li id='dcl.init.ref-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.ref-4.1'>(4.1)</a></div><div id='dcl.init.ref-4.1.sentence-1' class='sentence'><span class='texttt'>T1</span> is reference-related to <span class='texttt'>T2</span>, or</div></li><li id='dcl.init.ref-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.ref-4.2'>(4.2)</a></div><div id='dcl.init.ref-4.2.sentence-1' class='sentence'><span class='texttt'>T2</span> is “<span class='texttt'>noexcept</span> function” and <span class='texttt'>T1</span> is “function”,
where the function types are otherwise the same,</div></li></ul>
and
<span class='textit'>cv1</span>
is the same cv-qualification as, or greater cv-qualification than,
<span class='textit'>cv2</span><a class='hidden_link' href='#dcl.init.ref-4.sentence-2'>.</a></div> <div id='dcl.init.ref-4.sentence-3' class='sentence'>In all cases where the reference-related or reference-compatible relationship
of two types is used to establish the validity of a reference binding, and
<span class='texttt'>T1</span>
is a base class of
<span class='texttt'>T2</span>,
a program that necessitates such a binding is ill-formed if
<span class='texttt'>T1</span>
is an inaccessible (<a href='class.access'>[class.access]</a>) or ambiguous (<a href='class.member.lookup'>[class.member.lookup]</a>)
base class of
<span class='texttt'>T2</span><a class='hidden_link' href='#dcl.init.ref-4.sentence-3'>.</a></div></div><div class='para' id='dcl.init.ref-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.ref-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5088'>#</a></div><div id='dcl.init.ref-5.sentence-1' class='sentence'>A reference to type “<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is initialized by
an expression of type “<span class='textit'>cv2</span> <span class='texttt'>T2</span>” as follows:<span class='indexparent'><a class='index' id=':binding,reference'></a></span></div><div id='dcl.init.ref-5.sentence-2' class='sentence'><ul class='itemize'><li id='dcl.init.ref-5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.ref-5.1'>(5.1)</a></div><div id='dcl.init.ref-5.1.sentence-1' class='sentence'>If the reference is an lvalue reference and the initializer expression</div><div id='dcl.init.ref-5.1.sentence-2' class='sentence'><ul class='itemize'><li id='dcl.init.ref-5.1.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init.ref-5.1.1'>(5.1.1)</a></div><div id='dcl.init.ref-5.1.1.sentence-1' class='sentence'>is an lvalue (but is not a
bit-field), and
“<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is reference-compatible with
“<span class='textit'>cv2</span> <span class='texttt'>T2</span>”, or</div></li><li id='dcl.init.ref-5.1.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init.ref-5.1.2'>(5.1.2)</a></div><div id='dcl.init.ref-5.1.2.sentence-1' class='sentence'>has a class type (i.e.,
<span class='texttt'>T2</span>
is a class type), where <span class='texttt'>T1</span> is not reference-related to <span class='texttt'>T2</span>, and can be converted
to an lvalue of type “<span class='textit'>cv3</span> <span class='texttt'>T3</span>”, where
“<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is reference-compatible with
“<span class='textit'>cv3</span> <span class='texttt'>T3</span>”<a class='footnotenum' href='#footnote-101'>101</a>
(this conversion is selected by enumerating the applicable conversion
functions (<a href='over.match.ref'>[over.match.ref]</a>) and choosing the best one through overload
resolution (<a href='over.match'>[over.match]</a>)),</div></li></ul>
then the reference is bound to the initializer expression lvalue in the
first case and to the lvalue result of the conversion
in the second case (or, in either case, to the appropriate base class subobject of the object)<a class='hidden_link' href='#dcl.init.ref-5.1.sentence-2'>.</a></div> <div id='dcl.init.ref-5.1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init.ref-5.1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init.ref-5.1.sentence-3' class='sentence'>The usual lvalue-to-rvalue (<a href='conv.lval'>[conv.lval]</a>), array-to-pointer (<a href='conv.array'>[conv.array]</a>),
and function-to-pointer (<a href='conv.func'>[conv.func]</a>) standard
conversions are not needed, and therefore are suppressed, when such
direct bindings to lvalues are done<a class='hidden_link' href='#dcl.init.ref-5.1.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> <div id='dcl.init.ref-5.1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.ref-5.1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
double d = 2.0;
double&amp; rd = d;                 <span class='comment'>// <span class='tcode_in_codeblock'>rd</span> refers to <span class='tcode_in_codeblock'>d</span>
</span>const double&amp; rcd = d;          <span class='comment'>// <span class='tcode_in_codeblock'>rcd</span> refers to <span class='tcode_in_codeblock'>d</span>
</span>
struct A { };
struct B : A { operator int&amp;(); } b;
A&amp; ra = b;                      <span class='comment'>// <span class='tcode_in_codeblock'>ra</span> refers to <span class='tcode_in_codeblock'>A</span> subobject in <span class='tcode_in_codeblock'>b</span>
</span>const A&amp; rca = b;               <span class='comment'>// <span class='tcode_in_codeblock'>rca</span> refers to <span class='tcode_in_codeblock'>A</span> subobject in <span class='tcode_in_codeblock'>b</span>
</span>int&amp; ir = B();                  <span class='comment'>// <span class='tcode_in_codeblock'>ir</span> refers to the result of <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;operator int&amp;</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='dcl.init.ref-5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.ref-5.2'>(5.2)</a></div><div id='dcl.init.ref-5.2.sentence-1' class='sentence'>Otherwise,
if the reference is an lvalue reference to a
type that is not const-qualified or is volatile-qualified,
the program is ill-formed<a class='hidden_link' href='#dcl.init.ref-5.2.sentence-1'>.</a></div> <div id='dcl.init.ref-5.2.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.ref-5.2.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
double&amp; rd2 = 2.0;              <span class='comment'>// error: not an lvalue and reference not <span class='tcode_in_codeblock'>const</span>
</span>int  i = 2;
double&amp; rd3 = i;                <span class='comment'>// error: type mismatch and reference not <span class='tcode_in_codeblock'>const</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='dcl.init.ref-5.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.ref-5.3'>(5.3)</a></div><div id='dcl.init.ref-5.3.sentence-1' class='sentence'>Otherwise, if the initializer expression</div><div id='dcl.init.ref-5.3.sentence-2' class='sentence'><ul class='itemize'><li id='dcl.init.ref-5.3.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init.ref-5.3.1'>(5.3.1)</a></div><div id='dcl.init.ref-5.3.1.sentence-1' class='sentence'>is an rvalue (but not a bit-field) or function lvalue and
“<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is
reference-compatible with “<span class='textit'>cv2</span> <span class='texttt'>T2</span>”, or</div></li><li id='dcl.init.ref-5.3.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init.ref-5.3.2'>(5.3.2)</a></div><div id='dcl.init.ref-5.3.2.sentence-1' class='sentence'>has a class type (i.e., <span class='texttt'>T2</span> is a class type), where <span class='texttt'>T1</span>
is not reference-related to <span class='texttt'>T2</span>, and can be converted to
an rvalue or function lvalue of type “<span class='textit'>cv3</span> <span class='texttt'>T3</span>”,
where “<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is
reference-compatible with “<span class='textit'>cv3</span> <span class='texttt'>T3</span>” (see <a href='over.match.ref'>[over.match.ref]</a>),</div></li></ul></div><div id='dcl.init.ref-5.3.sentence-3' class='sentence'>then
the value of the initializer expression in the first case and
the result of the conversion in the second case
is called the converted initializer<a class='hidden_link' href='#dcl.init.ref-5.3.sentence-3'>.</a></div> <div id='dcl.init.ref-5.3.sentence-4' class='sentence'>If the converted initializer is a prvalue,
its type <span class='texttt'>T4</span> is adjusted to type “<span class='textit'>cv1</span> <span class='texttt'>T4</span>” (<a href='conv.qual'>[conv.qual]</a>)
and the temporary materialization conversion (<a href='conv.rval'>[conv.rval]</a>) is applied<a class='hidden_link' href='#dcl.init.ref-5.3.sentence-4'>.</a></div> <div id='dcl.init.ref-5.3.sentence-5' class='sentence'>In any case,
the reference is bound to the resulting glvalue
(or to an appropriate base class subobject)<a class='hidden_link' href='#dcl.init.ref-5.3.sentence-5'>.</a></div><div style='height:0.6em;display:block'></div><div id='dcl.init.ref-5.3.example-3' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.ref-5.3.example-3'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A { };
struct B : A { } b;
extern B f();
const A&amp; rca2 = f();                <span class='comment'>// bound to the <span class='tcode_in_codeblock'>A</span> subobject of the <span class='tcode_in_codeblock'>B</span> rvalue.
</span>A&amp;&amp; rra = f();                      <span class='comment'>// same as above
</span>struct X {
  operator B();
  operator int&amp;();
} x;
const A&amp; r = x;                     <span class='comment'>// bound to the <span class='tcode_in_codeblock'>A</span> subobject of the result of the conversion
</span>int i2 = 42;
int&amp;&amp; rri = static_cast&lt;int&amp;&amp;&gt;(i2); <span class='comment'>// bound directly to <span class='tcode_in_codeblock'>i2</span>
</span>B&amp;&amp; rrb = x;                        <span class='comment'>// bound directly to the result of <span class='tcode_in_codeblock'>operator B</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='dcl.init.ref-5.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.ref-5.4'>(5.4)</a></div><div id='dcl.init.ref-5.4.sentence-1' class='sentence'>Otherwise:
<ul class='itemize'><li id='dcl.init.ref-5.4.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init.ref-5.4.1'>(5.4.1)</a></div><div id='dcl.init.ref-5.4.1.sentence-1' class='sentence'>If <span class='texttt'>T1</span> or <span class='texttt'>T2</span> is a class type and
<span class='texttt'>T1</span> is not reference-related to <span class='texttt'>T2</span>,
user-defined conversions are considered
using the rules for copy-initialization of an object of type
“<span class='textit'>cv1</span> <span class='texttt'>T1</span>” by
user-defined conversion
(<a href='#dcl.init'>[dcl.init]</a>, <a href='over.match.copy'>[over.match.copy]</a>, <a href='over.match.conv'>[over.match.conv]</a>);
the program is ill-formed if the corresponding non-reference
copy-initialization would be ill-formed<a class='hidden_link' href='#dcl.init.ref-5.4.1.sentence-1'>.</a></div> <div id='dcl.init.ref-5.4.1.sentence-2' class='sentence'>The result of the call to the
conversion function, as described for the non-reference
copy-initialization, is then used to direct-initialize the reference<a class='hidden_link' href='#dcl.init.ref-5.4.1.sentence-2'>.</a></div> <div id='dcl.init.ref-5.4.1.sentence-3' class='sentence'>For this direct-initialization, user-defined conversions are not considered<a class='hidden_link' href='#dcl.init.ref-5.4.1.sentence-3'>.</a></div></li><li id='dcl.init.ref-5.4.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init.ref-5.4.2'>(5.4.2)</a></div><div id='dcl.init.ref-5.4.2.sentence-1' class='sentence'>Otherwise,
the initializer expression is implicitly converted to a prvalue
of type “<span class='textit'>cv1</span> <span class='texttt'>T1</span>”<a class='hidden_link' href='#dcl.init.ref-5.4.2.sentence-1'>.</a></div> <div id='dcl.init.ref-5.4.2.sentence-2' class='sentence'>The temporary materialization conversion is applied and the reference is
bound to the result<a class='hidden_link' href='#dcl.init.ref-5.4.2.sentence-2'>.</a></div></li></ul></div><div id='dcl.init.ref-5.4.sentence-2' class='sentence'>If
<span class='texttt'>T1</span>
is reference-related to
<span class='texttt'>T2</span>:
<ul class='itemize'><li id='dcl.init.ref-5.4.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init.ref-5.4.3'>(5.4.3)</a></div><div id='dcl.init.ref-5.4.3.sentence-1' class='sentence'><span class='textit'>cv1</span>
shall be the same cv-qualification as, or greater cv-qualification than,
<span class='textit'>cv2</span>; and</div></li><li id='dcl.init.ref-5.4.4'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init.ref-5.4.4'>(5.4.4)</a></div><div id='dcl.init.ref-5.4.4.sentence-1' class='sentence'>if the reference is an rvalue reference,
the initializer expression shall not be an lvalue<a class='hidden_link' href='#dcl.init.ref-5.4.4.sentence-1'>.</a></div></li></ul></div><div id='dcl.init.ref-5.4.example-4' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.ref-5.4.example-4'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct Banana { };
struct Enigma { operator const Banana(); };
struct Alaska { operator Banana&amp;(); };
void enigmatic() {
  typedef const Banana ConstBanana;
  Banana &amp;&amp;banana1 = ConstBanana(); <span class='comment'>// ill-formed
</span>  Banana &amp;&amp;banana2 = Enigma();      <span class='comment'>// ill-formed
</span>  Banana &amp;&amp;banana3 = Alaska();      <span class='comment'>// ill-formed
</span>}

const double&amp; rcd2 = 2;             <span class='comment'>// <span class='tcode_in_codeblock'>rcd2</span> refers to temporary with value <span class='tcode_in_codeblock'>2.0</span>
</span>double&amp;&amp; rrd = 2;                   <span class='comment'>// <span class='tcode_in_codeblock'>rrd</span> refers to temporary with value <span class='tcode_in_codeblock'>2.0</span>
</span>const volatile int cvi = 1;
const int&amp; r2 = cvi;                <span class='comment'>// error: cv-qualifier dropped
</span>struct A { operator volatile int&amp;(); } a;
const int&amp; r3 = a;                  <span class='comment'>// error: cv-qualifier dropped
</span>                                    <span class='comment'>// from result of conversion function
</span>double d2 = 1.0;
double&amp;&amp; rrd2 = d2;                 <span class='comment'>// error: initializer is lvalue of related type
</span>struct X { operator int&amp;(); };
int&amp;&amp; rri2 = X();                   <span class='comment'>// error: result of conversion function is lvalue of related type
</span>int i3 = 2;
double&amp;&amp; rrd3 = i3;                 <span class='comment'>// <span class='tcode_in_codeblock'>rrd3</span> refers to temporary with value <span class='tcode_in_codeblock'>2.0</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li></ul></div><div id='dcl.init.ref-5.sentence-3' class='sentence'>In all cases except the last
(i.e., implicitly converting the initializer expression
to the referenced type),
the reference is said to <a class='hidden_link' href='#def:bind_directly' id='def:bind_directly'><i >bind directly</i></a> to the
initializer expression<a class='hidden_link' href='#dcl.init.ref-5.sentence-3'>.</a></div></div><div class='para' id='dcl.init.ref-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.ref-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5272'>#</a></div><div id='dcl.init.ref-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init.ref-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init.ref-6.sentence-1' class='sentence'><a href='class.temporary'>[class.temporary]</a> describes the lifetime of temporaries bound to references<a class='hidden_link' href='#dcl.init.ref-6.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-101'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-101'>101)</a></div><div id='footnote-101.sentence-1' class='sentence'>This requires a conversion
function (<a href='class.conv.fct'>[class.conv.fct]</a>) returning a reference type<a class='hidden_link' href='#footnote-101.sentence-1'>.</a></div></div></div><div id='dcl.init.list' class='section'><h3 ><a class='secnum' href='#dcl.init.list' style='min-width:103pt'>9.3.4</a> List-initialization <a class='abbr_ref' href='dcl.init.list'>[dcl.init.list]</a></h3><span class='indexparent'><a class='index' id=':initialization,list-initialization'></a></span><div class='para' id='dcl.init.list-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.list-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5280'>#</a></div><div id='dcl.init.list-1.sentence-1' class='sentence'><a class='hidden_link' href='#def:list-initialization' id='def:list-initialization'><i >List-initialization</i></a> is initialization of an object or reference from a
<i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i><a class='hidden_link' href='#dcl.init.list-1.sentence-1'>.</a></div> <div id='dcl.init.list-1.sentence-2' class='sentence'>Such an initializer is called an <a class='hidden_link' href='#def:initializer_list' id='def:initializer_list'><i>initializer list</i></a>, and
the comma-separated
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i><span class='textit'>s</span>
of the <i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>
or
<i ><a href='dcl.init#nt:designated-initializer-clause'>designated-initializer-clause</a></i><span class='textit'>s</span>
of the <i ><a href='dcl.init#nt:designated-initializer-list'>designated-initializer-list</a></i>
are called the <a class='hidden_link' href='#def:elements' id='def:elements'><i>elements</i></a> of the initializer list<a class='hidden_link' href='#dcl.init.list-1.sentence-2'>.</a></div> <div id='dcl.init.list-1.sentence-3' class='sentence'>An initializer list may be empty<a class='hidden_link' href='#dcl.init.list-1.sentence-3'>.</a></div> <div id='dcl.init.list-1.sentence-4' class='sentence'>List-initialization can occur in direct-initialization or copy-initialization contexts;
list-initialization in a direct-initialization context is called
<a class='hidden_link' href='#def:direct-list-initialization' id='def:direct-list-initialization'><i >direct-list-initialization</i></a> and list-initialization in a
copy-initialization context is called <a class='hidden_link' href='#def:copy-list-initialization' id='def:copy-list-initialization'><i >copy-list-initialization</i></a><a class='hidden_link' href='#dcl.init.list-1.sentence-4'>.</a></div> <div id='dcl.init.list-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init.list-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init.list-1.sentence-5' class='sentence'>List-initialization can be used</div><div id='dcl.init.list-1.sentence-6' class='sentence'><ul class='itemize'><li id='dcl.init.list-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.1'>(1.1)</a></div><div id='dcl.init.list-1.1.sentence-1' class='sentence'>as the initializer in a variable definition (<a href='#dcl.init'>[dcl.init]</a>)</div></li><li id='dcl.init.list-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.2'>(1.2)</a></div><div id='dcl.init.list-1.2.sentence-1' class='sentence'>as the initializer in a <i ><a href='expr.new#nt:new-expression'>new-expression</a></i></div></li><li id='dcl.init.list-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.3'>(1.3)</a></div><div id='dcl.init.list-1.3.sentence-1' class='sentence'>in a <span class='texttt'>return</span> statement (<a href='stmt.return'>[stmt.return]</a>)</div></li><li id='dcl.init.list-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.4'>(1.4)</a></div><div id='dcl.init.list-1.4.sentence-1' class='sentence'>as a <i ><a href='stmt.iter#nt:for-range-initializer'>for-range-initializer</a></i></div></li><li id='dcl.init.list-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.5'>(1.5)</a></div><div id='dcl.init.list-1.5.sentence-1' class='sentence'>as a function argument (<a href='expr.call'>[expr.call]</a>)</div></li><li id='dcl.init.list-1.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.6'>(1.6)</a></div><div id='dcl.init.list-1.6.sentence-1' class='sentence'>as a subscript (<a href='expr.sub'>[expr.sub]</a>)</div></li><li id='dcl.init.list-1.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.7'>(1.7)</a></div><div id='dcl.init.list-1.7.sentence-1' class='sentence'>as an argument to a constructor invocation (<a href='#dcl.init'>[dcl.init]</a>, <a href='expr.type.conv'>[expr.type.conv]</a>)</div></li><li id='dcl.init.list-1.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.8'>(1.8)</a></div><div id='dcl.init.list-1.8.sentence-1' class='sentence'>as an initializer for a non-static data member (<a href='class.mem'>[class.mem]</a>)</div></li><li id='dcl.init.list-1.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.9'>(1.9)</a></div><div id='dcl.init.list-1.9.sentence-1' class='sentence'>in a <i ><a href='class.base.init#nt:mem-initializer'>mem-initializer</a></i></div></li><li id='dcl.init.list-1.10'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.10'>(1.10)</a></div><div id='dcl.init.list-1.10.sentence-1' class='sentence'>on the right-hand side of an assignment (<a href='expr.ass'>[expr.ass]</a>)</div></li></ul></div><div id='dcl.init.list-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.list-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int a = {1};
std::complex&lt;double&gt; z{1,2};
new std::vector&lt;std::string&gt;{"once", "upon", "a", "time"};  <span class='comment'>// 4 string elements
</span>f( {"Nicholas","Annemarie"} );  <span class='comment'>// pass list of two elements
</span>return { "Norah" };             <span class='comment'>// return list of one element
</span>int* e {};                      <span class='comment'>// initialization to zero / null pointer
</span>x = double{1};                  <span class='comment'>// explicitly construct a <span class='tcode_in_codeblock'>double</span>
</span>std::map&lt;std::string,int&gt; anim = { {"bear",4}, {"cassowary",2}, {"tiger",7} };</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.list-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.list-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5323'>#</a></div><div id='dcl.init.list-2.sentence-1' class='sentence'>A constructor is an <a class='hidden_link' href='#def:initializer-list_constructor' id='def:initializer-list_constructor'><i >initializer-list constructor</i></a> if its first parameter is
of type <span class='texttt'>std&#x200b;::&#x200b;initializer_&shy;list&lt;E&gt;</span> or reference to possibly cv-qualified
<span class='texttt'>std&#x200b;::&#x200b;initializer_&shy;list&lt;E&gt;</span> for some type <span class='texttt'>E</span>, and either there are no other
parameters or else all other parameters have default arguments (<a href='#dcl.fct.default'>[dcl.fct.default]</a>)<a class='hidden_link' href='#dcl.init.list-2.sentence-1'>.</a></div> <div id='dcl.init.list-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init.list-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init.list-2.sentence-3' class='sentence'>Initializer-list constructors are favored over other constructors in
list-initialization (<a href='over.match.list'>[over.match.list]</a>)<a class='hidden_link' href='#dcl.init.list-2.sentence-3'>.</a></div> <div id='dcl.init.list-2.sentence-4' class='sentence'>Passing an initializer list as the argument
to the constructor template <span class='texttt'>template&lt;class T&gt; C(T)</span> of a class <span class='texttt'>C</span> does not
create an initializer-list constructor, because an initializer list argument causes the
corresponding parameter to be a non-deduced context (<a href='temp.deduct.call'>[temp.deduct.call]</a>)<a class='hidden_link' href='#dcl.init.list-2.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.init.list-2.sentence-2' class='sentence'>
The template
<span class='texttt'>std&#x200b;::&#x200b;initializer_&shy;list</span> is not predefined; if the header
<span class='texttt'>&lt;initializer_&shy;list&gt;</span> is not included prior to a use of
<span class='texttt'>std&#x200b;::&#x200b;initializer_&shy;list</span> — even an implicit use in which the type is not
named (<a href='#dcl.spec.auto'>[dcl.spec.auto]</a>) — the program is ill-formed<a class='hidden_link' href='#dcl.init.list-2.sentence-2'>.</a></div></div><div class='para' id='dcl.init.list-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.list-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5339'>#</a></div><div id='dcl.init.list-3.sentence-1' class='sentence'>List-initialization of an object or reference of type <span class='texttt'>T</span> is defined as follows:
<ul class='itemize'><li id='dcl.init.list-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.1'>(3.1)</a></div><div id='dcl.init.list-3.1.sentence-1' class='sentence'>If the <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>
contains a <i ><a href='dcl.init#nt:designated-initializer-list'>designated-initializer-list</a></i>,
<span class='texttt'>T</span> shall be an aggregate class<a class='hidden_link' href='#dcl.init.list-3.1.sentence-1'>.</a></div> <div id='dcl.init.list-3.1.sentence-2' class='sentence'>The ordered <i ><a href='lex.name#nt:identifier'>identifier</a></i><span class='textit'>s</span>
in the <i ><a href='dcl.init#nt:designator'>designator</a></i><span class='textit'>s</span>
of the <i ><a href='dcl.init#nt:designated-initializer-list'>designated-initializer-list</a></i>
shall form a subsequence
of the ordered <i ><a href='lex.name#nt:identifier'>identifier</a></i><span class='textit'>s</span>
in the direct non-static data members of <span class='texttt'>T</span><a class='hidden_link' href='#dcl.init.list-3.1.sentence-2'>.</a></div> <div id='dcl.init.list-3.1.sentence-3' class='sentence'>Aggregate initialization is performed (<a href='#dcl.init.aggr'>[dcl.init.aggr]</a>)<a class='hidden_link' href='#dcl.init.list-3.1.sentence-3'>.</a></div> <div id='dcl.init.list-3.1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.list-3.1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A { int x; int y; int z; };
A a{.y = 2, .x = 1};                <span class='comment'>// error: designator order does not match declaration order
</span>A b{.x = 1, .z = 2};                <span class='comment'>// OK, <span class='tcode_in_codeblock'>b.y</span> initialized to <span class='tcode_in_codeblock'>0</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='dcl.init.list-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.2'>(3.2)</a></div><div id='dcl.init.list-3.2.sentence-1' class='sentence'>If <span class='texttt'>T</span> is an aggregate class and the initializer list has a single element
of type <span class='textit'>cv</span> <span class='texttt'>U</span>,
where <span class='texttt'>U</span> is <span class='texttt'>T</span> or a class derived from <span class='texttt'>T</span>,
the object is initialized from that element (by copy-initialization for
copy-list-initialization, or by direct-initialization for
direct-list-initialization)<a class='hidden_link' href='#dcl.init.list-3.2.sentence-1'>.</a></div></li><li id='dcl.init.list-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.3'>(3.3)</a></div><div id='dcl.init.list-3.3.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>T</span> is a character array and the initializer list has a
single element that is an appropriately-typed string literal (<a href='#dcl.init.string'>[dcl.init.string]</a>),
initialization is performed as described in that subclause<a class='hidden_link' href='#dcl.init.list-3.3.sentence-1'>.</a></div></li><li id='dcl.init.list-3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.4'>(3.4)</a></div><div id='dcl.init.list-3.4.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>T</span> is an aggregate, aggregate initialization is
performed (<a href='#dcl.init.aggr'>[dcl.init.aggr]</a>)<a class='hidden_link' href='#dcl.init.list-3.4.sentence-1'>.</a></div><div style='height:0.6em;display:block'></div><div id='dcl.init.list-3.4.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.list-3.4.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
double ad[] = { 1, 2.0 };           <span class='comment'>// OK
</span>int ai[] = { 1, 2.0 };              <span class='comment'>// error: narrowing
</span>
struct S2 {
  int m1;
  double m2, m3;
};
S2 s21 = { 1, 2, 3.0 };             <span class='comment'>// OK
</span>S2 s22 { 1.0, 2, 3 };               <span class='comment'>// error: narrowing
</span>S2 s23 { };                         <span class='comment'>// OK: default to 0,0,0
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='dcl.init.list-3.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.5'>(3.5)</a></div><div id='dcl.init.list-3.5.sentence-1' class='sentence'>Otherwise, if the initializer list has no elements and <span class='texttt'>T</span> is a class type with a
default constructor, the object is value-initialized<a class='hidden_link' href='#dcl.init.list-3.5.sentence-1'>.</a></div></li><li id='dcl.init.list-3.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.6'>(3.6)</a></div><div id='dcl.init.list-3.6.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>T</span> is a specialization of <span class='texttt'>std&#x200b;::&#x200b;initializer_&shy;list&lt;E&gt;</span>,
the object is constructed as described below<a class='hidden_link' href='#dcl.init.list-3.6.sentence-1'>.</a></div></li><li id='dcl.init.list-3.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.7'>(3.7)</a></div><div id='dcl.init.list-3.7.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>T</span> is a class type, constructors are considered<a class='hidden_link' href='#dcl.init.list-3.7.sentence-1'>.</a></div> <div id='dcl.init.list-3.7.sentence-2' class='sentence'>The applicable constructors are enumerated and
the best one is chosen through overload resolution (<a href='over.match'>[over.match]</a>, <a href='over.match.list'>[over.match.list]</a>)<a class='hidden_link' href='#dcl.init.list-3.7.sentence-2'>.</a></div> <div id='dcl.init.list-3.7.sentence-3' class='sentence'>If a narrowing
conversion (see below) is required to convert any of the arguments, the program is
ill-formed<a class='hidden_link' href='#dcl.init.list-3.7.sentence-3'>.</a></div><div style='height:0.6em;display:block'></div><div id='dcl.init.list-3.7.example-3' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.list-3.7.example-3'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S {
  S(std::initializer_list&lt;double&gt;); <span class='comment'>// #1
</span>  S(std::initializer_list&lt;int&gt;);    <span class='comment'>// #2
</span>  S();                              <span class='comment'>// #3
</span>  <span class='comment'>// ...
</span>};
S s1 = { 1.0, 2.0, 3.0 };           <span class='comment'>// invoke #1
</span>S s2 = { 1, 2, 3 };                 <span class='comment'>// invoke #2
</span>S s3 = { };                         <span class='comment'>// invoke #3
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> <div id='dcl.init.list-3.7.example-4' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.list-3.7.example-4'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct Map {
  Map(std::initializer_list&lt;std::pair&lt;std::string,int&gt;&gt;);
};
Map ship = {{"Sophie",14}, {"Surprise",28}};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> <div id='dcl.init.list-3.7.example-5' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.list-3.7.example-5'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S {
  <span class='comment'>// no initializer-list constructors
</span>  S(int, double, double);           <span class='comment'>// #1
</span>  S();                              <span class='comment'>// #2
</span>  <span class='comment'>// ...
</span>};
S s1 = { 1, 2, 3.0 };               <span class='comment'>// OK: invoke #1
</span>S s2 { 1.0, 2, 3 };                 <span class='comment'>// error: narrowing
</span>S s3 { };                           <span class='comment'>// OK: invoke #2
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='dcl.init.list-3.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.8'>(3.8)</a></div><div id='dcl.init.list-3.8.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>T</span> is an enumeration
with a fixed underlying type (<a href='#dcl.enum'>[dcl.enum]</a>),
the <i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i> has a single element <span class='texttt'>v</span>, and
the initialization is direct-list-initialization,
the object is initialized with the value <span class='texttt'>T(v)</span> (<a href='expr.type.conv'>[expr.type.conv]</a>);
if a narrowing conversion is required to convert <span class='texttt'>v</span>
to the underlying type of <span class='texttt'>T</span>, the program is ill-formed<a class='hidden_link' href='#dcl.init.list-3.8.sentence-1'>.</a></div> <div id='dcl.init.list-3.8.example-6' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.list-3.8.example-6'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
enum byte : unsigned char { };
byte b { 42 };                      <span class='comment'>// OK
</span>byte c = { 42 };                    <span class='comment'>// error
</span>byte d = byte{ 42 };                <span class='comment'>// OK; same value as <span class='tcode_in_codeblock'>b</span>
</span>byte e { -1 };                      <span class='comment'>// error
</span>
struct A { byte b; };
A a1 = { { 42 } };                  <span class='comment'>// error
</span>A a2 = { byte{ 42 } };              <span class='comment'>// OK
</span>
void f(byte);
f({ 42 });                          <span class='comment'>// error
</span>
enum class Handle : uint32_t { Invalid = 0 };
Handle h { 42 };                    <span class='comment'>// OK
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='dcl.init.list-3.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.9'>(3.9)</a></div><div id='dcl.init.list-3.9.sentence-1' class='sentence'>Otherwise, if
the initializer list has a single element of type <span class='texttt'>E</span> and either
<span class='texttt'>T</span> is not a reference type or its referenced type is
reference-related to <span class='texttt'>E</span>, the object or reference is initialized
from that element (by copy-initialization for copy-list-initialization,
or by direct-initialization for direct-list-initialization);
if a narrowing conversion (see below) is required
to convert the element to <span class='texttt'>T</span>, the program is ill-formed<a class='hidden_link' href='#dcl.init.list-3.9.sentence-1'>.</a></div><div style='height:0.6em;display:block'></div><div id='dcl.init.list-3.9.example-7' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.list-3.9.example-7'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int x1 {2};                         <span class='comment'>// OK
</span>int x2 {2.0};                       <span class='comment'>// error: narrowing
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='dcl.init.list-3.10'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.10'>(3.10)</a></div><div id='dcl.init.list-3.10.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>T</span> is a reference type, a prvalue of the type
referenced by <span class='texttt'>T</span> is generated<a class='hidden_link' href='#dcl.init.list-3.10.sentence-1'>.</a></div> <div id='dcl.init.list-3.10.sentence-2' class='sentence'>The prvalue initializes its result object by
copy-list-initialization or direct-list-initialization,
depending on the kind of initialization for the reference<a class='hidden_link' href='#dcl.init.list-3.10.sentence-2'>.</a></div> <div id='dcl.init.list-3.10.sentence-3' class='sentence'>The prvalue is then used to direct-initialize the reference<a class='hidden_link' href='#dcl.init.list-3.10.sentence-3'>.</a></div> <div id='dcl.init.list-3.10.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init.list-3.10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init.list-3.10.sentence-4' class='sentence'>As usual, the binding will fail and the program is ill-formed if
the reference type is an lvalue reference to a non-const type<a class='hidden_link' href='#dcl.init.list-3.10.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> <div id='dcl.init.list-3.10.example-8' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.list-3.10.example-8'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S {
  S(std::initializer_list&lt;double&gt;); <span class='comment'>// #1
</span>  S(const std::string&amp;);            <span class='comment'>// #2
</span>  <span class='comment'>// ...
</span>};
const S&amp; r1 = { 1, 2, 3.0 };        <span class='comment'>// OK: invoke #1
</span>const S&amp; r2 { "Spinach" };          <span class='comment'>// OK: invoke #2
</span>S&amp; r3 = { 1, 2, 3 };                <span class='comment'>// error: initializer is not an lvalue
</span>const int&amp; i1 = { 1 };              <span class='comment'>// OK
</span>const int&amp; i2 = { 1.1 };            <span class='comment'>// error: narrowing
</span>const int (&amp;iar)[2] = { 1, 2 };     <span class='comment'>// OK: <span class='tcode_in_codeblock'>iar</span> is bound to temporary array
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='dcl.init.list-3.11'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.11'>(3.11)</a></div><div id='dcl.init.list-3.11.sentence-1' class='sentence'>Otherwise, if the initializer list has no elements, the object is
value-initialized<a class='hidden_link' href='#dcl.init.list-3.11.sentence-1'>.</a></div><div style='height:0.6em;display:block'></div><div id='dcl.init.list-3.11.example-9' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.list-3.11.example-9'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int** pp {};                        <span class='comment'>// initialized to null pointer
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='dcl.init.list-3.12'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.12'>(3.12)</a></div><div id='dcl.init.list-3.12.sentence-1' class='sentence'>Otherwise, the program is ill-formed<a class='hidden_link' href='#dcl.init.list-3.12.sentence-1'>.</a></div><div style='height:0.6em;display:block'></div><div id='dcl.init.list-3.12.example-10' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.list-3.12.example-10'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A { int i; int j; };
A a1 { 1, 2 };                      <span class='comment'>// aggregate initialization
</span>A a2 { 1.2 };                       <span class='comment'>// error: narrowing
</span>struct B {
  B(std::initializer_list&lt;int&gt;);
};
B b1 { 1, 2 };                      <span class='comment'>// creates <span class='tcode_in_codeblock'>initializer_&shy;list&lt;int&gt;</span> and calls constructor
</span>B b2 { 1, 2.0 };                    <span class='comment'>// error: narrowing
</span>struct C {
  C(int i, double j);
};
C c1 = { 1, 2.2 };                  <span class='comment'>// calls constructor with arguments (1, 2.2)
</span>C c2 = { 1.1, 2 };                  <span class='comment'>// error: narrowing
</span>
int j { 1 };                        <span class='comment'>// initialize to 1
</span>int k { };                          <span class='comment'>// initialize to 0
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li></ul></div></div><div class='para' id='dcl.init.list-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.list-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5541'>#</a></div><div id='dcl.init.list-4.sentence-1' class='sentence'>Within the <i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i> of a <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>,
the <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i><span class='textit'>s</span>, including any that result from pack
expansions (<a href='temp.variadic'>[temp.variadic]</a>), are evaluated in the order in which they
appear<a class='hidden_link' href='#dcl.init.list-4.sentence-1'>.</a></div> <div id='dcl.init.list-4.sentence-2' class='sentence'>That is, every value computation and side effect associated with a
given <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i> is sequenced before every value
computation and side effect associated with any <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
that follows it in the comma-separated list of the <i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i><a class='hidden_link' href='#dcl.init.list-4.sentence-2'>.</a></div> <div id='dcl.init.list-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init.list-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init.list-4.sentence-3' class='sentence'>This evaluation ordering holds regardless of the semantics of the
initialization; for example, it applies when the elements of the
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i> are interpreted as arguments of a constructor
call, even though ordinarily there are no sequencing constraints on the
arguments of a call<a class='hidden_link' href='#dcl.init.list-4.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.list-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.list-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5555'>#</a></div><div id='dcl.init.list-5.sentence-1' class='sentence'>An object of type <span class='texttt'>std&#x200b;::&#x200b;initializer_&shy;list&lt;E&gt;</span> is constructed from
an initializer list as if
the implementation generated and materialized (<a href='conv.rval'>[conv.rval]</a>)
a prvalue of type “array of <span class='math'><span class='mathalpha'>N</span></span> <span class='texttt'>const E</span>”,
where <span class='math'><span class='mathalpha'>N</span></span> is the number of elements in the
initializer list<a class='hidden_link' href='#dcl.init.list-5.sentence-1'>.</a></div> <div id='dcl.init.list-5.sentence-2' class='sentence'>Each element of that array is copy-initialized with the
corresponding element of the initializer list, and the
<span class='texttt'>std&#x200b;::&#x200b;initializer_&shy;list&lt;E&gt;</span> object is constructed to refer to that array<a class='hidden_link' href='#dcl.init.list-5.sentence-2'>.</a></div> <div id='dcl.init.list-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init.list-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init.list-5.sentence-4' class='sentence'>A constructor or conversion function selected for the copy shall be
accessible (<a href='class.access'>[class.access]</a>) in the context of the initializer list<a class='hidden_link' href='#dcl.init.list-5.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.init.list-5.sentence-3' class='sentence'>
If a narrowing conversion is required to initialize any of the elements, the program is ill-formed<a class='hidden_link' href='#dcl.init.list-5.sentence-3'>.</a></div> <div id='dcl.init.list-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.list-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct X {
  X(std::initializer_list&lt;double&gt; v);
};
X x{ 1,2,3 };</pre><div id='dcl.init.list-5.sentence-5' class='sentence'>The initialization will be implemented in a way roughly equivalent to this:</div><pre class='codeblock'>
const double __a[3] = {double{1}, double{2}, double{3}};
X x(std::initializer_list&lt;double&gt;(__a, __a+3));</pre><div id='dcl.init.list-5.sentence-6' class='sentence'>assuming that the implementation can construct an <span class='texttt'>initializer_&shy;list</span> object with a pair of pointers<a class='hidden_link' href='#dcl.init.list-5.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.list-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.list-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5584'>#</a></div><div id='dcl.init.list-6.sentence-1' class='sentence'>The array has the same lifetime as any other temporary
object (<a href='class.temporary'>[class.temporary]</a>), except that initializing an
<span class='texttt'>initializer_&shy;list</span> object from the array extends the lifetime of
the array exactly like binding a reference to a temporary<a class='hidden_link' href='#dcl.init.list-6.sentence-1'>.</a></div> <div id='dcl.init.list-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.list-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef std::complex&lt;double&gt; cmplx;
std::vector&lt;cmplx&gt; v1 = { 1, 2, 3 };

void f() {
  std::vector&lt;cmplx&gt; v2{ 1, 2, 3 };
  std::initializer_list&lt;int&gt; i3 = { 1, 2, 3 };
}

struct A {
  std::initializer_list&lt;int&gt; i4;
  A() : i4{ 1, 2, 3 } {}            <span class='comment'>// ill-formed, would create a dangling reference
</span>};</pre><div id='dcl.init.list-6.sentence-2' class='sentence'>For <span class='texttt'>v1</span> and <span class='texttt'>v2</span>, the <span class='texttt'>initializer_&shy;list</span> object
is a parameter in a function call, so the array created for
<span class='texttt'>{ 1, 2, 3 }</span> has full-expression lifetime<a class='hidden_link' href='#dcl.init.list-6.sentence-2'>.</a></div> <div id='dcl.init.list-6.sentence-3' class='sentence'>For <span class='texttt'>i3</span>, the <span class='texttt'>initializer_&shy;list</span> object is a variable,
so the array persists for the lifetime of the variable<a class='hidden_link' href='#dcl.init.list-6.sentence-3'>.</a></div> <div id='dcl.init.list-6.sentence-4' class='sentence'>For <span class='texttt'>i4</span>, the <span class='texttt'>initializer_&shy;list</span> object is initialized in
the constructor's <i ><a href='class.base.init#nt:ctor-initializer'>ctor-initializer</a></i> as if by binding
a temporary array to a reference member, so the program is
ill-formed (<a href='class.base.init'>[class.base.init]</a>)<a class='hidden_link' href='#dcl.init.list-6.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.init.list-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init.list-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init.list-6.sentence-5' class='sentence'>The implementation is free to allocate the array in read-only memory if an explicit array with the same initializer could be so allocated<a class='hidden_link' href='#dcl.init.list-6.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.init.list-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.list-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5619'>#</a></div><div id='dcl.init.list-7.sentence-1' class='sentence'>A
<span class='indexparent'><a class='index' id=':narrowing_conversion'></a></span><span class='indexparent'><a class='index' id=':conversion,narrowing'></a></span><a class='hidden_link' href='#def:narrowing_conversion' id='def:narrowing_conversion'><i>narrowing conversion</i></a> is an implicit conversion</div><div id='dcl.init.list-7.sentence-2' class='sentence'><ul class='itemize'><li id='dcl.init.list-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-7.1'>(7.1)</a></div><div id='dcl.init.list-7.1.sentence-1' class='sentence'>from a floating-point type to an integer type, or</div></li><li id='dcl.init.list-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-7.2'>(7.2)</a></div><div id='dcl.init.list-7.2.sentence-1' class='sentence'>from <span class='texttt'>long double</span> to <span class='texttt'>double</span> or <span class='texttt'>float</span>, or from
<span class='texttt'>double</span> to <span class='texttt'>float</span>, except where the source is a constant expression and
the actual value after conversion
is within the range of values that can be represented (even if it cannot be represented exactly),
or</div></li><li id='dcl.init.list-7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-7.3'>(7.3)</a></div><div id='dcl.init.list-7.3.sentence-1' class='sentence'>from an integer type or unscoped enumeration type to a floating-point type, except
where the source is a constant expression and the actual value after conversion will fit
into the target type and will produce the original value when converted back to the
original type, or</div></li><li id='dcl.init.list-7.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-7.4'>(7.4)</a></div><div id='dcl.init.list-7.4.sentence-1' class='sentence'>from an integer type or unscoped enumeration type to an integer type that cannot
represent all the values of the original type, except where the source is a constant
expression whose value after integral promotions will fit into the target type<a class='hidden_link' href='#dcl.init.list-7.4.sentence-1'>.</a></div></li></ul></div><div id='dcl.init.list-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.init.list-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.init.list-7.sentence-3' class='sentence'>As indicated above, such conversions are not allowed at the top level in
list-initializations<a class='hidden_link' href='#dcl.init.list-7.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>   <div id='dcl.init.list-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.init.list-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int x = 999;                    <span class='comment'>// <span class='tcode_in_codeblock'>x</span> is not a constant expression
</span>const int y = 999;
const int z = 99;
char c1 = x;                    <span class='comment'>// OK, though it might narrow (in this case, it does narrow)
</span>char c2{x};                     <span class='comment'>// error: might narrow
</span>char c3{y};                     <span class='comment'>// error: narrows (assuming <span class='tcode_in_codeblock'>char</span> is 8 bits)
</span>char c4{z};                     <span class='comment'>// OK: no narrowing needed
</span>unsigned char uc1 = {5};        <span class='comment'>// OK: no narrowing needed
</span>unsigned char uc2 = {-1};       <span class='comment'>// error: narrows
</span>unsigned int ui1 = {-1};        <span class='comment'>// error: narrows
</span>signed int si1 =
  { (unsigned int)-1 };         <span class='comment'>// error: narrows
</span>int ii = {2.0};                 <span class='comment'>// error: narrows
</span>float f1 { x };                 <span class='comment'>// error: might narrow
</span>float f2 { 7 };                 <span class='comment'>// OK: 7 can be exactly represented as a <span class='tcode_in_codeblock'>float</span>
</span>int f(int);
int a[] = { 2, f(2), f(2.0) };  <span class='comment'>// OK: the <span class='tcode_in_codeblock'>double</span>-to-<span class='tcode_in_codeblock'>int</span> conversion is not at the top level
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div></div><div id='dcl.fct.def' class='section'><h2 ><a class='secnum' href='#dcl.fct.def' style='min-width:88pt'>9.4</a> Function definitions <a class='abbr_ref' href='dcl.fct.def'>[dcl.fct.def]</a></h2><span class='indexparent'><a class='index' id=':definition,function'></a></span><div id='dcl.fct.def.general' class='section'><h3 ><a class='secnum' href='#dcl.fct.def.general' style='min-width:103pt'>9.4.1</a> In general <a class='abbr_ref' href='dcl.fct.def.general'>[dcl.fct.def.general]</a></h3><div class='para' id='dcl.fct.def.general-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5676'>#</a></div><div id='dcl.fct.def.general-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':body,function'></a></span>Function definitions have the form</div><span class='indexparent'><a class='index' id=':function-definition'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:function-definition' id='nt:function-definition'>function-definition:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <i ><a href='class.mem#nt:virt-specifier-seq'>virt-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <i ><a href='temp#nt:requires-clause'>requires-clause</a></i> <i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:function-body' id='nt:function-body'>function-body:</a>
&#9;<i ><a href='class.base.init#nt:ctor-initializer'>ctor-initializer</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='stmt.block#nt:compound-statement'>compound-statement</a></i>
&#9;<i ><a href='except#nt:function-try-block'>function-try-block</a></i>
&#9;<span class='terminal'>= default ;</span>
&#9;<span class='terminal'>= delete ;</span>
</pre><div id='dcl.fct.def.general-1.sentence-2' class='sentence'>Any informal reference to the body of a function should be interpreted as a reference to
the non-terminal <i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i><a class='hidden_link' href='#dcl.fct.def.general-1.sentence-2'>.</a></div> <div id='dcl.fct.def.general-1.sentence-3' class='sentence'>The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> in a <i ><a href='dcl.fct.def.general#nt:function-definition'>function-definition</a></i>
appertains to the function<a class='hidden_link' href='#dcl.fct.def.general-1.sentence-3'>.</a></div> <div id='dcl.fct.def.general-1.sentence-4' class='sentence'>A <i ><a href='class.mem#nt:virt-specifier-seq'>virt-specifier-seq</a></i> can be part of a <i ><a href='dcl.fct.def.general#nt:function-definition'>function-definition</a></i>
only if it is a <i ><a href='class.mem#nt:member-declaration'>member-declaration</a></i><a class='hidden_link' href='#dcl.fct.def.general-1.sentence-4'>.</a></div></div><div class='para' id='dcl.fct.def.general-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5703'>#</a></div><div id='dcl.fct.def.general-2.sentence-1' class='sentence'>In a <i ><a href='dcl.fct.def.general#nt:function-definition'>function-definition</a></i>,
either <span class='texttt'>void</span> <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <span class='texttt'>;</span>
or <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <span class='texttt'>;</span>
shall be a well-formed function declaration
as described in <a href='#dcl.fct'>[dcl.fct]</a><a class='hidden_link' href='#dcl.fct.def.general-2.sentence-1'>.</a></div> <div id='dcl.fct.def.general-2.sentence-2' class='sentence'>A function shall be defined only in namespace or class scope<a class='hidden_link' href='#dcl.fct.def.general-2.sentence-2'>.</a></div> <div id='dcl.fct.def.general-2.sentence-3' class='sentence'>The type of a parameter or the return type for a function
definition shall not be
an incomplete or abstract (possibly cv-qualified) class type
in the context of the function definition
unless the function is deleted (<a href='#dcl.fct.def.delete'>[dcl.fct.def.delete]</a>)<a class='hidden_link' href='#dcl.fct.def.general-2.sentence-3'>.</a></div></div><div class='para' id='dcl.fct.def.general-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5716'>#</a></div><div id='dcl.fct.def.general-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct.def.general-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='dcl.fct.def.general-3.sentence-1' class='sentence'>A simple example of a complete function definition is</div><pre class='codeblock'>
int max(int a, int b, int c) {
  int m = (a &gt; b) ? a : b;
  return (m &gt; c) ? m : c;
}</pre><div id='dcl.fct.def.general-3.sentence-2' class='sentence'>Here
<span class='texttt'>int</span>
is the
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>;
<span class='texttt'>max(int</span>
<span class='texttt'>a,</span>
<span class='texttt'>int</span>
<span class='texttt'>b,</span>
<span class='texttt'>int</span>
<span class='texttt'>c)</span>
is the
<i ><a href='dcl.decl#nt:declarator'>declarator</a></i>;
<span class='texttt'>{ <span class='texttt'>/* ...&nbsp;*/</span> }</span>
is the
<i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i><a class='hidden_link' href='#dcl.fct.def.general-3.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct.def.general-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5744'>#</a></div><div id='dcl.fct.def.general-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':initializer,base_class'></a></span><span class='indexparent'><a class='index' id=':initializer,member'></a></span><span class='indexparent'><a class='index' id=':definition,constructor'></a></span>A
<i ><a href='class.base.init#nt:ctor-initializer'>ctor-initializer</a></i>
is used only in a constructor; see <a href='class.ctor'>[class.ctor]</a> and <a href='class.init'>[class.init]</a><a class='hidden_link' href='#dcl.fct.def.general-4.sentence-1'>.</a></div></div><div class='para' id='dcl.fct.def.general-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5752'>#</a></div><div id='dcl.fct.def.general-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.fct.def.general-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.fct.def.general-5.sentence-1' class='sentence'>A <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i> affects the type of <span class='texttt'>this</span>
in the body of a member function; see <a href='#dcl.ref'>[dcl.ref]</a><a class='hidden_link' href='#dcl.fct.def.general-5.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct.def.general-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.general-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5758'>#</a></div><div id='dcl.fct.def.general-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.fct.def.general-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.fct.def.general-6.sentence-1' class='sentence'>Unused parameters need not be named<a class='hidden_link' href='#dcl.fct.def.general-6.sentence-1'>.</a></div> <div id='dcl.fct.def.general-6.sentence-2' class='sentence'>For example,</div><pre class='codeblock'>
void print(int a, int) {
  std::printf("a = %d\n",a);
}</pre> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct.def.general-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.general-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5770'>#</a></div><div id='dcl.fct.def.general-7.sentence-1' class='sentence'>In the <i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i>, a
<span class='indexparent'><a class='index' id=':variable,function-local_predefined'></a></span><span class='textit'>function-local predefined variable</span> denotes a block-scope object of static
storage duration that is implicitly defined (see <a href='basic.scope.block'>[basic.scope.block]</a>)<a class='hidden_link' href='#dcl.fct.def.general-7.sentence-1'>.</a></div></div><div class='para' id='dcl.fct.def.general-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.general-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5775'>#</a></div><div id='dcl.fct.def.general-8.sentence-1' class='sentence'>The function-local predefined variable <span class='texttt'>_&shy;_&shy;func_&shy;_&shy;</span> is
defined as if a definition of the form
<pre class='codeblock'>
static const char __func__[] = "<span class='textit'>function-name</span>";</pre>
had been provided, where <span class='texttt'><span class='textit'>function-name</span></span> is an <span class='indexparent'><a class='index' id=':string_resulting_from___func__'></a></span>implementation-defined string<a class='hidden_link' href='#dcl.fct.def.general-8.sentence-1'>.</a></div> <div id='dcl.fct.def.general-8.sentence-2' class='sentence'>It is unspecified whether such a variable has an address
distinct from that of any other object in the program<a class='hidden_link' href='#dcl.fct.def.general-8.sentence-2'>.</a><a class='footnotenum' href='#footnote-102'>102</a></div> <div id='dcl.fct.def.general-8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct.def.general-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S {
  S() : s(__func__) { }             <span class='comment'>// OK
</span>  const char* s;
};
void f(const char* s = __func__);   <span class='comment'>// error: <span class='tcode_in_codeblock'>_&shy;_&shy;func_&shy;_&shy;</span> is undeclared
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-102'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-102'>102)</a></div><div id='footnote-102.sentence-1' class='sentence'>Implementations are
permitted to provide additional predefined variables with names that are reserved to the
implementation (<a href='lex.name'>[lex.name]</a>)<a class='hidden_link' href='#footnote-102.sentence-1'>.</a></div> <div id='footnote-102.sentence-2' class='sentence'>If a predefined variable is not
odr-used (<a href='basic.def.odr'>[basic.def.odr]</a>), its string value need not be present in the program image<a class='hidden_link' href='#footnote-102.sentence-2'>.</a></div></div></div><div id='dcl.fct.def.default' class='section'><h3 ><a class='secnum' href='#dcl.fct.def.default' style='min-width:103pt'>9.4.2</a> Explicitly-defaulted functions <a class='abbr_ref' href='dcl.fct.def.default'>[dcl.fct.def.default]</a></h3><div class='para' id='dcl.fct.def.default-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.default-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5800'>#</a></div><div id='dcl.fct.def.default-1.sentence-1' class='sentence'>A function definition whose
<i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i>
is of the form
<span class='texttt'>= default ;</span>
is called an <a class='hidden_link' href='#def:definition,function,explicitly-defaulted' id='def:definition,function,explicitly-defaulted'><i >explicitly-defaulted</i></a> definition<a class='hidden_link' href='#dcl.fct.def.default-1.sentence-1'>.</a></div> <div id='dcl.fct.def.default-1.sentence-2' class='sentence'>A function that is explicitly defaulted shall</div><div id='dcl.fct.def.default-1.sentence-3' class='sentence'><ul class='itemize'><li id='dcl.fct.def.default-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct.def.default-1.1'>(1.1)</a></div><div id='dcl.fct.def.default-1.1.sentence-1' class='sentence'>be a special member function or a comparison operator
(<a href='expr.spaceship'>[expr.spaceship]</a>, <a href='expr.rel'>[expr.rel]</a>, <a href='expr.eq'>[expr.eq]</a>), and</div></li><li id='dcl.fct.def.default-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct.def.default-1.2'>(1.2)</a></div><div id='dcl.fct.def.default-1.2.sentence-1' class='sentence'>not have default arguments<a class='hidden_link' href='#dcl.fct.def.default-1.2.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='dcl.fct.def.default-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.default-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5816'>#</a></div><div id='dcl.fct.def.default-2.sentence-1' class='sentence'>The type <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> of an explicitly defaulted function <span class='texttt'>F</span>
is allowed to differ from the type <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span> it would have had
if it were implicitly declared, as follows:
<ul class='itemize'><li id='dcl.fct.def.default-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct.def.default-2.1'>(2.1)</a></div><div id='dcl.fct.def.default-2.1.sentence-1' class='sentence'><span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> and <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span> may have differing <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i><span class='textit'>s</span>; and</div></li><li id='dcl.fct.def.default-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct.def.default-2.2'>(2.2)</a></div><div id='dcl.fct.def.default-2.2.sentence-1' class='sentence'>if <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span> has a parameter of type <span class='texttt'>const C&amp;</span>,
  the corresponding parameter of <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> may be of type <span class='texttt'>C&amp;</span><a class='hidden_link' href='#dcl.fct.def.default-2.2.sentence-1'>.</a></div></li></ul></div> <div id='dcl.fct.def.default-2.sentence-2' class='sentence'>
If <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> differs from <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span> in any other way, then:
<ul class='itemize'><li id='dcl.fct.def.default-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct.def.default-2.3'>(2.3)</a></div><div id='dcl.fct.def.default-2.3.sentence-1' class='sentence'>if <span class='texttt'>F</span> is an assignment operator, and
  the return type of <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> differs from
  the return type of <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span> or
  <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>'s parameter type is not a reference,
  the program is ill-formed;</div></li><li id='dcl.fct.def.default-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct.def.default-2.4'>(2.4)</a></div><div id='dcl.fct.def.default-2.4.sentence-1' class='sentence'>otherwise, if <span class='texttt'>F</span> is explicitly defaulted on its first declaration,
  it is defined as deleted;</div></li><li id='dcl.fct.def.default-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct.def.default-2.5'>(2.5)</a></div><div id='dcl.fct.def.default-2.5.sentence-1' class='sentence'>otherwise, the program is ill-formed<a class='hidden_link' href='#dcl.fct.def.default-2.5.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='dcl.fct.def.default-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.default-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5842'>#</a></div><div id='dcl.fct.def.default-3.sentence-1' class='sentence'>An explicitly-defaulted function that is not defined as deleted may be declared
<span class='texttt'>constexpr</span> only if it would have been implicitly declared as
<span class='texttt'>constexpr</span><a class='hidden_link' href='#dcl.fct.def.default-3.sentence-1'>.</a></div> <div id='dcl.fct.def.default-3.sentence-2' class='sentence'>If
a function is explicitly defaulted on its first declaration,
it is implicitly considered to be <span class='texttt'>constexpr</span> if the implicit
declaration would be<a class='hidden_link' href='#dcl.fct.def.default-3.sentence-2'>.</a></div></div><div class='para' id='dcl.fct.def.default-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.default-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5850'>#</a></div><div id='dcl.fct.def.default-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct.def.default-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S {
  constexpr S() = default;              <span class='comment'>// ill-formed: implicit <span class='tcode_in_codeblock'>S()</span> is not <span class='tcode_in_codeblock'>constexpr</span>
</span>  S(int a = 0) = default;               <span class='comment'>// ill-formed: default argument
</span>  void operator=(const S&amp;) = default;   <span class='comment'>// ill-formed: non-matching return type
</span>  ~S() noexcept(false) = default;       <span class='comment'>// deleted: exception specification does not match
</span>private:
  int i;
  S(S&amp;);                                <span class='comment'>// OK: private copy constructor
</span>};
S::S(S&amp;) = default;                     <span class='comment'>// OK: defines copy constructor
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct.def.default-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.default-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5866'>#</a></div><div id='dcl.fct.def.default-5.sentence-1' class='sentence'>Explicitly-defaulted functions and implicitly-declared functions are collectively
called <a class='hidden_link' href='#def:defaulted' id='def:defaulted'><i >defaulted</i></a> functions, and the implementation
shall provide implicit definitions
for them (<a href='class.ctor'>[class.ctor]</a>
<a href='class.dtor'>[class.dtor]</a>, <a href='class.copy.ctor'>[class.copy.ctor]</a>, <a href='class.copy.assign'>[class.copy.assign]</a>),
which might mean defining them as deleted<a class='hidden_link' href='#dcl.fct.def.default-5.sentence-1'>.</a></div> <div id='dcl.fct.def.default-5.sentence-2' class='sentence'>A function is
<a class='hidden_link' href='#def:user-provided' id='def:user-provided'><i >user-provided</i></a> if it is user-declared and not explicitly
defaulted or deleted on its first declaration<a class='hidden_link' href='#dcl.fct.def.default-5.sentence-2'>.</a></div> <div id='dcl.fct.def.default-5.sentence-3' class='sentence'>A user-provided explicitly-defaulted function
(i.e., explicitly defaulted after its first declaration)
is defined at the point where it is explicitly defaulted; if such a function is implicitly
defined as deleted, the program is ill-formed.
<div id='dcl.fct.def.default-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.fct.def.default-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.fct.def.default-5.sentence-4' class='sentence'>Declaring a function as defaulted after its first declaration can provide
efficient execution and concise
definition while enabling a stable binary interface to an evolving code
base<a class='hidden_link' href='#dcl.fct.def.default-5.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div class='para' id='dcl.fct.def.default-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.default-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5885'>#</a></div><div id='dcl.fct.def.default-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct.def.default-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct trivial {
  trivial() = default;
  trivial(const trivial&amp;) = default;
  trivial(trivial&amp;&amp;) = default;
  trivial&amp; operator=(const trivial&amp;) = default;
  trivial&amp; operator=(trivial&amp;&amp;) = default;
  ~trivial() = default;
};

struct nontrivial1 {
  nontrivial1();
};
nontrivial1::nontrivial1() = default;   <span class='comment'>// not first declaration
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.fct.def.delete' class='section'><h3 ><a class='secnum' href='#dcl.fct.def.delete' style='min-width:103pt'>9.4.3</a> Deleted definitions <a class='abbr_ref' href='dcl.fct.def.delete'>[dcl.fct.def.delete]</a></h3><span class='indexparent'><a class='index' id=':definition,function,deleted'></a></span><div class='para' id='dcl.fct.def.delete-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.delete-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5908'>#</a></div><div id='dcl.fct.def.delete-1.sentence-1' class='sentence'>A function definition whose
<i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i>
is of the form
<span class='texttt'>= delete ;</span>
is called a <a class='hidden_link' href='#def:deleted_definition' id='def:deleted_definition'><i>deleted definition</i></a><a class='hidden_link' href='#dcl.fct.def.delete-1.sentence-1'>.</a></div> <div id='dcl.fct.def.delete-1.sentence-2' class='sentence'>A function with a
deleted definition is also called a <a class='hidden_link' href='#def:deleted_function' id='def:deleted_function'><i>deleted function</i></a><a class='hidden_link' href='#dcl.fct.def.delete-1.sentence-2'>.</a></div></div><div class='para' id='dcl.fct.def.delete-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.delete-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5916'>#</a></div><div id='dcl.fct.def.delete-2.sentence-1' class='sentence'>A program that refers to a deleted function implicitly or explicitly, other
than to declare it, is ill-formed<a class='hidden_link' href='#dcl.fct.def.delete-2.sentence-1'>.</a></div> <div id='dcl.fct.def.delete-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.fct.def.delete-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.fct.def.delete-2.sentence-2' class='sentence'>This includes calling the function
implicitly or explicitly and forming a pointer or pointer-to-member to the
function<a class='hidden_link' href='#dcl.fct.def.delete-2.sentence-2'>.</a></div> <div id='dcl.fct.def.delete-2.sentence-3' class='sentence'>It applies even for references in expressions that are not
potentially-evaluated<a class='hidden_link' href='#dcl.fct.def.delete-2.sentence-3'>.</a></div> <div id='dcl.fct.def.delete-2.sentence-4' class='sentence'>If a function is overloaded, it is referenced only if the
function is selected by overload resolution<a class='hidden_link' href='#dcl.fct.def.delete-2.sentence-4'>.</a></div> <div id='dcl.fct.def.delete-2.sentence-5' class='sentence'>The implicit
odr-use (<a href='basic.def.odr'>[basic.def.odr]</a>) of a virtual function does not, by itself,
constitute a reference<a class='hidden_link' href='#dcl.fct.def.delete-2.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct.def.delete-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.delete-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5926'>#</a></div><div id='dcl.fct.def.delete-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct.def.delete-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='dcl.fct.def.delete-3.sentence-1' class='sentence'>One can prevent default initialization and
initialization by non-<span class='texttt'>double</span>s with
<pre class='codeblock'>
struct onlydouble {
  onlydouble() = delete;                <span class='comment'>// OK, but redundant
</span>  template&lt;class T&gt;
    onlydouble(T) = delete;
  onlydouble(double);
};</pre></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> <div id='dcl.fct.def.delete-3.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct.def.delete-3.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='dcl.fct.def.delete-3.sentence-2' class='sentence'>One can prevent use of a
class in certain <i ><a href='expr.new#nt:new-expression'>new-expression</a></i><span class='textit'>s</span> by using deleted definitions
of a user-declared <span class='texttt'>operator new</span> for that class<a class='hidden_link' href='#dcl.fct.def.delete-3.sentence-2'>.</a></div> <pre class='codeblock'>
struct sometype {
  void* operator new(std::size_t) = delete;
  void* operator new[](std::size_t) = delete;
};
sometype* p = new sometype;     <span class='comment'>// error, deleted class <span class='tcode_in_codeblock'>operator new</span>
</span>sometype* q = new sometype[3];  <span class='comment'>// error, deleted class <span class='tcode_in_codeblock'>operator new[]</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> <div id='dcl.fct.def.delete-3.example-3' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct.def.delete-3.example-3'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='dcl.fct.def.delete-3.sentence-3' class='sentence'>One can make a class uncopyable, i.e., move-only, by using deleted
definitions of the copy constructor and copy assignment operator, and then
providing defaulted definitions of the move constructor and move assignment operator.
<pre class='codeblock'>
struct moveonly {
  moveonly() = default;
  moveonly(const moveonly&amp;) = delete;
  moveonly(moveonly&amp;&amp;) = default;
  moveonly&amp; operator=(const moveonly&amp;) = delete;
  moveonly&amp; operator=(moveonly&amp;&amp;) = default;
  ~moveonly() = default;
};
moveonly* p;
moveonly q(*p);                 <span class='comment'>// error, deleted copy constructor
</span></pre></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.fct.def.delete-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.delete-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5971'>#</a></div><div id='dcl.fct.def.delete-4.sentence-1' class='sentence'>A deleted function is implicitly an inline function (<a href='#dcl.inline'>[dcl.inline]</a>)<a class='hidden_link' href='#dcl.fct.def.delete-4.sentence-1'>.</a></div> <div id='dcl.fct.def.delete-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.fct.def.delete-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.fct.def.delete-4.sentence-4' class='sentence'>The
one-definition rule (<a href='basic.def.odr'>[basic.def.odr]</a>) applies to deleted definitions<a class='hidden_link' href='#dcl.fct.def.delete-4.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.fct.def.delete-4.sentence-2' class='sentence'>
A deleted definition of a function shall be the first declaration of the function or,
for an explicit specialization of a function template, the first declaration of that
specialization<a class='hidden_link' href='#dcl.fct.def.delete-4.sentence-2'>.</a></div> <div id='dcl.fct.def.delete-4.sentence-3' class='sentence'>An implicitly declared allocation or deallocation function (<a href='basic.stc.dynamic'>[basic.stc.dynamic]</a>)
shall not be defined as deleted<a class='hidden_link' href='#dcl.fct.def.delete-4.sentence-3'>.</a></div> <div id='dcl.fct.def.delete-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.fct.def.delete-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct sometype {
  sometype();
};
sometype::sometype() = delete;  <span class='comment'>// ill-formed; not first declaration
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  </div></div></div><div id='dcl.struct.bind' class='section'><h2 ><a class='secnum' href='#dcl.struct.bind' style='min-width:88pt'>9.5</a> Structured binding declarations <a class='abbr_ref' href='dcl.struct.bind'>[dcl.struct.bind]</a></h2><span class='indexparent'><a class='index' id=':structured_binding_declaration_'></a></span><div class='para' id='dcl.struct.bind-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.struct.bind-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L5993'>#</a></div><div id='dcl.struct.bind-1.sentence-1' class='sentence'>A structured binding declaration introduces the <i ><a href='lex.name#nt:identifier'>identifier</a></i><span class='textit'>s</span>
<span class='texttt'>v</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>, <span class='texttt'>v</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>, <span class='texttt'>v</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span>, <a class='hidden_link' href='#dcl.struct.bind-1.sentence-1'>.</a></div> <div id='dcl.struct.bind-1.sentence-2' class='sentence'><a class='hidden_link' href='#dcl.struct.bind-1.sentence-2'>.</a></div> <div id='dcl.struct.bind-1.sentence-3' class='sentence'><a class='hidden_link' href='#dcl.struct.bind-1.sentence-3'>.</a></div> <div id='dcl.struct.bind-1.sentence-4' class='sentence'>of the
<i ><a href='cpp#nt:identifier-list'>identifier-list</a></i> as names (<a href='basic.scope.declarative'>[basic.scope.declarative]</a>)
of <a class='hidden_link' href='#def:structured_binding' id='def:structured_binding'><i >structured binding</i></a>s<a class='hidden_link' href='#dcl.struct.bind-1.sentence-4'>.</a></div> <div id='dcl.struct.bind-1.sentence-5' class='sentence'>Let <span class='mathit'>cv</span> denote the
<i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i><span class='textit'>s</span> in the <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i><a class='hidden_link' href='#dcl.struct.bind-1.sentence-5'>.</a></div> <div id='dcl.struct.bind-1.sentence-6' class='sentence'>First, a
variable with a unique name <span class='texttt'>e</span> is introduced<a class='hidden_link' href='#dcl.struct.bind-1.sentence-6'>.</a></div> <div id='dcl.struct.bind-1.sentence-7' class='sentence'>If the
<i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i> in the <i ><a href='dcl.init#nt:initializer'>initializer</a></i>
has array type <span class='texttt'>A</span> and no <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i> is present, <span class='texttt'>e</span>
has type <span class='mathit'>cv</span> <span class='texttt'>A</span> and each element is copy-initialized or direct-initialized
from the corresponding element of the <i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i> as specified
by the form of the <i ><a href='dcl.init#nt:initializer'>initializer</a></i><a class='hidden_link' href='#dcl.struct.bind-1.sentence-7'>.</a></div> <div id='dcl.struct.bind-1.sentence-8' class='sentence'>Otherwise, <span class='texttt'>e</span>
is defined as-if by</div><pre class='ncbnf'><i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>e</span> <i ><a href='dcl.init#nt:initializer'>initializer</a></i> <span class='terminal'>;</span>
</pre><div id='dcl.struct.bind-1.sentence-9' class='sentence'>where
the declaration is never interpreted as a function declaration and
the parts of the declaration other than the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> are taken
from the corresponding structured binding declaration<a class='hidden_link' href='#dcl.struct.bind-1.sentence-9'>.</a></div> <div id='dcl.struct.bind-1.sentence-10' class='sentence'>The type of the <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>
<span class='texttt'>e</span> is called <span class='texttt'>E</span><a class='hidden_link' href='#dcl.struct.bind-1.sentence-10'>.</a></div> <div id='dcl.struct.bind-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.struct.bind-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.struct.bind-1.sentence-11' class='sentence'><span class='texttt'>E</span> is never a reference type (<a href='expr.prop'>[expr.prop]</a>)<a class='hidden_link' href='#dcl.struct.bind-1.sentence-11'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.struct.bind-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.struct.bind-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6024'>#</a></div><div id='dcl.struct.bind-2.sentence-1' class='sentence'>If the <i ><a href='dcl.init#nt:initializer'>initializer</a></i> refers to
one of the names introduced by the structured binding declaration,
the program is ill-formed<a class='hidden_link' href='#dcl.struct.bind-2.sentence-1'>.</a></div></div><div class='para' id='dcl.struct.bind-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.struct.bind-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6029'>#</a></div><div id='dcl.struct.bind-3.sentence-1' class='sentence'>If <span class='texttt'>E</span> is an array type with element type <span class='texttt'>T</span>, the number
of elements in the <i ><a href='cpp#nt:identifier-list'>identifier-list</a></i> shall be equal to the
number of elements of <span class='texttt'>E</span><a class='hidden_link' href='#dcl.struct.bind-3.sentence-1'>.</a></div> <div id='dcl.struct.bind-3.sentence-2' class='sentence'>Each <span class='texttt'>v</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is the name of an
lvalue that refers to the element <span class='math'><span class='mathalpha'>i</span></span> of the array and whose type
is <span class='texttt'>T</span>; the referenced type is <span class='texttt'>T</span><a class='hidden_link' href='#dcl.struct.bind-3.sentence-2'>.</a></div> <div id='dcl.struct.bind-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.struct.bind-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.struct.bind-3.sentence-3' class='sentence'>The top-level cv-qualifiers of <span class='texttt'>T</span> are <span class='mathit'>cv</span><a class='hidden_link' href='#dcl.struct.bind-3.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.struct.bind-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.struct.bind-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
  auto f() -&gt; int(&amp;)[2];
  auto [ x, y ] = f();          <span class='comment'>// <span class='tcode_in_codeblock'>x</span> and <span class='tcode_in_codeblock'>y</span> refer to elements in a copy of the array return value
</span>  auto&amp; [ xr, yr ] = f();       <span class='comment'>// <span class='tcode_in_codeblock'>xr</span> and <span class='tcode_in_codeblock'>yr</span> refer to elements in the array referred to by <span class='tcode_in_codeblock'>f</span>'s return value
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.struct.bind-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.struct.bind-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6046'>#</a></div><div id='dcl.struct.bind-4.sentence-1' class='sentence'>Otherwise, if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>std&#x200b;::&#x200b;tuple_&shy;size&lt;E&gt;</span>
names a complete type,
the expression <span class='texttt'>std&#x200b;::&#x200b;tuple_&shy;size&lt;E&gt;&#x200b;::&#x200b;value</span>
shall be a well-formed integral constant expression
and
the number of elements in
the <i ><a href='cpp#nt:identifier-list'>identifier-list</a></i> shall be equal to the value of that
expression<a class='hidden_link' href='#dcl.struct.bind-4.sentence-1'>.</a></div> <div id='dcl.struct.bind-4.sentence-2' class='sentence'>Let <span class='texttt'>i</span> be an index prvalue of type <span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span>
corresponding to <span class='texttt'>v</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\texttt{i}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">i</span></span></span></span></span></span></span></span></span><a class='hidden_link' href='#dcl.struct.bind-4.sentence-2'>.</a></div> <div id='dcl.struct.bind-4.sentence-3' class='sentence'>The <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i> <span class='texttt'>get</span> is looked up
in the scope of <span class='texttt'>E</span> by class member access lookup (<a href='basic.lookup.classref'>[basic.lookup.classref]</a>),
and if that finds at least one declaration
that is a function template whose first template parameter
is a non-type parameter,
the initializer is
<span class='texttt'>e.get&lt;i&gt;()</span><a class='hidden_link' href='#dcl.struct.bind-4.sentence-3'>.</a></div> <div id='dcl.struct.bind-4.sentence-4' class='sentence'>Otherwise, the initializer is <span class='texttt'>get&lt;i&gt;(e)</span>,
where <span class='texttt'>get</span> is looked up in the associated namespaces (<a href='basic.lookup.argdep'>[basic.lookup.argdep]</a>)<a class='hidden_link' href='#dcl.struct.bind-4.sentence-4'>.</a></div> <div id='dcl.struct.bind-4.sentence-5' class='sentence'>In either case, <span class='texttt'>get&lt;i&gt;</span> is interpreted as a <i ><a href='temp.names#nt:template-id'>template-id</a></i><a class='hidden_link' href='#dcl.struct.bind-4.sentence-5'>.</a></div> <div id='dcl.struct.bind-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.struct.bind-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.struct.bind-4.sentence-9' class='sentence'>Ordinary unqualified lookup (<a href='basic.lookup.unqual'>[basic.lookup.unqual]</a>) is not performed<a class='hidden_link' href='#dcl.struct.bind-4.sentence-9'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.struct.bind-4.sentence-6' class='sentence'>
In either case, <span class='texttt'>e</span> is an lvalue if the type of the entity <span class='texttt'>e</span>
is an lvalue reference and an xvalue otherwise<a class='hidden_link' href='#dcl.struct.bind-4.sentence-6'>.</a></div> <div id='dcl.struct.bind-4.sentence-7' class='sentence'>Given the type <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
designated by <span class='texttt'>std&#x200b;::&#x200b;tuple_&shy;element&lt;i, E&gt;&#x200b;::&#x200b;type</span>,
variables are introduced with unique names <span class='texttt'>r</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
of type “reference to <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>”
initialized with the initializer (<a href='#dcl.init.ref'>[dcl.init.ref]</a>),
where the reference is an lvalue reference if the initializer is
an lvalue and an rvalue reference otherwise<a class='hidden_link' href='#dcl.struct.bind-4.sentence-7'>.</a></div> <div id='dcl.struct.bind-4.sentence-8' class='sentence'>Each <span class='texttt'>v</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is the name of an lvalue of type <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
that refers to the object bound to <span class='texttt'>r</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>;
the referenced type is <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><a class='hidden_link' href='#dcl.struct.bind-4.sentence-8'>.</a></div></div><div class='para' id='dcl.struct.bind-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.struct.bind-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6082'>#</a></div><div id='dcl.struct.bind-5.sentence-1' class='sentence'>Otherwise,
all of <span class='texttt'>E</span>'s non-static data members
shall be direct members of <span class='texttt'>E</span> or
of the same base class of <span class='texttt'>E</span>,
well-formed when named as <span class='texttt'>e.<span class='textit'>name</span></span>
in the context of the structured binding,
<span class='texttt'>E</span> shall not have an anonymous union member, and
the number of elements in the <i ><a href='cpp#nt:identifier-list'>identifier-list</a></i> shall be
equal to the number of non-static data members of <span class='texttt'>E</span><a class='hidden_link' href='#dcl.struct.bind-5.sentence-1'>.</a></div> <div id='dcl.struct.bind-5.sentence-2' class='sentence'>Designating the non-static data members of <span class='texttt'>E</span> as
<span class='texttt'>m</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>, <span class='texttt'>m</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>, <span class='texttt'>m</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span>, <a class='hidden_link' href='#dcl.struct.bind-5.sentence-2'>.</a></div> <div id='dcl.struct.bind-5.sentence-3' class='sentence'><a class='hidden_link' href='#dcl.struct.bind-5.sentence-3'>.</a></div> <div id='dcl.struct.bind-5.sentence-4' class='sentence'><a class='hidden_link' href='#dcl.struct.bind-5.sentence-4'>.</a></div> <div id='dcl.struct.bind-5.sentence-5' class='sentence'>(in declaration order),
each <span class='texttt'>v</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is the
name of an lvalue that refers to the member <span class='texttt'>m</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> of <span class='texttt'>e</span> and
whose type is <span class='mathit'>cv</span> <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>, where <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is the declared type of
that member; the referenced type is <span class='mathit'>cv</span> <span class='texttt'>T</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><a class='hidden_link' href='#dcl.struct.bind-5.sentence-5'>.</a></div> <div id='dcl.struct.bind-5.sentence-6' class='sentence'>The lvalue is a
bit-field if that member is a bit-field<a class='hidden_link' href='#dcl.struct.bind-5.sentence-6'>.</a></div> <div id='dcl.struct.bind-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.struct.bind-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S { int x1 : 2; volatile double y1; };
S f();
const auto [ x, y ] = f();</pre> <div id='dcl.struct.bind-5.sentence-7' class='sentence'>
The type of the <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> <span class='texttt'>x</span> is “<span class='texttt'>const int</span>”,
the type of the <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> <span class='texttt'>y</span> is “<span class='texttt'>const volatile double</span>”<a class='hidden_link' href='#dcl.struct.bind-5.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.enum' class='section'><h2 ><a class='secnum' href='#dcl.enum' style='min-width:88pt'>9.6</a> Enumeration declarations <a class='abbr_ref' href='dcl.enum'>[dcl.enum]</a></h2><span class='indexparent'><a class='index' id=':enumeration'></a></span><span class='indexparent'><a class='index' id=':{},enum_declaration'></a></span><span class='indexparent'><a class='index' id=':enum,type_of'></a></span><div class='para' id='dcl.enum-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.enum-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6115'>#</a></div><div id='dcl.enum-1.sentence-1' class='sentence'>An enumeration is a distinct type (<a href='basic.compound'>[basic.compound]</a>) with named
constants<a class='hidden_link' href='#dcl.enum-1.sentence-1'>.</a></div> <div id='dcl.enum-1.sentence-2' class='sentence'>Its name becomes an <i ><a href='dcl.enum#nt:enum-name'>enum-name</a></i> within its scope<a class='hidden_link' href='#dcl.enum-1.sentence-2'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:enum-name' id='nt:enum-name'>enum-name:</a>
&#9;<i ><a href='lex.name#nt:identifier'>identifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:enum-specifier' id='nt:enum-specifier'>enum-specifier:</a>
&#9;<i ><a href='dcl.enum#nt:enum-head'>enum-head</a></i> <span class='terminal'>{</span> <i ><a href='dcl.enum#nt:enumerator-list'>enumerator-list</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>}</span>
&#9;<i ><a href='dcl.enum#nt:enum-head'>enum-head</a></i> <span class='terminal'>{</span> <i ><a href='dcl.enum#nt:enumerator-list'>enumerator-list</a></i> <span class='terminal'>, }</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:enum-head' id='nt:enum-head'>enum-head:</a>
&#9;<i ><a href='dcl.enum#nt:enum-key'>enum-key</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.enum#nt:enum-head-name'>enum-head-name</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.enum#nt:enum-base'>enum-base</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:enum-head-name' id='nt:enum-head-name'>enum-head-name:</a>
&#9;<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:opaque-enum-declaration' id='nt:opaque-enum-declaration'>opaque-enum-declaration:</a>
&#9;<i ><a href='dcl.enum#nt:enum-key'>enum-key</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <i ><a href='dcl.enum#nt:enum-base'>enum-base</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>;</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:enum-key' id='nt:enum-key'>enum-key:</a>
&#9;<span class='terminal'>enum</span>
&#9;<span class='terminal'>enum class</span>
&#9;<span class='terminal'>enum struct</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:enum-base' id='nt:enum-base'>enum-base:</a>
&#9;<span class='terminal'>:</span> <i ><a href='dcl.type#nt:type-specifier-seq'>type-specifier-seq</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:enumerator-list' id='nt:enumerator-list'>enumerator-list:</a>
&#9;<i ><a href='dcl.enum#nt:enumerator-definition'>enumerator-definition</a></i>
&#9;<i ><a href='dcl.enum#nt:enumerator-list'>enumerator-list</a></i> <span class='terminal'>,</span> <i ><a href='dcl.enum#nt:enumerator-definition'>enumerator-definition</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:enumerator-definition' id='nt:enumerator-definition'>enumerator-definition:</a>
&#9;<i ><a href='dcl.enum#nt:enumerator'>enumerator</a></i>
&#9;<i ><a href='dcl.enum#nt:enumerator'>enumerator</a></i> <span class='terminal'>=</span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:enumerator' id='nt:enumerator'>enumerator:</a>
&#9;<i ><a href='lex.name#nt:identifier'>identifier</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><div id='dcl.enum-1.sentence-3' class='sentence'>The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> in the <i ><a href='dcl.enum#nt:enum-head'>enum-head</a></i> and
the <i ><a href='dcl.enum#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i> appertains to the enumeration; the attributes
in that <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> are thereafter considered attributes of the
enumeration whenever it is named<a class='hidden_link' href='#dcl.enum-1.sentence-3'>.</a></div> <div id='dcl.enum-1.sentence-4' class='sentence'>A <span class='texttt'>:</span> following
“<span class='texttt'>enum</span> <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i>”
within the <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> of a <i ><a href='class.mem#nt:member-declaration'>member-declaration</a></i>
is parsed as part of an <i ><a href='dcl.enum#nt:enum-base'>enum-base</a></i><a class='hidden_link' href='#dcl.enum-1.sentence-4'>.</a></div> <div id='dcl.enum-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.enum-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.enum-1.sentence-6' class='sentence'>This resolves a potential ambiguity between the declaration of an enumeration
with an <i ><a href='dcl.enum#nt:enum-base'>enum-base</a></i> and the declaration of an unnamed bit-field of enumeration
type<a class='hidden_link' href='#dcl.enum-1.sentence-6'>.</a></div> <div id='dcl.enum-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.enum-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
   struct S {
     enum E : int {};
     enum E : int {};           <span class='comment'>// error: redeclaration of enumeration
</span>   };</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.enum-1.sentence-5' class='sentence'>
If an <i ><a href='dcl.enum#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i> contains
a <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>,
the declaration shall be an <a href='temp.expl.spec'>explicit specialization</a><a class='hidden_link' href='#dcl.enum-1.sentence-5'>.</a></div></div><div class='para' id='dcl.enum-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.enum-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6199'>#</a></div><div id='dcl.enum-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':constant,enumeration'></a></span>The enumeration type declared with an <i ><a href='dcl.enum#nt:enum-key'>enum-key</a></i>
of only <span class='texttt'>enum</span> is an <span class='indexparent'><a class='index' id=':enumeration,unscoped'></a></span><span class='textit'>unscoped enumeration</span>,
and its <i ><a href='dcl.enum#nt:enumerator'>enumerator</a></i><span class='textit'>s</span> are <a class='hidden_link' href='#def:enumerator,unscoped' id='def:enumerator,unscoped'><i >unscoped enumerators</i></a><a class='hidden_link' href='#dcl.enum-2.sentence-1'>.</a></div> <div id='dcl.enum-2.sentence-2' class='sentence'>The <i ><a href='dcl.enum#nt:enum-key'>enum-key</a></i><span class='textit'>s</span> <span class='texttt'>enum class</span> and
<span class='texttt'>enum struct</span> are semantically equivalent; an enumeration
type declared with one of these is a <span class='indexparent'><a class='index' id=':enumeration,scoped'></a></span><span class='textit'>scoped enumeration</span>,
and its <i ><a href='dcl.enum#nt:enumerator'>enumerator</a></i><span class='textit'>s</span> are <a class='hidden_link' href='#def:enumerator,scoped' id='def:enumerator,scoped'><i >scoped enumerators</i></a><a class='hidden_link' href='#dcl.enum-2.sentence-2'>.</a></div> <div id='dcl.enum-2.sentence-3' class='sentence'>The optional <i ><a href='lex.name#nt:identifier'>identifier</a></i> shall not be omitted in the declaration of a scoped enumeration<a class='hidden_link' href='#dcl.enum-2.sentence-3'>.</a></div> <div id='dcl.enum-2.sentence-4' class='sentence'>The <i ><a href='dcl.type#nt:type-specifier-seq'>type-specifier-seq</a></i> of an <i ><a href='dcl.enum#nt:enum-base'>enum-base</a></i>
shall name an integral type; any cv-qualification is ignored<a class='hidden_link' href='#dcl.enum-2.sentence-4'>.</a></div> <div id='dcl.enum-2.sentence-5' class='sentence'>An <i ><a href='dcl.enum#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i> declaring an unscoped enumeration shall
not omit the <i ><a href='dcl.enum#nt:enum-base'>enum-base</a></i><a class='hidden_link' href='#dcl.enum-2.sentence-5'>.</a></div> <div id='dcl.enum-2.sentence-6' class='sentence'>The identifiers in an <i ><a href='dcl.enum#nt:enumerator-list'>enumerator-list</a></i> are declared as
constants, and can appear wherever constants are required<a class='hidden_link' href='#dcl.enum-2.sentence-6'>.</a></div> <div id='dcl.enum-2.sentence-7' class='sentence'><span class='indexparent'><a class='index' id=':enumerator,value_of'></a></span>An <i ><a href='dcl.enum#nt:enumerator-definition'>enumerator-definition</a></i> with <span class='texttt'>=</span> gives the associated
<i ><a href='dcl.enum#nt:enumerator'>enumerator</a></i> the value indicated by the
<i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i><a class='hidden_link' href='#dcl.enum-2.sentence-7'>.</a></div> <div id='dcl.enum-2.sentence-8' class='sentence'>If the first <i ><a href='dcl.enum#nt:enumerator'>enumerator</a></i>
has no <i ><a href='dcl.init#nt:initializer'>initializer</a></i>, the value of the corresponding constant
is zero<a class='hidden_link' href='#dcl.enum-2.sentence-8'>.</a></div> <div id='dcl.enum-2.sentence-9' class='sentence'>An <i ><a href='dcl.enum#nt:enumerator-definition'>enumerator-definition</a></i> without an
<i ><a href='dcl.init#nt:initializer'>initializer</a></i> gives the <i ><a href='dcl.enum#nt:enumerator'>enumerator</a></i> the value
obtained by increasing the value of the previous <i ><a href='dcl.enum#nt:enumerator'>enumerator</a></i>
by one<a class='hidden_link' href='#dcl.enum-2.sentence-9'>.</a></div> <div id='dcl.enum-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.enum-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
enum { a, b, c=0 };
enum { d, e, f=e+2 };</pre><div id='dcl.enum-2.sentence-11' class='sentence'>defines <span class='texttt'>a</span>, <span class='texttt'>c</span>, and <span class='texttt'>d</span> to be zero, <span class='texttt'>b</span> and
<span class='texttt'>e</span> to be <span class='texttt'>1</span>, and <span class='texttt'>f</span> to be <span class='texttt'>3</span><a class='hidden_link' href='#dcl.enum-2.sentence-11'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.enum-2.sentence-10' class='sentence'>
The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> in an
<i ><a href='dcl.enum#nt:enumerator'>enumerator</a></i> appertains to that enumerator<a class='hidden_link' href='#dcl.enum-2.sentence-10'>.</a></div></div><div class='para' id='dcl.enum-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.enum-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6238'>#</a></div><div id='dcl.enum-3.sentence-1' class='sentence'>An <i ><a href='dcl.enum#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i> is either a redeclaration
of an enumeration in the current scope or a declaration of a new enumeration<a class='hidden_link' href='#dcl.enum-3.sentence-1'>.</a></div> <div id='dcl.enum-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.enum-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.enum-3.sentence-4' class='sentence'>An enumeration declared by an
<i ><a href='dcl.enum#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i> has a fixed underlying type and is a
complete type<a class='hidden_link' href='#dcl.enum-3.sentence-4'>.</a></div> <div id='dcl.enum-3.sentence-5' class='sentence'>The list of enumerators can be provided in a later redeclaration
with an <i ><a href='dcl.enum#nt:enum-specifier'>enum-specifier</a></i><a class='hidden_link' href='#dcl.enum-3.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.enum-3.sentence-2' class='sentence'> A scoped enumeration
shall not be later redeclared as unscoped or with a different underlying type<a class='hidden_link' href='#dcl.enum-3.sentence-2'>.</a></div> <div id='dcl.enum-3.sentence-3' class='sentence'>An unscoped enumeration shall not be later redeclared as scoped and each
redeclaration shall include an <i ><a href='dcl.enum#nt:enum-base'>enum-base</a></i> specifying the same
underlying type as in the original declaration<a class='hidden_link' href='#dcl.enum-3.sentence-3'>.</a></div></div><div class='para' id='dcl.enum-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.enum-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6250'>#</a></div><div id='dcl.enum-4.sentence-1' class='sentence'>If the <i ><a href='dcl.enum#nt:enum-key'>enum-key</a></i> is followed by a
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>, the <i ><a href='dcl.enum#nt:enum-specifier'>enum-specifier</a></i> shall
refer to an enumeration that was previously declared directly in the class or
namespace to which the <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> refers (i.e., neither
inherited nor introduced by a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>), and the
<i ><a href='dcl.enum#nt:enum-specifier'>enum-specifier</a></i> shall appear in a namespace enclosing the previous
declaration<a class='hidden_link' href='#dcl.enum-4.sentence-1'>.</a></div></div><div class='para' id='dcl.enum-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.enum-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6259'>#</a></div><div id='dcl.enum-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':enum,type_of_'></a></span>Each enumeration defines a type that is different from all other types<a class='hidden_link' href='#dcl.enum-5.sentence-1'>.</a></div> <div id='dcl.enum-5.sentence-2' class='sentence'>Each enumeration also has an <a class='hidden_link' href='#def:type,underlying,enumeration' id='def:type,underlying,enumeration'><i >underlying type</i></a><a class='hidden_link' href='#dcl.enum-5.sentence-2'>.</a></div> <div id='dcl.enum-5.sentence-3' class='sentence'>The underlying type can be explicitly specified using an <i ><a href='dcl.enum#nt:enum-base'>enum-base</a></i><a class='hidden_link' href='#dcl.enum-5.sentence-3'>.</a></div> <div id='dcl.enum-5.sentence-4' class='sentence'>For a scoped enumeration type, the underlying type is <span class='texttt'>int</span> if it is not
explicitly specified<a class='hidden_link' href='#dcl.enum-5.sentence-4'>.</a></div> <div id='dcl.enum-5.sentence-5' class='sentence'>In both of these cases, the underlying type is said to be
<a class='hidden_link' href='#def:type,underlying,fixed' id='def:type,underlying,fixed'><i >fixed</i></a><a class='hidden_link' href='#dcl.enum-5.sentence-5'>.</a></div> <div id='dcl.enum-5.sentence-6' class='sentence'>Following the closing brace of an <i ><a href='dcl.enum#nt:enum-specifier'>enum-specifier</a></i>, each
enumerator has the type of its enumeration<a class='hidden_link' href='#dcl.enum-5.sentence-6'>.</a></div> <div id='dcl.enum-5.sentence-7' class='sentence'>If the underlying type is fixed, the type of each enumerator
prior to the closing brace is the underlying
type
and the <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> in the <i ><a href='dcl.enum#nt:enumerator-definition'>enumerator-definition</a></i>
shall be a
<a href='expr.const#def:expression,converted_constant'>converted constant expression</a>
of the underlying type<a class='hidden_link' href='#dcl.enum-5.sentence-7'>.</a></div> <div id='dcl.enum-5.sentence-8' class='sentence'>If the underlying
type is not fixed,
the type of each enumerator prior to the closing brace is determined as
follows:</div><div id='dcl.enum-5.sentence-9' class='sentence'><ul class='itemize'><li id='dcl.enum-5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.enum-5.1'>(5.1)</a></div><div id='dcl.enum-5.1.sentence-1' class='sentence'>If an
initializer is specified for an enumerator, the
<i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> shall be an
<a href='expr.const#def:expression,integral_constant'>integral constant expression</a><a class='hidden_link' href='#dcl.enum-5.1.sentence-1'>.</a></div> <div id='dcl.enum-5.1.sentence-2' class='sentence'>If the expression has
unscoped enumeration type, the enumerator has the underlying type of that
enumeration type, otherwise it has the same type as the expression<a class='hidden_link' href='#dcl.enum-5.1.sentence-2'>.</a></div></li><li id='dcl.enum-5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.enum-5.2'>(5.2)</a></div><div id='dcl.enum-5.2.sentence-1' class='sentence'>If no initializer is specified for the
first enumerator, its type is an unspecified signed integral type<a class='hidden_link' href='#dcl.enum-5.2.sentence-1'>.</a></div></li><li id='dcl.enum-5.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.enum-5.3'>(5.3)</a></div><div id='dcl.enum-5.3.sentence-1' class='sentence'>Otherwise
the type of the enumerator is the same as that of the
preceding enumerator unless the incremented value is not representable
in that type, in which case the type is an unspecified integral type
sufficient to contain the incremented value<a class='hidden_link' href='#dcl.enum-5.3.sentence-1'>.</a></div> <div id='dcl.enum-5.3.sentence-2' class='sentence'>If no such type exists, the program
is ill-formed<a class='hidden_link' href='#dcl.enum-5.3.sentence-2'>.</a></div></li></ul></div></div><div class='para' id='dcl.enum-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.enum-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6302'>#</a></div><div id='dcl.enum-6.sentence-1' class='sentence'>An enumeration whose underlying type is fixed is an incomplete type from its
<a href='basic.scope.pdecl#def:point_of_declaration'>point of declaration</a> to immediately after its
<i ><a href='dcl.enum#nt:enum-base'>enum-base</a></i> (if any), at which point it becomes a complete type<a class='hidden_link' href='#dcl.enum-6.sentence-1'>.</a></div> <div id='dcl.enum-6.sentence-2' class='sentence'>An enumeration whose underlying type is not fixed is an incomplete type from
its point of declaration to immediately after the closing <span class='texttt'>}</span> of its
<i ><a href='dcl.enum#nt:enum-specifier'>enum-specifier</a></i>, at which point it becomes a complete type<a class='hidden_link' href='#dcl.enum-6.sentence-2'>.</a></div></div><div class='para' id='dcl.enum-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.enum-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6310'>#</a></div><div id='dcl.enum-7.sentence-1' class='sentence'>For an enumeration whose underlying type is not fixed,
the underlying type
is an
integral type that can represent all the enumerator values defined in
the enumeration<a class='hidden_link' href='#dcl.enum-7.sentence-1'>.</a></div> <div id='dcl.enum-7.sentence-2' class='sentence'>If no integral type can represent all the enumerator
values, the enumeration is ill-formed<a class='hidden_link' href='#dcl.enum-7.sentence-2'>.</a></div> <div id='dcl.enum-7.sentence-3' class='sentence'>It is <span class='indexparent'><a class='index' id=':underlying_type_for_enumeration'></a></span>implementation-defined
which integral type is used as the underlying type
except that the underlying type shall not be larger than <span class='texttt'>int</span>
unless the value of an enumerator cannot fit in an <span class='texttt'>int</span> or
<span class='texttt'>unsigned int</span><a class='hidden_link' href='#dcl.enum-7.sentence-3'>.</a></div> <div id='dcl.enum-7.sentence-4' class='sentence'>If the <i ><a href='dcl.enum#nt:enumerator-list'>enumerator-list</a></i> is empty, the
underlying type is as if the enumeration had a single enumerator with
value 0<a class='hidden_link' href='#dcl.enum-7.sentence-4'>.</a></div></div><div class='para' id='dcl.enum-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.enum-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6324'>#</a></div><div id='dcl.enum-8.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':signed_integer_representation,ones&#39;_complement'></a></span><span class='indexparent'><a class='index' id=':signed_integer_representation,two&#39;s_complement'></a></span><span class='indexparent'><a class='index' id=':signed_integer_representation,signed_magnitude'></a></span>For an enumeration whose underlying type is fixed, the values of
the enumeration are the values of the underlying type<a class='hidden_link' href='#dcl.enum-8.sentence-1'>.</a></div> <div id='dcl.enum-8.sentence-2' class='sentence'>Otherwise,
for an enumeration where <span class="mjx-chtml"><span class="mjx-math" aria-label="e_\text{min}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">min</span></span></span></span></span></span></span> is the smallest enumerator and
<span class="mjx-chtml"><span class="mjx-math" aria-label="e_\text{max}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">max</span></span></span></span></span></span></span> is the largest, the values of the enumeration are the
values in the range <span class="mjx-chtml"><span class="mjx-math" aria-label="b_\text{min}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">b</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">min</span></span></span></span></span></span></span> to <span class="mjx-chtml"><span class="mjx-math" aria-label="b_\text{max}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">b</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">max</span></span></span></span></span></span></span>, defined as follows: Let <span class='math'><span class='mathalpha'>K</span></span>
be 1 for a two's complement representation and 0 for a ones' complement
or sign-magnitude representation<a class='hidden_link' href='#dcl.enum-8.sentence-2'>.</a></div> <div id='dcl.enum-8.sentence-3' class='sentence'><span class="mjx-chtml"><span class="mjx-math" aria-label="b_\text{max}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">b</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">max</span></span></span></span></span></span></span> is the smallest value
greater than or equal to <span class="mjx-chtml"><span class="mjx-math" aria-label="max(|e_\text{min}| - K, |e_\text{max}|)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">a</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">min</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.04em;">K</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">max</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> and equal to
<span class="mjx-chtml"><span class="mjx-math" aria-label="2^M-1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.591em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span>, where <span class='math'><span class='mathalpha'>M</span></span> is a non-negative integer<a class='hidden_link' href='#dcl.enum-8.sentence-3'>.</a></div> <div id='dcl.enum-8.sentence-4' class='sentence'><span class="mjx-chtml"><span class="mjx-math" aria-label="b_\text{min}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">b</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">min</span></span></span></span></span></span></span> is zero if
<span class="mjx-chtml"><span class="mjx-math" aria-label="e_\text{min}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">min</span></span></span></span></span></span></span> is non-negative and <span class="mjx-chtml"><span class="mjx-math" aria-label="-(b_\text{max}+K)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">b</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">max</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.04em;">K</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> otherwise<a class='hidden_link' href='#dcl.enum-8.sentence-4'>.</a></div> <div id='dcl.enum-8.sentence-5' class='sentence'>The size of the
smallest bit-field large enough to hold all the values of the
enumeration type is <span class="mjx-chtml"><span class="mjx-math" aria-label="max(M,1)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">a</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mn MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> if <span class="mjx-chtml"><span class="mjx-math" aria-label="b_\text{min}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">b</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">min</span></span></span></span></span></span></span> is zero and <span class="mjx-chtml"><span class="mjx-math" aria-label="M+1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span> otherwise<a class='hidden_link' href='#dcl.enum-8.sentence-5'>.</a></div> <div id='dcl.enum-8.sentence-6' class='sentence'>It is possible to define an enumeration that has values not defined by
any of its enumerators<a class='hidden_link' href='#dcl.enum-8.sentence-6'>.</a></div> <div id='dcl.enum-8.sentence-7' class='sentence'>If the <i ><a href='dcl.enum#nt:enumerator-list'>enumerator-list</a></i> is empty, the
values of the enumeration are as if the enumeration had a single enumerator with
value 0<a class='hidden_link' href='#dcl.enum-8.sentence-7'>.</a><a class='footnotenum' href='#footnote-103'>103</a></div></div><div class='para' id='dcl.enum-9'><div class='marginalizedparent'><a class='marginalized' href='#dcl.enum-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6348'>#</a></div><div id='dcl.enum-9.sentence-1' class='sentence'>Two enumeration types are <a class='hidden_link' href='#def:layout-compatible,enumeration' id='def:layout-compatible,enumeration'><i >layout-compatible enumerations</i></a>
if they have the same underlying type<a class='hidden_link' href='#dcl.enum-9.sentence-1'>.</a></div></div><div class='para' id='dcl.enum-10'><div class='marginalizedparent'><a class='marginalized' href='#dcl.enum-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6352'>#</a></div><div id='dcl.enum-10.sentence-1' class='sentence'>The value of an enumerator or an object of an unscoped enumeration type is
converted to an integer by <a href='conv.prom#def:integral_promotions'>integral promotion</a><a class='hidden_link' href='#dcl.enum-10.sentence-1'>.</a></div> <div id='dcl.enum-10.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.enum-10.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
  enum color { red, yellow, green=20, blue };
  color col = red;
  color* cp = &amp;col;
  if (*cp == blue)              <span class='comment'>// ...
</span></pre> <div id='dcl.enum-10.sentence-2' class='sentence'>
makes <span class='texttt'>color</span> a type describing various colors, and then declares
<span class='texttt'>col</span> as an object of that type, and <span class='texttt'>cp</span> as a pointer to an
object of that type<a class='hidden_link' href='#dcl.enum-10.sentence-2'>.</a></div> <div id='dcl.enum-10.sentence-3' class='sentence'>The possible values of an object of type
<span class='texttt'>color</span> are <span class='texttt'>red</span>, <span class='texttt'>yellow</span>, <span class='texttt'>green</span>,
<span class='texttt'>blue</span>; these values can be converted to the integral values
<span class='texttt'>0</span>, <span class='texttt'>1</span>, <span class='texttt'>20</span>, and <span class='texttt'>21</span><a class='hidden_link' href='#dcl.enum-10.sentence-3'>.</a></div> <div id='dcl.enum-10.sentence-4' class='sentence'>Since enumerations are
distinct types, objects of type <span class='texttt'>color</span> can be assigned only
values of type <span class='texttt'>color</span><a class='hidden_link' href='#dcl.enum-10.sentence-4'>.</a></div> <pre class='codeblock'>
color c = 1;                    <span class='comment'>// error: type mismatch, no conversion from <span class='tcode_in_codeblock'>int</span> to <span class='tcode_in_codeblock'>color</span>
</span>int i = yellow;                 <span class='comment'>// OK: <span class='tcode_in_codeblock'>yellow</span> converted to integral value <span class='tcode_in_codeblock'>1</span>, integral promotion
</span></pre> <div id='dcl.enum-10.sentence-5' class='sentence'>
Note that this implicit <span class='texttt'>enum</span> to <span class='texttt'>int</span>
conversion is not provided for a scoped enumeration:
<pre class='codeblock'>
enum class Col { red, yellow, green };
int x = Col::red;               <span class='comment'>// error: no <span class='tcode_in_codeblock'>Col</span> to <span class='tcode_in_codeblock'>int</span> conversion
</span>Col y = Col::red;
if (y) { }                      <span class='comment'>// error: no <span class='tcode_in_codeblock'>Col</span> to <span class='tcode_in_codeblock'>bool</span> conversion
</span></pre></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.enum-11'><div class='marginalizedparent'><a class='marginalized' href='#dcl.enum-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6384'>#</a></div><div id='dcl.enum-11.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':class,scope_of_enumerator'></a></span>Each <i ><a href='dcl.enum#nt:enum-name'>enum-name</a></i> and each unscoped <i ><a href='dcl.enum#nt:enumerator'>enumerator</a></i> is
declared in the scope that immediately contains the <i ><a href='dcl.enum#nt:enum-specifier'>enum-specifier</a></i><a class='hidden_link' href='#dcl.enum-11.sentence-1'>.</a></div> <div id='dcl.enum-11.sentence-2' class='sentence'>Each scoped <i ><a href='dcl.enum#nt:enumerator'>enumerator</a></i> is declared in the scope of the
enumeration<a class='hidden_link' href='#dcl.enum-11.sentence-2'>.</a></div> <div id='dcl.enum-11.sentence-3' class='sentence'>These names obey the scope rules defined for all names
in <a href='basic.scope'>[basic.scope]</a> and <a href='basic.lookup'>[basic.lookup]</a><a class='hidden_link' href='#dcl.enum-11.sentence-3'>.</a></div> <div id='dcl.enum-11.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.enum-11.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
enum direction { left='l', right='r' };

void g()  {
  direction d;                  <span class='comment'>// OK
</span>  d = left;                     <span class='comment'>// OK
</span>  d = direction::right;         <span class='comment'>// OK
</span>}

enum class altitude { high='h', low='l' };

void h()  {
  altitude a;                   <span class='comment'>// OK
</span>  a = high;                     <span class='comment'>// error: <span class='tcode_in_codeblock'>high</span> not in scope
</span>  a = altitude::low;            <span class='comment'>// OK
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.enum-11.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':member,enumerator'></a></span>An enumerator declared in class scope can be referred to using the class
member access operators (<span class='texttt'>&#x200b;::&#x200b;</span>, <span class='texttt'>.</span> (dot) and <span class='texttt'>-&gt;</span>
(arrow)), see <a href='expr.ref'>[expr.ref]</a><a class='hidden_link' href='#dcl.enum-11.sentence-4'>.</a></div> <div id='dcl.enum-11.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.enum-11.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct X {
  enum direction { left='l', right='r' };
  int f(int i) { return i==left ? 0 : i==right ? 1 : 2; }
};

void g(X* p) {
  direction d;                  <span class='comment'>// error: <span class='tcode_in_codeblock'>direction</span> not in scope
</span>  int i;
  i = p-&gt;f(left);               <span class='comment'>// error: <span class='tcode_in_codeblock'>left</span> not in scope
</span>  i = p-&gt;f(X::right);           <span class='comment'>// OK
</span>  i = p-&gt;f(p-&gt;left);            <span class='comment'>// OK
</span>  <span class='comment'>// ...
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.enum-12'><div class='marginalizedparent'><a class='marginalized' href='#dcl.enum-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6433'>#</a></div><div id='dcl.enum-12.sentence-1' class='sentence'>If an <i ><a href='dcl.enum#nt:enum-head'>enum-head</a></i> contains a <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>,
the <i ><a href='dcl.enum#nt:enum-specifier'>enum-specifier</a></i> shall refer to an enumeration
that was previously declared directly in the class or namespace
to which the <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> refers, or
in an element of the inline namespace set (<a href='#namespace.def'>[namespace.def]</a>)
of that namespace (i.e., not merely inherited or introduced by a
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>), and
the <i ><a href='dcl.enum#nt:enum-specifier'>enum-specifier</a></i> shall appear in
a namespace enclosing the previous declaration<a class='hidden_link' href='#dcl.enum-12.sentence-1'>.</a></div> <div id='dcl.enum-12.sentence-2' class='sentence'>In such cases, the <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>
of the <i ><a href='dcl.enum#nt:enum-head'>enum-head</a></i> of the definition
shall not begin with a <i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i><a class='hidden_link' href='#dcl.enum-12.sentence-2'>.</a></div></div><div class='footnote' id='footnote-103'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-103'>103)</a></div><div id='footnote-103.sentence-1' class='sentence'>This set of values is used to define promotion and
conversion semantics for the enumeration type<a class='hidden_link' href='#footnote-103.sentence-1'>.</a></div> <div id='footnote-103.sentence-2' class='sentence'>It does not preclude an
expression of enumeration type from having a value that falls outside
this range<a class='hidden_link' href='#footnote-103.sentence-2'>.</a></div></div></div><div id='basic.namespace' class='section'><h2 ><a class='secnum' href='#basic.namespace' style='min-width:88pt'>9.7</a> Namespaces <a class='abbr_ref' href='basic.namespace'>[basic.namespace]</a></h2><span class='indexparent'><a class='index' id=':namespaces'></a></span><div class='para' id='basic.namespace-1'><div class='marginalizedparent'><a class='marginalized' href='#basic.namespace-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6450'>#</a></div><div id='basic.namespace-1.sentence-1' class='sentence'>A namespace is an optionally-named declarative region<a class='hidden_link' href='#basic.namespace-1.sentence-1'>.</a></div> <div id='basic.namespace-1.sentence-2' class='sentence'>The name of a
namespace can be used to access entities declared in that namespace;
that is, the members of the namespace<a class='hidden_link' href='#basic.namespace-1.sentence-2'>.</a></div> <div id='basic.namespace-1.sentence-3' class='sentence'>Unlike other declarative regions,
the definition of a namespace can be split over several parts of one or
more translation units<a class='hidden_link' href='#basic.namespace-1.sentence-3'>.</a></div></div><div class='para' id='basic.namespace-2'><div class='marginalizedparent'><a class='marginalized' href='#basic.namespace-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6457'>#</a></div><div id='basic.namespace-2.sentence-1' class='sentence'>The outermost declarative region of a translation unit is a namespace;
see <a href='basic.scope.namespace'>[basic.scope.namespace]</a><a class='hidden_link' href='#basic.namespace-2.sentence-1'>.</a></div></div><div id='namespace.def' class='section'><h3 ><a class='secnum' href='#namespace.def' style='min-width:103pt'>9.7.1</a> Namespace definition <a class='abbr_ref' href='namespace.def'>[namespace.def]</a></h3><span class='indexparent'><a class='index' id=':definition,namespace'></a></span><span class='indexparent'><a class='index' id=':namespace,definition'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:namespace-name' id='nt:namespace-name'>namespace-name:</a>
&#9;<i ><a href='lex.name#nt:identifier'>identifier</a></i>
&#9;<i ><a href='namespace.alias#nt:namespace-alias'>namespace-alias</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:namespace-definition' id='nt:namespace-definition'>namespace-definition:</a>
&#9;<i ><a href='namespace.def#nt:named-namespace-definition'>named-namespace-definition</a></i>
&#9;<i ><a href='namespace.def#nt:unnamed-namespace-definition'>unnamed-namespace-definition</a></i>
&#9;<i ><a href='namespace.def#nt:nested-namespace-definition'>nested-namespace-definition</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:named-namespace-definition' id='nt:named-namespace-definition'>named-namespace-definition:</a>
&#9;<span class='terminal'>inline<span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='terminal'>namespace</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='terminal'>{</span> <i ><a href='namespace.def#nt:namespace-body'>namespace-body</a></i> <span class='terminal'>}</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:unnamed-namespace-definition' id='nt:unnamed-namespace-definition'>unnamed-namespace-definition:</a>
&#9;<span class='terminal'>inline<span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='terminal'>namespace</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>{</span> <i ><a href='namespace.def#nt:namespace-body'>namespace-body</a></i> <span class='terminal'>}</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:nested-namespace-definition' id='nt:nested-namespace-definition'>nested-namespace-definition:</a>
&#9;<span class='terminal'>namespace</span> <i ><a href='namespace.def#nt:enclosing-namespace-specifier'>enclosing-namespace-specifier</a></i> <span class='terminal'>::</span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='terminal'>{</span> <i ><a href='namespace.def#nt:namespace-body'>namespace-body</a></i> <span class='terminal'>}</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:enclosing-namespace-specifier' id='nt:enclosing-namespace-specifier'>enclosing-namespace-specifier:</a>
&#9;<i ><a href='lex.name#nt:identifier'>identifier</a></i>
&#9;<i ><a href='namespace.def#nt:enclosing-namespace-specifier'>enclosing-namespace-specifier</a></i> <span class='terminal'>::</span> <i ><a href='lex.name#nt:identifier'>identifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:namespace-body' id='nt:namespace-body'>namespace-body:</a>
&#9;<i ><a href='dcl.dcl#nt:declaration-seq'>declaration-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><div class='para' id='namespace.def-1'><div class='marginalizedparent'><a class='marginalized' href='#namespace.def-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6504'>#</a></div><div id='namespace.def-1.sentence-1' class='sentence'>Every <i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i> shall appear in the global scope
or in a namespace scope (<a href='basic.scope.namespace'>[basic.scope.namespace]</a>)<a class='hidden_link' href='#namespace.def-1.sentence-1'>.</a></div></div><div class='para' id='namespace.def-2'><div class='marginalizedparent'><a class='marginalized' href='#namespace.def-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6508'>#</a></div><div id='namespace.def-2.sentence-1' class='sentence'>In a <i ><a href='namespace.def#nt:named-namespace-definition'>named-namespace-definition</a></i>,
the <i ><a href='lex.name#nt:identifier'>identifier</a></i> is the name of the namespace<a class='hidden_link' href='#namespace.def-2.sentence-1'>.</a></div> <div id='namespace.def-2.sentence-2' class='sentence'>If the <i ><a href='lex.name#nt:identifier'>identifier</a></i>, when <a href='basic.lookup.unqual'>looked up</a>,
refers to a <i ><a href='namespace.def#nt:namespace-name'>namespace-name</a></i> (but not a <i ><a href='namespace.alias#nt:namespace-alias'>namespace-alias</a></i>)
that was introduced in the namespace
in which the <i ><a href='namespace.def#nt:named-namespace-definition'>named-namespace-definition</a></i> appears
or that was introduced in a member of the inline namespace set of that namespace,
the <i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i>

<a class='hidden_link' href='#def:namespace,extend' id='def:namespace,extend'><i >extends</i></a> the previously-declared namespace<a class='hidden_link' href='#namespace.def-2.sentence-2'>.</a></div> <div id='namespace.def-2.sentence-3' class='sentence'>Otherwise, the <i ><a href='lex.name#nt:identifier'>identifier</a></i> is introduced
as a <i ><a href='namespace.def#nt:namespace-name'>namespace-name</a></i> into the declarative region
in which the <i ><a href='namespace.def#nt:named-namespace-definition'>named-namespace-definition</a></i> appears<a class='hidden_link' href='#namespace.def-2.sentence-3'>.</a></div></div><div class='para' id='namespace.def-3'><div class='marginalizedparent'><a class='marginalized' href='#namespace.def-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6523'>#</a></div><div id='namespace.def-3.sentence-1' class='sentence'>Because a <i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i> contains
<i ><a href='dcl.dcl#nt:declaration'>declaration</a></i><span class='textit'>s</span> in its <i ><a href='namespace.def#nt:namespace-body'>namespace-body</a></i> and a
<i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i> is itself a <i ><a href='dcl.dcl#nt:declaration'>declaration</a></i>, it
follows that <i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i><span class='textit'>s</span> can be nested<a class='hidden_link' href='#namespace.def-3.sentence-1'>.</a></div> <div id='namespace.def-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.def-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace Outer {
  int i;
  namespace Inner {
    void f() { i++; }           <span class='comment'>// <span class='tcode_in_codeblock'>Outer&#x200b;::&#x200b;i</span>
</span>    int i;
    void g() { i++; }           <span class='comment'>// <span class='tcode_in_codeblock'>Inner&#x200b;::&#x200b;i</span>
</span>  }
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.def-4'><div class='marginalizedparent'><a class='marginalized' href='#namespace.def-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6541'>#</a></div><div id='namespace.def-4.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:namespace,enclosing' id='def:namespace,enclosing'><i >enclosing namespaces</i></a> of a declaration are those
namespaces in which the declaration lexically appears, except for a
redeclaration of a namespace member outside its original namespace
(e.g., a definition as specified in <a href='#namespace.memdef'>[namespace.memdef]</a>)<a class='hidden_link' href='#namespace.def-4.sentence-1'>.</a></div> <div id='namespace.def-4.sentence-2' class='sentence'>Such a
redeclaration has the same enclosing namespaces as the original
declaration<a class='hidden_link' href='#namespace.def-4.sentence-2'>.</a></div> <div id='namespace.def-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.def-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace Q {
  namespace V {
    void f();                   <span class='comment'>// enclosing namespaces are the global namespace, <span class='tcode_in_codeblock'>Q</span>, and <span class='tcode_in_codeblock'>Q&#x200b;::&#x200b;V</span>
</span>    class C { void m(); };
  }
  void V::f() {                 <span class='comment'>// enclosing namespaces are the global namespace, <span class='tcode_in_codeblock'>Q</span>, and <span class='tcode_in_codeblock'>Q&#x200b;::&#x200b;V</span>
</span>    extern void h();            <span class='comment'>// ... so this declares <span class='tcode_in_codeblock'>Q&#x200b;::&#x200b;V&#x200b;::&#x200b;h</span>
</span>  }
  void V::C::m() {              <span class='comment'>// enclosing namespaces are the global namespace, <span class='tcode_in_codeblock'>Q</span>, and <span class='tcode_in_codeblock'>Q&#x200b;::&#x200b;V</span>
</span>  }
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.def-5'><div class='marginalizedparent'><a class='marginalized' href='#namespace.def-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6564'>#</a></div><div id='namespace.def-5.sentence-1' class='sentence'>If the optional initial <span class='texttt'>inline</span> keyword appears in a
<i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i> for a particular namespace, that namespace is
declared to be an <span class='indexparent'><a class='index' id=':namespace,inline'></a></span><span class='textit'>inline namespace</span><a class='hidden_link' href='#namespace.def-5.sentence-1'>.</a></div> <div id='namespace.def-5.sentence-2' class='sentence'>The <span class='texttt'>inline</span> keyword may be
used on a <i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i> that extends a namespace
only if it was previously used on the <i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i>
that initially declared the <i ><a href='namespace.def#nt:namespace-name'>namespace-name</a></i> for that namespace<a class='hidden_link' href='#namespace.def-5.sentence-2'>.</a></div></div><div class='para' id='namespace.def-6'><div class='marginalizedparent'><a class='marginalized' href='#namespace.def-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6572'>#</a></div><div id='namespace.def-6.sentence-1' class='sentence'>The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i>
in a <i ><a href='namespace.def#nt:named-namespace-definition'>named-namespace-definition</a></i>
appertains to the namespace being defined or extended<a class='hidden_link' href='#namespace.def-6.sentence-1'>.</a></div></div><div class='para' id='namespace.def-7'><div class='marginalizedparent'><a class='marginalized' href='#namespace.def-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6577'>#</a></div><div id='namespace.def-7.sentence-1' class='sentence'>Members of an inline namespace can be used in most respects as though they were members
of the enclosing namespace<a class='hidden_link' href='#namespace.def-7.sentence-1'>.</a></div> <div id='namespace.def-7.sentence-2' class='sentence'>Specifically, the inline namespace and its enclosing
namespace are both added to the set of associated namespaces used in
<a href='basic.lookup.argdep'>argument-dependent lookup</a> whenever one of them is,
and a <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> that names the inline
namespace is implicitly inserted into the enclosing namespace as for an <a href='#namespace.unnamed'>unnamed
namespace</a><a class='hidden_link' href='#namespace.def-7.sentence-2'>.</a></div> <div id='namespace.def-7.sentence-3' class='sentence'>Furthermore, each
member of the inline namespace can subsequently be <a href='temp.class.spec'>partially
specialized</a>, <a href='temp.explicit'>explicitly
instantiated</a>, or <a href='temp.expl.spec'>explicitly specialized</a> as
though it were a member of the enclosing namespace<a class='hidden_link' href='#namespace.def-7.sentence-3'>.</a></div> <div id='namespace.def-7.sentence-4' class='sentence'>Finally, looking up a name in the
enclosing namespace via explicit qualification (<a href='namespace.qual'>[namespace.qual]</a>) will include
members of the inline namespace brought in by the <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> even if
there are declarations of that name in the enclosing namespace<a class='hidden_link' href='#namespace.def-7.sentence-4'>.</a></div></div><div class='para' id='namespace.def-8'><div class='marginalizedparent'><a class='marginalized' href='#namespace.def-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6593'>#</a></div><div id='namespace.def-8.sentence-1' class='sentence'>These properties are transitive: if a namespace <span class='texttt'>N</span> contains an inline namespace
<span class='texttt'>M</span>, which in turn contains an inline namespace <span class='texttt'>O</span>, then the members of
<span class='texttt'>O</span> can be used as though they were members of <span class='texttt'>M</span> or <span class='texttt'>N</span><a class='hidden_link' href='#namespace.def-8.sentence-1'>.</a></div> <div id='namespace.def-8.sentence-2' class='sentence'>The <a class='hidden_link' href='#def:inline_namespace_set' id='def:inline_namespace_set'><i >inline namespace set</i></a> of <span class='texttt'>N</span> is the transitive closure of all
inline namespaces in <span class='texttt'>N</span><a class='hidden_link' href='#namespace.def-8.sentence-2'>.</a></div> <div id='namespace.def-8.sentence-3' class='sentence'>The <a class='hidden_link' href='#def:enclosing_namespace_set' id='def:enclosing_namespace_set'><i >enclosing namespace set</i></a> of <span class='texttt'>O</span> is the set of namespaces
consisting of the innermost non-inline namespace enclosing
an inline namespace <span class='texttt'>O</span>, together with any intervening inline namespaces<a class='hidden_link' href='#namespace.def-8.sentence-3'>.</a></div></div><div class='para' id='namespace.def-9'><div class='marginalizedparent'><a class='marginalized' href='#namespace.def-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6603'>#</a></div><div id='namespace.def-9.sentence-1' class='sentence'>A <i ><a href='namespace.def#nt:nested-namespace-definition'>nested-namespace-definition</a></i> with an
<i ><a href='namespace.def#nt:enclosing-namespace-specifier'>enclosing-namespace-specifier</a></i> <span class='texttt'>E</span>,
<i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='texttt'>I</span> and
<i ><a href='namespace.def#nt:namespace-body'>namespace-body</a></i> <span class='texttt'>B</span>
is equivalent to
<pre class='codeblock'>
namespace E { namespace I { B } }</pre>
<div id='namespace.def-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.def-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace A::B::C {
  int i;
}</pre> <div id='namespace.def-9.sentence-2' class='sentence'>
The above has the same effect as:
<pre class='codeblock'>
namespace A {
  namespace B {
    namespace C {
      int i;
    }
  }
}</pre></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='namespace.unnamed' class='section'><h4 ><a class='secnum' href='#namespace.unnamed' style='min-width:118pt'>9.7.1.1</a> Unnamed namespaces <a class='abbr_ref' href='namespace.unnamed'>[namespace.unnamed]</a></h4><span class='indexparent'><a class='index' id=':namespace,unnamed'></a></span><div class='para' id='namespace.unnamed-1'><div class='marginalizedparent'><a class='marginalized' href='#namespace.unnamed-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6633'>#</a></div><div id='namespace.unnamed-1.sentence-1' class='sentence'>An <i ><a href='namespace.def#nt:unnamed-namespace-definition'>unnamed-namespace-definition</a></i> behaves as if it were
replaced by
<pre class='ncsimplebnf'><span class='terminal'>inline</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>namespace</span> <span class='terminal'><span class='textit'>unique</span></span> <span class='terminal'>{ /* empty body */ }</span>
<span class='terminal'>using namespace</span> <span class='terminal'><span class='textit'>unique</span></span> <span class='terminal'>;</span>
<span class='terminal'>namespace</span> <span class='terminal'><span class='textit'>unique</span></span> <span class='terminal'>{</span> <i ><a href='namespace.def#nt:namespace-body'>namespace-body</a></i> <span class='terminal'>}</span>
</pre>
where
<span class='texttt'>inline</span> appears if and only if it appears in the
<i ><a href='namespace.def#nt:unnamed-namespace-definition'>unnamed-namespace-definition</a></i>
and all occurrences of <span class='texttt'><span class='textit'>unique</span></span> in a translation unit are replaced by
the same identifier, and this identifier differs from all other
identifiers in the translation unit<a class='hidden_link' href='#namespace.unnamed-1.sentence-1'>.</a></div> <div id='namespace.unnamed-1.sentence-2' class='sentence'>The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i>
in the <i ><a href='namespace.def#nt:unnamed-namespace-definition'>unnamed-namespace-definition</a></i>
appertains to <span class='texttt'><span class='textit'>unique</span></span><a class='hidden_link' href='#namespace.unnamed-1.sentence-2'>.</a></div> <div id='namespace.unnamed-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.unnamed-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace { int i; }            <span class='comment'>// <span class='tcode_in_codeblock'><span class='textit'>unique</span>&#x200b;::&#x200b;i</span>
</span>void f() { i++; }               <span class='comment'>// <span class='tcode_in_codeblock'><span class='textit'>unique</span>&#x200b;::&#x200b;i++</span>
</span>
namespace A {
  namespace {
    int i;                      <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;<span class='textit'>unique</span>&#x200b;::&#x200b;i</span>
</span>    int j;                      <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;<span class='textit'>unique</span>&#x200b;::&#x200b;j</span>
</span>  }
  void g() { i++; }             <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;<span class='textit'>unique</span>&#x200b;::&#x200b;i++</span>
</span>}

using namespace A;
void h() {
  i++;                          <span class='comment'>// error: <span class='tcode_in_codeblock'><span class='textit'>unique</span>&#x200b;::&#x200b;i</span> or <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;<span class='textit'>unique</span>&#x200b;::&#x200b;i</span>
</span>  A::i++;                       <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;<span class='textit'>unique</span>&#x200b;::&#x200b;i</span>
</span>  j++;                          <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;<span class='textit'>unique</span>&#x200b;::&#x200b;j</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='namespace.memdef' class='section'><h4 ><a class='secnum' href='#namespace.memdef' style='min-width:118pt'>9.7.1.2</a> Namespace member definitions <a class='abbr_ref' href='namespace.memdef'>[namespace.memdef]</a></h4><span class='indexparent'><a class='index' id=':namespace,member_definition'></a></span><div class='para' id='namespace.memdef-1'><div class='marginalizedparent'><a class='marginalized' href='#namespace.memdef-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6675'>#</a></div><div id='namespace.memdef-1.sentence-1' class='sentence'>A declaration in a namespace <span class='texttt'>N</span> (excluding declarations in nested scopes)
whose <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> is an <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i> (<a href='#dcl.meaning'>[dcl.meaning]</a>),
whose <i ><a href='class#nt:class-head-name'>class-head-name</a></i> or
<i ><a href='dcl.enum#nt:enum-head-name'>enum-head-name</a></i> is an <i ><a href='lex.name#nt:identifier'>identifier</a></i>, or
whose <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> is of the form <i ><a href='class#nt:class-key'>class-key</a></i>
<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> (<a href='#dcl.type.elab'>[dcl.type.elab]</a>), or
that is an <i ><a href='dcl.enum#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i>,
declares (or redeclares) its <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i> or
<i ><a href='lex.name#nt:identifier'>identifier</a></i> as a member of <span class='texttt'>N</span><a class='hidden_link' href='#namespace.memdef-1.sentence-1'>.</a></div> <div id='namespace.memdef-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.memdef-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.memdef-1.sentence-2' class='sentence'>An <a href='temp.explicit'>explicit instantiation</a> or
<a href='temp.expl.spec'>explicit specialization</a> of a template
does not introduce a name and thus may be declared using an
<i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i> in a member of the enclosing namespace set,
if the primary template is declared in an inline namespace<a class='hidden_link' href='#namespace.memdef-1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.memdef-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.memdef-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace X {
  void f() { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }        <span class='comment'>// OK: introduces <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;f()</span>
</span>
  namespace M {
    void g();                   <span class='comment'>// OK: introduces <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;M&#x200b;::&#x200b;g()</span>
</span>  }
  using M::g;
  void g();                     <span class='comment'>// error: conflicts with <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;M&#x200b;::&#x200b;g()</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.memdef-2'><div class='marginalizedparent'><a class='marginalized' href='#namespace.memdef-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6706'>#</a></div><div id='namespace.memdef-2.sentence-1' class='sentence'>Members of a named namespace can also be
defined outside that namespace by explicit
qualification (<a href='namespace.qual'>[namespace.qual]</a>) of the name being defined, provided
that the entity being defined was already declared in the namespace and
the definition appears after the point of declaration in a namespace
that encloses the declaration's namespace<a class='hidden_link' href='#namespace.memdef-2.sentence-1'>.</a></div> <div id='namespace.memdef-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.memdef-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace Q {
  namespace V {
    void f();
  }
  void V::f() { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }     <span class='comment'>// OK
</span>  void V::g() { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }     <span class='comment'>// error: <span class='tcode_in_codeblock'>g()</span> is not yet a member of <span class='tcode_in_codeblock'>V</span>
</span>  namespace V {
    void g();
  }
}

namespace R {
  void Q::V::g() { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }  <span class='comment'>// error: <span class='tcode_in_codeblock'>R</span> doesn't enclose <span class='tcode_in_codeblock'>Q</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.memdef-3'><div class='marginalizedparent'><a class='marginalized' href='#namespace.memdef-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6732'>#</a></div><div id='namespace.memdef-3.sentence-1' class='sentence'>If a friend declaration in a non-local class first declares a
class, function, class template or function template<a class='footnotenum' href='#footnote-104'>104</a>
the friend is a member of the innermost enclosing
namespace<a class='hidden_link' href='#namespace.memdef-3.sentence-1'>.</a></div> <div id='namespace.memdef-3.sentence-2' class='sentence'>The friend declaration does not by itself make the name
visible to <a href='basic.lookup.unqual'>unqualified lookup</a> or <a href='basic.lookup.qual'>qualified
lookup</a><a class='hidden_link' href='#namespace.memdef-3.sentence-2'>.</a></div> <div id='namespace.memdef-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.memdef-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.memdef-3.sentence-5' class='sentence'>The name of the friend will be
visible in its namespace if a matching declaration is provided at namespace
scope (either before or after the class definition granting friendship)<a class='hidden_link' href='#namespace.memdef-3.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.memdef-3.sentence-3' class='sentence'> If a friend
function or function template is called, its name may be found by the
name lookup that considers functions from namespaces and classes
associated with the types of the function
arguments (<a href='basic.lookup.argdep'>[basic.lookup.argdep]</a>)<a class='hidden_link' href='#namespace.memdef-3.sentence-3'>.</a></div> <div id='namespace.memdef-3.sentence-4' class='sentence'>If the
name in a friend declaration is neither qualified nor a
<i ><a href='temp.names#nt:template-id'>template-id</a></i> and the declaration is a function or an
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i>, the lookup to determine whether
the entity has been previously declared shall not consider any scopes
outside the innermost enclosing namespace<a class='hidden_link' href='#namespace.memdef-3.sentence-4'>.</a></div> <div id='namespace.memdef-3.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.memdef-3.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.memdef-3.sentence-6' class='sentence'>The other forms of
friend declarations cannot declare a new member of the innermost
enclosing namespace and thus follow the usual lookup rules<a class='hidden_link' href='#namespace.memdef-3.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.memdef-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.memdef-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='comment'>// Assume <span class='tcode_in_codeblock'>f</span> and <span class='tcode_in_codeblock'>g</span> have not yet been declared.
</span>void h(int);
template &lt;class T&gt; void f2(T);
namespace A {
  class X {
    friend void f(X);           <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(X)</span> is a friend
</span>    class Y {
      friend void g();          <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;g</span> is a friend
</span>      friend void h(int);       <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;h</span> is a friend
</span>                                <span class='comment'>// <span class='tcode_in_codeblock'>&#x200b;::&#x200b;h</span> not considered
</span>      friend void f2&lt;&gt;(int);    <span class='comment'>// <span class='tcode_in_codeblock'>&#x200b;::&#x200b;f2&lt;&gt;(int)</span> is a friend
</span>    };
  };

  <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span>, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;g</span> and <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;h</span> are not visible here
</span>  X x;
  void g() { f(x); }            <span class='comment'>// definition of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;g</span>
</span>  void f(X) { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }       <span class='comment'>// definition of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span>
</span>  void h(int) { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }     <span class='comment'>// definition of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;h</span>
</span>  <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span>, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;g</span> and <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;h</span> are visible here and known to be friends
</span>}

using A::x;

void h() {
  A::f(x);
  A::X::f(x);                   <span class='comment'>// error: <span class='tcode_in_codeblock'>f</span> is not a member of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;X</span>
</span>  A::X::Y::g();                 <span class='comment'>// error: <span class='tcode_in_codeblock'>g</span> is not a member of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;X&#x200b;::&#x200b;Y</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-104'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-104'>104)</a></div><div id='footnote-104.sentence-1' class='sentence'>this implies that the name of the class or function is unqualified<a class='hidden_link' href='#footnote-104.sentence-1'>.</a></div></div></div></div><div id='namespace.alias' class='section'><h3 ><a class='secnum' href='#namespace.alias' style='min-width:103pt'>9.7.2</a> Namespace alias <a class='abbr_ref' href='namespace.alias'>[namespace.alias]</a></h3><span class='indexparent'><a class='index' id=':namespace,alias'></a></span><span class='indexparent'><a class='index' id=':alias,namespace'></a></span><span class='indexparent'><a class='index' id=':synonym'></a></span><div class='para' id='namespace.alias-1'><div class='marginalizedparent'><a class='marginalized' href='#namespace.alias-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6794'>#</a></div><div id='namespace.alias-1.sentence-1' class='sentence'>A <i ><a href='namespace.alias#nt:namespace-alias-definition'>namespace-alias-definition</a></i> declares an alternate name for a
namespace according to the following grammar:</div><pre class='bnf'><a class='nontermdef' href='#nt:namespace-alias' id='nt:namespace-alias'>namespace-alias:</a>
&#9;<i ><a href='lex.name#nt:identifier'>identifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:namespace-alias-definition' id='nt:namespace-alias-definition'>namespace-alias-definition:</a>
&#9;<span class='terminal'>namespace</span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='terminal'>=</span> <i ><a href='namespace.alias#nt:qualified-namespace-specifier'>qualified-namespace-specifier</a></i> <span class='terminal'>;</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:qualified-namespace-specifier' id='nt:qualified-namespace-specifier'>qualified-namespace-specifier:</a>
&#9;<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='namespace.def#nt:namespace-name'>namespace-name</a></i>
</pre></div><div class='para' id='namespace.alias-2'><div class='marginalizedparent'><a class='marginalized' href='#namespace.alias-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6813'>#</a></div><div id='namespace.alias-2.sentence-1' class='sentence'>The <i ><a href='lex.name#nt:identifier'>identifier</a></i> in a <i ><a href='namespace.alias#nt:namespace-alias-definition'>namespace-alias-definition</a></i> is
a synonym for the name of the namespace denoted by the
<i ><a href='namespace.alias#nt:qualified-namespace-specifier'>qualified-namespace-specifier</a></i> and becomes a
<i ><a href='namespace.alias#nt:namespace-alias'>namespace-alias</a></i><a class='hidden_link' href='#namespace.alias-2.sentence-1'>.</a></div> <div id='namespace.alias-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.alias-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.alias-2.sentence-2' class='sentence'>When looking up a <i ><a href='namespace.def#nt:namespace-name'>namespace-name</a></i> in a
<i ><a href='namespace.alias#nt:namespace-alias-definition'>namespace-alias-definition</a></i>, only namespace names are
considered, see <a href='basic.lookup.udir'>[basic.lookup.udir]</a><a class='hidden_link' href='#namespace.alias-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.alias-3'><div class='marginalizedparent'><a class='marginalized' href='#namespace.alias-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6824'>#</a></div><div id='namespace.alias-3.sentence-1' class='sentence'>In a declarative region, a <i ><a href='namespace.alias#nt:namespace-alias-definition'>namespace-alias-definition</a></i> can be
used to redefine a <i ><a href='namespace.alias#nt:namespace-alias'>namespace-alias</a></i> declared in that
declarative region to refer only to the namespace to which it already
refers<a class='hidden_link' href='#namespace.alias-3.sentence-1'>.</a></div> <div id='namespace.alias-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.alias-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='namespace.alias-3.sentence-2' class='sentence'>The following declarations are well-formed:</div><pre class='codeblock'>
namespace Company_with_very_long_name { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }
namespace CWVLN = Company_with_very_long_name;
namespace CWVLN = Company_with_very_long_name;  <span class='comment'>// OK: duplicate
</span>namespace CWVLN = CWVLN;</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='namespace.udir' class='section'><h3 ><a class='secnum' href='#namespace.udir' style='min-width:103pt'>9.7.3</a> Using directive <a class='abbr_ref' href='namespace.udir'>[namespace.udir]</a></h3><span class='indexparent'><a class='index' id=':using-directive'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:using-directive' id='nt:using-directive'>using-directive:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>using  namespace</span> <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='namespace.def#nt:namespace-name'>namespace-name</a></i> <span class='terminal'>;</span>
</pre><div class='para' id='namespace.udir-1'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udir-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6848'>#</a></div><div id='namespace.udir-1.sentence-1' class='sentence'>A <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> shall not appear in class scope, but may
appear in namespace scope or in block scope<a class='hidden_link' href='#namespace.udir-1.sentence-1'>.</a></div> <div id='namespace.udir-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udir-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udir-1.sentence-3' class='sentence'>When looking up a <i ><a href='namespace.def#nt:namespace-name'>namespace-name</a></i> in a
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i>, only namespace names are considered,
see <a href='basic.lookup.udir'>[basic.lookup.udir]</a><a class='hidden_link' href='#namespace.udir-1.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.udir-1.sentence-2' class='sentence'>
The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> appertains to the <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><a class='hidden_link' href='#namespace.udir-1.sentence-2'>.</a></div></div><div class='para' id='namespace.udir-2'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udir-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6858'>#</a></div><div id='namespace.udir-2.sentence-1' class='sentence'>A <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> specifies that the names in the nominated
namespace can be used in the scope in which the
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> appears after the <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><a class='hidden_link' href='#namespace.udir-2.sentence-1'>.</a></div> <div id='namespace.udir-2.sentence-2' class='sentence'>During unqualified name lookup (<a href='basic.lookup.unqual'>[basic.lookup.unqual]</a>), the names
appear as if they were declared in the nearest enclosing namespace which
contains both the <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> and the nominated
namespace<a class='hidden_link' href='#namespace.udir-2.sentence-2'>.</a></div> <div id='namespace.udir-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udir-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udir-2.sentence-3' class='sentence'>In this context, “contains” means “contains directly or indirectly”<a class='hidden_link' href='#namespace.udir-2.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udir-3'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udir-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6870'>#</a></div><div id='namespace.udir-3.sentence-1' class='sentence'>A <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> does not add any members to the declarative
region in which it appears<a class='hidden_link' href='#namespace.udir-3.sentence-1'>.</a></div> <div id='namespace.udir-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udir-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace A {
  int i;
  namespace B {
    namespace C {
      int i;
    }
    using namespace A::B::C;
    void f1() {
      i = 5;        <span class='comment'>// OK, <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;i</span> visible in <span class='tcode_in_codeblock'>B</span> and hides <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;i</span>
</span>    }
  }
  namespace D {
    using namespace B;
    using namespace C;
    void f2() {
      i = 5;        <span class='comment'>// ambiguous, <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;C&#x200b;::&#x200b;i</span> or <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;i</span>?
</span>    }
  }
  void f3() {
    i = 5;          <span class='comment'>// uses <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;i</span>
</span>  }
}
void f4() {
  i = 5;            <span class='comment'>// ill-formed; neither <span class='tcode_in_codeblock'>i</span> is visible
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udir-4'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udir-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6904'>#</a></div><div id='namespace.udir-4.sentence-1' class='sentence'>For unqualified lookup (<a href='basic.lookup.unqual'>[basic.lookup.unqual]</a>), the
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> is transitive: if a scope contains a
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> that nominates a second namespace that itself
contains <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><span class='textit'>s</span>, the effect is as if the
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><span class='textit'>s</span> from the second namespace also appeared in
the first<a class='hidden_link' href='#namespace.udir-4.sentence-1'>.</a></div> <div id='namespace.udir-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udir-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udir-4.sentence-2' class='sentence'>For qualified lookup, see <a href='namespace.qual'>[namespace.qual]</a><a class='hidden_link' href='#namespace.udir-4.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.udir-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udir-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace M {
  int i;
}

namespace N {
  int i;
  using namespace M;
}

void f() {
  using namespace N;
  i = 7;            <span class='comment'>// error: both <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;i</span> and <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;i</span> are visible
</span>}</pre><div id='namespace.udir-4.sentence-3' class='sentence'>For another example,</div><pre class='codeblock'>
namespace A {
  int i;
}
namespace B {
  int i;
  int j;
  namespace C {
    namespace D {
      using namespace A;
      int j;
      int k;
      int a = i;    <span class='comment'>// <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;i</span> hides <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;i</span>
</span>    }
    using namespace D;
    int k = 89;     <span class='comment'>// no problem yet
</span>    int l = k;      <span class='comment'>// ambiguous: <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;k</span> or <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;k</span>
</span>    int m = i;      <span class='comment'>// <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;i</span> hides <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;i</span>
</span>    int n = j;      <span class='comment'>// <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;j</span> hides <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;j</span>
</span>  }
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udir-5'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udir-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6957'>#</a></div><div id='namespace.udir-5.sentence-1' class='sentence'>If a namespace is extended (<a href='#namespace.def'>[namespace.def]</a>) after a
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> for that namespace is given, the additional
members of the extended namespace and the members of namespaces
nominated by <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><span class='textit'>s</span> in the
extending <i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i> can be used after the
extending <i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i><a class='hidden_link' href='#namespace.udir-5.sentence-1'>.</a></div></div><div class='para' id='namespace.udir-6'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udir-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6965'>#</a></div><div id='namespace.udir-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udir-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udir-6.sentence-1' class='sentence'>If name lookup finds a declaration for a name in two different
namespaces, and the declarations do not declare the same entity and do
not declare functions or function templates, the use of the name is ill-formed (<a href='basic.lookup'>[basic.lookup]</a>)<a class='hidden_link' href='#namespace.udir-6.sentence-1'>.</a></div> <div id='namespace.udir-6.sentence-2' class='sentence'>In particular, the name of a variable, function or enumerator does not
hide the name of a class or enumeration declared in a different
namespace<a class='hidden_link' href='#namespace.udir-6.sentence-2'>.</a></div> <div id='namespace.udir-6.sentence-3' class='sentence'>For example,</div><pre class='codeblock'>
namespace A {
  class X { };
  extern "C"   int g();
  extern "C++" int h();
}
namespace B {
  void X(int);
  extern "C"   int g();
  extern "C++" int h(int);
}
using namespace A;
using namespace B;

void f() {
  X(1);             <span class='comment'>// error: name <span class='tcode_in_codeblock'>X</span> found in two namespaces
</span>  g();              <span class='comment'>// OK: name <span class='tcode_in_codeblock'>g</span> refers to the same entity
</span>  h();              <span class='comment'>// OK: overload resolution selects <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;h</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udir-7'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udir-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L6996'>#</a></div><div id='namespace.udir-7.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':overloading,using_directive_and'></a></span>During overload resolution, all functions from the transitive search are
considered for argument matching<a class='hidden_link' href='#namespace.udir-7.sentence-1'>.</a></div> <div id='namespace.udir-7.sentence-2' class='sentence'>The set of declarations found by the
transitive search is unordered<a class='hidden_link' href='#namespace.udir-7.sentence-2'>.</a></div> <div id='namespace.udir-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udir-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udir-7.sentence-4' class='sentence'>In particular, the order in which namespaces were considered and the
relationships among the namespaces implied by the
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><span class='textit'>s</span> do not cause preference to be given to any
of the declarations found by the search<a class='hidden_link' href='#namespace.udir-7.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.udir-7.sentence-3' class='sentence'>
An ambiguity exists if the best match finds two functions with the same
signature, even if one is in a namespace reachable through
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><span class='textit'>s</span> in the namespace of the other<a class='hidden_link' href='#namespace.udir-7.sentence-3'>.</a><a class='footnotenum' href='#footnote-105'>105</a></div> <div id='namespace.udir-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udir-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace D {
  int d1;
  void f(char);
}
using namespace D;

int d1;             <span class='comment'>// OK: no conflict with <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;d1</span>
</span>
namespace E {
  int e;
  void f(int);
}

namespace D {       <span class='comment'>// namespace extension
</span>  int d2;
  using namespace E;
  void f(int);
}

void f() {
  d1++;             <span class='comment'>// error: ambiguous <span class='tcode_in_codeblock'>&#x200b;::&#x200b;d1</span> or <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;d1</span>?
</span>  ::d1++;           <span class='comment'>// OK
</span>  D::d1++;          <span class='comment'>// OK
</span>  d2++;             <span class='comment'>// OK: <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;d2</span>
</span>  e++;              <span class='comment'>// OK: <span class='tcode_in_codeblock'>E&#x200b;::&#x200b;e</span>
</span>  f(1);             <span class='comment'>// error: ambiguous: <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;f(int)</span> or <span class='tcode_in_codeblock'>E&#x200b;::&#x200b;f(int)</span>?
</span>  f('a');           <span class='comment'>// OK: <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;f(char)</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  </div><div class='footnote' id='footnote-105'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-105'>105)</a></div><div id='footnote-105.sentence-1' class='sentence'>During
name lookup in a class hierarchy, some ambiguities may be
resolved by considering whether one member hides the other along some
paths (<a href='class.member.lookup'>[class.member.lookup]</a>)<a class='hidden_link' href='#footnote-105.sentence-1'>.</a></div> <div id='footnote-105.sentence-2' class='sentence'>There is no such disambiguation when
considering the set of names found as a result of following
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><span class='textit'>s</span><a class='hidden_link' href='#footnote-105.sentence-2'>.</a></div></div></div></div><div id='namespace.udecl' class='section'><h2 ><a class='secnum' href='#namespace.udecl' style='min-width:88pt'>9.8</a> The <span class='texttt'>using</span> declaration <a class='abbr_ref' href='namespace.udecl'>[namespace.udecl]</a></h2><span class='indexparent'><a class='index' id=':using-declaration'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:using-declaration' id='nt:using-declaration'>using-declaration:</a>
&#9;<span class='terminal'>using</span> <i ><a href='namespace.udecl#nt:using-declarator-list'>using-declarator-list</a></i> <span class='terminal'>;</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:using-declarator-list' id='nt:using-declarator-list'>using-declarator-list:</a>
&#9;<i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> <span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='namespace.udecl#nt:using-declarator-list'>using-declarator-list</a></i> <span class='terminal'>,</span> <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> <span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:using-declarator' id='nt:using-declarator'>using-declarator:</a>
&#9;<span class='terminal'>typename<span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i>
</pre><div class='para' id='namespace.udecl-1'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7070'>#</a></div><div id='namespace.udecl-1.sentence-1' class='sentence'>Each <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> in a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i><a class='footnotenum' href='#footnote-106'>106</a>
introduces a set of declarations into the declarative region in
which the <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> appears<a class='hidden_link' href='#namespace.udecl-1.sentence-1'>.</a></div> <div id='namespace.udecl-1.sentence-2' class='sentence'>The set of declarations introduced by the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> is found by
performing qualified name lookup (<a href='basic.lookup.qual'>[basic.lookup.qual]</a>, <a href='class.member.lookup'>[class.member.lookup]</a>)
for the name in the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i>,
excluding functions that are hidden as described below<a class='hidden_link' href='#namespace.udecl-1.sentence-2'>.</a></div> <div id='namespace.udecl-1.sentence-3' class='sentence'>If the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> does not name a constructor,
the <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i> is declared in the declarative region
in which the <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> appears
as a synonym for each declaration introduced by the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i><a class='hidden_link' href='#namespace.udecl-1.sentence-3'>.</a></div> <div id='namespace.udecl-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udecl-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udecl-1.sentence-5' class='sentence'>Only the specified name is so declared;
specifying an enumeration name in a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>
does not declare its enumerators
in the <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>'s declarative region<a class='hidden_link' href='#namespace.udecl-1.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.udecl-1.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':inheritance,using-declaration_and'></a></span>If the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> names a constructor,
it declares that the class <a class='hidden_link' href='#def:constructor,inherited' id='def:constructor,inherited'><i >inherits</i></a> the set of constructor declarations
introduced by the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> from the nominated base class<a class='hidden_link' href='#namespace.udecl-1.sentence-4'>.</a></div></div><div class='para' id='namespace.udecl-2'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7096'>#</a></div><div id='namespace.udecl-2.sentence-1' class='sentence'>Every <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> is a <i ><a href='dcl.dcl#nt:declaration'>declaration</a></i> and a
<i ><a href='class.mem#nt:member-declaration'>member-declaration</a></i> and can therefore be used in a class definition<a class='hidden_link' href='#namespace.udecl-2.sentence-1'>.</a></div> <div id='namespace.udecl-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct B {
  void f(char);
  void g(char);
  enum E { e };
  union { int x; };
};

struct D : B {
  using B::f;
  void f(int) { f('c'); }       <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(char)</span>
</span>  void g(int) { g('c'); }       <span class='comment'>// recursively calls <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;g(int)</span>
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-3'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7117'>#</a></div><div id='namespace.udecl-3.sentence-1' class='sentence'>In a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> used as a
<i ><a href='class.mem#nt:member-declaration'>member-declaration</a></i>,
each <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i>'s <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>
shall name a base class of the class being defined<a class='hidden_link' href='#namespace.udecl-3.sentence-1'>.</a></div> <div id='namespace.udecl-3.sentence-2' class='sentence'>If a
<i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> names a constructor, its
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> shall name a direct base class of the class
being defined<a class='hidden_link' href='#namespace.udecl-3.sentence-2'>.</a></div> <div id='namespace.udecl-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template &lt;typename... bases&gt;
struct X : bases... {
  using bases::g...;
};

X&lt;B, D&gt; x;                      <span class='comment'>// OK: <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;g</span> and <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;g</span> introduced
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.udecl-3.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-3.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class C {
  int g();
};

class D2 : public B {
  using B::f;                   <span class='comment'>// OK: <span class='tcode_in_codeblock'>B</span> is a base of <span class='tcode_in_codeblock'>D2</span>
</span>  using B::e;                   <span class='comment'>// OK: <span class='tcode_in_codeblock'>e</span> is an enumerator of base <span class='tcode_in_codeblock'>B</span>
</span>  using B::x;                   <span class='comment'>// OK: <span class='tcode_in_codeblock'>x</span> is a union member of base <span class='tcode_in_codeblock'>B</span>
</span>  using C::g;                   <span class='comment'>// error: <span class='tcode_in_codeblock'>C</span> isn't a base of <span class='tcode_in_codeblock'>D2</span>
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-4'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7150'>#</a></div><div id='namespace.udecl-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udecl-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udecl-4.sentence-2' class='sentence'>Since destructors do not have names, a
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> cannot refer to a
destructor for a base class<a class='hidden_link' href='#namespace.udecl-4.sentence-2'>.</a></div> <div id='namespace.udecl-4.sentence-3' class='sentence'>Since specializations of member templates
for conversion functions are not found by name lookup, they are not
considered when a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> specifies a conversion
function (<a href='temp.mem'>[temp.mem]</a>)<a class='hidden_link' href='#namespace.udecl-4.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.udecl-4.sentence-1' class='sentence'>
If a constructor or assignment operator brought from a base class into a derived class
has the signature of a copy/move constructor or assignment operator
for the derived class (<a href='class.copy.ctor'>[class.copy.ctor]</a>, <a href='class.copy.assign'>[class.copy.assign]</a>),
the <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> does not by itself
suppress the implicit declaration of the derived class member;
the member from the base class is hidden or overridden
by the implicitly-declared copy/move constructor or assignment operator
of the derived class, as described below<a class='hidden_link' href='#namespace.udecl-4.sentence-1'>.</a></div></div><div class='para' id='namespace.udecl-5'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7168'>#</a></div><div id='namespace.udecl-5.sentence-1' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> shall not name a <i ><a href='temp.names#nt:template-id'>template-id</a></i><a class='hidden_link' href='#namespace.udecl-5.sentence-1'>.</a></div> <div id='namespace.udecl-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A {
  template &lt;class T&gt; void f(T);
  template &lt;class T&gt; struct X { };
};
struct B : A {
  using A::f&lt;double&gt;;           <span class='comment'>// ill-formed
</span>  using A::X&lt;int&gt;;              <span class='comment'>// ill-formed
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-6'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7184'>#</a></div><div id='namespace.udecl-6.sentence-1' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> shall not name a namespace<a class='hidden_link' href='#namespace.udecl-6.sentence-1'>.</a></div></div><div class='para' id='namespace.udecl-7'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7187'>#</a></div><div id='namespace.udecl-7.sentence-1' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> shall not name a scoped enumerator<a class='hidden_link' href='#namespace.udecl-7.sentence-1'>.</a></div></div><div class='para' id='namespace.udecl-8'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7190'>#</a></div><div id='namespace.udecl-8.sentence-1' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> that names a class member shall be a
<i ><a href='class.mem#nt:member-declaration'>member-declaration</a></i><a class='hidden_link' href='#namespace.udecl-8.sentence-1'>.</a></div> <div id='namespace.udecl-8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct X {
  int i;
  static int s;
};

void f() {
  using X::i;                   <span class='comment'>// error: <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;i</span> is a class member and this is not a member declaration.
</span>  using X::s;                   <span class='comment'>// error: <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;s</span> is a class member and this is not a member declaration.
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-9'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7207'>#</a></div><div id='namespace.udecl-9.sentence-1' class='sentence'>Members declared by a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> can be referred to by
explicit qualification just like other member
names (<a href='namespace.qual'>[namespace.qual]</a>)<a class='hidden_link' href='#namespace.udecl-9.sentence-1'>.</a></div> <div id='namespace.udecl-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f();

namespace A {
  void g();
}

namespace X {
  using ::f;                    <span class='comment'>// global <span class='tcode_in_codeblock'>f</span>
</span>  using A::g;                   <span class='comment'>// <span class='tcode_in_codeblock'>A</span>'s <span class='tcode_in_codeblock'>g</span>
</span>}

void h()
{
  X::f();                       <span class='comment'>// calls <span class='tcode_in_codeblock'>&#x200b;::&#x200b;f</span>
</span>  X::g();                       <span class='comment'>// calls <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;g</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-10'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7232'>#</a></div><div id='namespace.udecl-10.sentence-1' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> is a <i ><a href='dcl.dcl#nt:declaration'>declaration</a></i> and can
therefore be used repeatedly where (and only where) multiple
declarations are allowed<a class='hidden_link' href='#namespace.udecl-10.sentence-1'>.</a></div> <div id='namespace.udecl-10.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-10.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace A {
  int i;
}

namespace A1 {
  using A::i, A::i;             <span class='comment'>// OK: double declaration
</span>}

struct B {
  int i;
};

struct X : B {
  using B::i, B::i;             <span class='comment'>// error: double member declaration
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-11'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7256'>#</a></div><div id='namespace.udecl-11.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udecl-11.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udecl-11.sentence-1' class='sentence'>For a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>
whose <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> names a namespace,
members added to the namespace after the <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>
are not in the set of introduced declarations, so they are not
considered when a use of the name is made<a class='hidden_link' href='#namespace.udecl-11.sentence-1'>.</a></div> <div id='namespace.udecl-11.sentence-2' class='sentence'>Thus, additional
overloads added after the <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> are ignored, but
default function arguments (<a href='#dcl.fct.default'>[dcl.fct.default]</a>), default template
arguments (<a href='temp.param'>[temp.param]</a>), and template specializations (<a href='temp.class.spec'>[temp.class.spec]</a>,
<a href='temp.expl.spec'>[temp.expl.spec]</a>) are considered<a class='hidden_link' href='#namespace.udecl-11.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.udecl-11.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-11.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace A {
  void f(int);
}

using A::f;         <span class='comment'>// <span class='tcode_in_codeblock'>f</span> is a synonym for <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span>; that is, for <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(int)</span>.
</span>namespace A {
  void f(char);
}

void foo() {
  f('a');           <span class='comment'>// calls <span class='tcode_in_codeblock'>f(int)</span>, even though <span class='tcode_in_codeblock'>f(char)</span> exists.
</span>}

void bar() {
  using A::f;       <span class='comment'>// <span class='tcode_in_codeblock'>f</span> is a synonym for <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span>; that is, for <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(int)</span> and <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(char)</span>.
</span>  f('a');           <span class='comment'>// calls <span class='tcode_in_codeblock'>f(char)</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-12'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7290'>#</a></div><div id='namespace.udecl-12.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udecl-12.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udecl-12.sentence-1' class='sentence'>Partial specializations of class templates are found by looking up the
primary class template and then considering all partial specializations
of that template<a class='hidden_link' href='#namespace.udecl-12.sentence-1'>.</a></div> <div id='namespace.udecl-12.sentence-2' class='sentence'>If a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> names a class
template, partial specializations introduced after the
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> are effectively visible because the primary
template is visible (<a href='temp.class.spec'>[temp.class.spec]</a>)<a class='hidden_link' href='#namespace.udecl-12.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-13'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7300'>#</a></div><div id='namespace.udecl-13.sentence-1' class='sentence'>Since a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> is a declaration, the restrictions
on declarations of the same name in the same
<a href='basic.scope#def:declarative_region'>declarative region</a> also apply to <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i><span class='textit'>s</span><a class='hidden_link' href='#namespace.udecl-13.sentence-1'>.</a></div> <div id='namespace.udecl-13.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-13.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace A {
  int x;
}

namespace B {
  int i;
  struct g { };
  struct x { };
  void f(int);
  void f(double);
  void g(char);     <span class='comment'>// OK: hides <span class='tcode_in_codeblock'>struct g</span>
</span>}

void func() {
  int i;
  using B::i;       <span class='comment'>// error: <span class='tcode_in_codeblock'>i</span> declared twice
</span>  void f(char);
  using B::f;       <span class='comment'>// OK: each <span class='tcode_in_codeblock'>f</span> is a function
</span>  f(3.5);           <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(double)</span>
</span>  using B::g;
  g('a');           <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;g(char)</span>
</span>  struct g g1;      <span class='comment'>// <span class='tcode_in_codeblock'>g1</span> has class type <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;g</span>
</span>  using B::x;
  using A::x;       <span class='comment'>// OK: hides <span class='tcode_in_codeblock'>struct B&#x200b;::&#x200b;x</span>
</span>  x = 99;           <span class='comment'>// assigns to <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;x</span>
</span>  struct x x1;      <span class='comment'>// <span class='tcode_in_codeblock'>x1</span> has class type <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;x</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-14'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7337'>#</a></div><div id='namespace.udecl-14.sentence-1' class='sentence'>If a function declaration in namespace scope or block scope has the same
name and the same <a href='#def:parameter-type-list'>parameter-type-list</a> as
a function introduced by a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>, and the
declarations do not declare the same function, the program is
ill-formed<a class='hidden_link' href='#namespace.udecl-14.sentence-1'>.</a></div> <div id='namespace.udecl-14.sentence-2' class='sentence'>If a function template declaration in namespace scope has
the same name, parameter-type-list, return type, and template
parameter list as a function template introduced by a
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>, the program is ill-formed<a class='hidden_link' href='#namespace.udecl-14.sentence-2'>.</a></div> <div id='namespace.udecl-14.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udecl-14.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udecl-14.sentence-3' class='sentence'>Two <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i><span class='textit'>s</span> may introduce functions with the same
name and the same parameter-type-list<a class='hidden_link' href='#namespace.udecl-14.sentence-3'>.</a></div> <div id='namespace.udecl-14.sentence-4' class='sentence'>If, for a call to an unqualified
function name, function overload resolution selects the functions
introduced by such <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i><span class='textit'>s</span>, the function call is
ill-formed<a class='hidden_link' href='#namespace.udecl-14.sentence-4'>.</a></div> <div id='namespace.udecl-14.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-14.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace B {
  void f(int);
  void f(double);
}
namespace C {
  void f(int);
  void f(double);
  void f(char);
}

void h() {
  using B::f;       <span class='comment'>// <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(int)</span> and <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(double)</span>
</span>  using C::f;       <span class='comment'>// <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f(int)</span>, <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f(double)</span>, and <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f(char)</span>
</span>  f('h');           <span class='comment'>// calls <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f(char)</span>
</span>  f(1);             <span class='comment'>// error: ambiguous: <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(int)</span> or <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f(int)</span>?
</span>  void f(int);      <span class='comment'>// error: <span class='tcode_in_codeblock'>f(int)</span> conflicts with <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f(int)</span> and <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(int)</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-15'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7376'>#</a></div><div id='namespace.udecl-15.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':name_hiding,using-declaration_and'></a></span>When a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> brings declarations from a base class into
a derived class, member functions and member function templates in
the derived class override and/or hide member functions and member
function templates with the same name,
<a href='#def:parameter-type-list'>parameter-type-list</a>, cv-qualification, and <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i> (if any) in a base
class (rather than conflicting)<a class='hidden_link' href='#namespace.udecl-15.sentence-1'>.</a></div> <div id='namespace.udecl-15.sentence-2' class='sentence'>Such hidden or overridden declarations are excluded from the set of
declarations introduced by the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i><a class='hidden_link' href='#namespace.udecl-15.sentence-2'>.</a></div> <div id='namespace.udecl-15.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-15.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct B {
  virtual void f(int);
  virtual void f(char);
  void g(int);
  void h(int);
};

struct D : B {
  using B::f;
  void f(int);      <span class='comment'>// OK: <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;f(int)</span> overrides <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(int)</span>;
</span>
  using B::g;
  void g(char);     <span class='comment'>// OK
</span>
  using B::h;
  void h(int);      <span class='comment'>// OK: <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;h(int)</span> hides <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;h(int)</span>
</span>};

void k(D* p)
{
  p-&gt;f(1);          <span class='comment'>// calls <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;f(int)</span>
</span>  p-&gt;f('a');        <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(char)</span>
</span>  p-&gt;g(1);          <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;g(int)</span>
</span>  p-&gt;g('a');        <span class='comment'>// calls <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;g(char)</span>
</span>}

struct B1 {
  B1(int);
};

struct B2 {
  B2(int);
};

struct D1 : B1, B2 {
  using B1::B1;
  using B2::B2;
};
D1 d1(0);           <span class='comment'>// ill-formed: ambiguous
</span>
struct D2 : B1, B2 {
  using B1::B1;
  using B2::B2;
  D2(int);          <span class='comment'>// OK: <span class='tcode_in_codeblock'>D2&#x200b;::&#x200b;D2(int)</span> hides <span class='tcode_in_codeblock'>B1&#x200b;::&#x200b;B1(int)</span> and <span class='tcode_in_codeblock'>B2&#x200b;::&#x200b;B2(int)</span>
</span>};
D2 d2(0);           <span class='comment'>// calls <span class='tcode_in_codeblock'>D2&#x200b;::&#x200b;D2(int)</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-16'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7438'>#</a></div><span class='indexparent'><a class='index' id=':overloading,using-declaration_and'></a></span><div id='namespace.udecl-16.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udecl-16.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udecl-16.sentence-1' class='sentence'>For the purpose of forming a set of candidates during overload resolution,
the functions that are
introduced by a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> into a derived class
are treated as though they were members of the derived class (<a href='class.member.lookup'>[class.member.lookup]</a>)<a class='hidden_link' href='#namespace.udecl-16.sentence-1'>.</a></div> <div id='namespace.udecl-16.sentence-2' class='sentence'>In
particular, the implicit object parameter is treated as if
it were a reference to the derived class rather than to the base class (<a href='over.match.funcs'>[over.match.funcs]</a>)<a class='hidden_link' href='#namespace.udecl-16.sentence-2'>.</a></div> <div id='namespace.udecl-16.sentence-3' class='sentence'>This has no effect on the type of the function, and in all other
respects the function remains a member of the base class<a class='hidden_link' href='#namespace.udecl-16.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-17'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7451'>#</a></div><div id='namespace.udecl-17.sentence-1' class='sentence'>Constructors that are introduced by a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>
are treated as though they were constructors of the derived class
when looking up the constructors of the derived class (<a href='class.qual'>[class.qual]</a>)
or forming a set of overload candidates (<a href='over.match.ctor'>[over.match.ctor]</a>, <a href='over.match.copy'>[over.match.copy]</a>, <a href='over.match.list'>[over.match.list]</a>)<a class='hidden_link' href='#namespace.udecl-17.sentence-1'>.</a></div> <div id='namespace.udecl-17.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udecl-17.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udecl-17.sentence-2' class='sentence'>If such a constructor is selected to perform the initialization
of an object of class type, all subobjects other than the base class
from which the constructor originated
are implicitly initialized (<a href='class.inhctor.init'>[class.inhctor.init]</a>)<a class='hidden_link' href='#namespace.udecl-17.sentence-2'>.</a></div> <div id='namespace.udecl-17.sentence-3' class='sentence'>A constructor of a derived class is sometimes preferred to a constructor of a base class
if they would otherwise be ambiguous (<a href='over.match.best'>[over.match.best]</a>)<a class='hidden_link' href='#namespace.udecl-17.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-18'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7465'>#</a></div><div id='namespace.udecl-18.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':access_control,using-declaration_and'></a></span>In a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> that does not name a constructor,
all members of the set of introduced declarations shall be accessible<a class='hidden_link' href='#namespace.udecl-18.sentence-1'>.</a></div> <div id='namespace.udecl-18.sentence-2' class='sentence'>In a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> that names a constructor,
no access check is performed<a class='hidden_link' href='#namespace.udecl-18.sentence-2'>.</a></div> <div id='namespace.udecl-18.sentence-3' class='sentence'>In particular, if a derived class uses a
<i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> to access a member of a base class, the
member name shall be accessible<a class='hidden_link' href='#namespace.udecl-18.sentence-3'>.</a></div> <div id='namespace.udecl-18.sentence-4' class='sentence'>If the name is that of an overloaded
member function, then all functions named shall be accessible<a class='hidden_link' href='#namespace.udecl-18.sentence-4'>.</a></div> <div id='namespace.udecl-18.sentence-5' class='sentence'>The base
class members mentioned by a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> shall be
visible in the scope of at least one of the direct base classes of the
class where the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> is specified<a class='hidden_link' href='#namespace.udecl-18.sentence-5'>.</a></div></div><div class='para' id='namespace.udecl-19'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7479'>#</a></div><div id='namespace.udecl-19.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.udecl-19.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.udecl-19.sentence-1' class='sentence'>Because a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> designates a base class member
(and not a member subobject or a member function of a base class
subobject), a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> cannot be used to resolve
inherited member ambiguities<a class='hidden_link' href='#namespace.udecl-19.sentence-1'>.</a></div> <div id='namespace.udecl-19.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-19.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A { int x(); };
struct B : A { };
struct C : A {
  using A::x;
  int x(int);
};

struct D : B, C {
  using C::x;
  int x(double);
};
int f(D* d) {
  return d-&gt;x();    <span class='comment'>// error: overload resolution selects <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;x</span>, but <span class='tcode_in_codeblock'>A</span> is an ambiguous base class
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-20'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7505'>#</a></div><div id='namespace.udecl-20.sentence-1' class='sentence'>A synonym created by a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> has the usual
accessibility for a <i ><a href='class.mem#nt:member-declaration'>member-declaration</a></i><a class='hidden_link' href='#namespace.udecl-20.sentence-1'>.</a></div> <div id='namespace.udecl-20.sentence-2' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> that names a constructor does not
create a synonym; instead, the additional constructors
are accessible if they would be accessible
when used to construct an object of the corresponding base class,
and the accessibility of the <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> is ignored<a class='hidden_link' href='#namespace.udecl-20.sentence-2'>.</a></div> <div id='namespace.udecl-20.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.udecl-20.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class A {
private:
    void f(char);
public:
    void f(int);
protected:
    void g();
};

class B : public A {
  using A::f;       <span class='comment'>// error: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(char)</span> is inaccessible
</span>public:
  using A::g;       <span class='comment'>// <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;g</span> is a public synonym for <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;g</span>
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.udecl-21'><div class='marginalizedparent'><a class='marginalized' href='#namespace.udecl-21'>21</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7533'>#</a></div><div id='namespace.udecl-21.sentence-1' class='sentence'>If a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> uses the keyword <span class='texttt'>typename</span> and
specifies a dependent name (<a href='temp.dep'>[temp.dep]</a>), the name introduced by the
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> is treated as a
<i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i><a class='hidden_link' href='#namespace.udecl-21.sentence-1'>.</a></div> </div><div class='footnote' id='footnote-106'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-106'>106)</a></div><div id='footnote-106.sentence-1' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> with more than one
<i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> is equivalent to a corresponding sequence
of <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i><span class='textit'>s</span> with
one <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> each<a class='hidden_link' href='#footnote-106.sentence-1'>.</a></div></div></div><div id='dcl.asm' class='section'><h2 ><a class='secnum' href='#dcl.asm' style='min-width:88pt'>9.9</a> The <span class='texttt'>asm</span> declaration <a class='abbr_ref' href='dcl.asm'>[dcl.asm]</a></h2><span class='indexparent'><a class='index' id=':declaration,asm'></a></span><span class='indexparent'><a class='index' id=':assembler'></a></span><span class='indexparent'><a class='index' id=':asm,implementation-defined'></a></span><div class='para' id='dcl.asm-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.asm-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7545'>#</a></div><div id='dcl.asm-1.sentence-1' class='sentence'>An <span class='texttt'>asm</span> declaration has the form</div><pre class='bnf'><a class='nontermdef' href='#nt:asm-definition' id='nt:asm-definition'>asm-definition:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>asm (</span> <i ><a href='lex.string#nt:string-literal'>string-literal</a></i> <span class='terminal'>) ;</span>
</pre><div id='dcl.asm-1.sentence-2' class='sentence'>The <span class='texttt'>asm</span> declaration is conditionally-supported; its meaning is
<span class='indexparent'><a class='index' id=':meaning_of_asm_declaration'></a></span>implementation-defined<a class='hidden_link' href='#dcl.asm-1.sentence-2'>.</a></div> <div id='dcl.asm-1.sentence-3' class='sentence'>The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> in
an <i ><a href='dcl.asm#nt:asm-definition'>asm-definition</a></i> appertains to the <span class='texttt'>asm</span> declaration<a class='hidden_link' href='#dcl.asm-1.sentence-3'>.</a></div> <div id='dcl.asm-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.asm-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.asm-1.sentence-4' class='sentence'>Typically it is used to pass information through the implementation to
an assembler<a class='hidden_link' href='#dcl.asm-1.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.link' class='section'><h2 ><a class='secnum' href='#dcl.link' style='min-width:88pt'>9.10</a> Linkage specifications <a class='abbr_ref' href='dcl.link'>[dcl.link]</a></h2><span class='indexparent'><a class='index' id=':specification,linkage'></a></span><div class='para' id='dcl.link-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.link-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7565'>#</a></div><div id='dcl.link-1.sentence-1' class='sentence'>All function types, function names with external linkage, and variable
names with external linkage have a <a class='hidden_link' href='#def:language_linkage' id='def:language_linkage'><i >language linkage</i></a><a class='hidden_link' href='#dcl.link-1.sentence-1'>.</a></div> <div id='dcl.link-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.link-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.link-1.sentence-4' class='sentence'>Some of the properties associated with an entity with language linkage
are specific to each implementation and are not described here<a class='hidden_link' href='#dcl.link-1.sentence-4'>.</a></div> <div id='dcl.link-1.sentence-5' class='sentence'>For
example, a particular language linkage may be associated with a
particular form of representing names of objects and functions with
external linkage, or with a particular calling convention, etc<a class='hidden_link' href='#dcl.link-1.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.link-1.sentence-2' class='sentence'>
The default language linkage of all function types, function names, and
variable names is C++ language linkage<a class='hidden_link' href='#dcl.link-1.sentence-2'>.</a></div> <div id='dcl.link-1.sentence-3' class='sentence'>Two function types with
different language linkages are distinct types even if they are
otherwise identical<a class='hidden_link' href='#dcl.link-1.sentence-3'>.</a></div></div><div class='para' id='dcl.link-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.link-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7580'>#</a></div><div id='dcl.link-2.sentence-1' class='sentence'><a href='basic.link'>Linkage</a> between C++ and  non-C++ code fragments can
be achieved using a <i ><a href='dcl.link#nt:linkage-specification'>linkage-specification</a></i>:</div><span class='indexparent'><a class='index' id=':linkage-specification'></a></span><span class='indexparent'><a class='index' id=':specification,linkage,extern'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:linkage-specification' id='nt:linkage-specification'>linkage-specification:</a>
&#9;<span class='terminal'>extern</span> <i ><a href='lex.string#nt:string-literal'>string-literal</a></i> <span class='terminal'>{</span> <i ><a href='dcl.dcl#nt:declaration-seq'>declaration-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>}</span>
&#9;<span class='terminal'>extern</span> <i ><a href='lex.string#nt:string-literal'>string-literal</a></i> <i ><a href='dcl.dcl#nt:declaration'>declaration</a></i>
</pre><div id='dcl.link-2.sentence-2' class='sentence'>The <i ><a href='lex.string#nt:string-literal'>string-literal</a></i> indicates the required language linkage<a class='hidden_link' href='#dcl.link-2.sentence-2'>.</a></div> <div id='dcl.link-2.sentence-3' class='sentence'>This document specifies the semantics for the
<i ><a href='lex.string#nt:string-literal'>string-literal</a></i><span class='textit'>s</span> <span class='texttt'>"C"</span> and <span class='texttt'>"C++"</span><a class='hidden_link' href='#dcl.link-2.sentence-3'>.</a></div> <div id='dcl.link-2.sentence-4' class='sentence'>Use of a
<i ><a href='lex.string#nt:string-literal'>string-literal</a></i> other than <span class='texttt'>"C"</span> or <span class='texttt'>"C++"</span> is
conditionally-supported, with <span class='indexparent'><a class='index' id=':semantics_of_linkage_specifiers'></a></span>implementation-defined semantics<a class='hidden_link' href='#dcl.link-2.sentence-4'>.</a></div> <div id='dcl.link-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.link-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.link-2.sentence-5' class='sentence'>Therefore, a linkage-specification with a <i ><a href='lex.string#nt:string-literal'>string-literal</a></i> that
is unknown to the implementation requires a diagnostic<a class='hidden_link' href='#dcl.link-2.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.link-2.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.link-2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.link-2.sentence-6' class='sentence'>It is recommended that the spelling of the <i ><a href='lex.string#nt:string-literal'>string-literal</a></i> be
taken from the document defining that language<a class='hidden_link' href='#dcl.link-2.sentence-6'>.</a></div> <div id='dcl.link-2.sentence-7' class='sentence'>For example, <span class='texttt'>Ada</span>
(not <span class='texttt'>ADA</span>) and <span class='texttt'>Fortran</span> or <span class='texttt'>FORTRAN</span>, depending on
the vintage<a class='hidden_link' href='#dcl.link-2.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.link-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.link-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7609'>#</a></div><div id='dcl.link-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':specification,linkage,implementation-defined'></a></span>Every implementation shall provide for linkage to functions written in
the C programming language,
<span class='indexparent'><a class='index' id=':C,linkage_to'></a></span><span class='texttt'>"C"</span>, and linkage to C++ functions, <span class='texttt'>"C++"</span><a class='hidden_link' href='#dcl.link-3.sentence-1'>.</a></div> <div id='dcl.link-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.link-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
complex sqrt(complex);          <span class='comment'>// C++ linkage by default
</span>extern "C" {
  double sqrt(double);          <span class='comment'>// C linkage
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.link-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.link-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7624'>#</a></div><div id='dcl.link-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':specification,linkage,nesting'></a></span>Linkage specifications nest<a class='hidden_link' href='#dcl.link-4.sentence-1'>.</a></div> <div id='dcl.link-4.sentence-2' class='sentence'>When linkage specifications nest, the
innermost one determines the language linkage<a class='hidden_link' href='#dcl.link-4.sentence-2'>.</a></div> <div id='dcl.link-4.sentence-3' class='sentence'>A linkage specification
does not establish a scope<a class='hidden_link' href='#dcl.link-4.sentence-3'>.</a></div> <div id='dcl.link-4.sentence-4' class='sentence'>A <i ><a href='dcl.link#nt:linkage-specification'>linkage-specification</a></i> shall
occur only in <a href='basic.scope.namespace'>namespace scope</a><a class='hidden_link' href='#dcl.link-4.sentence-4'>.</a></div> <div id='dcl.link-4.sentence-5' class='sentence'>In a
<i ><a href='dcl.link#nt:linkage-specification'>linkage-specification</a></i>, the specified language linkage applies
to the function types of all function declarators, function names with
external linkage, and variable names with external linkage declared
within the <i ><a href='dcl.link#nt:linkage-specification'>linkage-specification</a></i><a class='hidden_link' href='#dcl.link-4.sentence-5'>.</a></div> <div id='dcl.link-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.link-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
extern "C"                      <span class='comment'>// the name <span class='tcode_in_codeblock'>f1</span> and its function type have C language linkage;
</span>  void f1(void(*pf)(int));      <span class='comment'>// <span class='tcode_in_codeblock'>pf</span> is a pointer to a C function
</span>
extern "C" typedef void FUNC();
FUNC f2;                        <span class='comment'>// the name <span class='tcode_in_codeblock'>f2</span> has C++ language linkage and the
</span>                                <span class='comment'>// function's type has C language linkage
</span>
extern "C" FUNC f3;             <span class='comment'>// the name of function <span class='tcode_in_codeblock'>f3</span> and the function's type have C language linkage
</span>
void (*pf2)(FUNC*);             <span class='comment'>// the name of the variable <span class='tcode_in_codeblock'>pf2</span> has C++ linkage and the type
</span>                                <span class='comment'>// of <span class='tcode_in_codeblock'>pf2</span> is “pointer to C++ function that takes one parameter of type
</span>                                <span class='comment'>// pointer to C function”
</span>extern "C" {
  static void f4();             <span class='comment'>// the name of the function <span class='tcode_in_codeblock'>f4</span> has internal linkage (not C language linkage)
</span>                                <span class='comment'>// and the function's type has C language linkage.
</span>}

extern "C" void f5() {
  extern void f4();             <span class='comment'>// OK: Name linkage (internal) and function type linkage (C language linkage)
</span>                                <span class='comment'>// obtained from previous declaration.
</span>}

extern void f4();               <span class='comment'>// OK: Name linkage (internal) and function type linkage (C language linkage)
</span>                                <span class='comment'>// obtained from previous declaration.
</span>
void f6() {
  extern void f4();             <span class='comment'>// OK: Name linkage (internal) and function type linkage (C language linkage)
</span>                                <span class='comment'>// obtained from previous declaration.
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.link-4.sentence-6' class='sentence'><span class='indexparent'><a class='index' id=':class,linkage_specification'></a></span>A C language linkage is ignored
in determining the language linkage of
the names of class members and the
function type of class member functions<a class='hidden_link' href='#dcl.link-4.sentence-6'>.</a></div> <div id='dcl.link-4.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.link-4.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
extern "C" typedef void FUNC_c();

class C {
  void mf1(FUNC_c*);            <span class='comment'>// the name of the function <span class='tcode_in_codeblock'>mf1</span> and the member function's type have
</span>                                <span class='comment'>// C++ language linkage; the parameter has type “pointer to C function”
</span>
  FUNC_c mf2;                   <span class='comment'>// the name of the function <span class='tcode_in_codeblock'>mf2</span> and the member function's type have
</span>                                <span class='comment'>// C++ language linkage
</span>
  static FUNC_c* q;             <span class='comment'>// the name of the data member <span class='tcode_in_codeblock'>q</span> has C++ language linkage and
</span>                                <span class='comment'>// the data member's type is “pointer to C function”
</span>};

extern "C" {
  class X {
    void mf();                  <span class='comment'>// the name of the function <span class='tcode_in_codeblock'>mf</span> and the member function's type have
</span>                                <span class='comment'>// C++ language linkage
</span>    void mf2(void(*)());        <span class='comment'>// the name of the function <span class='tcode_in_codeblock'>mf2</span> has C++ language linkage;
</span>                                <span class='comment'>// the parameter has type “pointer to C function”
</span>  };
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.link-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.link-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7698'>#</a></div><div id='dcl.link-5.sentence-1' class='sentence'>If two declarations declare functions with the same name and
<a href='#def:parameter-type-list'>parameter-type-list</a> to be members of the same
namespace or declare objects with the same name to be members of the same
namespace and the declarations give the names different language linkages, the
program is ill-formed; no diagnostic is required if the declarations appear in
different translation units<a class='hidden_link' href='#dcl.link-5.sentence-1'>.</a></div> <div id='dcl.link-5.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':consistency,linkage_specification'></a></span>Except for functions with C++ linkage, a function declaration without a
linkage specification shall not precede the first linkage specification
for that function<a class='hidden_link' href='#dcl.link-5.sentence-2'>.</a></div> <div id='dcl.link-5.sentence-3' class='sentence'>A function can be declared without a linkage
specification after an explicit linkage specification has been seen; the
linkage explicitly specified in the earlier declaration is not affected
by such a function declaration<a class='hidden_link' href='#dcl.link-5.sentence-3'>.</a></div></div><div class='para' id='dcl.link-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.link-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7713'>#</a></div><div id='dcl.link-6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':function,linkage_specification_overloaded'></a></span>At most one function with a particular name can have C language linkage<a class='hidden_link' href='#dcl.link-6.sentence-1'>.</a></div> <div id='dcl.link-6.sentence-2' class='sentence'>Two declarations for a function with C language linkage with the same
function name (ignoring the namespace names that qualify it) that appear
in different namespace scopes refer to the same function<a class='hidden_link' href='#dcl.link-6.sentence-2'>.</a></div> <div id='dcl.link-6.sentence-3' class='sentence'>Two
declarations for a variable with C language linkage with the same name
(ignoring the namespace names that qualify it) that appear in different
namespace scopes refer to the same variable<a class='hidden_link' href='#dcl.link-6.sentence-3'>.</a></div> <div id='dcl.link-6.sentence-4' class='sentence'>An entity with C language linkage shall not be declared with the same name
as a variable in global scope, unless both declarations denote the same entity;
no diagnostic is required if the declarations appear in different translation units<a class='hidden_link' href='#dcl.link-6.sentence-4'>.</a></div> <div id='dcl.link-6.sentence-5' class='sentence'>A variable with C language linkage shall not be declared with the same name as a
function with C language linkage (ignoring the namespace names that qualify the
respective names); no diagnostic is required if the declarations appear in
different translation units<a class='hidden_link' href='#dcl.link-6.sentence-5'>.</a></div> <div id='dcl.link-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.link-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.link-6.sentence-6' class='sentence'>Only
one definition for an entity with a given name
with C language linkage may appear in the
program (see <a href='basic.def.odr'>[basic.def.odr]</a>);
this implies that such an entity
must not be defined in more
than one namespace scope<a class='hidden_link' href='#dcl.link-6.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.link-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.link-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int x;
namespace A {
  extern "C" int f();
  extern "C" int g() { return 1; }
  extern "C" int h();
  extern "C" int x();               <span class='comment'>// ill-formed: same name as global-space object <span class='tcode_in_codeblock'>x</span>
</span>}

namespace B {
  extern "C" int f();               <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span> and <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f</span> refer to the same function
</span>  extern "C" int g() { return 1; }  <span class='comment'>// ill-formed, the function <span class='tcode_in_codeblock'>g</span> with C language linkage has two definitions
</span>}

int A::f() { return 98; }           <span class='comment'>// definition for the function <span class='tcode_in_codeblock'>f</span> with C language linkage
</span>extern "C" int h() { return 97; }   <span class='comment'>// definition for the function <span class='tcode_in_codeblock'>h</span> with C language linkage
</span>                                    <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;h</span> and <span class='tcode_in_codeblock'>&#x200b;::&#x200b;h</span> refer to the same function
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.link-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.link-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7759'>#</a></div><div id='dcl.link-7.sentence-1' class='sentence'>A declaration directly contained in a
<i ><a href='dcl.link#nt:linkage-specification'>linkage-specification</a></i>
is treated as if it contains the
<a href='#:extern'><span class='texttt'>extern</span>
specifier</a> for the purpose of determining the linkage of the
declared name and whether it is a definition<a class='hidden_link' href='#dcl.link-7.sentence-1'>.</a></div> <div id='dcl.link-7.sentence-2' class='sentence'>Such a declaration shall
not specify a storage class<a class='hidden_link' href='#dcl.link-7.sentence-2'>.</a></div> <div id='dcl.link-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.link-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
extern "C" double f();
static double f();                  <span class='comment'>// error
</span>extern "C" int i;                   <span class='comment'>// declaration
</span>extern "C" {
  int i;                            <span class='comment'>// definition
</span>}
extern "C" static void g();         <span class='comment'>// error
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.link-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.link-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7780'>#</a></div><div id='dcl.link-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.link-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.link-8.sentence-1' class='sentence'>Because the language linkage is part of a function type, when
indirecting through a pointer to C function, the function to
which the resulting lvalue refers is considered a C function<a class='hidden_link' href='#dcl.link-8.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.link-9'><div class='marginalizedparent'><a class='marginalized' href='#dcl.link-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7787'>#</a></div><div id='dcl.link-9.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':object,linkage_specification'></a></span><span class='indexparent'><a class='index' id=':linkage,implementation-defined_object'></a></span>Linkage from C++ to objects defined in other languages and to objects
defined in C++ from other languages is <span class='indexparent'><a class='index' id=':linkage_of_objects_between_C++_and_other_languages'></a></span>implementation-defined and
language-dependent<a class='hidden_link' href='#dcl.link-9.sentence-1'>.</a></div> <div id='dcl.link-9.sentence-2' class='sentence'>Only where the object layout strategies of two
language implementations are similar enough can such linkage be
achieved<a class='hidden_link' href='#dcl.link-9.sentence-2'>.</a></div> </div></div><div id='dcl.attr' class='section'><h2 ><a class='secnum' href='#dcl.attr' style='min-width:88pt'>9.11</a> Attributes <a class='abbr_ref' href='dcl.attr'>[dcl.attr]</a></h2><span class='indexparent'><a class='index' id=':attribute'></a></span><div id='dcl.attr.grammar' class='section'><h3 ><a class='secnum' href='#dcl.attr.grammar' style='min-width:103pt'>9.11.1</a> Attribute syntax and semantics <a class='abbr_ref' href='dcl.attr.grammar'>[dcl.attr.grammar]</a></h3><div class='para' id='dcl.attr.grammar-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.grammar-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7802'>#</a></div><div id='dcl.attr.grammar-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':attribute,syntax_and_semantics'></a></span>Attributes specify additional information for various source constructs
such as types, variables, names, blocks, or translation units<a class='hidden_link' href='#dcl.attr.grammar-1.sentence-1'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:attribute-specifier-seq' id='nt:attribute-specifier-seq'>attribute-specifier-seq:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier'>attribute-specifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:attribute-specifier' id='nt:attribute-specifier'>attribute-specifier:</a>
&#9;<span class='terminal'>[</span> <span class='terminal'>[</span> <i ><a href='dcl.attr.grammar#nt:attribute-using-prefix'>attribute-using-prefix</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> <span class='terminal'>]</span> <span class='terminal'>]</span>
&#9;<i ><a href='dcl.attr.contract.syn#nt:contract-attribute-specifier'>contract-attribute-specifier</a></i>
&#9;<i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:alignment-specifier' id='nt:alignment-specifier'>alignment-specifier:</a>
&#9;<span class='terminal'>alignas (</span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>)</span>
&#9;<span class='terminal'>alignas (</span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> <span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>)</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:attribute-using-prefix' id='nt:attribute-using-prefix'>attribute-using-prefix:</a>
&#9;<span class='terminal'>using</span> <i ><a href='dcl.attr.grammar#nt:attribute-namespace'>attribute-namespace</a></i> <span class='terminal'>:</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:attribute-list' id='nt:attribute-list'>attribute-list:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute'>attribute</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> <span class='terminal'>,</span> <i ><a href='dcl.attr.grammar#nt:attribute'>attribute</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute'>attribute</a></i> <span class='terminal'>...</span>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> <span class='terminal'>,</span> <i ><a href='dcl.attr.grammar#nt:attribute'>attribute</a></i> <span class='terminal'>...</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:attribute' id='nt:attribute'>attribute:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:attribute-token' id='nt:attribute-token'>attribute-token:</a>
&#9;<i ><a href='lex.name#nt:identifier'>identifier</a></i>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-scoped-token'>attribute-scoped-token</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:attribute-scoped-token' id='nt:attribute-scoped-token'>attribute-scoped-token:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-namespace'>attribute-namespace</a></i> <span class='terminal'>::</span> <i ><a href='lex.name#nt:identifier'>identifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:attribute-namespace' id='nt:attribute-namespace'>attribute-namespace:</a>
&#9;<i ><a href='lex.name#nt:identifier'>identifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:attribute-argument-clause' id='nt:attribute-argument-clause'>attribute-argument-clause:</a>
&#9;<span class='terminal'>(</span> <i ><a href='dcl.attr.grammar#nt:balanced-token-seq'>balanced-token-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>)</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:balanced-token-seq' id='nt:balanced-token-seq'>balanced-token-seq:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:balanced-token'>balanced-token</a></i>
&#9;<i ><a href='dcl.attr.grammar#nt:balanced-token-seq'>balanced-token-seq</a></i> <i ><a href='dcl.attr.grammar#nt:balanced-token'>balanced-token</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:balanced-token' id='nt:balanced-token'>balanced-token:</a>
&#9;<span class='terminal'>(</span> <i ><a href='dcl.attr.grammar#nt:balanced-token-seq'>balanced-token-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>)</span>
&#9;<span class='terminal'>[</span> <i ><a href='dcl.attr.grammar#nt:balanced-token-seq'>balanced-token-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>]</span>
&#9;<span class='terminal'>{</span> <i ><a href='dcl.attr.grammar#nt:balanced-token-seq'>balanced-token-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>}</span>
&#9;<span class='textnormal'>any <span class='grammarterm'><i ><a href='lex.token#nt:token'>token</a></i></span> other than a parenthesis, a bracket, or a brace</span>
</pre></div><div class='para' id='dcl.attr.grammar-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.grammar-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7878'>#</a></div><div id='dcl.attr.grammar-2.sentence-1' class='sentence'>If an <i ><a href='dcl.attr.grammar#nt:attribute-specifier'>attribute-specifier</a></i>
contains an <i ><a href='dcl.attr.grammar#nt:attribute-using-prefix'>attribute-using-prefix</a></i>,
the <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> following that <i ><a href='dcl.attr.grammar#nt:attribute-using-prefix'>attribute-using-prefix</a></i>
shall not contain an <i ><a href='dcl.attr.grammar#nt:attribute-scoped-token'>attribute-scoped-token</a></i>
and every <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> in that <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i>
is treated as if
its <i ><a href='lex.name#nt:identifier'>identifier</a></i> were prefixed with <span class='texttt'>N&#x200b;::&#x200b;</span>,
where <span class='texttt'>N</span> is the <i ><a href='dcl.attr.grammar#nt:attribute-namespace'>attribute-namespace</a></i>
specified in the <i ><a href='dcl.attr.grammar#nt:attribute-using-prefix'>attribute-using-prefix</a></i><a class='hidden_link' href='#dcl.attr.grammar-2.sentence-1'>.</a></div> <div id='dcl.attr.grammar-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.grammar-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.grammar-2.sentence-2' class='sentence'>This rule imposes no constraints on how
an <i ><a href='dcl.attr.grammar#nt:attribute-using-prefix'>attribute-using-prefix</a></i>
affects the tokens in an <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i><a class='hidden_link' href='#dcl.attr.grammar-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.attr.grammar-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.attr.grammar-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
[[using CC: opt(1), debug]]         <span class='comment'>// same as <span class='tcode_in_codeblock'>[[CC&#x200b;::&#x200b;opt(1), CC&#x200b;::&#x200b;debug]]</span>
</span>  void f() {}
[[using CC: opt(1)]] [[CC::debug]]  <span class='comment'>// same as <span class='tcode_in_codeblock'>[[CC&#x200b;::&#x200b;opt(1)]] [[CC&#x200b;::&#x200b;debug]]</span>
</span>  void g() {}
[[using CC: CC::opt(1)]]            <span class='comment'>// error: cannot combine <span class='tcode_in_codeblock'>using</span> and scoped attribute token
</span>  void h() {}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.attr.grammar-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.grammar-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7904'>#</a></div><div id='dcl.attr.grammar-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.grammar-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.grammar-3.sentence-1' class='sentence'>For each individual attribute, the form of the
<i ><a href='dcl.attr.grammar#nt:balanced-token-seq'>balanced-token-seq</a></i> will be specified<a class='hidden_link' href='#dcl.attr.grammar-3.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.attr.grammar-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.grammar-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7908'>#</a></div><div id='dcl.attr.grammar-4.sentence-1' class='sentence'>In an <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i>, an ellipsis may appear only if that
<i ><a href='dcl.attr.grammar#nt:attribute'>attribute</a></i>'s specification permits it<a class='hidden_link' href='#dcl.attr.grammar-4.sentence-1'>.</a></div> <div id='dcl.attr.grammar-4.sentence-2' class='sentence'>An <i ><a href='dcl.attr.grammar#nt:attribute'>attribute</a></i> followed
by an ellipsis is a <a href='temp.variadic#def:pack_expansion'>pack expansion</a><a class='hidden_link' href='#dcl.attr.grammar-4.sentence-2'>.</a></div> <div id='dcl.attr.grammar-4.sentence-3' class='sentence'>An <i ><a href='dcl.attr.grammar#nt:attribute-specifier'>attribute-specifier</a></i> that contains no <i ><a href='dcl.attr.grammar#nt:attribute'>attribute</a></i><span class='textit'>s</span> has no
effect<a class='hidden_link' href='#dcl.attr.grammar-4.sentence-3'>.</a></div> <div id='dcl.attr.grammar-4.sentence-4' class='sentence'>The order in which the <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i><span class='textit'>s</span> appear in an
<i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> is not significant<a class='hidden_link' href='#dcl.attr.grammar-4.sentence-4'>.</a></div> <div id='dcl.attr.grammar-4.sentence-5' class='sentence'>If a
<a href='lex.key'>keyword</a>
or an <a href='lex.digraph'>alternative token</a> that satisfies the syntactic requirements
of an <i ><a href='lex.name#nt:identifier'>identifier</a></i> is
contained in
an <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i>, it is considered an identifier<a class='hidden_link' href='#dcl.attr.grammar-4.sentence-5'>.</a></div> <div id='dcl.attr.grammar-4.sentence-6' class='sentence'>No
<a href='basic.lookup'>name lookup</a> is performed on any of the identifiers contained in an
<i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i><a class='hidden_link' href='#dcl.attr.grammar-4.sentence-6'>.</a></div> <div id='dcl.attr.grammar-4.sentence-7' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> determines additional
requirements on the <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> (if any)<a class='hidden_link' href='#dcl.attr.grammar-4.sentence-7'>.</a></div></div><div class='para' id='dcl.attr.grammar-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.grammar-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7924'>#</a></div><div id='dcl.attr.grammar-5.sentence-1' class='sentence'>Each <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> is said to <a class='hidden_link' href='#def:appertain' id='def:appertain'><i >appertain</i></a> to some entity or
statement, identified by the syntactic context where it appears
(<a href='stmt.stmt'>[stmt.stmt]</a>, <a href='#dcl.dcl'>[dcl.dcl]</a>,
<a href='#dcl.decl'>[dcl.decl]</a>)<a class='hidden_link' href='#dcl.attr.grammar-5.sentence-1'>.</a></div> <div id='dcl.attr.grammar-5.sentence-2' class='sentence'>If an <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> that appertains to some
entity or statement contains an <i ><a href='dcl.attr.grammar#nt:attribute'>attribute</a></i> or <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i> that
is not allowed to apply to that
entity or statement, the program is ill-formed<a class='hidden_link' href='#dcl.attr.grammar-5.sentence-2'>.</a></div> <div id='dcl.attr.grammar-5.sentence-3' class='sentence'>If an <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i>
appertains to a <a href='class.friend'>friend declaration</a>, that declaration shall be a
definition<a class='hidden_link' href='#dcl.attr.grammar-5.sentence-3'>.</a></div> <div id='dcl.attr.grammar-5.sentence-4' class='sentence'>No <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> shall appertain to an
<a href='temp.explicit'>explicit instantiation</a><a class='hidden_link' href='#dcl.attr.grammar-5.sentence-4'>.</a></div></div><div class='para' id='dcl.attr.grammar-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.grammar-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7936'>#</a></div><div id='dcl.attr.grammar-6.sentence-1' class='sentence'>For an <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i>
(including an <i ><a href='dcl.attr.grammar#nt:attribute-scoped-token'>attribute-scoped-token</a></i>)
not specified in this document, the
behavior is <span class='indexparent'><a class='index' id=':behavior_of_non-standard_attributes'></a></span>implementation-defined<a class='hidden_link' href='#dcl.attr.grammar-6.sentence-1'>.</a></div> <div id='dcl.attr.grammar-6.sentence-2' class='sentence'>Any <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> that is not recognized by the implementation
is ignored<a class='hidden_link' href='#dcl.attr.grammar-6.sentence-2'>.</a></div> <div id='dcl.attr.grammar-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.grammar-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.grammar-6.sentence-3' class='sentence'>Each implementation should choose a distinctive name for the
<i ><a href='dcl.attr.grammar#nt:attribute-namespace'>attribute-namespace</a></i> in an <i ><a href='dcl.attr.grammar#nt:attribute-scoped-token'>attribute-scoped-token</a></i><a class='hidden_link' href='#dcl.attr.grammar-6.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.attr.grammar-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.grammar-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7948'>#</a></div><div id='dcl.attr.grammar-7.sentence-1' class='sentence'>Two consecutive left square bracket tokens shall appear only
when introducing an <i ><a href='dcl.attr.grammar#nt:attribute-specifier'>attribute-specifier</a></i> or
within the <i ><a href='dcl.attr.grammar#nt:balanced-token-seq'>balanced-token-seq</a></i> of
an <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i><a class='hidden_link' href='#dcl.attr.grammar-7.sentence-1'>.</a></div> <div id='dcl.attr.grammar-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.grammar-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.grammar-7.sentence-2' class='sentence'>If two consecutive left square brackets appear
where an <i ><a href='dcl.attr.grammar#nt:attribute-specifier'>attribute-specifier</a></i> is not allowed, the program is ill-formed even
if the brackets match an alternative grammar production<a class='hidden_link' href='#dcl.attr.grammar-7.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>   <div id='dcl.attr.grammar-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.attr.grammar-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int p[10];
void f() {
  int x = 42, y[5];
  int(p[[x] { return x; }()]);  <span class='comment'>// error: invalid attribute on a nested <span class='grammarterm'>declarator-id</span> and
</span>                                <span class='comment'>// not a function-style cast of an element of <span class='tcode_in_codeblock'>p</span>.
</span>  y[[] { return 2; }()] = 2;    <span class='comment'>// error even though attributes are not allowed in this context.
</span>  int i [[vendor::attr([[]])]]; <span class='comment'>// well-formed implementation-defined attribute.
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.align' class='section'><h3 ><a class='secnum' href='#dcl.align' style='min-width:103pt'>9.11.2</a> Alignment specifier <a class='abbr_ref' href='dcl.align'>[dcl.align]</a></h3><span class='indexparent'><a class='index' id=':attribute,alignment'></a></span>
<span class='indexparent'><a class='index' id=':alignas'></a></span><div class='para' id='dcl.align-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.align-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7972'>#</a></div><div id='dcl.align-1.sentence-1' class='sentence'>An <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i>
may be applied to a variable
or to a class data member, but it shall not be applied to a bit-field, a function
parameter, or an <i ><a href='except#nt:exception-declaration'>exception-declaration</a></i> (<a href='except.handle'>[except.handle]</a>)<a class='hidden_link' href='#dcl.align-1.sentence-1'>.</a></div> <div id='dcl.align-1.sentence-2' class='sentence'>An <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i> may also be applied to the declaration or
definition of a class (in an
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> or
<i ><a href='class#nt:class-head'>class-head</a></i>, respectively) and to the
declaration or definition of an enumeration (in an
<i ><a href='dcl.enum#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i> or <i ><a href='dcl.enum#nt:enum-head'>enum-head</a></i>,
respectively)<a class='hidden_link' href='#dcl.align-1.sentence-2'>.</a></div> <div id='dcl.align-1.sentence-3' class='sentence'>An <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i> with an ellipsis is a <a href='temp.variadic#def:pack_expansion'>pack expansion</a><a class='hidden_link' href='#dcl.align-1.sentence-3'>.</a></div></div><div class='para' id='dcl.align-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.align-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7986'>#</a></div><div id='dcl.align-2.sentence-1' class='sentence'>When the <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i> is of the form
<span class='texttt'>alignas(</span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> <span class='texttt'>)</span>:
<ul class='itemize'><li id='dcl.align-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.align-2.1'>(2.1)</a></div><div id='dcl.align-2.1.sentence-1' class='sentence'>the <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> shall be an integral constant expression</div></li><li id='dcl.align-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.align-2.2'>(2.2)</a></div><div id='dcl.align-2.2.sentence-1' class='sentence'>if the constant expression does not evaluate to an alignment
value (<a href='basic.align'>[basic.align]</a>), or evaluates to an extended alignment and
the implementation does not support that alignment in the context of the
declaration, the program is ill-formed<a class='hidden_link' href='#dcl.align-2.2.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='dcl.align-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.align-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L7998'>#</a></div><div id='dcl.align-3.sentence-1' class='sentence'>An <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i> of the form
<span class='texttt'>alignas(</span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='texttt'>)</span> has the same
effect as <span class='texttt'>alignas(&#x200b;<span class='link'>alignofexpr.alignof</span>(</span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='texttt'>))</span><a class='hidden_link' href='#dcl.align-3.sentence-1'>.</a></div></div><div class='para' id='dcl.align-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.align-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8003'>#</a></div><div id='dcl.align-4.sentence-1' class='sentence'>The alignment requirement of an entity is the strictest nonzero alignment
specified by its <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i><span class='textit'>s</span>, if any;
otherwise, the <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i><span class='textit'>s</span> have no effect<a class='hidden_link' href='#dcl.align-4.sentence-1'>.</a></div></div><div class='para' id='dcl.align-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.align-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8008'>#</a></div><div id='dcl.align-5.sentence-1' class='sentence'>The combined effect of all <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i><span class='textit'>s</span> in a declaration shall not
specify an alignment that is less strict than the alignment that would
be required for the entity being declared if all <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i><span class='textit'>s</span>
appertaining to that entity
were omitted<a class='hidden_link' href='#dcl.align-5.sentence-1'>.</a></div> <div id='dcl.align-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.align-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct alignas(8) S {};
struct alignas(1) U {
  S s;
};  <span class='comment'>// error: <span class='tcode_in_codeblock'>U</span> specifies an alignment that is less strict than if the <span class='tcode_in_codeblock'>alignas(1)</span> were omitted.
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.align-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.align-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8023'>#</a></div><div id='dcl.align-6.sentence-1' class='sentence'>If the defining declaration of an entity has an
<i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i>, any non-defining
declaration of that entity shall either specify equivalent alignment or have no
<i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i><a class='hidden_link' href='#dcl.align-6.sentence-1'>.</a></div> <div id='dcl.align-6.sentence-2' class='sentence'>Conversely, if any declaration of an entity has an
<i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i>,
every defining
declaration of that entity shall specify an equivalent alignment<a class='hidden_link' href='#dcl.align-6.sentence-2'>.</a></div> <div id='dcl.align-6.sentence-3' class='sentence'>No diagnostic is required if declarations of an entity have
different <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i><span class='textit'>s</span>
in different translation units<a class='hidden_link' href='#dcl.align-6.sentence-3'>.</a></div> <div id='dcl.align-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.align-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='comment'>// Translation unit #1:
</span>struct S { int x; } s, *p = &amp;s;

<span class='comment'>// Translation unit #2:
</span>struct alignas(16) S;           <span class='comment'>// error: definition of <span class='tcode_in_codeblock'>S</span> lacks alignment, no diagnostic required
</span>extern S* p;</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.align-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.align-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8046'>#</a></div><div id='dcl.align-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.align-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='dcl.align-7.sentence-1' class='sentence'>An aligned buffer with an alignment requirement
of <span class='texttt'>A</span> and holding <span class='texttt'>N</span> elements of type <span class='texttt'>T</span>
can be declared as:
<pre class='codeblock'>
alignas(T) alignas(A) T buffer[N];</pre>
Specifying <span class='texttt'>alignas(T)</span> ensures
that the final requested alignment will not be weaker than <span class='texttt'>alignof(T)</span>,
and therefore the program will not be ill-formed<a class='hidden_link' href='#dcl.align-7.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.align-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.align-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8058'>#</a></div><div id='dcl.align-8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.align-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
alignas(double) void f();                           <span class='comment'>// error: alignment applied to function
</span>alignas(double) unsigned char c[sizeof(double)];    <span class='comment'>// array of characters, suitably aligned for a <span class='tcode_in_codeblock'>double</span>
</span>extern unsigned char c[sizeof(double)];             <span class='comment'>// no <span class='tcode_in_codeblock'>alignas</span> necessary
</span>alignas(float)
  extern unsigned char c[sizeof(double)];           <span class='comment'>// error: different alignment in declaration
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.attr.depend' class='section'><h3 ><a class='secnum' href='#dcl.attr.depend' style='min-width:103pt'>9.11.3</a> Carries dependency attribute <a class='abbr_ref' href='dcl.attr.depend'>[dcl.attr.depend]</a></h3><span class='indexparent'><a class='index' id=':attribute,carries_dependency'></a></span><div class='para' id='dcl.attr.depend-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.depend-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8072'>#</a></div><div id='dcl.attr.depend-1.sentence-1' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>carries_&shy;dependency</span> specifies
dependency propagation into and out of functions<a class='hidden_link' href='#dcl.attr.depend-1.sentence-1'>.</a></div> <div id='dcl.attr.depend-1.sentence-2' class='sentence'>It shall appear at most once
in each <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> and no
<i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> shall be present<a class='hidden_link' href='#dcl.attr.depend-1.sentence-2'>.</a></div> <div id='dcl.attr.depend-1.sentence-3' class='sentence'>The attribute may be
applied to the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> of a
<i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i> in a function declaration or lambda, in
which case it specifies that the initialization of the parameter
<a href='intro.multithread#def:carries_a_dependency'>carries a dependency</a> to each <a href='conv.lval'>lvalue-to-rvalue
conversion</a> of that object<a class='hidden_link' href='#dcl.attr.depend-1.sentence-3'>.</a></div> <div id='dcl.attr.depend-1.sentence-4' class='sentence'>The attribute may also be applied
to the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> of a function declaration, in which case it
specifies that the return value, if any, carries a dependency to the evaluation
of the function call expression<a class='hidden_link' href='#dcl.attr.depend-1.sentence-4'>.</a></div></div><div class='para' id='dcl.attr.depend-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.depend-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8086'>#</a></div><div id='dcl.attr.depend-2.sentence-1' class='sentence'>The first declaration of a function shall specify the <span class='texttt'>carries_&shy;dependency</span> attribute for its
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> if any declaration of the function specifies the
<span class='texttt'>carries_&shy;dependency</span> attribute<a class='hidden_link' href='#dcl.attr.depend-2.sentence-1'>.</a></div> <div id='dcl.attr.depend-2.sentence-2' class='sentence'>Furthermore, the first declaration of a function shall specify
the <span class='texttt'>carries_&shy;dependency</span> attribute for a parameter if any declaration of that function
specifies the <span class='texttt'>carries_&shy;dependency</span> attribute for that parameter<a class='hidden_link' href='#dcl.attr.depend-2.sentence-2'>.</a></div> <div id='dcl.attr.depend-2.sentence-3' class='sentence'>If a function or one of its
parameters is declared with the <span class='texttt'>carries_&shy;dependency</span> attribute in its first declaration in one
translation unit and the same function or one of its parameters is declared without the
<span class='texttt'>carries_&shy;dependency</span> attribute in its first declaration in another translation unit, the
program is ill-formed, no diagnostic required<a class='hidden_link' href='#dcl.attr.depend-2.sentence-3'>.</a></div></div><div class='para' id='dcl.attr.depend-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.depend-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8097'>#</a></div><div id='dcl.attr.depend-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.depend-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.depend-3.sentence-1' class='sentence'>The <span class='texttt'>carries_&shy;dependency</span> attribute does not change the meaning of the
program, but may result in generation of more efficient code<a class='hidden_link' href='#dcl.attr.depend-3.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.attr.depend-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.depend-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8101'>#</a></div><div id='dcl.attr.depend-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.attr.depend-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
/* Translation unit A. */

struct foo { int* a; int* b; };
std::atomic&lt;struct foo *&gt; foo_head[10];
int foo_array[10][10];

[[carries_dependency]] struct foo* f(int i) {
  return foo_head[i].load(memory_order::consume);
}

int g(int* x, int* y [[carries_dependency]]) {
  return kill_dependency(foo_array[*x][*y]);
}

/* Translation unit B. */

[[carries_dependency]] struct foo* f(int i);
int g(int* x, int* y [[carries_dependency]]);

int c = 3;

void h(int i) {
  struct foo* p;

  p = f(i);
  do_something_with(g(&amp;c, p-&gt;a));
  do_something_with(g(p-&gt;a, &amp;c));
}</pre><div id='dcl.attr.depend-4.sentence-1' class='sentence'>The <span class='texttt'>carries_&shy;dependency</span> attribute on function <span class='texttt'>f</span> means that the
return value carries a dependency out of <span class='texttt'>f</span>, so that the implementation
need not constrain ordering upon return from <span class='texttt'>f</span><a class='hidden_link' href='#dcl.attr.depend-4.sentence-1'>.</a></div> <div id='dcl.attr.depend-4.sentence-2' class='sentence'>Implementations of
<span class='texttt'>f</span> and its caller may choose to preserve dependencies instead of emitting
hardware memory ordering instructions (a<a class='hidden_link' href='#dcl.attr.depend-4.sentence-2'>.</a></div> <div id='dcl.attr.depend-4.sentence-3' class='sentence'>k<a class='hidden_link' href='#dcl.attr.depend-4.sentence-3'>.</a></div> <div id='dcl.attr.depend-4.sentence-4' class='sentence'>a<a class='hidden_link' href='#dcl.attr.depend-4.sentence-4'>.</a></div> <div id='dcl.attr.depend-4.sentence-5' class='sentence'>&nbsp;fences)<a class='hidden_link' href='#dcl.attr.depend-4.sentence-5'>.</a></div> <div id='dcl.attr.depend-4.sentence-6' class='sentence'>Function <span class='texttt'>g</span>'s second parameter has a <span class='texttt'>carries_&shy;dependency</span> attribute,
but its first parameter does not<a class='hidden_link' href='#dcl.attr.depend-4.sentence-6'>.</a></div> <div id='dcl.attr.depend-4.sentence-7' class='sentence'>Therefore, function <span class='texttt'>h</span>'s first call to
<span class='texttt'>g</span> carries a dependency into <span class='texttt'>g</span>, but its second call does not<a class='hidden_link' href='#dcl.attr.depend-4.sentence-7'>.</a></div> <div id='dcl.attr.depend-4.sentence-8' class='sentence'>The
implementation might need to insert a fence prior to the second call to
<span class='texttt'>g</span><a class='hidden_link' href='#dcl.attr.depend-4.sentence-8'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  </div></div><div id='dcl.attr.contract' class='section'><h3 ><a class='secnum' href='#dcl.attr.contract' style='min-width:103pt'>9.11.4</a> Contract attributes <a class='abbr_ref' href='dcl.attr.contract'>[dcl.attr.contract]</a></h3><span class='indexparent'><a class='index' id=':attribute,contracts'></a></span><div id='dcl.attr.contract.syn' class='section'><h4 ><a class='secnum' href='#dcl.attr.contract.syn' style='min-width:118pt'>9.11.4.1</a> Syntax <a class='abbr_ref' href='dcl.attr.contract.syn'>[dcl.attr.contract.syn]</a></h4><div class='para' id='dcl.attr.contract.syn-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.syn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8153'>#</a></div><div id='dcl.attr.contract.syn-1.sentence-1' class='sentence'>Contract attributes are used to specify
preconditions, postconditions, and assertions for functions<a class='hidden_link' href='#dcl.attr.contract.syn-1.sentence-1'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:contract-attribute-specifier' id='nt:contract-attribute-specifier'>contract-attribute-specifier:</a>
&#9;<span class='terminal'>[</span> <span class='terminal'>[</span> <span class='terminal'>expects</span> <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>:</span> <i ><a href='expr.cond#nt:conditional-expression'>conditional-expression</a></i> <span class='terminal'>]</span> <span class='terminal'>]</span>
&#9;<span class='terminal'>[</span> <span class='terminal'>[</span> <span class='terminal'>ensures</span> <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>:</span> <i ><a href='expr.cond#nt:conditional-expression'>conditional-expression</a></i> <span class='terminal'>]</span> <span class='terminal'>]</span>
&#9;<span class='terminal'>[</span> <span class='terminal'>[</span> <span class='terminal'>assert</span> <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>:</span> <i ><a href='expr.cond#nt:conditional-expression'>conditional-expression</a></i> <span class='terminal'>]</span> <span class='terminal'>]</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:contract-level' id='nt:contract-level'>contract-level:</a>
&#9;<span class='terminal'>default</span>
&#9;<span class='terminal'>audit</span>
&#9;<span class='terminal'>axiom</span>
</pre><div id='dcl.attr.contract.syn-1.sentence-2' class='sentence'>An ambiguity between
a <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i> and an <i ><a href='lex.name#nt:identifier'>identifier</a></i>
is resolved in favor of <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i><a class='hidden_link' href='#dcl.attr.contract.syn-1.sentence-2'>.</a></div></div><div class='para' id='dcl.attr.contract.syn-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.syn-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8176'>#</a></div><div id='dcl.attr.contract.syn-2.sentence-1' class='sentence'>A <i ><a href='dcl.attr.contract.syn#nt:contract-attribute-specifier'>contract-attribute-specifier</a></i> using <span class='texttt'>expects</span>
is a <a class='hidden_link' href='#def:precondition' id='def:precondition'><i >precondition</i></a><a class='hidden_link' href='#dcl.attr.contract.syn-2.sentence-1'>.</a></div> <div id='dcl.attr.contract.syn-2.sentence-2' class='sentence'>It expresses a function's expectation on its arguments and/or
the state of other objects using a predicate
that is intended to hold upon entry into the function<a class='hidden_link' href='#dcl.attr.contract.syn-2.sentence-2'>.</a></div> <div id='dcl.attr.contract.syn-2.sentence-3' class='sentence'>The attribute may be applied to the function type of a function declaration<a class='hidden_link' href='#dcl.attr.contract.syn-2.sentence-3'>.</a></div></div><div class='para' id='dcl.attr.contract.syn-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.syn-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8184'>#</a></div><div id='dcl.attr.contract.syn-3.sentence-1' class='sentence'>A <i ><a href='dcl.attr.contract.syn#nt:contract-attribute-specifier'>contract-attribute-specifier</a></i> using <span class='texttt'>ensures</span>
is a <a class='hidden_link' href='#def:postcondition' id='def:postcondition'><i >postcondition</i></a><a class='hidden_link' href='#dcl.attr.contract.syn-3.sentence-1'>.</a></div> <div id='dcl.attr.contract.syn-3.sentence-2' class='sentence'>It expresses a condition that a function should ensure
for the return value and/or the state of objects
using a predicate that is intended to hold upon exit from the function<a class='hidden_link' href='#dcl.attr.contract.syn-3.sentence-2'>.</a></div> <div id='dcl.attr.contract.syn-3.sentence-3' class='sentence'>The attribute may be applied to the function type of a function declaration<a class='hidden_link' href='#dcl.attr.contract.syn-3.sentence-3'>.</a></div> <div id='dcl.attr.contract.syn-3.sentence-4' class='sentence'>A postcondition may introduce an identifier to represent
the glvalue result or the prvalue result object of the function<a class='hidden_link' href='#dcl.attr.contract.syn-3.sentence-4'>.</a></div> <div id='dcl.attr.contract.syn-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.attr.contract.syn-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int f(char * c)
  [[ensures res: res &gt; 0 &amp;&amp; c != nullptr]];

int g(double * p)
  [[ensures audit res: res != 0 &amp;&amp; p != nullptr &amp;&amp; *p &lt;= 0.0]];</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.attr.contract.syn-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.syn-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8203'>#</a></div><div id='dcl.attr.contract.syn-4.sentence-1' class='sentence'>A <i ><a href='dcl.attr.contract.syn#nt:contract-attribute-specifier'>contract-attribute-specifier</a></i> using <span class='texttt'>assert</span>
is an <a class='hidden_link' href='#def:assertion' id='def:assertion'><i >assertion</i></a><a class='hidden_link' href='#dcl.attr.contract.syn-4.sentence-1'>.</a></div> <div id='dcl.attr.contract.syn-4.sentence-2' class='sentence'>It expresses a condition that is intended to be satisfied
where it appears in a function body<a class='hidden_link' href='#dcl.attr.contract.syn-4.sentence-2'>.</a></div> <div id='dcl.attr.contract.syn-4.sentence-3' class='sentence'>The attribute may be applied to a null statement (<a href='stmt.expr'>[stmt.expr]</a>)<a class='hidden_link' href='#dcl.attr.contract.syn-4.sentence-3'>.</a></div> <div id='dcl.attr.contract.syn-4.sentence-4' class='sentence'>An assertion is checked by evaluating its predicate
as part of the evaluation of the null statement
it applies to<a class='hidden_link' href='#dcl.attr.contract.syn-4.sentence-4'>.</a></div></div><div class='para' id='dcl.attr.contract.syn-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.syn-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8213'>#</a></div><div id='dcl.attr.contract.syn-5.sentence-1' class='sentence'>Preconditions, postconditions, and assertions
are collectively called <a class='hidden_link' href='#def:contract' id='def:contract'><i >contracts</i></a><a class='hidden_link' href='#dcl.attr.contract.syn-5.sentence-1'>.</a></div> <div id='dcl.attr.contract.syn-5.sentence-2' class='sentence'>The <i ><a href='expr.cond#nt:conditional-expression'>conditional-expression</a></i> in a contract
is contextually converted to <span class='texttt'>bool</span> (<a href='conv'>[conv]</a>);
the converted expression is called
the <a class='hidden_link' href='#def:contract,predicate' id='def:contract,predicate'><i >predicate</i></a> of the contract<a class='hidden_link' href='#dcl.attr.contract.syn-5.sentence-2'>.</a></div> <div id='dcl.attr.contract.syn-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.contract.syn-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.contract.syn-5.sentence-3' class='sentence'>The predicate of a contract is potentially evaluated (<a href='basic.def.odr'>[basic.def.odr]</a>)<a class='hidden_link' href='#dcl.attr.contract.syn-5.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.attr.contract.syn-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.syn-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8224'>#</a></div><div id='dcl.attr.contract.syn-6.sentence-1' class='sentence'>The only side effects of a predicate
that are allowed in a <i ><a href='dcl.attr.contract.syn#nt:contract-attribute-specifier'>contract-attribute-specifier</a></i>
are modifications of non-volatile objects
whose lifetime began and ended within the evaluation of the predicate<a class='hidden_link' href='#dcl.attr.contract.syn-6.sentence-1'>.</a></div> <div id='dcl.attr.contract.syn-6.sentence-2' class='sentence'>An evaluation of a predicate that exits via an exception
invokes the function <span class='texttt'>std&#x200b;::&#x200b;terminate</span> (<a href='except.terminate'>[except.terminate]</a>)<a class='hidden_link' href='#dcl.attr.contract.syn-6.sentence-2'>.</a></div> <div id='dcl.attr.contract.syn-6.sentence-3' class='sentence'>The behavior of any other side effect is undefined<a class='hidden_link' href='#dcl.attr.contract.syn-6.sentence-3'>.</a></div> <div id='dcl.attr.contract.syn-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.attr.contract.syn-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void push(int x, queue &amp; q)
  [[expects: !q.full()]]
  [[ensures: !q.empty()]]
{
  <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span>
  [[assert: q.is_valid()]];
  <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span>
}

int min = -42;
constexpr int max = 42;

constexpr int g(int x)
  [[expects: min &lt;= x]]                         <span class='comment'>// error
</span>  [[expects: x &lt; max]]                          <span class='comment'>// OK
</span>{
  <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span>
  [[assert: 2*x &lt; max]];
  [[assert: ++min &gt; 0]];                        <span class='comment'>// undefined behavior
</span>  <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span>
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.attr.contract.cond' class='section'><h4 ><a class='secnum' href='#dcl.attr.contract.cond' style='min-width:118pt'>9.11.4.2</a> Contract conditions <a class='abbr_ref' href='dcl.attr.contract.cond'>[dcl.attr.contract.cond]</a></h4><div class='para' id='dcl.attr.contract.cond-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.cond-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8260'>#</a></div><div id='dcl.attr.contract.cond-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:contract_condition' id='def:contract_condition'><i >contract condition</i></a> is a precondition or a postcondition<a class='hidden_link' href='#dcl.attr.contract.cond-1.sentence-1'>.</a></div> <div id='dcl.attr.contract.cond-1.sentence-2' class='sentence'>The first declaration of a function shall specify
all contract conditions (if any) of the function<a class='hidden_link' href='#dcl.attr.contract.cond-1.sentence-2'>.</a></div> <div id='dcl.attr.contract.cond-1.sentence-3' class='sentence'>Subsequent declarations shall either specify no contract conditions
or the same list of contract conditions;
no diagnostic is required
if corresponding conditions will always evaluate to the same value<a class='hidden_link' href='#dcl.attr.contract.cond-1.sentence-3'>.</a></div> <div id='dcl.attr.contract.cond-1.sentence-4' class='sentence'>The list of contract conditions of a function shall be the same
if the declarations of that function appear in different translation units;
no diagnostic required<a class='hidden_link' href='#dcl.attr.contract.cond-1.sentence-4'>.</a></div> <div id='dcl.attr.contract.cond-1.sentence-5' class='sentence'>If a friend declaration
is the first declaration of the function in a translation unit
and has a contract condition,
the declaration shall be a definition and
shall be the only declaration of the function in the translation unit<a class='hidden_link' href='#dcl.attr.contract.cond-1.sentence-5'>.</a></div></div><div class='para' id='dcl.attr.contract.cond-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.cond-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8277'>#</a></div><div id='dcl.attr.contract.cond-2.sentence-1' class='sentence'>Two lists of contract conditions are the same
if they consist of the same contract conditions in the same order<a class='hidden_link' href='#dcl.attr.contract.cond-2.sentence-1'>.</a></div> <div id='dcl.attr.contract.cond-2.sentence-2' class='sentence'>Two contract conditions are the same
if their contract levels are the same and their predicates are the same<a class='hidden_link' href='#dcl.attr.contract.cond-2.sentence-2'>.</a></div> <div id='dcl.attr.contract.cond-2.sentence-3' class='sentence'>Two predicates contained in <i ><a href='dcl.attr.contract.syn#nt:contract-attribute-specifier'>contract-attribute-specifier</a></i><span class='textit'>s</span>
are the same
if they would satisfy the one-definition rule (<a href='basic.def.odr'>[basic.def.odr]</a>)
were they to appear in function definitions,
except for renaming of parameters,
return value identifiers (if any),
and template parameters<a class='hidden_link' href='#dcl.attr.contract.cond-2.sentence-3'>.</a></div></div><div class='para' id='dcl.attr.contract.cond-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.cond-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8290'>#</a></div><div id='dcl.attr.contract.cond-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.contract.cond-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.contract.cond-3.sentence-1' class='sentence'>A function pointer cannot include contract conditions<a class='hidden_link' href='#dcl.attr.contract.cond-3.sentence-1'>.</a></div> <div id='dcl.attr.contract.cond-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.attr.contract.cond-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef int (*fpt)() [[ensures r: r != 0]];     <span class='comment'>// error: contract condition not on a function declaration
</span>
int g(int x)
  [[expects: x &gt;= 0]]
  [[ensures r: r &gt; x]]
{
  return x+1;
}

int (*pf)(int) = g;                             <span class='comment'>// OK
</span>int x = pf(5);                                  <span class='comment'>// contract conditions of <span class='tcode_in_codeblock'>g</span> are checked
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.attr.contract.cond-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.cond-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8310'>#</a></div><div id='dcl.attr.contract.cond-4.sentence-1' class='sentence'>The predicate of a contract condition has the same semantic restrictions
as if it appeared as the first <i ><a href='stmt.expr#nt:expression-statement'>expression-statement</a></i>
in the body of the function it applies to<a class='hidden_link' href='#dcl.attr.contract.cond-4.sentence-1'>.</a></div> <div id='dcl.attr.contract.cond-4.sentence-2' class='sentence'>Additional access restrictions apply to names appearing in
a contract condition of a member function of class <span class='texttt'>C</span>:
<ul class='itemize'><li id='dcl.attr.contract.cond-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.attr.contract.cond-4.1'>(4.1)</a></div><div id='dcl.attr.contract.cond-4.1.sentence-1' class='sentence'>Friendship is not considered (<a href='class.friend'>[class.friend]</a>)<a class='hidden_link' href='#dcl.attr.contract.cond-4.1.sentence-1'>.</a></div></li><li id='dcl.attr.contract.cond-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.attr.contract.cond-4.2'>(4.2)</a></div><div id='dcl.attr.contract.cond-4.2.sentence-1' class='sentence'>For a contract condition of a public member function,
no member of <span class='texttt'>C</span> or of an enclosing class of <span class='texttt'>C</span> is accessible
unless it is a public member of <span class='texttt'>C</span>,
or a member of a base class
accessible as a public member of <span class='texttt'>C</span> (<a href='class.access.base'>[class.access.base]</a>)<a class='hidden_link' href='#dcl.attr.contract.cond-4.2.sentence-1'>.</a></div></li><li id='dcl.attr.contract.cond-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.attr.contract.cond-4.3'>(4.3)</a></div><div id='dcl.attr.contract.cond-4.3.sentence-1' class='sentence'>For a contract condition of a protected member function,
no member of <span class='texttt'>C</span> or of an enclosing class of <span class='texttt'>C</span> is accessible
unless it is a public or protected member of <span class='texttt'>C</span>,
or a member of a base class
accessible as a public or protected member of <span class='texttt'>C</span><a class='hidden_link' href='#dcl.attr.contract.cond-4.3.sentence-1'>.</a></div></li></ul></div> <div id='dcl.attr.contract.cond-4.sentence-3' class='sentence'>
For names appearing in a contract condition of a non-member function,
friendship is not considered<a class='hidden_link' href='#dcl.attr.contract.cond-4.sentence-3'>.</a></div> <div id='dcl.attr.contract.cond-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.attr.contract.cond-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class X {
public:
  int v() const;
  void f() [[expects: x &gt; 0]];                  <span class='comment'>// error: <span class='tcode_in_codeblock'>x</span> is private
</span>  void g() [[expects: v() &gt; 0]];                <span class='comment'>// OK
</span>  friend void r(int z) [[expects: z &gt; 0]];      <span class='comment'>// OK
</span>  friend void s(int z) [[expects: z &gt; x]];      <span class='comment'>// error: <span class='tcode_in_codeblock'>x</span> is private
</span>protected:
  int w();
  void h() [[expects: x &gt; 0]];                  <span class='comment'>// error: <span class='tcode_in_codeblock'>x</span> is private
</span>  void i() [[ensures: y &gt; 0]];                  <span class='comment'>// OK
</span>  void j() [[ensures: w() &gt; 0]];                <span class='comment'>// OK
</span>  int y;
private:
  void k() [[expects: x &gt; 0]];                  <span class='comment'>// OK
</span>  int x;
};

class Y : public X {
public:
  void a() [[expects: v() &gt; 0]];                <span class='comment'>// OK
</span>  void b() [[ensures: w() &gt; 0]];                <span class='comment'>// error: <span class='tcode_in_codeblock'>w</span> is protected
</span>protected:
  void c() [[expects: w() &gt; 0]];                <span class='comment'>// OK
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.attr.contract.cond-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.cond-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8361'>#</a></div><div id='dcl.attr.contract.cond-5.sentence-1' class='sentence'>A precondition is checked by evaluating its predicate
immediately before starting evaluation of the function body<a class='hidden_link' href='#dcl.attr.contract.cond-5.sentence-1'>.</a></div> <div id='dcl.attr.contract.cond-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.contract.cond-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.contract.cond-5.sentence-3' class='sentence'>The function body includes
the <i ><a href='except#nt:function-try-block'>function-try-block</a></i> and
the <i ><a href='class.base.init#nt:ctor-initializer'>ctor-initializer</a></i><a class='hidden_link' href='#dcl.attr.contract.cond-5.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.attr.contract.cond-5.sentence-2' class='sentence'>
A postcondition is checked by evaluating its predicate
immediately before returning control to the caller of the function<a class='hidden_link' href='#dcl.attr.contract.cond-5.sentence-2'>.</a></div> <div id='dcl.attr.contract.cond-5.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.contract.cond-5.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.contract.cond-5.sentence-4' class='sentence'>The lifetime of local variables and temporaries has ended<a class='hidden_link' href='#dcl.attr.contract.cond-5.sentence-4'>.</a></div> <div id='dcl.attr.contract.cond-5.sentence-5' class='sentence'>Exiting via an exception or via <span class='texttt'>longjmp</span> (<a href='csetjmp.syn'>[csetjmp.syn]</a>)
is not considered returning control to the caller of the function<a class='hidden_link' href='#dcl.attr.contract.cond-5.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.attr.contract.cond-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.cond-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8377'>#</a></div><div id='dcl.attr.contract.cond-6.sentence-1' class='sentence'>If a function has multiple preconditions,
their evaluation (if any) will be performed
in the order they appear lexically<a class='hidden_link' href='#dcl.attr.contract.cond-6.sentence-1'>.</a></div> <div id='dcl.attr.contract.cond-6.sentence-2' class='sentence'>If a function has multiple postconditions,
their evaluation (if any) will be performed
in the order they appear lexically<a class='hidden_link' href='#dcl.attr.contract.cond-6.sentence-2'>.</a></div> <div id='dcl.attr.contract.cond-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.attr.contract.cond-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f(int * p)
  [[expects: p != nullptr]]                     <span class='comment'>// #1
</span>  [[ensures: *p == 1]]                          <span class='comment'>// #3
</span>  [[expects: *p == 0]]                          <span class='comment'>// #2
</span>{
  *p = 1;
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.attr.contract.cond-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.cond-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8396'>#</a></div><div id='dcl.attr.contract.cond-7.sentence-1' class='sentence'>If a postcondition odr-uses (<a href='basic.def.odr'>[basic.def.odr]</a>)
a parameter in its predicate
and the function body makes direct or indirect modifications of
the value of that parameter,
the behavior is undefined<a class='hidden_link' href='#dcl.attr.contract.cond-7.sentence-1'>.</a></div> <div id='dcl.attr.contract.cond-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.attr.contract.cond-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int f(int x)
  [[ensures r: r == x]]
{
  return ++x;                   <span class='comment'>// undefined behavior
</span>}

int g(int * p)
  [[ensures r: p != nullptr]]
{
  *p = 42;                      <span class='comment'>// OK, <span class='tcode_in_codeblock'>p</span> is not modified
</span>}

int h(int x)
  [[ensures r: r == x]]
{
  potentially_modify(x);        <span class='comment'>// undefined behavior if <span class='tcode_in_codeblock'>x</span> is modified
</span>  return x;
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.attr.contract.check' class='section'><h4 ><a class='secnum' href='#dcl.attr.contract.check' style='min-width:118pt'>9.11.4.3</a> Checking contracts <a class='abbr_ref' href='dcl.attr.contract.check'>[dcl.attr.contract.check]</a></h4><div class='para' id='dcl.attr.contract.check-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.check-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8427'>#</a></div><div id='dcl.attr.contract.check-1.sentence-1' class='sentence'>If the <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i>
of a <i ><a href='dcl.attr.contract.syn#nt:contract-attribute-specifier'>contract-attribute-specifier</a></i> is absent,
it is assumed to be <span class='texttt'>default</span><a class='hidden_link' href='#dcl.attr.contract.check-1.sentence-1'>.</a></div> <div id='dcl.attr.contract.check-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.contract.check-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.contract.check-1.sentence-2' class='sentence'>A <span class='texttt'>default</span> <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i> is expected to be used
for those contracts where
the cost of run-time checking is assumed to be
small (or at least not expensive) compared to
the cost of executing the function<a class='hidden_link' href='#dcl.attr.contract.check-1.sentence-2'>.</a></div> <div id='dcl.attr.contract.check-1.sentence-3' class='sentence'>An <span class='texttt'>audit</span> <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i> is expected to be used
for those contracts where
the cost of run-time checking is assumed to be
large (or at least significant) compared to
the cost of executing the function<a class='hidden_link' href='#dcl.attr.contract.check-1.sentence-3'>.</a></div> <div id='dcl.attr.contract.check-1.sentence-4' class='sentence'>An <span class='texttt'>axiom</span> <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i> is expected to be used
for those contracts that are formal comments
and are not evaluated at run-time<a class='hidden_link' href='#dcl.attr.contract.check-1.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.attr.contract.check-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.check-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8447'>#</a></div><div id='dcl.attr.contract.check-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.contract.check-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.contract.check-2.sentence-1' class='sentence'>Multiple contract conditions may be applied to a function type
with the same or different <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i><span class='textit'>s</span><a class='hidden_link' href='#dcl.attr.contract.check-2.sentence-1'>.</a></div> <div id='dcl.attr.contract.check-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.attr.contract.check-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int z;

bool is_prime(int k);

void f(int x)
  [[expects: x &gt; 0]]
  [[expects audit: is_prime(x)]]
  [[ensures: z &gt; 10]]
{
  <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span>
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.attr.contract.check-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.check-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8468'>#</a></div><div id='dcl.attr.contract.check-3.sentence-1' class='sentence'>A translation may be performed
with one of the following <a class='hidden_link' href='#def:build_level' id='def:build_level'><i >build levels</i></a>:
<a class='hidden_link' href='#def:off' id='def:off'><i>off</i></a>, <a class='hidden_link' href='#def:default' id='def:default'><i>default</i></a>, or <a class='hidden_link' href='#def:audit' id='def:audit'><i>audit</i></a><a class='hidden_link' href='#dcl.attr.contract.check-3.sentence-1'>.</a></div> <div id='dcl.attr.contract.check-3.sentence-2' class='sentence'>A translation with build level set to <a class='hidden_link' href='#def:off' id='def:off'><i>off</i></a>
performs no checking for any contract<a class='hidden_link' href='#dcl.attr.contract.check-3.sentence-2'>.</a></div> <div id='dcl.attr.contract.check-3.sentence-3' class='sentence'>A translation with build level set to <a class='hidden_link' href='#def:default' id='def:default'><i>default</i></a>
performs checking for <span class='texttt'>default</span> contracts<a class='hidden_link' href='#dcl.attr.contract.check-3.sentence-3'>.</a></div> <div id='dcl.attr.contract.check-3.sentence-4' class='sentence'>A translation with build level set to <a class='hidden_link' href='#def:audit' id='def:audit'><i>audit</i></a>
performs checking for <span class='texttt'>default</span> and <span class='texttt'>audit</span> contracts<a class='hidden_link' href='#dcl.attr.contract.check-3.sentence-4'>.</a></div> <div id='dcl.attr.contract.check-3.sentence-5' class='sentence'>If no build level is explicitly selected, the build level is <a class='hidden_link' href='#def:default' id='def:default'><i>default</i></a><a class='hidden_link' href='#dcl.attr.contract.check-3.sentence-5'>.</a></div> <div id='dcl.attr.contract.check-3.sentence-6' class='sentence'>The mechanism for selecting the build level is
<span class='indexparent'><a class='index' id=':mechanism_for_selecting_the_build_level'></a></span>implementation-defined<a class='hidden_link' href='#dcl.attr.contract.check-3.sentence-6'>.</a></div> <div id='dcl.attr.contract.check-3.sentence-7' class='sentence'>The translation of a program consisting of translation units
where the build level is not the same in all translation units
is conditionally-supported<a class='hidden_link' href='#dcl.attr.contract.check-3.sentence-7'>.</a></div> <div id='dcl.attr.contract.check-3.sentence-8' class='sentence'>There should be no programmatic way of setting, modifying, or querying
the build level of a translation unit<a class='hidden_link' href='#dcl.attr.contract.check-3.sentence-8'>.</a></div></div><div class='para' id='dcl.attr.contract.check-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.check-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8487'>#</a></div><div id='dcl.attr.contract.check-4.sentence-1' class='sentence'>During constant expression evaluation (<a href='expr.const'>[expr.const]</a>),
only predicates of checked contracts are evaluated<a class='hidden_link' href='#dcl.attr.contract.check-4.sentence-1'>.</a></div> <div id='dcl.attr.contract.check-4.sentence-2' class='sentence'>In other contexts,
it is unspecified whether the predicate for a contract
that is not checked under the current build level is evaluated;
if the predicate of such a contract
would evaluate to <span class='texttt'>false</span>, the behavior is undefined<a class='hidden_link' href='#dcl.attr.contract.check-4.sentence-2'>.</a></div></div><div class='para' id='dcl.attr.contract.check-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.check-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8496'>#</a></div><div id='dcl.attr.contract.check-5.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:violation_handler' id='def:violation_handler'><i >violation handler</i></a> of a program is a function of type
“<span class='texttt'>noexcept</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> function of
(lvalue reference to <span class='texttt'>const std&#x200b;::&#x200b;contract_&shy;violation</span>)
returning <span class='texttt'>void</span>”, and is specified in an
<span class='indexparent'><a class='index' id=':specification_of_violation_handler'></a></span>implementation-defined manner<a class='hidden_link' href='#dcl.attr.contract.check-5.sentence-1'>.</a></div> <div id='dcl.attr.contract.check-5.sentence-2' class='sentence'>The violation handler is invoked
when the predicate of a checked contract evaluates to <span class='texttt'>false</span>
(called a <a class='hidden_link' href='#def:contract_violation' id='def:contract_violation'><i >contract violation</i></a>)<a class='hidden_link' href='#dcl.attr.contract.check-5.sentence-2'>.</a></div> <div id='dcl.attr.contract.check-5.sentence-3' class='sentence'>There should be no programmatic way of
setting or modifying the violation handler<a class='hidden_link' href='#dcl.attr.contract.check-5.sentence-3'>.</a></div> <div id='dcl.attr.contract.check-5.sentence-4' class='sentence'>It is <span class='indexparent'><a class='index' id=':argument_for_violation_handler'></a></span>implementation-defined
how the violation handler is established for a program and
how
the <span class='texttt'>std&#x200b;::&#x200b;contract_&shy;violation</span> (<a href='support.contract.cviol'>[support.contract.cviol]</a>) argument value
is set,
except as specified below<a class='hidden_link' href='#dcl.attr.contract.check-5.sentence-4'>.</a></div> <div id='dcl.attr.contract.check-5.sentence-5' class='sentence'>If a precondition is violated, the source location of the violation is
<span class='indexparent'><a class='index' id=':source_location_of_precondition_violation'></a></span>implementation-defined<a class='hidden_link' href='#dcl.attr.contract.check-5.sentence-5'>.</a></div> <div id='dcl.attr.contract.check-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.contract.check-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.contract.check-5.sentence-8' class='sentence'>Implementations are encouraged but not required to report the caller site<a class='hidden_link' href='#dcl.attr.contract.check-5.sentence-8'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.attr.contract.check-5.sentence-6' class='sentence'>
If a postcondition is violated, the source location of the violation is
the source location of the function definition<a class='hidden_link' href='#dcl.attr.contract.check-5.sentence-6'>.</a></div> <div id='dcl.attr.contract.check-5.sentence-7' class='sentence'>If an assertion is violated, the source location of the violation is
the source location of the statement to which the assertion is applied<a class='hidden_link' href='#dcl.attr.contract.check-5.sentence-7'>.</a></div></div><div class='para' id='dcl.attr.contract.check-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.check-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8523'>#</a></div><div id='dcl.attr.contract.check-6.sentence-1' class='sentence'>If a violation handler exits by throwing an exception
and a contract is violated on a call to a function
with a non-throwing exception specification,
then the behavior is as if the exception escaped the function body<a class='hidden_link' href='#dcl.attr.contract.check-6.sentence-1'>.</a></div> <div id='dcl.attr.contract.check-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.contract.check-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.contract.check-6.sentence-2' class='sentence'>The function <span class='texttt'>std&#x200b;::&#x200b;terminate</span> is invoked (<a href='except.terminate'>[except.terminate]</a>)<a class='hidden_link' href='#dcl.attr.contract.check-6.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.attr.contract.check-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.attr.contract.check-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f(int x) noexcept [[expects: x &gt; 0]];

void g() {
  f(0);                                         <span class='comment'>// <span class='tcode_in_codeblock'>std&#x200b;::&#x200b;terminate()</span> if violation handler throws
</span>  <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span>
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.attr.contract.check-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.contract.check-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8542'>#</a></div><div id='dcl.attr.contract.check-7.sentence-1' class='sentence'>A translation may be performed with one of the following
<a class='hidden_link' href='#def:violation_continuation_mode' id='def:violation_continuation_mode'><i >violation continuation modes</i></a>:
<a class='hidden_link' href='#def:off' id='def:off'><i>off</i></a> or <a class='hidden_link' href='#def:on' id='def:on'><i>on</i></a><a class='hidden_link' href='#dcl.attr.contract.check-7.sentence-1'>.</a></div> <div id='dcl.attr.contract.check-7.sentence-2' class='sentence'>A translation with violation continuation mode set to <a class='hidden_link' href='#def:off' id='def:off'><i>off</i></a>
terminates execution
by invoking the function <span class='texttt'>std&#x200b;::&#x200b;terminate</span> (<a href='except.terminate'>[except.terminate]</a>)
after completing the execution of the violation handler<a class='hidden_link' href='#dcl.attr.contract.check-7.sentence-2'>.</a></div> <div id='dcl.attr.contract.check-7.sentence-3' class='sentence'>A translation with a violation continuation mode set to <a class='hidden_link' href='#def:on' id='def:on'><i>on</i></a>
continues execution after completing the execution of the violation handler<a class='hidden_link' href='#dcl.attr.contract.check-7.sentence-3'>.</a></div> <div id='dcl.attr.contract.check-7.sentence-4' class='sentence'>If no continuation mode is explicitly selected,
the default continuation mode is <a class='hidden_link' href='#def:off' id='def:off'><i>off</i></a><a class='hidden_link' href='#dcl.attr.contract.check-7.sentence-4'>.</a></div> <div id='dcl.attr.contract.check-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.contract.check-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.contract.check-7.sentence-5' class='sentence'>A continuation mode set to <a class='hidden_link' href='#def:on' id='def:on'><i>on</i></a> provides the opportunity
to install a logging handler to instrument a pre-existing code base
and fix errors before enforcing checks<a class='hidden_link' href='#dcl.attr.contract.check-7.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.attr.contract.check-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.attr.contract.check-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f(int x) [[expects: x &gt; 0]];

void g() {
  f(0);         <span class='comment'>// <span class='tcode_in_codeblock'>std&#x200b;::&#x200b;terminate()</span> after handler if continuation mode is off;
</span>                <span class='comment'>// proceeds after handler if continuation mode is on
</span>  <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span>
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div></div><div id='dcl.attr.deprecated' class='section'><h3 ><a class='secnum' href='#dcl.attr.deprecated' style='min-width:103pt'>9.11.5</a> Deprecated attribute <a class='abbr_ref' href='dcl.attr.deprecated'>[dcl.attr.deprecated]</a></h3><span class='indexparent'><a class='index' id=':attribute,deprecated'></a></span><div class='para' id='dcl.attr.deprecated-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.deprecated-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8576'>#</a></div><div id='dcl.attr.deprecated-1.sentence-1' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>deprecated</span> can be used to mark names and entities
whose use is still allowed, but is discouraged for some reason<a class='hidden_link' href='#dcl.attr.deprecated-1.sentence-1'>.</a></div> <div id='dcl.attr.deprecated-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.deprecated-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.deprecated-1.sentence-4' class='sentence'>In particular,
<span class='texttt'>deprecated</span> is appropriate for names and entities that are deemed obsolescent or
unsafe<a class='hidden_link' href='#dcl.attr.deprecated-1.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.attr.deprecated-1.sentence-2' class='sentence'> It shall appear at most once in each <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i><a class='hidden_link' href='#dcl.attr.deprecated-1.sentence-2'>.</a></div> <div id='dcl.attr.deprecated-1.sentence-3' class='sentence'>An
<i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> may be present and, if present, it shall have the form:
<pre class='codeblock'>
( <span class='grammarterm'>string-literal</span> )</pre>
<div id='dcl.attr.deprecated-1.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.deprecated-1.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.deprecated-1.sentence-5' class='sentence'>The <i ><a href='lex.string#nt:string-literal'>string-literal</a></i> in the <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i>
could be used to explain the rationale for deprecation and/or to suggest a replacing entity<a class='hidden_link' href='#dcl.attr.deprecated-1.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div class='para' id='dcl.attr.deprecated-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.deprecated-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8589'>#</a></div><div id='dcl.attr.deprecated-2.sentence-1' class='sentence'>The attribute may be applied to the declaration of
a class,
a <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i>,
a variable,
a non-static data member,
a function,
a namespace,
an enumeration,
an enumerator, or
a template specialization<a class='hidden_link' href='#dcl.attr.deprecated-2.sentence-1'>.</a></div></div><div class='para' id='dcl.attr.deprecated-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.deprecated-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8601'>#</a></div><div id='dcl.attr.deprecated-3.sentence-1' class='sentence'>A name or entity declared without the <span class='texttt'>deprecated</span> attribute can later be redeclared
with the attribute and vice-versa<a class='hidden_link' href='#dcl.attr.deprecated-3.sentence-1'>.</a></div> <div id='dcl.attr.deprecated-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.deprecated-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.deprecated-3.sentence-3' class='sentence'>Thus, an entity initially declared without the
attribute can be marked as deprecated by a subsequent redeclaration<a class='hidden_link' href='#dcl.attr.deprecated-3.sentence-3'>.</a></div> <div id='dcl.attr.deprecated-3.sentence-4' class='sentence'>However, after an entity
is marked as deprecated, later redeclarations do not un-deprecate the entity<a class='hidden_link' href='#dcl.attr.deprecated-3.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.attr.deprecated-3.sentence-2' class='sentence'>
Redeclarations using different forms of the attribute (with or without the
<i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> or with different
<i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i><span class='textit'>s</span>) are allowed<a class='hidden_link' href='#dcl.attr.deprecated-3.sentence-2'>.</a></div></div><div class='para' id='dcl.attr.deprecated-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.deprecated-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8610'>#</a></div><div id='dcl.attr.deprecated-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.deprecated-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.deprecated-4.sentence-1' class='sentence'>Implementations may use the <span class='texttt'>deprecated</span> attribute to produce a diagnostic
message in case the program refers to a name or entity other than to declare it, after a
declaration that specifies the attribute<a class='hidden_link' href='#dcl.attr.deprecated-4.sentence-1'>.</a></div> <div id='dcl.attr.deprecated-4.sentence-2' class='sentence'>The diagnostic message may include the text provided
within the <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> of any <span class='texttt'>deprecated</span> attribute applied
to the name or entity<a class='hidden_link' href='#dcl.attr.deprecated-4.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.attr.fallthrough' class='section'><h3 ><a class='secnum' href='#dcl.attr.fallthrough' style='min-width:103pt'>9.11.6</a> Fallthrough attribute <a class='abbr_ref' href='dcl.attr.fallthrough'>[dcl.attr.fallthrough]</a></h3><span class='indexparent'><a class='index' id=':attribute,fallthrough'></a></span><div class='para' id='dcl.attr.fallthrough-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.fallthrough-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8620'>#</a></div><div id='dcl.attr.fallthrough-1.sentence-1' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>fallthrough</span>
may be applied to a <a href='stmt.expr#def:null_statement'>null statement</a>;
<span class='indexparent'><a class='index' id=':statement,fallthrough'></a></span>
such a statement is a fallthrough statement<a class='hidden_link' href='#dcl.attr.fallthrough-1.sentence-1'>.</a></div> <div id='dcl.attr.fallthrough-1.sentence-2' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>fallthrough</span>
shall appear at most once in each <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> and
no <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> shall be present<a class='hidden_link' href='#dcl.attr.fallthrough-1.sentence-2'>.</a></div> <div id='dcl.attr.fallthrough-1.sentence-3' class='sentence'>A fallthrough statement may only appear within
an enclosing <a href='stmt.switch'><span class='texttt'>switch</span> statement</a><a class='hidden_link' href='#dcl.attr.fallthrough-1.sentence-3'>.</a></div> <div id='dcl.attr.fallthrough-1.sentence-4' class='sentence'>The next statement that would be executed after a fallthrough statement
shall be a labeled statement whose label is a case label or
default label for the same <span class='texttt'>switch</span> statement<a class='hidden_link' href='#dcl.attr.fallthrough-1.sentence-4'>.</a></div> <div id='dcl.attr.fallthrough-1.sentence-5' class='sentence'>The program is ill-formed if there is no such statement<a class='hidden_link' href='#dcl.attr.fallthrough-1.sentence-5'>.</a></div></div><div class='para' id='dcl.attr.fallthrough-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.fallthrough-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8635'>#</a></div><div id='dcl.attr.fallthrough-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.fallthrough-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.fallthrough-2.sentence-1' class='sentence'>The use of a fallthrough statement is intended to suppress
a warning that an implementation might otherwise issue
for a case or default label that is reachable
from another case or default label along some path of execution<a class='hidden_link' href='#dcl.attr.fallthrough-2.sentence-1'>.</a></div> <div id='dcl.attr.fallthrough-2.sentence-2' class='sentence'>Implementations should issue a warning
if a fallthrough statement is not dynamically reachable<a class='hidden_link' href='#dcl.attr.fallthrough-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.attr.fallthrough-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.fallthrough-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8645'>#</a></div><div id='dcl.attr.fallthrough-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.attr.fallthrough-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f(int n) {
  void g(), h(), i();
  switch (n) {
  case 1:
  case 2:
    g();
    [[fallthrough]];
  case 3:                       <span class='comment'>// warning on fallthrough discouraged
</span>    h();
  case 4:                       <span class='comment'>// implementation may warn on fallthrough
</span>    i();
    [[fallthrough]];            <span class='comment'>// ill-formed
</span>  }
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.attr.likelihood' class='section'><h3 ><a class='secnum' href='#dcl.attr.likelihood' style='min-width:103pt'>9.11.7</a> Likelihood attributes <a class='abbr_ref' href='dcl.attr.likelihood'>[dcl.attr.likelihood]</a></h3><span class='indexparent'><a class='index' id=':attribute,likely'></a></span>
<span class='indexparent'><a class='index' id=':attribute,unlikely'></a></span><div class='para' id='dcl.attr.likelihood-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.likelihood-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8669'>#</a></div><div id='dcl.attr.likelihood-1.sentence-1' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i>s
<span class='texttt'>likely</span> and <span class='texttt'>unlikely</span>
may be applied to labels or statements<a class='hidden_link' href='#dcl.attr.likelihood-1.sentence-1'>.</a></div> <div id='dcl.attr.likelihood-1.sentence-2' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i>s
<span class='texttt'>likely</span> and <span class='texttt'>unlikely</span>
shall appear at most once in each <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i>
and no <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> shall be present<a class='hidden_link' href='#dcl.attr.likelihood-1.sentence-2'>.</a></div> <div id='dcl.attr.likelihood-1.sentence-3' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>likely</span>
shall not appear in an <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i>
that contains the <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>unlikely</span><a class='hidden_link' href='#dcl.attr.likelihood-1.sentence-3'>.</a></div></div><div class='para' id='dcl.attr.likelihood-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.likelihood-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8681'>#</a></div><div id='dcl.attr.likelihood-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.likelihood-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.likelihood-2.sentence-1' class='sentence'>The use of the <span class='texttt'>likely</span> attribute
is intended to allow implementations to optimize for
the case where paths of execution including it
are arbitrarily more likely
than any alternative path of execution
that does not include such an attribute on a statement or label<a class='hidden_link' href='#dcl.attr.likelihood-2.sentence-1'>.</a></div> <div id='dcl.attr.likelihood-2.sentence-2' class='sentence'>The use of the <span class='texttt'>unlikely</span> attribute
is intended to allow implementations to optimize for
the case where paths of execution including it
are arbitrarily more unlikely
than any alternative path of execution
that does not include such an attribute on a statement or label<a class='hidden_link' href='#dcl.attr.likelihood-2.sentence-2'>.</a></div> <div id='dcl.attr.likelihood-2.sentence-3' class='sentence'>A path of execution includes a label
if and only if it contains a jump to that label<a class='hidden_link' href='#dcl.attr.likelihood-2.sentence-3'>.</a></div> <div id='dcl.attr.likelihood-2.sentence-4' class='sentence'>Excessive usage of either of these attributes
is liable to result in performance degradation<a class='hidden_link' href='#dcl.attr.likelihood-2.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.attr.likelihood-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.likelihood-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8701'>#</a></div><div id='dcl.attr.likelihood-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.attr.likelihood-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void g(int);
int f(int n) {
  if (n &gt; 5) [[unlikely]] {     <span class='comment'>// <span class='tcode_in_codeblock'>n &gt; 5</span> is considered to be arbitrarily unlikely
</span>    g(0);
    return n * 2 + 1;
  }

  switch (n) {
  case 1:
    g(1);
    [[fallthrough]];

  [[likely]] case 2:            <span class='comment'>// <span class='tcode_in_codeblock'>n == 2</span> is considered to be arbitrarily more
</span>    g(2);                       <span class='comment'>// likely than any other value of <span class='tcode_in_codeblock'>n</span>
</span>    break;
  }
  return 3;
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.attr.unused' class='section'><h3 ><a class='secnum' href='#dcl.attr.unused' style='min-width:103pt'>9.11.8</a> Maybe unused attribute <a class='abbr_ref' href='dcl.attr.unused'>[dcl.attr.unused]</a></h3><span class='indexparent'><a class='index' id=':attribute,maybe_unused'></a></span><div class='para' id='dcl.attr.unused-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.unused-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8728'>#</a></div><div id='dcl.attr.unused-1.sentence-1' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>maybe_&shy;unused</span>
indicates that a name or entity is possibly intentionally unused<a class='hidden_link' href='#dcl.attr.unused-1.sentence-1'>.</a></div> <div id='dcl.attr.unused-1.sentence-2' class='sentence'>It shall appear at most once in each <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> and
no <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> shall be present<a class='hidden_link' href='#dcl.attr.unused-1.sentence-2'>.</a></div></div><div class='para' id='dcl.attr.unused-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.unused-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8734'>#</a></div><div id='dcl.attr.unused-2.sentence-1' class='sentence'>The attribute may be applied to the declaration of a class,
a <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i>, a variable, a non-static data member,
a function, an enumeration, or an enumerator<a class='hidden_link' href='#dcl.attr.unused-2.sentence-1'>.</a></div></div><div class='para' id='dcl.attr.unused-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.unused-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8739'>#</a></div><div id='dcl.attr.unused-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.unused-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.unused-3.sentence-1' class='sentence'>For an entity marked <span class='texttt'>maybe_&shy;unused</span>, implementations
should not emit a warning that the entity is unused, or
that the entity is used despite the presence of the attribute<a class='hidden_link' href='#dcl.attr.unused-3.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.attr.unused-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.unused-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8746'>#</a></div><div id='dcl.attr.unused-4.sentence-1' class='sentence'>A name or entity declared without the <span class='texttt'>maybe_&shy;unused</span> attribute
can later be redeclared with the attribute
and vice versa<a class='hidden_link' href='#dcl.attr.unused-4.sentence-1'>.</a></div> <div id='dcl.attr.unused-4.sentence-2' class='sentence'>An entity is considered marked
after the first declaration that marks it<a class='hidden_link' href='#dcl.attr.unused-4.sentence-2'>.</a></div></div><div class='para' id='dcl.attr.unused-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.unused-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8753'>#</a></div><div id='dcl.attr.unused-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.attr.unused-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
[[maybe_unused]] void f([[maybe_unused]] bool thing1,
                        [[maybe_unused]] bool thing2) {
  [[maybe_unused]] bool b = thing1 &amp;&amp; thing2;
  assert(b);
}</pre> <div id='dcl.attr.unused-5.sentence-1' class='sentence'>
Implementations should not warn that <span class='texttt'>b</span> is unused,
whether or not <span class='texttt'>NDEBUG</span> is defined<a class='hidden_link' href='#dcl.attr.unused-5.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.attr.nodiscard' class='section'><h3 ><a class='secnum' href='#dcl.attr.nodiscard' style='min-width:103pt'>9.11.9</a> Nodiscard attribute <a class='abbr_ref' href='dcl.attr.nodiscard'>[dcl.attr.nodiscard]</a></h3><span class='indexparent'><a class='index' id=':attribute,nodiscard'></a></span><div class='para' id='dcl.attr.nodiscard-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.nodiscard-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8769'>#</a></div><div id='dcl.attr.nodiscard-1.sentence-1' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>nodiscard</span>
may be applied to the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
in a function declaration or to the declaration of a class or enumeration<a class='hidden_link' href='#dcl.attr.nodiscard-1.sentence-1'>.</a></div> <div id='dcl.attr.nodiscard-1.sentence-2' class='sentence'>It shall appear at most once in each <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> and
no <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> shall be present<a class='hidden_link' href='#dcl.attr.nodiscard-1.sentence-2'>.</a></div></div><div class='para' id='dcl.attr.nodiscard-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.nodiscard-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8776'>#</a></div><div id='dcl.attr.nodiscard-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.nodiscard-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.nodiscard-2.sentence-1' class='sentence'>A nodiscard call is a function call expression that
calls a function previously declared <span class='texttt'>nodiscard</span>, or
whose return type is a possibly cv-qualified class or enumeration type
marked <span class='texttt'>nodiscard</span><a class='hidden_link' href='#dcl.attr.nodiscard-2.sentence-1'>.</a></div> <div id='dcl.attr.nodiscard-2.sentence-2' class='sentence'>Appearance of a nodiscard call as
a potentially-evaluated <a href='expr.prop#def:discarded-value_expression'>discarded-value expression</a>
is discouraged unless explicitly cast to <span class='texttt'>void</span><a class='hidden_link' href='#dcl.attr.nodiscard-2.sentence-2'>.</a></div> <div id='dcl.attr.nodiscard-2.sentence-3' class='sentence'>Implementations should issue a warning in such cases<a class='hidden_link' href='#dcl.attr.nodiscard-2.sentence-3'>.</a></div> <div id='dcl.attr.nodiscard-2.sentence-4' class='sentence'>This is typically because discarding the return value
of a nodiscard call has surprising consequences<a class='hidden_link' href='#dcl.attr.nodiscard-2.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.attr.nodiscard-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.nodiscard-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8789'>#</a></div><div id='dcl.attr.nodiscard-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.attr.nodiscard-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct [[nodiscard]] error_info { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> };
error_info enable_missile_safety_mode();
void launch_missiles();
void test_missiles() {
  enable_missile_safety_mode(); <span class='comment'>// warning encouraged
</span>  launch_missiles();
}
error_info &amp;foo();
void f() { foo(); }             <span class='comment'>// warning not encouraged: not a nodiscard call, because neither
</span>                                <span class='comment'>// the (reference) return type nor the function is declared nodiscard
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.attr.noreturn' class='section'><h3 ><a class='secnum' href='#dcl.attr.noreturn' style='min-width:103pt'>9.11.10</a> Noreturn attribute <a class='abbr_ref' href='dcl.attr.noreturn'>[dcl.attr.noreturn]</a></h3><span class='indexparent'><a class='index' id=':attribute,noreturn'></a></span><div class='para' id='dcl.attr.noreturn-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.noreturn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8808'>#</a></div><div id='dcl.attr.noreturn-1.sentence-1' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>noreturn</span> specifies that a function does not return<a class='hidden_link' href='#dcl.attr.noreturn-1.sentence-1'>.</a></div> <div id='dcl.attr.noreturn-1.sentence-2' class='sentence'>It
shall appear at most once in each <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> and no
<i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> shall be present<a class='hidden_link' href='#dcl.attr.noreturn-1.sentence-2'>.</a></div> <div id='dcl.attr.noreturn-1.sentence-3' class='sentence'>The attribute may be applied to the
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> in a function declaration<a class='hidden_link' href='#dcl.attr.noreturn-1.sentence-3'>.</a></div> <div id='dcl.attr.noreturn-1.sentence-4' class='sentence'>The first declaration of a function shall
specify the <span class='texttt'>noreturn</span> attribute if any declaration of that function specifies the
<span class='texttt'>noreturn</span> attribute<a class='hidden_link' href='#dcl.attr.noreturn-1.sentence-4'>.</a></div> <div id='dcl.attr.noreturn-1.sentence-5' class='sentence'>If a function is declared with the <span class='texttt'>noreturn</span> attribute in one
translation unit and the same function is declared without the <span class='texttt'>noreturn</span> attribute in another
translation unit, the program is ill-formed, no diagnostic required<a class='hidden_link' href='#dcl.attr.noreturn-1.sentence-5'>.</a></div></div><div class='para' id='dcl.attr.noreturn-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.noreturn-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8818'>#</a></div><div id='dcl.attr.noreturn-2.sentence-1' class='sentence'>If a function <span class='texttt'>f</span> is called where <span class='texttt'>f</span> was previously declared with the <span class='texttt'>noreturn</span>
attribute and <span class='texttt'>f</span> eventually returns, the behavior is undefined<a class='hidden_link' href='#dcl.attr.noreturn-2.sentence-1'>.</a></div> <div id='dcl.attr.noreturn-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.noreturn-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.noreturn-2.sentence-2' class='sentence'>The function may
terminate by throwing an exception<a class='hidden_link' href='#dcl.attr.noreturn-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>   <div id='dcl.attr.noreturn-2.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.noreturn-2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.noreturn-2.sentence-3' class='sentence'>Implementations should issue a
warning if a function marked <span class='texttt'>[[noreturn]]</span> might return<a class='hidden_link' href='#dcl.attr.noreturn-2.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.attr.noreturn-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.noreturn-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8824'>#</a></div><div id='dcl.attr.noreturn-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.attr.noreturn-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
[[ noreturn ]] void f() {
  throw "error";                <span class='comment'>// OK
</span>}

[[ noreturn ]] void q(int i) {  <span class='comment'>// behavior is undefined if called with an argument <span class='tcode_in_codeblock'>&lt;= 0</span>
</span>  if (i &gt; 0)
    throw "positive";
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.attr.nouniqueaddr' class='section'><h3 ><a class='secnum' href='#dcl.attr.nouniqueaddr' style='min-width:103pt'>9.11.11</a> No unique address attribute <a class='abbr_ref' href='dcl.attr.nouniqueaddr'>[dcl.attr.nouniqueaddr]</a></h3><span class='indexparent'><a class='index' id=':attribute,no_unique_address'></a></span><div class='para' id='dcl.attr.nouniqueaddr-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.nouniqueaddr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8841'>#</a></div><div id='dcl.attr.nouniqueaddr-1.sentence-1' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>no_&shy;unique_&shy;address</span>
specifies that a non-static data member
is a potentially-overlapping subobject (<a href='intro.object'>[intro.object]</a>)<a class='hidden_link' href='#dcl.attr.nouniqueaddr-1.sentence-1'>.</a></div> <div id='dcl.attr.nouniqueaddr-1.sentence-2' class='sentence'>It shall appear at most once in each <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i>
and no <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> shall be present<a class='hidden_link' href='#dcl.attr.nouniqueaddr-1.sentence-2'>.</a></div> <div id='dcl.attr.nouniqueaddr-1.sentence-3' class='sentence'>The attribute may appertain to a non-static data member
other than a bit-field<a class='hidden_link' href='#dcl.attr.nouniqueaddr-1.sentence-3'>.</a></div></div><div class='para' id='dcl.attr.nouniqueaddr-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.attr.nouniqueaddr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12c6805c739b429fbbfbd8e7afe62bbd48e0af8c/source/declarations.tex#L8850'>#</a></div><div id='dcl.attr.nouniqueaddr-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dcl.attr.nouniqueaddr-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dcl.attr.nouniqueaddr-2.sentence-1' class='sentence'>The non-static data member can share the address of
another non-static data member or that of a base class,
and any padding that would normally be inserted
at the end of the object
can be reused as storage for other members<a class='hidden_link' href='#dcl.attr.nouniqueaddr-2.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='dcl.attr.nouniqueaddr-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.attr.nouniqueaddr-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename Key, typename Value,
         typename Hash, typename Pred, typename Allocator&gt;
class hash_map {
  [[no_unique_address]] Hash hasher;
  [[no_unique_address]] Pred pred;
  [[no_unique_address]] Allocator alloc;
  Bucket *buckets;
  <span class='comment'>// ...
</span>public:
  <span class='comment'>// ...
</span>};</pre> <div id='dcl.attr.nouniqueaddr-2.sentence-2' class='sentence'>
Here, <span class='texttt'>hasher</span>, <span class='texttt'>pred</span>, and <span class='texttt'>alloc</span>
could have the same address as <span class='texttt'>buckets</span>
if their respective types are all empty<a class='hidden_link' href='#dcl.attr.nouniqueaddr-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div></div></div></body></html>