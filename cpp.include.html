<!DOCTYPE html><html lang='en'><head><title>[cpp.include]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>15</a> Preprocessing directives <a class='abbr_ref' href='./#cpp'>[cpp]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>15.3</a> Source file inclusion <a class='abbr_ref'>[cpp.include]</a></h2><span class='indexparent'><a class='index' id=':preprocessing_directive,header_inclusion'></a></span>
<span class='indexparent'><a class='index' id=':preprocessing_directive,source-file_inclusion'></a></span>
<span class='indexparent'><a class='index' id=':#include'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/preprocessor.tex#L527'>#</a></div><div id='1.sentence-1' class='sentence'>A
<span class='texttt'><span class='preprocessordirective'>#include</span></span>
directive shall identify a header or source file
that can be processed by the implementation<a class='hidden_link' href='#1.sentence-1'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/preprocessor.tex#L533'>#</a></div><div id='2.sentence-1' class='sentence'>A preprocessing directive of the form
<pre class='ncsimplebnf'><span class='terminal'><span class='preprocessordirective'># include</span> <span class='anglebracket'>&lt;</span></span> <a class='grammarterm' href='lex.header#nt:h-char-sequence'>h-char-sequence</a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <a class='grammarterm' href='cpp.pre#nt:new-line'>new-line</a>
</pre>
searches a sequence of
<span class='indexparent'><a class='index' id=':sequence_of_places_searched_for_a_header'></a></span>implementation-defined
places
for a header identified uniquely by the specified sequence
between the
<span class='texttt'><span class='anglebracket'>&lt;</span></span>
and
<span class='texttt'><span class='anglebracket'>&gt;</span></span>
delimiters,
and causes the replacement of that
directive by the entire contents of the header<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>How the places are specified
or the header identified
is <span class='indexparent'><a class='index' id=':search_locations_for_<>_header'></a></span>implementation-defined<a class='hidden_link' href='#2.sentence-2'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/preprocessor.tex#L553'>#</a></div><div id='3.sentence-1' class='sentence'>A preprocessing directive of the form
<pre class='ncsimplebnf'><span class='terminal'><span class='preprocessordirective'># include</span> "</span> <a class='grammarterm' href='lex.header#nt:q-char-sequence'>q-char-sequence</a> <span class='terminal'>"</span> <a class='grammarterm' href='cpp.pre#nt:new-line'>new-line</a>
</pre>
causes the replacement of that
directive by the entire contents of the
source file identified by the specified sequence between the
<span class='texttt'>"</span>
delimiters<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>The named source file is searched for in an
<span class='indexparent'><a class='index' id=':manner_of_search_for_included_source_file'></a></span>implementation-defined
manner<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>If this search is not supported,
or if the search fails,
the directive is reprocessed as if it read
<pre class='ncsimplebnf'><span class='terminal'><span class='preprocessordirective'># include</span> <span class='anglebracket'>&lt;</span></span> <a class='grammarterm' href='lex.header#nt:h-char-sequence'>h-char-sequence</a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <a class='grammarterm' href='cpp.pre#nt:new-line'>new-line</a>
</pre>
with the identical contained sequence (including
<span class='texttt'><span class='anglebracket'>&gt;</span></span>
characters, if any) from the original directive<a class='hidden_link' href='#3.sentence-3'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/preprocessor.tex#L576'>#</a></div><div id='4.sentence-1' class='sentence'>A preprocessing directive of the form
<pre class='ncsimplebnf'><span class='terminal'><span class='preprocessordirective'># include</span></span> <a class='grammarterm' href='cpp.pre#nt:pp-tokens'>pp-tokens</a> <a class='grammarterm' href='cpp.pre#nt:new-line'>new-line</a>
</pre>
(that does not match one of the two previous forms) is permitted<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>The preprocessing tokens after
<span class='texttt'>include</span>
in the directive are processed just as in normal text
(i.e., each identifier currently defined as a macro name is replaced by its
replacement list of preprocessing tokens)<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.sentence-3' class='sentence'>If the directive resulting after all replacements does not match
one of the two previous forms, the behavior is
undefined<a class='hidden_link' href='#4.sentence-3'>.</a><a class='footnotenum' href='#footnote-145' id='footnoteref-145'>145</a></div> <div id='4.sentence-4' class='sentence'>
The method by which a sequence of preprocessing tokens between a
<span class='texttt'><span class='anglebracket'>&lt;</span></span>
and a
<span class='texttt'><span class='anglebracket'>&gt;</span></span>
preprocessing token pair or a pair of
<span class='texttt'>"</span>
characters is combined into a single header name
preprocessing token is <span class='indexparent'><a class='index' id=':search_locations_for_""_header'></a></span>implementation-defined<a class='hidden_link' href='#4.sentence-4'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/preprocessor.tex#L603'>#</a></div><div id='5.sentence-1' class='sentence'>The implementation shall provide unique mappings for
sequences consisting of one or more
<a class='grammarterm' href='lex.name#nt:nondigit'>nondigit</a><span class='textit'>s</span> or <a class='grammarterm' href='lex.name#nt:digit'>digit</a><span class='textit'>s</span>
followed by a period
(<span class='texttt'><span class='operator'>.</span></span>)
and a single
<a class='grammarterm' href='lex.name#nt:nondigit'>nondigit</a><a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>The first character shall not be a <a class='grammarterm' href='lex.name#nt:digit'>digit</a><a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'>The implementation may ignore distinctions of alphabetical case<a class='hidden_link' href='#5.sentence-3'>.</a></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/preprocessor.tex#L614'>#</a></div><div id='6.sentence-1' class='sentence'>A
<span class='texttt'><span class='preprocessordirective'>#include</span></span>
preprocessing directive may appear
in a source file that has been read because of a
<span class='texttt'><span class='preprocessordirective'>#include</span></span>
directive in another file,
up to an <span class='indexparent'><a class='index' id=':nesting_limit_for_#include_directives'></a></span>implementation-defined nesting limit<a class='hidden_link' href='#6.sentence-1'>.</a></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/preprocessor.tex#L623'>#</a></div><div id='7.sentence-1' class='sentence'>If the header identified by the <a class='grammarterm' href='lex.header#nt:header-name'>header-name</a>
denotes an importable header (<a href='module.import'>[module.import]</a>),
it is
<span class='indexparent'><a class='index' id=':whether_source_file_inclusion_of_importable_header_is_replaced_with_import_directive'></a></span>implementation-defined
whether the <span class='texttt'><span class='preprocessordirective'>#include</span></span> preprocessing directive
is instead replaced by an <span class='texttt'><span class='keyword'>import</span></span> directive (<a href='cpp.import'>[cpp.import]</a>) of the form
<pre class='ncbnf'><span class='terminal'><span class='keyword'>import</span></span> <a class='grammarterm' href='lex.header#nt:header-name'>header-name</a> <span class='terminal'>;</span> <a class='grammarterm' href='cpp.pre#nt:new-line'>new-line</a>
</pre></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/preprocessor.tex#L635'>#</a></div><div id='8.note-1' class='note'>[&nbsp;<a class='note_link' href='#8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='8.sentence-1' class='sentence'>Although an implementation may provide a mechanism for making arbitrary
source files available to the <span class='texttt'><span class='anglebracket'>&lt;</span> <span class='anglebracket'>&gt;</span></span> search, in general
programmers should use the <span class='texttt'><span class='anglebracket'>&lt;</span> <span class='anglebracket'>&gt;</span></span> form for headers provided
with the implementation, and the <span class='texttt'><span class='literal'>" "</span></span> form for sources
outside the control of the implementation<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>For instance:</div><pre class='codeblock'>
<span class='preprocessordirective'>#include</span> <span class='anglebracket'>&lt;</span>stdio<span class='operator'>.</span>h<span class='anglebracket'>&gt;</span>
<span class='preprocessordirective'>#include</span> <span class='anglebracket'>&lt;</span>unistd<span class='operator'>.</span>h<span class='anglebracket'>&gt;</span>
<span class='preprocessordirective'>#include</span> <span class='literal'>"usefullib.h"</span>
<span class='preprocessordirective'>#include</span> <span class='literal'>"myprog.h"</span>
</pre> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/preprocessor.tex#L652'>#</a></div><div id='9.example-1' class='example'>[&nbsp;<a class='example_link' href='#9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='9.sentence-1' class='sentence'>This illustrates macro-replaced
<span class='texttt'><span class='preprocessordirective'>#include</span></span>
directives:</div><pre class='codeblock'>
<span class='preprocessordirective'>#if</span> VERSION <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>1</span>
    <span class='preprocessordirective'>#define</span> INCFILE  <span class='literal'>"vers1.h"</span>
<span class='preprocessordirective'>#elif</span> VERSION <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>2</span>
    <span class='preprocessordirective'>#define</span> INCFILE  <span class='literal'>"vers2.h"</span>  <span class='comment'>// and so on</span>
<span class='preprocessordirective'>#else</span>
    <span class='preprocessordirective'>#define</span> INCFILE  <span class='literal'>"versN.h"</span>
<span class='preprocessordirective'>#endif</span>
<span class='preprocessordirective'>#include</span> INCFILE
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='footnote' id='footnote-145'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-145'>145)</a></div><div id='footnote-145.sentence-1' class='sentence'>Note that adjacent string literals are not concatenated into
a single string literal
(see the translation phases in <a href='lex.phases'>[lex.phases]</a>);
thus, an expansion that results in two string literals is an
invalid directive<a class='hidden_link' href='#footnote-145.sentence-1'>.</a></div> <a href='#footnoteref-145'>⮥</a></div></div></body></html>