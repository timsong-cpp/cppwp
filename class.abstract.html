<!DOCTYPE html><html lang='en'><head><title>[class.abstract]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>10</a> Classes <a class='abbr_ref' href='./#class'>[class]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>10.6</a> Derived classes <a class='abbr_ref' href='class.derived#class.abstract'>[class.derived]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>10.6.3</a> Abstract classes <a class='abbr_ref'>[class.abstract]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/classes.tex#L4104'>#</a></div><div id='1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='1.sentence-1' class='sentence'>The abstract class mechanism supports the notion of a general concept,
such as a <span class='texttt'>shape</span>, of which only more concrete variants, such as
<span class='texttt'>circle</span> and <span class='texttt'>square</span>, can actually be used<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>An abstract
class can also be used to define an interface for which derived classes
provide a variety of implementations<a class='hidden_link' href='#1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/classes.tex#L4113'>#</a></div><div id='2.sentence-1' class='sentence'>A virtual function is specified as
a <a class='hidden_link' href='#def:function,virtual,pure' id='def:function,virtual,pure'><i >pure virtual function</i></a> by using a
<i ><a href='class.mem#nt:pure-specifier'>pure-specifier</a></i> in the function declaration
in the class definition<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-2' class='sentence'>Such a function might be inherited: see below<a class='hidden_link' href='#2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='2.sentence-3' class='sentence'>
A class is an <span class='indexparent'><a class='index' id=':class,abstract'></a></span><span class='textit'>abstract class</span>
if it has at least one pure virtual function<a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='2.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-4' class='sentence'>An abstract class can be used only as a base class of some other class;
no objects of an abstract class can be created
except as subobjects of a class
derived from it (<a href='basic.def'>[basic.def]</a>, <a href='class.mem'>[class.mem]</a>)<a class='hidden_link' href='#2.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='2.sentence-5' class='sentence'><span class='indexparent'><a class='index' id=':definition,pure_virtual_function'></a></span>A pure virtual function need be defined only if called with, or as if
with (<a href='class.dtor'>[class.dtor]</a>), the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i>
syntax (<a href='expr.prim.id.qual'>[expr.prim.id.qual]</a>)<a class='hidden_link' href='#2.sentence-5'>.</a></div> <div id='2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class point { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> };
class shape {                   <span class='comment'>// abstract class
</span>  point center;
public:
  point where() { return center; }
  void move(point p) { center=p; draw(); }
  virtual void rotate(int) = 0; <span class='comment'>// pure virtual
</span>  virtual void draw() = 0;      <span class='comment'>// pure virtual
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='2.note-3' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#2.note-3'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-6' class='sentence'>A function declaration cannot provide both a <i ><a href='class.mem#nt:pure-specifier'>pure-specifier</a></i>
and a definition</div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='2.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#2.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct C {
  virtual void f() = 0 { };     <span class='comment'>// ill-formed
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/classes.tex#L4158'>#</a></div><div id='3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='3.sentence-1' class='sentence'>An abstract class type cannot be used
as a parameter or return type of
a function being defined (<a href='dcl.fct'>[dcl.fct]</a>) or called (<a href='expr.call'>[expr.call]</a>),
except as specified in <a href='dcl.type.simple'>[dcl.type.simple]</a><a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>Further, an abstract class type cannot be used as
the type of an explicit type conversion (<a href='expr.static.cast'>[expr.static.cast]</a>,
<a href='expr.reinterpret.cast'>[expr.reinterpret.cast]</a>, <a href='expr.const.cast'>[expr.const.cast]</a>),
because the resulting prvalue would be of abstract class type (<a href='basic.lval'>[basic.lval]</a>)<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>However, pointers and references to abstract class types
can appear in such contexts<a class='hidden_link' href='#3.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/classes.tex#L4172'>#</a></div><div id='4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':function,virtual,pure_'></a></span>A class is abstract if it contains or inherits at least one pure virtual
function for which the final overrider is pure virtual<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class ab_circle : public shape {
  int radius;
public:
  void rotate(int) { }
  <span class='comment'>// <span class='tcode_in_codeblock'>ab_&shy;circle&#x200b;::&#x200b;draw()</span> is a pure virtual
</span>};</pre><div id='4.sentence-2' class='sentence'>Since <span class='texttt'>shape&#x200b;::&#x200b;draw()</span> is a pure virtual function
<span class='texttt'>ab_&shy;circle&#x200b;::&#x200b;draw()</span> is a pure virtual by default<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.sentence-3' class='sentence'>The alternative
declaration,
<pre class='codeblock'>
class circle : public shape {
  int radius;
public:
  void rotate(int) { }
  void draw();                  <span class='comment'>// a definition is required somewhere
</span>};</pre>
would make class <span class='texttt'>circle</span> non-abstract and a definition of
<span class='texttt'>circle&#x200b;::&#x200b;draw()</span> must be provided<a class='hidden_link' href='#4.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/classes.tex#L4201'>#</a></div><div id='5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='5.sentence-1' class='sentence'>An abstract class can be derived from a class that is not abstract, and
a pure virtual function may override a virtual function which is not
pure<a class='hidden_link' href='#5.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/classes.tex#L4208'>#</a></div><div id='6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':class,constructor_and_abstract'></a></span>Member functions can be called from a constructor (or destructor) of an
abstract class;
<span class='indexparent'><a class='index' id=':virtual_function_call,undefined_pure'></a></span>the effect of making a virtual call (<a href='class.virtual'>[class.virtual]</a>) to a pure
virtual function directly or indirectly for the object being created (or
destroyed) from such a constructor (or destructor) is undefined<a class='hidden_link' href='#6.sentence-1'>.</a></div> </div></div></body></html>