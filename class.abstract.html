<!DOCTYPE html><html lang='en'><head><title>[class.abstract]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>11</a> Classes <a class='abbr_ref' href='./#class'>[class]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>11.7</a> Derived classes <a class='abbr_ref' href='class.derived#class.abstract'>[class.derived]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>11.7.4</a> Abstract classes <a class='abbr_ref'>[class.abstract]</a></h3><div class='para nonNormativeOnly' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/classes.tex#L4065'>#</a></div><div class='texpara'><div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='1.sentence-1' class='sentence'>The abstract class mechanism supports the notion of a general concept,
such as a <span class='texttt'>shape</span>, of which only more concrete variants, such as
<span class='texttt'>circle</span> and <span class='texttt'>square</span>, can actually be used<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>An abstract
class can also be used to define an interface for which derived classes
provide a variety of implementations<a class='hidden_link' href='#1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/classes.tex#L4074'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>A virtual function is specified as
a <a class='hidden_link' href='#def:function,virtual,pure' title='11.7.4&emsp;Abstract classes&emsp;[class.abstract]'><span id='def:function,virtual,pure'><i >pure virtual function</i></span></a> by using a
<a href='class.mem.general#nt:pure-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:pure-specifier'><span class='textsf'><i >pure-specifier</i></span></span></a> (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>) in the function declaration
in the class definition<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>:&ensp;<div id='2.sentence-2' class='sentence'>Such a function might be inherited: see below<a class='hidden_link' href='#2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='2.sentence-3' class='sentence'>
A class is an <a class='hidden_link' href='#def:class,abstract' title='11.7.4&emsp;Abstract classes&emsp;[class.abstract]'><span id='def:class,abstract'><i >abstract class</i></span></a>
if it has at least one pure virtual function<a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-3'>3</a></i>:&ensp;<div id='2.sentence-4' class='sentence'>An abstract class can be used only as a base class of some other class;
no objects of an abstract class can be created
except as subobjects of a class
derived from it (<a href='basic.def' title='6.2&emsp;Declarations and definitions'>[basic.<span class='shy'></span>def]</a>, <a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>)<a class='hidden_link' href='#2.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='2.sentence-5' class='sentence'><a class='index' id=':definition,pure_virtual_function'></a>A pure virtual function need be defined only if called with, or as if
with (<a href='class.dtor' title='11.4.7&emsp;Destructors'>[class.<span class='shy'></span>dtor]</a>), the <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id'><span class='textsf'><i >qualified-id</i></span></span></a>
syntax (<a href='expr.prim.id.qual' title='7.5.4.3&emsp;Qualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>qual]</a>)<a class='hidden_link' href='#2.sentence-5'>.</a></div> <div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>class</span> point <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> shape <span class='curlybracket'>{</span>                   <span class='comment'>// abstract class</span>
  point center;
<span class='keyword'>public</span><span class='operator'>:</span>
  point where<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> center; <span class='curlybracket'>}</span>
  <span class='keyword'>void</span> move<span class='parenthesis'>(</span>point p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> center<span class='operator'>=</span>p; draw<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> rotate<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='literal'>0</span>; <span class='comment'>// pure virtual</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> draw<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='literal'>0</span>;      <span class='comment'>// pure virtual</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div> <div id='note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-4'>4</a></i>:&ensp;<div id='2.sentence-6' class='sentence'>A function declaration cannot provide both a <a href='class.mem.general#nt:pure-specifier' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:pure-specifier_'><span class='textsf'><i >pure-specifier</i></span></span></a>
and a definition<a class='hidden_link' href='#2.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-2'>2</a></i>:&ensp;<span class='codeblock'><span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='literal'>0</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;     <span class='comment'>// error</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/classes.tex#L4119'>#</a></div><div class='texpara'><div id='note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-5'>5</a></i>:&ensp;<div id='3.sentence-1' class='sentence'>An abstract class type cannot be used
as a parameter or return type of
a function being defined (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) or called (<a href='expr.call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>),
except as specified in <a href='dcl.type.simple' title='9.2.9.3&emsp;Simple type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>simple]</a><a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>Further, an abstract class type cannot be used as
the type of an explicit type conversion (<a href='expr.static.cast' title='7.6.1.9&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>, <a href='expr.reinterpret.cast' title='7.6.1.10&emsp;Reinterpret cast'>[expr.<span class='shy'></span>reinterpret.<span class='shy'></span>cast]</a>, <a href='expr.const.cast' title='7.6.1.11&emsp;Const cast'>[expr.<span class='shy'></span>const.<span class='shy'></span>cast]</a>),
because the resulting prvalue would be of abstract class type (<a href='basic.lval' title='7.2.1&emsp;Value category'>[basic.<span class='shy'></span>lval]</a>)<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>However, pointers and references to abstract class types
can appear in such contexts<a class='hidden_link' href='#3.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/classes.tex#L4133'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'><a class='index' id=':function,virtual,pure'></a>A class is abstract if it has at least one pure virtual
function for which the final overrider is pure virtual<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>class</span> ab_circle <span class='operator'>:</span> <span class='keyword'>public</span> shape <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> radius;
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>void</span> rotate<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
  <span class='comment'>// <span class='tcode_in_codeblock'>ab_<span class='shy'></span>circle&#x200b;::&#x200b;draw()</span> is a pure virtual</span>
<span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='4.sentence-2' class='sentence'>Since <span class='texttt'>shape<span class='operator'>&#x200b;::&#x200b;</span>draw<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is a pure virtual function
<span class='texttt'>ab_<span class='shy'></span>circle<span class='operator'>&#x200b;::&#x200b;</span>draw<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is a pure virtual by default<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.sentence-3' class='sentence'>The alternative
declaration,
<span class='codeblock'><span class='keyword'>class</span> circle <span class='operator'>:</span> <span class='keyword'>public</span> shape <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> radius;
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>void</span> rotate<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
  <span class='keyword'>void</span> draw<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                  <span class='comment'>// a definition is required somewhere</span>
<span class='curlybracket'>}</span>;
</span>
would make class <span class='texttt'>circle</span> non-abstract and a definition of
<span class='texttt'>circle<span class='operator'>&#x200b;::&#x200b;</span>draw<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> must be provided<a class='hidden_link' href='#4.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/classes.tex#L4162'>#</a></div><div class='texpara'><div id='note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-6'>6</a></i>:&ensp;<div id='5.sentence-1' class='sentence'>An abstract class can be derived from a class that is not abstract, and
a pure virtual function can override a virtual function which is not
pure<a class='hidden_link' href='#5.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/classes.tex#L4169'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'><a class='index' id=':class,constructor_and_abstract'></a>Member functions can be called from a constructor (or destructor) of an
abstract class;
<a class='index' id=':virtual_function_call,undefined_pure'></a>the effect of making a virtual call (<a href='class.virtual' title='11.7.3&emsp;Virtual functions'>[class.<span class='shy'></span>virtual]</a>) to a pure
virtual function directly or indirectly for the object being created (or
destroyed) from such a constructor (or destructor) is undefined<a class='hidden_link' href='#6.sentence-1'>.</a></div> </div></div></div></body></html>