<!DOCTYPE html><html lang='en'><head><title>[basic.lookup.argdep]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>6</a> Basics <a class='abbr_ref' href='./#basic'>[basic]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>6.5</a> Name lookup <a class='abbr_ref' href='basic.lookup#argdep'>[basic.lookup]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>6.5.4</a> Argument-dependent name lookup <a class='abbr_ref'>[basic.lookup.argdep]</a></h3><div class='texpara'><a class='index' id=':lookup,argument-dependent'></a></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1936'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>When the <a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression'><span class='textsf'><i >postfix-expression</i></span></span></a> in
a function call (<a href='expr.call' title='7.6.1.3&emsp;Function call'>[expr.<span class='shy'></span>call]</a>) is an <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id'><span class='textsf'><i >unqualified-id</i></span></span></a>,
and unqualified lookup (<a href='basic.lookup.unqual' title='6.5.3&emsp;Unqualified name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>unqual]</a>)
for the name in the <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id_'><span class='textsf'><i >unqualified-id</i></span></span></a> does not find any
<ul class='itemize'><li id='1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.1'>(1.1)</a></div>declaration of a class member, or</li><li id='1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.2'>(1.2)</a></div>function declaration inhabiting a block scope, or</li><li id='1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.3'>(1.3)</a></div>declaration not of a function or function template</li></ul>
then lookup for the name also includes the result of
<a class='hidden_link' href='#def:lookup,argument-dependent' title='6.5.4&emsp;Argument-dependent name lookup&emsp;[basic.lookup.argdep]'><span id='def:lookup,argument-dependent'><i >argument-dependent lookup</i></span></a> in a set of associated namespaces
that depends on the types of the arguments
(and for template template arguments, the namespace of the template argument),
as specified below<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>:&ensp;<span class='codeblock'><span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>S<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  N<span class='operator'>::</span>S s;
  f<span class='parenthesis'>(</span>s<span class='parenthesis'>)</span>;             <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;f</span></span>
  <span class='parenthesis'>(</span>f<span class='parenthesis'>)</span><span class='parenthesis'>(</span>s<span class='parenthesis'>)</span>;           <span class='comment'>// error: <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;f</span> not considered; parentheses prevent argument-dependent lookup</span>
<span class='curlybracket'>}</span>
</span> â€”&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L1969'>#</a></div><div class='texpara'><div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>:&ensp;<div id='2.sentence-1' class='sentence'>For purposes of determining
(during parsing) whether an expression is a
<a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression_'><span class='textsf'><i >postfix-expression</i></span></span></a> for a function call, the usual name lookup
rules apply<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>In some cases
a name followed by <span class='texttt'><span class='anglebracket'>&lt;</span></span> is treated as a <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name'><span class='textsf'><i >template-name</i></span></span></a>
even though name lookup did not find a <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name_'><span class='textsf'><i >template-name</i></span></span></a>
(see <a href='temp.names' title='13.3&emsp;Names of template specializations'>[temp.<span class='shy'></span>names]</a>)<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>For example,
<span class='codeblock'><span class='keyword'>int</span> h;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> g<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> h<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>int</span> x <span class='operator'>=</span> f<span class='anglebracket'>&lt;</span>N<span class='operator'>::</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>N<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// OK, lookup of <span class='tcode_in_codeblock'>f</span> finds nothing, <span class='tcode_in_codeblock'>f</span> treated as template name</span>
<span class='keyword'>int</span> y <span class='operator'>=</span> g<span class='anglebracket'>&lt;</span>N<span class='operator'>::</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>N<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// OK, lookup of <span class='tcode_in_codeblock'>g</span> finds a function, <span class='tcode_in_codeblock'>g</span> treated as template name</span>
<span class='keyword'>int</span> z <span class='operator'>=</span> h<span class='anglebracket'>&lt;</span>N<span class='operator'>::</span>A<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>N<span class='operator'>::</span>A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>h&lt;</span> does not begin a <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id'><span class='textsf'><i >template-id</i></span></span></a></span>
</span></div></div><div class='texpara'><div id='2.sentence-4' class='sentence'>The rules have no effect on the syntactic interpretation of an expression<a class='hidden_link' href='#2.sentence-4'>.</a></div> <div id='2.sentence-5' class='sentence'>For example,
<span class='codeblock'><span class='keyword'>typedef</span> <span class='keyword'>int</span> f;
<span class='keyword'>namespace</span> N <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
    <span class='keyword'>friend</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A <span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> g<span class='parenthesis'>(</span>A a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      <span class='keyword'>int</span> i <span class='operator'>=</span> f<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>f</span> is the typedef, not the friend function: equivalent to <span class='tcode_in_codeblock'>int(a)</span></span>
    <span class='curlybracket'>}</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></div> <div id='2.sentence-6' class='sentence'>
Because the expression is not a function call,
argument-dependent name lookup does not apply and
the friend function <span class='texttt'>f</span> is not found<a class='hidden_link' href='#2.sentence-6'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2014'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>For each argument type <span class='texttt'>T</span> in the function call,
there is a set of zero or more <a class='hidden_link' href='#def:entity,associated' title='6.5.4&emsp;Argument-dependent name lookup&emsp;[basic.lookup.argdep]'><span id='def:entity,associated'><i >associated entities</i></span></a>
to be considered<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>The set of entities is determined entirely by
the types of the function arguments
(and any template template arguments)<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>Any <a href='dcl.typedef#nt:typedef-name' title='9.2.4&emsp;The typedef specifier&emsp;[dcl.typedef]'><span id='ntref:typedef-name'><span class='textsf'><i >typedef-name</i></span></span></a><i >s</i> and <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration'><span class='textsf'><i >using-declaration</i></span></span></a><i >s</i>
used to specify the types
do not contribute to this set<a class='hidden_link' href='#3.sentence-3'>.</a></div> <div id='3.sentence-4' class='sentence'>The set of entities
is determined in the following way:
<ul class='itemize'><li id='3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.1'>(3.1)</a></div><div class='texpara'><div id='3.1.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a fundamental type, its associated set of
entities is empty<a class='hidden_link' href='#3.1.sentence-1'>.</a></div></div></li><li id='3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.2'>(3.2)</a></div><div class='texpara'><div id='3.2.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a class type (including unions),
its associated entities are:
the class itself;
the class of which it is a member, if any;
and its direct and indirect base classes<a class='hidden_link' href='#3.2.sentence-1'>.</a></div> <div id='3.2.sentence-2' class='sentence'>Furthermore, if <span class='texttt'>T</span> is a class template specialization,
its associated entities also include:
the entities
associated with the types of the template arguments
provided for template type parameters;
the templates used as template template arguments; and
the classes of which any member templates used as template template
arguments are members<a class='hidden_link' href='#3.2.sentence-2'>.</a></div> <div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>:&ensp;<div id='3.2.sentence-3' class='sentence'>Non-type template arguments do not
contribute to the set of associated entities<a class='hidden_link' href='#3.2.sentence-3'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></li><li id='3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.3'>(3.3)</a></div><div class='texpara'><div id='3.3.sentence-1' class='sentence'>If <span class='texttt'>T</span> is an enumeration type,
its associated entities are <span class='texttt'>T</span>
and, if it is a class member, the member's class<a class='hidden_link' href='#3.3.sentence-1'>.</a></div></div></li><li id='3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.4'>(3.4)</a></div><div class='texpara'><div id='3.4.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a pointer to <span class='texttt'>U</span> or an array of <span class='texttt'>U</span>,
its associated entities are those associated with <span class='texttt'>U</span><a class='hidden_link' href='#3.4.sentence-1'>.</a></div></div></li><li id='3.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.5'>(3.5)</a></div><div class='texpara'><div id='3.5.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a function type, its associated
entities are those associated with the function parameter types and those
associated with the return type<a class='hidden_link' href='#3.5.sentence-1'>.</a></div></div></li><li id='3.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.6'>(3.6)</a></div><div class='texpara'><div id='3.6.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a pointer to a member function of a class
<span class='texttt'>X</span>, its associated entities are those associated
with the function parameter types and return type, together with those
associated with <span class='texttt'>X</span><a class='hidden_link' href='#3.6.sentence-1'>.</a></div></div></li><li id='3.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#3.7'>(3.7)</a></div><div class='texpara'><div id='3.7.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a pointer to a data member of class <span class='texttt'>X</span>, its
associated entities are those associated with the member
type together with those associated with <span class='texttt'>X</span><a class='hidden_link' href='#3.7.sentence-1'>.</a></div></div></li></ul></div> <div id='3.sentence-5' class='sentence'>
In addition, if the argument is an overload set or the address of such a set,
its associated entities
are the union of those associated with each of the
members of the set, i.e., the entities associated with its
parameter types and return type<a class='hidden_link' href='#3.sentence-5'>.</a></div> <div id='3.sentence-6' class='sentence'>Additionally, if the aforementioned overload set is named with
a <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id_'><span class='textsf'><i >template-id</i></span></span></a>, its associated entities also include
its template <a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument'><span class='textsf'><i >template-argument</i></span></span></a><i >s</i> and
those associated with its type <a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument_'><span class='textsf'><i >template-argument</i></span></span></a><i >s</i><a class='hidden_link' href='#3.sentence-6'>.</a></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2078'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:associated_namespaces' id='def:associated_namespaces'><i>associated namespaces</i></a> for a call are
the innermost enclosing non-inline namespaces for its associated entities
as well as every element of the inline namespace set (<a href='namespace.def' title='9.8.2&emsp;Namespace definition'>[namespace.<span class='shy'></span>def]</a>)
of those namespaces<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>Argument-dependent lookup finds
all declarations of functions and function templates that
<ul class='itemize'><li id='4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.1'>(4.1)</a></div>are found by a search of any associated namespace, or</li><li id='4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.2'>(4.2)</a></div>are declared as a friend (<a href='class.friend' title='11.8.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>) of any class
with a reachable definition in the set of associated entities, or</li><li id='4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.3'>(4.3)</a></div>are exported,
are attached to a named module <span class='texttt'>M</span> (<a href='module.interface' title='10.2&emsp;Export declaration'>[module.<span class='shy'></span>interface]</a>),
do not appear in the translation unit containing the point of the lookup, and
have the same innermost enclosing non-inline namespace scope as
a declaration of an associated entity attached to <span class='texttt'>M</span> (<a href='basic.link' title='6.6&emsp;Program and linkage'>[basic.<span class='shy'></span>link]</a>)<a class='hidden_link' href='#4.sentence-2'>.</a></li></ul></div> <div id='4.sentence-3' class='sentence'>
If the lookup is for a dependent name (<a href='temp.dep' title='13.8.3&emsp;Dependent names'>[temp.<span class='shy'></span>dep]</a>, <a href='temp.dep.candidate' title='13.8.4.2&emsp;Candidate functions'>[temp.<span class='shy'></span>dep.<span class='shy'></span>candidate]</a>),
the above lookup is also performed
from each point in the instantiation context (<a href='module.context' title='10.6&emsp;Instantiation context'>[module.<span class='shy'></span>context]</a>) of the lookup,
additionally ignoring any declaration that
appears in another translation unit,
is attached to the global module, and
is either discarded (<a href='module.global.frag' title='10.4&emsp;Global module fragment'>[module.<span class='shy'></span>global.<span class='shy'></span>frag]</a>) or has internal linkage<a class='hidden_link' href='#4.sentence-3'>.</a></div></div></div><div class='para nonNormativeOnly' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2106'>#</a></div><div class='texpara'><div id='example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-2'>2</a></i>:&ensp;<p>Translation unit #1:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> M;
<span class='keyword'>namespace</span> R <span class='curlybracket'>{</span>
  <span class='keyword'>export</span> <span class='keyword'>struct</span> X <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
  <span class='keyword'>export</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>X<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>namespace</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>export</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span>R<span class='operator'>::</span>X, R<span class='operator'>::</span>X<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Translation unit #2:<span class='codeblock'><span class='keyword'>export</span> <span class='keyword'>module</span> N;
<span class='keyword'>import</span> M;
<span class='keyword'>export</span> R<span class='operator'>::</span>X make<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>namespace</span> R <span class='curlybracket'>{</span> <span class='keyword'>static</span> <span class='keyword'>int</span> g<span class='parenthesis'>(</span>X<span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>
<span class='keyword'>export</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T, <span class='keyword'>typename</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> apply<span class='parenthesis'>(</span>T t, U u<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span>t, u<span class='parenthesis'>)</span>;
  g<span class='parenthesis'>(</span>t<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></div><div class='texpara'><p>Translation unit #3:<span class='codeblock'><span class='keyword'>module</span> Q;
<span class='keyword'>import</span> N;
<span class='keyword'>namespace</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> Z <span class='curlybracket'>{</span> <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>operator</span> T<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>void</span> test<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>auto</span> x <span class='operator'>=</span> make<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// OK, <span class='tcode_in_codeblock'>decltype(x)</span> is <span class='tcode_in_codeblock'>R&#x200b;::&#x200b;X</span> in module <span class='tcode_in_codeblock'>M</span></span>
  R<span class='operator'>::</span>f<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;                      <span class='comment'>// error: <span class='tcode_in_codeblock'>R</span> and <span class='tcode_in_codeblock'>R&#x200b;::&#x200b;f</span> are not visible here</span>
  f<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;                         <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>R&#x200b;::&#x200b;f</span> from interface of <span class='tcode_in_codeblock'>M</span></span>
  f<span class='parenthesis'>(</span>x, S<span class='operator'>::</span>Z<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;                 <span class='comment'>// error: <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;f</span> in module <span class='tcode_in_codeblock'>M</span> not considered</span>
                                <span class='comment'>// even though <span class='tcode_in_codeblock'>S</span> is an associated namespace</span>
  apply<span class='parenthesis'>(</span>x, S<span class='operator'>::</span>Z<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;             <span class='comment'>// error: <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;f</span> is visible in instantiation context, but</span>
                                <span class='comment'>// <span class='tcode_in_codeblock'>R&#x200b;::&#x200b;g</span> has internal linkage and cannot be used outside TU #2</span>
<span class='curlybracket'>}</span>
</span> â€”&nbsp;<i>end example</i>]</div></div></div></div><div class='para nonNormativeOnly' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/basic.tex#L2148'>#</a></div><div class='texpara'><div id='note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-3'>3</a></i>:&ensp;<div id='6.sentence-1' class='sentence'>The associated namespace can include namespaces
already considered by ordinary unqualified lookup<a class='hidden_link' href='#6.sentence-1'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div> <div id='example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-3'>3</a></i>:&ensp;<span class='codeblock'><span class='keyword'>namespace</span> NS <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> T <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span>T, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
NS<span class='operator'>::</span>T parm;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span>NS<span class='operator'>::</span>T, <span class='keyword'>float</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span>parm<span class='parenthesis'>)</span>;                      <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>NS&#x200b;::&#x200b;f</span></span>
  <span class='keyword'>extern</span> <span class='keyword'>void</span> g<span class='parenthesis'>(</span>NS<span class='operator'>::</span>T, <span class='keyword'>float</span><span class='parenthesis'>)</span>;
  g<span class='parenthesis'>(</span>parm, <span class='literal'>1</span><span class='parenthesis'>)</span>;                   <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>g(NS&#x200b;::&#x200b;T, float)</span></span>
<span class='curlybracket'>}</span>
</span> â€”&nbsp;<i>end example</i>]</div></div></div></div></div></body></html>