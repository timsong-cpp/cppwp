<!DOCTYPE html><html lang='en'><head><title>[file.streams]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Serif'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans'/><link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css2?family=Noto+Sans+Mono'/><link rel='icon' href='icon.png'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>31</a> Input/output library <a class='abbr_ref' href='./#input.output'>[input.output]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>31.10</a> File-based streams <a class='abbr_ref'>[file.streams]</a></h2><div id='fstream.syn' class='section'><h3 ><a class='secnum' href='#fstream.syn' style='min-width:80pt'>31.10.1</a> Header <span class='texttt'>&lt;fstream&gt;</span> synopsis <a class='abbr_ref' href='fstream.syn'>[fstream.syn]</a></h3><div class='texpara'><span id='lib:basic_fstream<wchar_t>'><span id='lib:wfstream'><span id='lib:basic_fstream<char>'><span id='lib:fstream'><span id='lib:basic_ofstream<wchar_t>'><span id='lib:wofstream'><span id='lib:basic_ofstream<char>'><span id='lib:ofstream'><span id='lib:basic_ifstream<wchar_t>'><span id='lib:wifstream'><span id='lib:basic_ifstream<char>'><span id='lib:ifstream'><span id='lib:basic_filebuf<wchar_t>'><span id='lib:wfilebuf'><span id='lib:basic_filebuf<char>'><span id='lib:filebuf'><span id='header:<fstream>'><div class='marginalizedparent'><a class='itemDeclLink' href='#header:%3cfstream%3e'>🔗</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits <span class='operator'>=</span> char_traits<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
    <span class='keyword'>class</span> basic_filebuf;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, basic_filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;

  <span class='keyword'>using</span> filebuf  <span class='operator'>=</span> basic_filebuf<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>using</span> wfilebuf <span class='operator'>=</span> basic_filebuf<span class='anglebracket'>&lt;</span><span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits <span class='operator'>=</span> char_traits<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
    <span class='keyword'>class</span> basic_ifstream;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_ifstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, basic_ifstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;

  <span class='keyword'>using</span> ifstream  <span class='operator'>=</span> basic_ifstream<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>using</span> wifstream <span class='operator'>=</span> basic_ifstream<span class='anglebracket'>&lt;</span><span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits <span class='operator'>=</span> char_traits<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
    <span class='keyword'>class</span> basic_ofstream;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_ofstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, basic_ofstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;

  <span class='keyword'>using</span> ofstream  <span class='operator'>=</span> basic_ofstream<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>using</span> wofstream <span class='operator'>=</span> basic_ofstream<span class='anglebracket'>&lt;</span><span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits <span class='operator'>=</span> char_traits<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
    <span class='keyword'>class</span> basic_fstream;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_fstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, basic_fstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;

  <span class='keyword'>using</span> fstream  <span class='operator'>=</span> basic_fstream<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>using</span> wfstream <span class='operator'>=</span> basic_fstream<span class='anglebracket'>&lt;</span><span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div class='para' id='fstream.syn-1'><div class='marginalizedparent'><a class='marginalized' href='#fstream.syn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L10808'>#</a></div><div class='texpara'><div id='fstream.syn-1.sentence-1' class='sentence'>The header <a href='#header:%3cfstream%3e' title='31.10.1&emsp;Header &lt;fstream&gt; synopsis&emsp;[fstream.syn]'><span id='headerref:<fstream>'><span class='texttt'>&lt;fstream&gt;</span></span></a>
defines four class templates and eight types
that associate stream buffers with files and assist
reading and writing files<a class='hidden_link' href='#fstream.syn-1.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='fstream.syn-2'><div class='marginalizedparent'><a class='marginalized' href='#fstream.syn-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L10814'>#</a></div><div class='texpara'><div id='fstream.syn-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#fstream.syn-note-1'>1</a></i>:&ensp;<div id='fstream.syn-2.sentence-1' class='sentence'>The class template <span class='texttt'>basic_<span class='shy'></span>filebuf</span> treats a file as a source or
sink of bytes<a class='hidden_link' href='#fstream.syn-2.sentence-1'>.</a></div> <div id='fstream.syn-2.sentence-2' class='sentence'>In an environment that uses a large character set, the file
typically holds multibyte character sequences and the <span class='texttt'>basic_<span class='shy'></span>filebuf</span>
object converts those multibyte sequences into wide character sequences<a class='hidden_link' href='#fstream.syn-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='fstream.syn-3'><div class='marginalizedparent'><a class='marginalized' href='#fstream.syn-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L10822'>#</a></div><div class='texpara'><div id='fstream.syn-3.sentence-1' class='sentence'>In subclause [file.<span class='shy'></span>streams], member functions taking arguments of <span class='texttt'><span class='keyword'>const</span> filesystem<span class='operator'>&#x200b;::&#x200b;</span>path<span class='operator'>&#x200b;::&#x200b;</span>value_<span class='shy'></span>type<span class='operator'>*</span></span>
are only provided on systems where <span class='texttt'>filesystem<span class='operator'>&#x200b;::&#x200b;</span>path<span class='operator'>&#x200b;::&#x200b;</span>value_<span class='shy'></span>type</span> (<a href='fs.class.path' title='31.12.6&emsp;Class path'>[fs.<span class='shy'></span>class.<span class='shy'></span>path]</a>) is not <span class='texttt'><span class='keyword'>char</span></span><a class='hidden_link' href='#fstream.syn-3.sentence-1'>.</a></div> <div id='fstream.syn-note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#fstream.syn-note-2'>2</a></i>:&ensp;<div id='fstream.syn-3.sentence-2' class='sentence'>These functions enable class <span class='texttt'>path</span> support for systems with a wide native path character type, such as <span id=':wchar_t'><span class='texttt'><span class='keyword'>wchar_<span class='shy'></span>t</span></span></span><a class='hidden_link' href='#fstream.syn-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='file.native' class='section'><h3 ><a class='secnum' href='#file.native' style='min-width:80pt'>31.10.2</a> Native handles <a class='abbr_ref' href='file.native'>[file.native]</a></h3><div class='texpara'><a class='index' id='lib:native_handle_type'></a></div><div class='para' id='file.native-1'><div class='marginalizedparent'><a class='marginalized' href='#file.native-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L10833'>#</a></div><div class='texpara'><div id='file.native-1.sentence-1' class='sentence'>Several classes described in [file.<span class='shy'></span>streams]
have a member <span class='texttt'>native_<span class='shy'></span>handle_<span class='shy'></span>type</span><a class='hidden_link' href='#file.native-1.sentence-1'>.</a></div></div></div><div class='para' id='file.native-2'><div class='marginalizedparent'><a class='marginalized' href='#file.native-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L10837'>#</a></div><div class='texpara'><div id='file.native-2.sentence-1' class='sentence'>The type <span class='texttt'>native_<span class='shy'></span>handle_<span class='shy'></span>type</span> represents a platform-specific
<a class='hidden_link' href='#def:handle,native' title='31.10.2&emsp;Native handles&emsp;[file.native]'><span id='def:handle,native'><i >native handle</i></span></a> to a file<a class='hidden_link' href='#file.native-2.sentence-1'>.</a></div> <div id='file.native-2.sentence-2' class='sentence'>It is trivially copyable and models <a href='concepts.object#concept:semiregular' title='18.6&emsp;Object concepts&emsp;[concepts.object]'><span id='conceptref:semiregular'><span class='texttt'>semiregular</span></span></a><a class='hidden_link' href='#file.native-2.sentence-2'>.</a></div></div><div class='texpara'><div id='file.native-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#file.native-note-1'>1</a></i>:&ensp;<div id='file.native-2.sentence-3' class='sentence'>For operating systems based on POSIX,
<span class='texttt'>native_<span class='shy'></span>handle_<span class='shy'></span>type</span> is <span id=':int'><span class='texttt'><span class='keyword'>int</span></span></span><a class='hidden_link' href='#file.native-2.sentence-3'>.</a></div> <div id='file.native-2.sentence-4' class='sentence'>For Windows-based operating systems,
<span class='texttt'>native_<span class='shy'></span>handle_<span class='shy'></span>type</span> is <span class='texttt'>HANDLE</span><a class='hidden_link' href='#file.native-2.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div></div><div id='filebuf' class='section'><h3 ><a class='secnum' href='#filebuf' style='min-width:80pt'>31.10.3</a> Class template <span class='texttt'>basic_<span class='shy'></span>filebuf</span> <a class='abbr_ref' href='filebuf'>[filebuf]</a></h3><div id='filebuf.general' class='section'><h4 ><a class='secnum' href='#filebuf.general' style='min-width:95pt'>31.10.3.1</a> General <a class='abbr_ref' href='filebuf.general'>[filebuf.general]</a></h4><div class='texpara'><span id='lib:basic_filebuf'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_filebuf'>🔗</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits <span class='operator'>=</span> char_traits<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> basic_filebuf <span class='operator'>:</span> <span class='keyword'>public</span> basic_streambuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> char_type   <span class='operator'>=</span> charT;
    <span class='keyword'>using</span> int_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>int_type;
    <span class='keyword'>using</span> pos_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>pos_type;
    <span class='keyword'>using</span> off_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>off_type;
    <span class='keyword'>using</span> traits_type <span class='operator'>=</span> traits;
    <span class='keyword'>using</span> native_handle_type <span class='operator'>=</span> <a class='index' id=':type_of_native_handle_type'></a><i >implementation-defined</i>;   <span class='comment'>// see <a href='#file.native' title='31.10.2&emsp;Native handles'>[file.<span class='shy'></span>native]</a></span>

    <span class='comment'>// <a href='#filebuf.cons' title='31.10.3.2&emsp;Constructors'>[filebuf.<span class='shy'></span>cons]</a>, constructors/destructor</span>
    basic_filebuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    basic_filebuf<span class='parenthesis'>(</span><span class='keyword'>const</span> basic_filebuf<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    basic_filebuf<span class='parenthesis'>(</span>basic_filebuf<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
    <span class='keyword'>virtual</span> <span class='operator'>~</span>basic_filebuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#filebuf.assign' title='31.10.3.3&emsp;Assignment and swap'>[filebuf.<span class='shy'></span>assign]</a>, assignment and swap</span>
    basic_filebuf<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> basic_filebuf<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    basic_filebuf<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>basic_filebuf<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_filebuf<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#filebuf.members' title='31.10.3.4&emsp;Member functions'>[filebuf.<span class='shy'></span>members]</a>, members</span>
    <span class='keyword'>bool</span> is_open<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
    basic_filebuf<span class='operator'>*</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> s, ios_base<span class='operator'>::</span>openmode mode<span class='parenthesis'>)</span>;
    basic_filebuf<span class='operator'>*</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>::</span>value_type<span class='operator'>*</span> s,
                        ios_base<span class='operator'>::</span>openmode mode<span class='parenthesis'>)</span>;   <span class='comment'>// wide systems only; see <a href='#fstream.syn' title='31.10.1&emsp;Header &lt;fstream&gt; synopsis'>[fstream.<span class='shy'></span>syn]</a></span>
    basic_filebuf<span class='operator'>*</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> string<span class='operator'>&amp;</span> s, ios_base<span class='operator'>::</span>openmode mode<span class='parenthesis'>)</span>;
    basic_filebuf<span class='operator'>*</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>&amp;</span> s, ios_base<span class='operator'>::</span>openmode mode<span class='parenthesis'>)</span>;
    basic_filebuf<span class='operator'>*</span> close<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    native_handle_type native_handle<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

  <span class='keyword'>protected</span><span class='operator'>:</span>
    <span class='comment'>// <a href='#filebuf.virtuals' title='31.10.3.5&emsp;Overridden virtual functions'>[filebuf.<span class='shy'></span>virtuals]</a>, overridden virtual functions</span>
    streamsize showmanyc<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>override</span>;
    int_type underflow<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>override</span>;
    int_type uflow<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>override</span>;
    int_type pbackfail<span class='parenthesis'>(</span>int_type c <span class='operator'>=</span> traits<span class='operator'>::</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='keyword'>override</span>;
    int_type overflow <span class='parenthesis'>(</span>int_type c <span class='operator'>=</span> traits<span class='operator'>::</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='keyword'>override</span>;

    basic_streambuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span> setbuf<span class='parenthesis'>(</span>char_type<span class='operator'>*</span> s, streamsize n<span class='parenthesis'>)</span> <span class='keyword'>override</span>;

    pos_type seekoff<span class='parenthesis'>(</span>off_type off, ios_base<span class='operator'>::</span>seekdir way,
                     ios_base<span class='operator'>::</span>openmode which <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span> <span class='keyword'>override</span>;
    pos_type seekpos<span class='parenthesis'>(</span>pos_type sp,
                     ios_base<span class='operator'>::</span>openmode which <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span> <span class='keyword'>override</span>;

    <span class='keyword'>int</span> sync<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>override</span>;
    <span class='keyword'>void</span> imbue<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc<span class='parenthesis'>)</span> <span class='keyword'>override</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></div><div class='para' id='filebuf.general-1'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L10908'>#</a></div><div class='texpara'><div id='filebuf.general-1.sentence-1' class='sentence'>The class
<span class='texttt'>basic_<span class='shy'></span>filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span></span>
associates both the input sequence and the output
sequence with a file<a class='hidden_link' href='#filebuf.general-1.sentence-1'>.</a></div></div></div><div class='para' id='filebuf.general-2'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L10914'>#</a></div><div class='texpara'><div id='filebuf.general-2.sentence-1' class='sentence'>The restrictions on reading and writing a sequence controlled by an
object of class
<span class='texttt'>basic_<span class='shy'></span>filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span></span>
are the same as for reading and writing with the C standard library
<span class='texttt'>FILE</span>s<a class='hidden_link' href='#filebuf.general-2.sentence-1'>.</a></div></div></div><div class='para' id='filebuf.general-3'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L10921'>#</a></div><div class='texpara'><div id='filebuf.general-3.sentence-1' class='sentence'>In particular:
<ul class='itemize'><li id='filebuf.general-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#filebuf.general-3.1'>(3.1)</a></div><div class='texpara'><div id='filebuf.general-3.1.sentence-1' class='sentence'>If the file is not open for reading the input sequence
cannot be read<a class='hidden_link' href='#filebuf.general-3.1.sentence-1'>.</a></div></div></li><li id='filebuf.general-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#filebuf.general-3.2'>(3.2)</a></div><div class='texpara'><div id='filebuf.general-3.2.sentence-1' class='sentence'>If the file is not open for writing the output
sequence cannot be written<a class='hidden_link' href='#filebuf.general-3.2.sentence-1'>.</a></div></div></li><li id='filebuf.general-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#filebuf.general-3.3'>(3.3)</a></div><div class='texpara'><div id='filebuf.general-3.3.sentence-1' class='sentence'>A joint file position is maintained for both the input sequence and
the output sequence<a class='hidden_link' href='#filebuf.general-3.3.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para' id='filebuf.general-4'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L10935'>#</a></div><div class='texpara'><div id='filebuf.general-4.sentence-1' class='sentence'>An instance of
<span class='texttt'>basic_<span class='shy'></span>filebuf</span>
behaves as described in <a href='#filebuf' title='31.10.3&emsp;Class template basic_&shy;filebuf'>[filebuf]</a> provided
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>pos_<span class='shy'></span>type</span>
is
<span class='texttt'>fpos<span class='anglebracket'>&lt;</span>traits<span class='operator'>&#x200b;::&#x200b;</span>&#x200b;state_<span class='shy'></span>type<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#filebuf.general-4.sentence-1'>.</a></div> <div id='filebuf.general-4.sentence-2' class='sentence'>Otherwise the behavior is undefined<a class='hidden_link' href='#filebuf.general-4.sentence-2'>.</a></div></div></div><div class='para' id='filebuf.general-5'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L10944'>#</a></div><div class='texpara'><div id='filebuf.general-5.sentence-1' class='sentence'>The file associated with a <span class='texttt'>basic_<span class='shy'></span>filebuf</span> has
an associated value of type <span class='texttt'>native_<span class='shy'></span>handle_<span class='shy'></span>type</span>,
called the native handle (<a href='#file.native' title='31.10.2&emsp;Native handles'>[file.<span class='shy'></span>native]</a>) of that file<a class='hidden_link' href='#filebuf.general-5.sentence-1'>.</a></div> <div id='filebuf.general-5.sentence-2' class='sentence'>This native handle can be obtained by calling
the member function <span class='texttt'>native_<span class='shy'></span>handle</span><a class='hidden_link' href='#filebuf.general-5.sentence-2'>.</a></div></div></div><div class='para' id='filebuf.general-6'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.general-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L10951'>#</a></div><div class='texpara'><div id='filebuf.general-6.sentence-1' class='sentence'>For any opened <span class='texttt'>basic_<span class='shy'></span>filebuf f</span>,
the native handle returned by <span class='texttt'>f<span class='operator'>.</span>native_<span class='shy'></span>handle<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is
invalidated when <span class='texttt'>f<span class='operator'>.</span>close<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is called, or <span class='texttt'>f</span> is destroyed<a class='hidden_link' href='#filebuf.general-6.sentence-1'>.</a></div></div></div><div class='para' id='filebuf.general-7'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.general-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L10956'>#</a></div><div class='texpara'><div id='filebuf.general-7.sentence-1' class='sentence'>In order to support file I/O and multibyte/wide character conversion,
conversions are performed using members of a facet, referred to as
<span class='texttt'>a_<span class='shy'></span>codecvt</span> in following subclauses, obtained as if by
<span class='codeblock'><span class='keyword'>const</span> codecvt<span class='anglebracket'>&lt;</span>charT, <span class='keyword'>char</span>, <span class='keyword'>typename</span> traits<span class='operator'>::</span>state_type<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> a_codecvt <span class='operator'>=</span>
  use_facet<span class='anglebracket'>&lt;</span>codecvt<span class='anglebracket'>&lt;</span>charT, <span class='keyword'>char</span>, <span class='keyword'>typename</span> traits<span class='operator'>::</span>state_type<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>getloc<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div id='filebuf.cons' class='section'><h4 ><a class='secnum' href='#filebuf.cons' style='min-width:95pt'>31.10.3.2</a> Constructors <a class='abbr_ref' href='filebuf.cons'>[filebuf.cons]</a></h4><div class='texpara'><div id='lib:basic_filebuf,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_filebuf,constructor'>🔗</a></div><code class='itemdeclcode'>basic_filebuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='filebuf.cons-1'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.cons-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L10973'>#</a></div><div class='texpara'><div id='filebuf.cons-1.sentence-1' class='sentence'><i >Effects</i>: Initializes the base class with
<span class='texttt'>basic_<span class='shy'></span>streambuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> (<a href='streambuf.cons' title='31.6.3.2&emsp;Constructors'>[streambuf.<span class='shy'></span>cons]</a>)<a class='hidden_link' href='#filebuf.cons-1.sentence-1'>.</a></div></div></div></div><div class='para' id='filebuf.cons-2'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.cons-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L10978'>#</a></div><div class='texpara'><div id='filebuf.cons-2.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>is_<span class='shy'></span>open<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>false</span></span><a class='hidden_link' href='#filebuf.cons-2.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_filebuf,constructor_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_filebuf,constructor_'>🔗</a></div><code class='itemdeclcode'>basic_filebuf<span class='parenthesis'>(</span>basic_filebuf<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='filebuf.cons-3'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.cons-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L10989'>#</a></div><div class='texpara'><div id='filebuf.cons-3.sentence-1' class='sentence'><i >Effects</i>: It is <a class='index' id=':whether_sequence_pointers_are_copied_by_basic_filebuf_move_constructor'></a>implementation-defined whether the sequence pointers in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>
(<span class='texttt'>eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'>egptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
<span class='texttt'>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'>epptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>) obtain
the values which <span class='texttt'>rhs</span> had<a class='hidden_link' href='#filebuf.cons-3.sentence-1'>.</a></div> <div id='filebuf.cons-3.sentence-2' class='sentence'>Whether they do or not, <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>
and <span class='texttt'>rhs</span> reference separate buffers (if any at all) after the
construction<a class='hidden_link' href='#filebuf.cons-3.sentence-2'>.</a></div> <div id='filebuf.cons-3.sentence-3' class='sentence'>Additionally <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> references the file
which <span class='texttt'>rhs</span> did before the construction, and
<span class='texttt'>rhs</span> references no file after the construction<a class='hidden_link' href='#filebuf.cons-3.sentence-3'>.</a></div> <div id='filebuf.cons-3.sentence-4' class='sentence'>The
openmode, locale and any other state of <span class='texttt'>rhs</span> is also
copied<a class='hidden_link' href='#filebuf.cons-3.sentence-4'>.</a></div></div></div></div><div class='para' id='filebuf.cons-4'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.cons-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11003'>#</a></div><div class='texpara'><div id='filebuf.cons-4.sentence-1' class='sentence'><i >Postconditions</i>: Let <span class='texttt'>rhs_<span class='shy'></span>p</span> refer to the state of
<span class='texttt'>rhs</span> just prior to this construction and let <span class='texttt'>rhs_<span class='shy'></span>a</span>
refer to the state of <span class='texttt'>rhs</span> just after this construction<a class='hidden_link' href='#filebuf.cons-4.sentence-1'>.</a></div></div><div class='texpara'><ul class='itemize'><li id='filebuf.cons-4.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#filebuf.cons-4.1'>(4.1)</a></div><span class='texttt'>is_<span class='shy'></span>open<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs_<span class='shy'></span>p<span class='operator'>.</span>is_<span class='shy'></span>open<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li><li id='filebuf.cons-4.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#filebuf.cons-4.2'>(4.2)</a></div><span class='texttt'>rhs_<span class='shy'></span>a<span class='operator'>.</span>is_<span class='shy'></span>open<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>false</span></span></li><li id='filebuf.cons-4.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#filebuf.cons-4.3'>(4.3)</a></div><span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs_<span class='shy'></span>p<span class='operator'>.</span>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> rhs_<span class='shy'></span>p<span class='operator'>.</span>eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li><li id='filebuf.cons-4.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#filebuf.cons-4.4'>(4.4)</a></div><span class='texttt'>egptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs_<span class='shy'></span>p<span class='operator'>.</span>egptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> rhs_<span class='shy'></span>p<span class='operator'>.</span>eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li><li id='filebuf.cons-4.5'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#filebuf.cons-4.5'>(4.5)</a></div><span class='texttt'>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs_<span class='shy'></span>p<span class='operator'>.</span>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> rhs_<span class='shy'></span>p<span class='operator'>.</span>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li><li id='filebuf.cons-4.6'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#filebuf.cons-4.6'>(4.6)</a></div><span class='texttt'>epptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs_<span class='shy'></span>p<span class='operator'>.</span>epptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> rhs_<span class='shy'></span>p<span class='operator'>.</span>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li><li id='filebuf.cons-4.7'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#filebuf.cons-4.7'>(4.7)</a></div><span class='texttt'><span class='keyword'>if</span> <span class='parenthesis'>(</span>eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> rhs_<span class='shy'></span>a<span class='operator'>.</span>eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li><li id='filebuf.cons-4.8'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#filebuf.cons-4.8'>(4.8)</a></div><span class='texttt'><span class='keyword'>if</span> <span class='parenthesis'>(</span>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> rhs_<span class='shy'></span>a<span class='operator'>.</span>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li><li id='filebuf.cons-4.9'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#filebuf.cons-4.9'>(4.9)</a></div><span class='texttt'><span class='keyword'>if</span> <span class='parenthesis'>(</span>egptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> egptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> rhs_<span class='shy'></span>a<span class='operator'>.</span>egptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li><li id='filebuf.cons-4.10'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#filebuf.cons-4.10'>(4.10)</a></div><span class='texttt'><span class='keyword'>if</span> <span class='parenthesis'>(</span>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> rhs_<span class='shy'></span>a<span class='operator'>.</span>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li><li id='filebuf.cons-4.11'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#filebuf.cons-4.11'>(4.11)</a></div><span class='texttt'><span class='keyword'>if</span> <span class='parenthesis'>(</span>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> rhs_<span class='shy'></span>a<span class='operator'>.</span>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li><li id='filebuf.cons-4.12'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#filebuf.cons-4.12'>(4.12)</a></div><span class='texttt'><span class='keyword'>if</span> <span class='parenthesis'>(</span>epptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> epptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> rhs_<span class='shy'></span>a<span class='operator'>.</span>epptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li></ul></div></div></div><div class='texpara'><div id='lib:basic_filebuf,destructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_filebuf,destructor'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>virtual</span> <span class='operator'>~</span>basic_filebuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='filebuf.cons-5'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.cons-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11031'>#</a></div><div class='texpara'><div id='filebuf.cons-5.sentence-1' class='sentence'><i >Effects</i>: Calls
<span class='texttt'>close<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#filebuf.cons-5.sentence-1'>.</a></div> <div id='filebuf.cons-5.sentence-2' class='sentence'>If an exception occurs during the destruction of the object, including the call to <span class='texttt'>close<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, the exception is caught but not rethrown (see <a href='res.on.exception.handling' title='16.4.6.13&emsp;Restrictions on exception handling'>[res.<span class='shy'></span>on.<span class='shy'></span>exception.<span class='shy'></span>handling]</a>)<a class='hidden_link' href='#filebuf.cons-5.sentence-2'>.</a></div></div></div></div></div><div id='filebuf.assign' class='section'><h4 ><a class='secnum' href='#filebuf.assign' style='min-width:95pt'>31.10.3.3</a> Assignment and swap <a class='abbr_ref' href='filebuf.assign'>[filebuf.assign]</a></h4><div class='texpara'><div id='lib:basic_filebuf,operator='><div id='lib:operator=,basic_filebuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,basic_filebuf'>🔗</a></div><code class='itemdeclcode'>basic_filebuf<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>basic_filebuf<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='filebuf.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11046'>#</a></div><div class='texpara'><div id='filebuf.assign-1.sentence-1' class='sentence'><i >Effects</i>: Calls <span class='texttt'>close<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> then move assigns from <span class='texttt'>rhs</span><a class='hidden_link' href='#filebuf.assign-1.sentence-1'>.</a></div> <div id='filebuf.assign-1.sentence-2' class='sentence'>After the
move assignment <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has the observable state it would have had if it
had been move constructed from <span class='texttt'>rhs</span> (see <a href='#filebuf.cons' title='31.10.3.2&emsp;Constructors'>[filebuf.<span class='shy'></span>cons]</a>)<a class='hidden_link' href='#filebuf.assign-1.sentence-2'>.</a></div></div></div></div><div class='para' id='filebuf.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11052'>#</a></div><div class='texpara'><div id='filebuf.assign-2.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#filebuf.assign-2.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_filebuf,swap'><div id='lib:swap,basic_filebuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,basic_filebuf'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_filebuf<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='filebuf.assign-3'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.assign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11063'>#</a></div><div class='texpara'><div id='filebuf.assign-3.sentence-1' class='sentence'><i >Effects</i>: Exchanges the state of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>
and <span class='texttt'>rhs</span><a class='hidden_link' href='#filebuf.assign-3.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_filebuf,swap_'><div id='lib:swap,basic_filebuf_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,basic_filebuf_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, basic_filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='filebuf.assign-4'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.assign-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11076'>#</a></div><div class='texpara'><div id='filebuf.assign-4.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>x<span class='operator'>.</span>swap<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span></span><a class='hidden_link' href='#filebuf.assign-4.sentence-1'>.</a></div></div></div></div></div><div id='filebuf.members' class='section'><h4 ><a class='secnum' href='#filebuf.members' style='min-width:95pt'>31.10.3.4</a> Member functions <a class='abbr_ref' href='filebuf.members'>[filebuf.members]</a></h4><div class='texpara'><div id='lib:basic_filebuf,is_open'><div id='lib:is_open,basic_filebuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:is_open,basic_filebuf'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>bool</span> is_open<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div><div class='para' id='filebuf.members-1'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11089'>#</a></div><div class='texpara'><div id='filebuf.members-1.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='literal'>true</span></span>
if a previous call to
<span class='texttt'>open</span>
succeeded (returned a non-null value) and there has been no intervening
call to close<a class='hidden_link' href='#filebuf.members-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_filebuf,open'><div id='lib:open,basic_filebuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:open,basic_filebuf'>🔗</a></div><code class='itemdeclcode'>basic_filebuf<span class='operator'>*</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> s, ios_base<span class='operator'>::</span>openmode mode<span class='parenthesis'>)</span>;
basic_filebuf<span class='operator'>*</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>::</span>value_type<span class='operator'>*</span> s,
                    ios_base<span class='operator'>::</span>openmode mode<span class='parenthesis'>)</span>;  <span class='comment'>// wide systems only; see <a href='#fstream.syn' title='31.10.1&emsp;Header &lt;fstream&gt; synopsis'>[fstream.<span class='shy'></span>syn]</a></span>
</code></div></div></div></div><div class='para' id='filebuf.members-2'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11106'>#</a></div><div class='texpara'><div id='filebuf.members-2.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>s</span> points to a NTCTS (<a href='defns.ntcts' title='3.34&emsp;NTCTS'>[defns.<span class='shy'></span>ntcts]</a>)<a class='hidden_link' href='#filebuf.members-2.sentence-1'>.</a></div></div></div></div><div class='para' id='filebuf.members-3'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11110'>#</a></div><div class='texpara'><div id='filebuf.members-3.sentence-1' class='sentence'><i >Effects</i>: If
<span class='texttt'>is_<span class='shy'></span>open<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>false</span></span>,
returns a null pointer<a class='hidden_link' href='#filebuf.members-3.sentence-1'>.</a></div> <div id='filebuf.members-3.sentence-2' class='sentence'>Otherwise,
initializes the
<span class='texttt'>filebuf</span>
as required<a class='hidden_link' href='#filebuf.members-3.sentence-2'>.</a></div> <div id='filebuf.members-3.sentence-3' class='sentence'>It then opens
the file to which <span class='texttt'>s</span> resolves, if possible,
as if by a call to <span class='texttt'>fopen</span>
<a class='index' id='lib:fopen_'></a>with the second argument determined from
<span class='texttt'>mode <span class='operator'>&amp;</span> <span class='operator'>~</span>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>ate</span>
as indicated in Table <a href='#tab:filebuf.open.modes' title='Table 128: File open modes'>128</a><a class='hidden_link' href='#filebuf.members-3.sentence-3'>.</a></div> <div id='filebuf.members-3.sentence-4' class='sentence'>If <span class='texttt'>mode</span> is not some combination of flags shown in the table then
the open fails<a class='hidden_link' href='#filebuf.members-3.sentence-4'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:filebuf.open.modes'>Table <a href='#tab:filebuf.open.modes'>128</a>: File open modes&emsp;<a href='./tab:filebuf.open.modes'>[tab:filebuf.open.modes]</a><br><table ><tr id='tab:filebuf.open.modes-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-1'>🔗</a></div></td><td colspan='6' class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-1-column-1-sentence-1' class='sentence'><span class='texttt'>ios_<span class='shy'></span>base</span> flag combination</div></div></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-1-column-7-sentence-1' class='sentence'><span class='texttt'>stdio</span> equivalent</div></div></td></tr><tr id='tab:filebuf.open.modes-row-2'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-2'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-2-column-1-sentence-1' class='sentence'><span class='texttt'>binary</span></div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-2-column-2-sentence-1' class='sentence'><span class='texttt'>in</span></div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-2-column-3-sentence-1' class='sentence'><span class='texttt'>out</span></div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-2-column-4-sentence-1' class='sentence'><span class='texttt'>trunc</span></div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-2-column-5-sentence-1' class='sentence'><span class='texttt'>app</span></div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-2-column-6-sentence-1' class='sentence'><span class='texttt'>noreplace</span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-3' class='capsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-3'>🔗</a></div></td><td class='empty center'></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-3-column-3-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='empty center'></td><td class='empty center'></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-3-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"w"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-4' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-4'>🔗</a></div></td><td class='empty center'></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-4-column-3-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-4-column-6-sentence-1' class='sentence'>+</div></div></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-4-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"wx"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-5' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-5'>🔗</a></div></td><td class='empty center'></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-5-column-3-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-5-column-4-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='empty center'></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-5-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"w"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-6' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-6'>🔗</a></div></td><td class='empty center'></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-6-column-3-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-6-column-4-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-6-column-6-sentence-1' class='sentence'>+</div></div></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-6-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"wx"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-7' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-7'>🔗</a></div></td><td class='empty center'></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-7-column-3-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-7-column-5-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-7-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"a"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-8' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-8'>🔗</a></div></td><td class='empty center'></td><td class='empty center'></td><td class='empty center'></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-8-column-5-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-8-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"a"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-9' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-9'>🔗</a></div></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-9-column-2-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='empty center'></td><td class='empty center'></td><td class='empty center'></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-9-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"r"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-10' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-10'>🔗</a></div></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-10-column-2-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-10-column-3-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='empty center'></td><td class='empty center'></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-10-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"r+"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-11' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-11'>🔗</a></div></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-11-column-2-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-11-column-3-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-11-column-4-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='empty center'></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-11-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"w+"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-12' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-12'>🔗</a></div></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-12-column-2-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-12-column-3-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-12-column-4-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-12-column-6-sentence-1' class='sentence'>+</div></div></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-12-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"w+x"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-13' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-13'>🔗</a></div></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-13-column-2-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-13-column-3-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-13-column-5-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-13-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"a+"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-14' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-14'>🔗</a></div></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-14-column-2-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-14-column-5-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-14-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"a+"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-15' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-15'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-15-column-1-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-15-column-3-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='empty center'></td><td class='empty center'></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-15-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"wb"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-16' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-16'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-16-column-1-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-16-column-3-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-16-column-6-sentence-1' class='sentence'>+</div></div></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-16-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"wbx"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-17' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-17'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-17-column-1-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-17-column-3-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-17-column-4-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='empty center'></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-17-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"wb"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-18' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-18'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-18-column-1-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-18-column-3-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-18-column-4-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-18-column-6-sentence-1' class='sentence'>+</div></div></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-18-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"wbx"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-19' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-19'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-19-column-1-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-19-column-3-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-19-column-5-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-19-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"ab"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-20' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-20'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-20-column-1-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='empty center'></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-20-column-5-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-20-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"ab"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-21' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-21'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-21-column-1-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-21-column-2-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='empty center'></td><td class='empty center'></td><td class='empty center'></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-21-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"rb"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-22' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-22'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-22-column-1-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-22-column-2-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-22-column-3-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='empty center'></td><td class='empty center'></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-22-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"r+b"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-23' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-23'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-23-column-1-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-23-column-2-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-23-column-3-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-23-column-4-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='empty center'></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-23-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"w+b"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-24' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-24'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-24-column-1-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-24-column-2-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-24-column-3-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-24-column-4-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-24-column-6-sentence-1' class='sentence'>+</div></div></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-24-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"w+bx"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-25' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-25'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-25-column-1-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-25-column-2-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-25-column-3-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-25-column-5-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-25-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"a+b"</span></span></div></div></td></tr><tr id='tab:filebuf.open.modes-row-26' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.open.modes-row-26'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-26-column-1-sentence-1' class='sentence'>+</div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-26-column-2-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='empty center'></td><td class='center'><div class='texpara'><div id='tab:filebuf.open.modes-row-26-column-5-sentence-1' class='sentence'>+</div></div></td><td class='empty center'></td><td class='left'><div class='texpara'><div id='tab:filebuf.open.modes-row-26-column-7-sentence-1' class='sentence'><span class='texttt'><span class='literal'>"a+b"</span></span></div></div></td></tr></table></div></div></div></div><div class='para' id='filebuf.members-4'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.members-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11160'>#</a></div><div class='texpara'><div id='filebuf.members-4.sentence-1' class='sentence'>If the open operation succeeds and
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>ate</span> is set in <span class='texttt'>mode</span>,
positions the file to the end
(as if by calling <span class='texttt'>fseek<span class='parenthesis'>(</span>file, <span class='literal'>0</span>, SEEK_<span class='shy'></span>END<span class='parenthesis'>)</span></span>, where
<span class='texttt'>file</span> is the pointer returned by calling <span class='texttt'>fopen</span>)<a class='hidden_link' href='#filebuf.members-4.sentence-1'>.</a><a class='footnoteref' href='#footnote-301' id='footnoteref-301' title='The macro SEEK_&shy;END is defined, and the function signatures fopen(const char*, const char*) and fseek(FILE*, long, int) are declared, in &lt;cstdio&gt;.'>301</a></div></div></div></div><div class='para' id='filebuf.members-5'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.members-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11177'>#</a></div><div class='texpara'><div id='filebuf.members-5.sentence-1' class='sentence'>If the repositioning operation fails, calls
<span class='texttt'>close<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
and returns a null pointer to indicate failure<a class='hidden_link' href='#filebuf.members-5.sentence-1'>.</a></div></div></div></div><div class='para' id='filebuf.members-6'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.members-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11182'>#</a></div><div class='texpara'><div id='filebuf.members-6.sentence-1' class='sentence'><i >Returns</i>: <span id=':this'><span class='texttt'><span class='keyword'>this</span></span></span>
if successful, a null pointer otherwise<a class='hidden_link' href='#filebuf.members-6.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_filebuf,open_'><div id='lib:open,basic_filebuf_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:open,basic_filebuf_'>🔗</a></div><code class='itemdeclcode'>basic_filebuf<span class='operator'>*</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> string<span class='operator'>&amp;</span> s, ios_base<span class='operator'>::</span>openmode mode<span class='parenthesis'>)</span>;
basic_filebuf<span class='operator'>*</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>&amp;</span> s, ios_base<span class='operator'>::</span>openmode mode<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='filebuf.members-7'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.members-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11195'>#</a></div><div class='texpara'><div id='filebuf.members-7.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>open<span class='parenthesis'>(</span>s<span class='operator'>.</span>c_<span class='shy'></span>str<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, mode<span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:basic_filebuf,close'><div id='lib:close,basic_filebuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:close,basic_filebuf'>🔗</a></div><code class='itemdeclcode'>basic_filebuf<span class='operator'>*</span> close<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='filebuf.members-8'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.members-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11206'>#</a></div><div class='texpara'><div id='filebuf.members-8.sentence-1' class='sentence'><i >Effects</i>: If
<span class='texttt'>is_<span class='shy'></span>open<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>false</span></span>,
returns a null pointer<a class='hidden_link' href='#filebuf.members-8.sentence-1'>.</a></div> <div id='filebuf.members-8.sentence-2' class='sentence'>If a put area exists, calls
<span class='texttt'>overflow<span class='parenthesis'>(</span>traits<span class='operator'>&#x200b;::&#x200b;</span>&#x200b;eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
to flush characters<a class='hidden_link' href='#filebuf.members-8.sentence-2'>.</a></div> <div id='filebuf.members-8.sentence-3' class='sentence'>If the last virtual member function called on
<span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>
(between
<span class='texttt'>underflow</span>,
<span class='texttt'>overflow</span>,
<span class='texttt'>seekoff</span>,
and
<span class='texttt'>seekpos</span>)
was
<span class='texttt'>overflow</span>
then calls
<span class='texttt'>a_<span class='shy'></span>codecvt<span class='operator'>.</span>unshift</span>
(possibly several times) to determine a termination sequence, inserts those
characters and calls
<span class='texttt'>overflow<span class='parenthesis'>(</span>traits<span class='operator'>&#x200b;::&#x200b;</span>&#x200b;eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
again<a class='hidden_link' href='#filebuf.members-8.sentence-3'>.</a></div> <div id='filebuf.members-8.sentence-4' class='sentence'>Finally, regardless of whether any of the preceding calls fails or throws an
exception, the function closes the file
(as if by calling
<a class='index' id='lib:fclose'></a><span class='texttt'>fclose<span class='parenthesis'>(</span>file<span class='parenthesis'>)</span></span>)<a class='hidden_link' href='#filebuf.members-8.sentence-4'>.</a></div> <div id='filebuf.members-8.sentence-5' class='sentence'>If any of the calls made by the function, including <span class='texttt'>fclose</span>, fails,
<span class='texttt'>close</span> fails by returning a null pointer<a class='hidden_link' href='#filebuf.members-8.sentence-5'>.</a></div> <div id='filebuf.members-8.sentence-6' class='sentence'>If one of these calls throws an
exception, the exception is caught and rethrown after closing the file<a class='hidden_link' href='#filebuf.members-8.sentence-6'>.</a></div></div></div></div><div class='para' id='filebuf.members-9'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.members-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11239'>#</a></div><div class='texpara'><div id='filebuf.members-9.sentence-1' class='sentence'><i >Postconditions</i>: <span class='texttt'>is_<span class='shy'></span>open<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>false</span></span><a class='hidden_link' href='#filebuf.members-9.sentence-1'>.</a></div></div></div></div><div class='para' id='filebuf.members-10'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.members-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11243'>#</a></div><div class='texpara'><div id='filebuf.members-10.sentence-1' class='sentence'><i >Returns</i>: <span id=':this_'><span class='texttt'><span class='keyword'>this</span></span></span>
on success, a null pointer otherwise<a class='hidden_link' href='#filebuf.members-10.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_filebuf,native_handle'><div id='lib:native_handle,basic_filebuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:native_handle,basic_filebuf'>🔗</a></div><code class='itemdeclcode'>native_handle_type native_handle<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='filebuf.members-11'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.members-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11255'>#</a></div><div class='texpara'><div id='filebuf.members-11.sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'>is_<span class='shy'></span>open<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#filebuf.members-11.sentence-1'>.</a></div></div></div></div><div class='para' id='filebuf.members-12'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.members-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11259'>#</a></div><div class='texpara'><div id='filebuf.members-12.sentence-1' class='sentence'><i >Returns</i>: The native handle associated with <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#filebuf.members-12.sentence-1'>.</a></div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-301'><div class='texpara'><a class='footnotenum' href='#footnote-301'>301)</a><a class='footnoteBacklink' href='#footnoteref-301'>301)</a> <div id='footnote-301.sentence-1' class='sentence'>The macro <span class='texttt'>SEEK_<span class='shy'></span>END</span>
is defined, and the function signatures
<a class='index' id='lib:fopen'></a><span class='texttt'>fopen<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>, <span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span></span>
and
<span class='texttt'>fseek<span class='parenthesis'>(</span>FILE<span class='operator'>*</span>, <span class='keyword'>long</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span></span>
<a class='index' id='lib:fseek'></a>are declared, in <a href='cstdio.syn#header:%3ccstdio%3e' title='31.13.1&emsp;Header &lt;cstdio&gt; synopsis&emsp;[cstdio.syn]'><span id='headerref:<cstdio>'><span class='texttt'>&lt;cstdio&gt;</span></span></a><a class='hidden_link' href='#footnote-301.sentence-1'>.</a></div></div></div></div><div id='filebuf.virtuals' class='section'><h4 ><a class='secnum' href='#filebuf.virtuals' style='min-width:95pt'>31.10.3.5</a> Overridden virtual functions <a class='abbr_ref' href='filebuf.virtuals'>[filebuf.virtuals]</a></h4><div class='texpara'><div id='lib:basic_filebuf,showmanyc'><div id='lib:showmanyc,basic_filebuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:showmanyc,basic_filebuf'>🔗</a></div><code class='itemdeclcode'>streamsize showmanyc<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>override</span>;
</code></div></div></div></div><div class='para' id='filebuf.virtuals-1'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11272'>#</a></div><div class='texpara'><div id='filebuf.virtuals-1.sentence-1' class='sentence'><i >Effects</i>: Behaves the same as
<span class='texttt'>basic_<span class='shy'></span>streambuf<span class='operator'>&#x200b;::&#x200b;</span>showmanyc<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> (<a href='streambuf.virtuals' title='31.6.3.5&emsp;Virtual functions'>[streambuf.<span class='shy'></span>virtuals]</a>)<a class='hidden_link' href='#filebuf.virtuals-1.sentence-1'>.</a></div> <a class='index' id='lib:showmanyc,basic_streambuf'></a><a class='index' id='lib:basic_streambuf,showmanyc'></a></div></div></div><div class='para' id='filebuf.virtuals-2'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11278'>#</a></div><div class='texpara'><div id='filebuf.virtuals-2.sentence-1' class='sentence'><i >Remarks</i>: An
implementation may provide an overriding definition for this function
signature if it can determine whether more characters can be read from the input
sequence<a class='hidden_link' href='#filebuf.virtuals-2.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_filebuf,underflow'><div id='lib:underflow,basic_filebuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:underflow,basic_filebuf'>🔗</a></div><code class='itemdeclcode'>int_type underflow<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>override</span>;
</code></div></div></div></div><div class='para' id='filebuf.virtuals-3'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11292'>#</a></div><div class='texpara'><div id='filebuf.virtuals-3.sentence-1' class='sentence'><i >Effects</i>: Behaves according to the description of
<span class='texttt'>basic_<span class='shy'></span>streambuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>underflow<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
with the specialization that a sequence of characters is read from the input
sequence as if by reading from the associated file
into an internal buffer (<span class='texttt'>extern_<span class='shy'></span>buf</span>)
and then as if by doing:
<span class='codeblock'><span class='keyword'>char</span>   extern_buf<span class='squarebracket'>[</span>XSIZE<span class='squarebracket'>]</span>;
<span class='keyword'>char</span><span class='operator'>*</span>  extern_end;
charT  intern_buf<span class='squarebracket'>[</span>ISIZE<span class='squarebracket'>]</span>;
charT<span class='operator'>*</span> intern_end;
codecvt_base<span class='operator'>::</span>result r <span class='operator'>=</span>
  a_codecvt<span class='operator'>.</span>in<span class='parenthesis'>(</span>state, extern_buf, extern_buf<span class='operator'>+</span>XSIZE, extern_end,
               intern_buf, intern_buf<span class='operator'>+</span>ISIZE, intern_end<span class='parenthesis'>)</span>;
</span></div></div><div class='texpara'><div id='filebuf.virtuals-3.sentence-2' class='sentence'>This shall be done in such a way that the class can recover the
position
(<span class='texttt'>fpos_<span class='shy'></span>t</span>)
corresponding to each character between
<span class='texttt'>intern_<span class='shy'></span>buf</span>
and
<span class='texttt'>intern_<span class='shy'></span>end</span><a class='hidden_link' href='#filebuf.virtuals-3.sentence-2'>.</a></div> <div id='filebuf.virtuals-3.sentence-3' class='sentence'>If the value of
<span class='texttt'>r</span>
indicates that
<span class='texttt'>a_<span class='shy'></span>codecvt<span class='operator'>.</span>in<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
ran out of space in
<span class='texttt'>intern_<span class='shy'></span>buf</span>,
retry with a larger
<span class='texttt'>intern_<span class='shy'></span>buf</span><a class='hidden_link' href='#filebuf.virtuals-3.sentence-3'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_filebuf,uflow'><div id='lib:uflow,basic_filebuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:uflow,basic_filebuf'>🔗</a></div><code class='itemdeclcode'>int_type uflow<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>override</span>;
</code></div></div></div></div><div class='para' id='filebuf.virtuals-4'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11333'>#</a></div><div class='texpara'><div id='filebuf.virtuals-4.sentence-1' class='sentence'><i >Effects</i>: Behaves according to the description of
<span class='texttt'>basic_<span class='shy'></span>streambuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>uflow<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
with the specialization that a sequence of characters is read from the input
with the same method as used by
<span class='texttt'>underflow</span><a class='hidden_link' href='#filebuf.virtuals-4.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_filebuf,pbackfail'><div id='lib:pbackfail,basic_filebuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:pbackfail,basic_filebuf'>🔗</a></div><code class='itemdeclcode'>int_type pbackfail<span class='parenthesis'>(</span>int_type c <span class='operator'>=</span> traits<span class='operator'>::</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='keyword'>override</span>;
</code></div></div></div></div><div class='para' id='filebuf.virtuals-5'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11348'>#</a></div><div class='texpara'><div id='filebuf.virtuals-5.sentence-1' class='sentence'><i >Effects</i>: Puts back the character designated by <span class='texttt'>c</span> to the input
sequence, if possible, in one of three ways:
<ul class='itemize'><li id='filebuf.virtuals-5.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#filebuf.virtuals-5.1'>(5.1)</a></div><div class='texpara'><div id='filebuf.virtuals-5.1.sentence-1' class='sentence'>If
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eq_<span class='shy'></span>int_<span class='shy'></span>type<span class='parenthesis'>(</span>c, traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
returns
<span class='texttt'><span class='literal'>false</span></span>
and
if the function makes a putback position available
and if
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eq<span class='parenthesis'>(</span>to_<span class='shy'></span>char_<span class='shy'></span>type<span class='parenthesis'>(</span>c<span class='parenthesis'>)</span>, gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='operator'>-</span><span class='literal'>1</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span></span>
returns
<span class='texttt'><span class='literal'>true</span></span>,
decrements the next pointer for the input sequence,
<span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#filebuf.virtuals-5.1.sentence-1'>.</a></div></div><div class='texpara'><div id='filebuf.virtuals-5.1.sentence-2' class='sentence'>Returns:
<span class='texttt'>c</span><a class='hidden_link' href='#filebuf.virtuals-5.1.sentence-2'>.</a></div></div></li><li id='filebuf.virtuals-5.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#filebuf.virtuals-5.2'>(5.2)</a></div><div class='texpara'><div id='filebuf.virtuals-5.2.sentence-1' class='sentence'>If
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eq_<span class='shy'></span>int_<span class='shy'></span>type<span class='parenthesis'>(</span>c, traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
returns
<span class='texttt'><span class='literal'>false</span></span>
and
if the function makes a putback position available
and if the function is permitted to assign to the putback position,
decrements the next pointer for the input sequence,
and stores <span class='texttt'>c</span> there<a class='hidden_link' href='#filebuf.virtuals-5.2.sentence-1'>.</a></div></div><div class='texpara'><div id='filebuf.virtuals-5.2.sentence-2' class='sentence'>Returns:
<span class='texttt'>c</span><a class='hidden_link' href='#filebuf.virtuals-5.2.sentence-2'>.</a></div></div></li><li id='filebuf.virtuals-5.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#filebuf.virtuals-5.3'>(5.3)</a></div><div class='texpara'><div id='filebuf.virtuals-5.3.sentence-1' class='sentence'>If
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eq_<span class='shy'></span>int_<span class='shy'></span>type<span class='parenthesis'>(</span>c, traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
returns
<span class='texttt'><span class='literal'>true</span></span>,
and if either the input sequence has a putback position available or
the function makes a putback position available,
decrements the next pointer for the input sequence,
<span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#filebuf.virtuals-5.3.sentence-1'>.</a></div></div><div class='texpara'><div id='filebuf.virtuals-5.3.sentence-2' class='sentence'>Returns:
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>not_<span class='shy'></span>eof<span class='parenthesis'>(</span>c<span class='parenthesis'>)</span></span><a class='hidden_link' href='#filebuf.virtuals-5.3.sentence-2'>.</a></div></div></li></ul></div></div></div></div><div class='para' id='filebuf.virtuals-6'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11398'>#</a></div><div class='texpara'><div id='filebuf.virtuals-6.sentence-1' class='sentence'><i >Returns</i>: As specified above, or
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
to indicate failure<a class='hidden_link' href='#filebuf.virtuals-6.sentence-1'>.</a></div></div></div></div><div class='para' id='filebuf.virtuals-7'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11404'>#</a></div><div class='texpara'><div id='filebuf.virtuals-7.sentence-1' class='sentence'><i >Remarks</i>: If
<span class='texttt'>is_<span class='shy'></span>open<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>false</span></span>,
the function always fails<a class='hidden_link' href='#filebuf.virtuals-7.sentence-1'>.</a></div></div></div></div><div class='para' id='filebuf.virtuals-8'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11410'>#</a></div><div class='texpara'><div id='filebuf.virtuals-8.sentence-1' class='sentence'>The function does not put back a character directly to the input sequence<a class='hidden_link' href='#filebuf.virtuals-8.sentence-1'>.</a></div></div></div></div><div class='para' id='filebuf.virtuals-9'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11413'>#</a></div><div class='texpara'><div id='filebuf.virtuals-9.sentence-1' class='sentence'>If the function can succeed in more than one of these ways, it is
unspecified which way is chosen<a class='hidden_link' href='#filebuf.virtuals-9.sentence-1'>.</a></div> <div id='filebuf.virtuals-9.sentence-2' class='sentence'>The function can alter the number of putback positions available as a result of any call<a class='hidden_link' href='#filebuf.virtuals-9.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_filebuf,overflow'><div id='lib:overflow,basic_filebuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:overflow,basic_filebuf'>🔗</a></div><code class='itemdeclcode'>int_type overflow<span class='parenthesis'>(</span>int_type c <span class='operator'>=</span> traits<span class='operator'>::</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='keyword'>override</span>;
</code></div></div></div></div><div class='para' id='filebuf.virtuals-10'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11425'>#</a></div><div class='texpara'><div id='filebuf.virtuals-10.sentence-1' class='sentence'><i >Effects</i>: Behaves according to the description of
<span class='texttt'>basic_<span class='shy'></span>streambuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>overflow<span class='parenthesis'>(</span>c<span class='parenthesis'>)</span></span>,
except that the behavior of “consuming characters” is performed by first
converting as if by:
<span class='codeblock'>charT<span class='operator'>*</span> b <span class='operator'>=</span> pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
charT<span class='operator'>*</span> p <span class='operator'>=</span> pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
charT<span class='operator'>*</span> end;
<span class='keyword'>char</span>   xbuf<span class='squarebracket'>[</span>XSIZE<span class='squarebracket'>]</span>;
<span class='keyword'>char</span><span class='operator'>*</span>  xbuf_end;
codecvt_base<span class='operator'>::</span>result r <span class='operator'>=</span>
  a_codecvt<span class='operator'>.</span>out<span class='parenthesis'>(</span>state, b, p, end, xbuf, xbuf<span class='operator'>+</span>XSIZE, xbuf_end<span class='parenthesis'>)</span>;
</span>
and then
<ul class='itemize'><li id='filebuf.virtuals-10.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#filebuf.virtuals-10.1'>(10.1)</a></div><div class='texpara'><div id='filebuf.virtuals-10.1.sentence-1' class='sentence'>If <span class='texttt'>r <span class='operator'>=</span><span class='operator'>=</span> codecvt_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>error</span> then fail<a class='hidden_link' href='#filebuf.virtuals-10.1.sentence-1'>.</a></div></div></li><li id='filebuf.virtuals-10.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#filebuf.virtuals-10.2'>(10.2)</a></div><div class='texpara'><div id='filebuf.virtuals-10.2.sentence-1' class='sentence'>If <span class='texttt'>r <span class='operator'>=</span><span class='operator'>=</span> codecvt_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>noconv</span> then output characters from
<span class='texttt'>b</span> up to (and not including) <span class='texttt'>p</span><a class='hidden_link' href='#filebuf.virtuals-10.2.sentence-1'>.</a></div></div></li><li id='filebuf.virtuals-10.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#filebuf.virtuals-10.3'>(10.3)</a></div><div class='texpara'><div id='filebuf.virtuals-10.3.sentence-1' class='sentence'>If <span class='texttt'>r <span class='operator'>=</span><span class='operator'>=</span> codecvt_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>partial</span> then output to the file characters from
<span class='texttt'>xbuf</span> up to <span class='texttt'>xbuf_<span class='shy'></span>end</span>, and repeat using characters from
<span class='texttt'>end</span> to <span class='texttt'>p</span><a class='hidden_link' href='#filebuf.virtuals-10.3.sentence-1'>.</a></div> <div id='filebuf.virtuals-10.3.sentence-2' class='sentence'>If output fails, fail (without repeating)<a class='hidden_link' href='#filebuf.virtuals-10.3.sentence-2'>.</a></div></div></li><li id='filebuf.virtuals-10.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#filebuf.virtuals-10.4'>(10.4)</a></div><div class='texpara'><div id='filebuf.virtuals-10.4.sentence-1' class='sentence'>Otherwise output from <span class='texttt'>xbuf</span> to <span class='texttt'>xbuf_<span class='shy'></span>end</span>, and fail if output fails<a class='hidden_link' href='#filebuf.virtuals-10.4.sentence-1'>.</a></div> <div id='filebuf.virtuals-10.4.sentence-2' class='sentence'>At this point if <span class='texttt'>b <span class='operator'>!</span><span class='operator'>=</span> p</span> and <span class='texttt'>b <span class='operator'>=</span><span class='operator'>=</span> end</span> (<span class='texttt'>xbuf</span> isn't large
enough) then increase <span class='texttt'>XSIZE</span> and repeat from the beginning<a class='hidden_link' href='#filebuf.virtuals-10.4.sentence-2'>.</a></div></div></li></ul></div></div></div></div><div class='para' id='filebuf.virtuals-11'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11453'>#</a></div><div class='texpara'><div id='filebuf.virtuals-11.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>not_<span class='shy'></span>eof<span class='parenthesis'>(</span>c<span class='parenthesis'>)</span></span>
to indicate success, and
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
to indicate failure<a class='hidden_link' href='#filebuf.virtuals-11.sentence-1'>.</a></div> <div id='filebuf.virtuals-11.sentence-2' class='sentence'>If
<span class='texttt'>is_<span class='shy'></span>open<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>false</span></span>,
the function always fails<a class='hidden_link' href='#filebuf.virtuals-11.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_filebuf,setbuf'><div id='lib:setbuf,basic_filebuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:setbuf,basic_filebuf'>🔗</a></div><code class='itemdeclcode'>basic_streambuf<span class='operator'>*</span> setbuf<span class='parenthesis'>(</span>char_type<span class='operator'>*</span> s, streamsize n<span class='parenthesis'>)</span> <span class='keyword'>override</span>;
</code></div></div></div></div><div class='para' id='filebuf.virtuals-12'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11470'>#</a></div><div class='texpara'><div id='filebuf.virtuals-12.sentence-1' class='sentence'><i >Effects</i>: If
<span class='texttt'>setbuf<span class='parenthesis'>(</span><span class='literal'>0</span>, <span class='literal'>0</span><span class='parenthesis'>)</span></span>
is called on a stream before any I/O has occurred on that stream, the
stream becomes unbuffered<a class='hidden_link' href='#filebuf.virtuals-12.sentence-1'>.</a></div> <div id='filebuf.virtuals-12.sentence-2' class='sentence'>Otherwise the results are <a class='index' id=':effect_of_calling_basic_filebuf::setbuf_with_nonzero_arguments'></a>implementation-defined<a class='hidden_link' href='#filebuf.virtuals-12.sentence-2'>.</a></div> <div id='filebuf.virtuals-12.sentence-3' class='sentence'>“Unbuffered” means that
<span class='texttt'>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
and
<span class='texttt'>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
always return null
and output to the file should appear as soon as possible<a class='hidden_link' href='#filebuf.virtuals-12.sentence-3'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_filebuf,seekoff'><div id='lib:seekoff,basic_filebuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:seekoff,basic_filebuf'>🔗</a></div><code class='itemdeclcode'>pos_type seekoff<span class='parenthesis'>(</span>off_type off, ios_base<span class='operator'>::</span>seekdir way,
                 ios_base<span class='operator'>::</span>openmode which
                   <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span> <span class='keyword'>override</span>;
</code></div></div></div></div><div class='para' id='filebuf.virtuals-13'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11494'>#</a></div><div class='texpara'><div id='filebuf.virtuals-13.sentence-1' class='sentence'><i >Effects</i>: Let
<span class='texttt'>width</span>
denote
<span class='texttt'>a_<span class='shy'></span>codecvt<span class='operator'>.</span>encoding<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#filebuf.virtuals-13.sentence-1'>.</a></div> <div id='filebuf.virtuals-13.sentence-2' class='sentence'>If
<span class='texttt'>is_<span class='shy'></span>open<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>false</span></span>,
or
<span class='texttt'>off <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>0</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> width <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='literal'>0</span></span>,
then the positioning operation fails<a class='hidden_link' href='#filebuf.virtuals-13.sentence-2'>.</a></div> <div id='filebuf.virtuals-13.sentence-3' class='sentence'>Otherwise, if
<span class='texttt'>way <span class='operator'>!</span><span class='operator'>=</span> basic_<span class='shy'></span>ios<span class='operator'>&#x200b;::&#x200b;</span>cur</span>
or
<span class='texttt'>off <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>0</span></span>,
and if the last operation was output,
then update the output sequence and write any unshift sequence<a class='hidden_link' href='#filebuf.virtuals-13.sentence-3'>.</a></div> <div id='filebuf.virtuals-13.sentence-4' class='sentence'>Next, seek to the new position: if
<span class='texttt'>width <span class='anglebracket'>&gt;</span> <span class='literal'>0</span></span>,
call
<span class='texttt'>fseek<span class='parenthesis'>(</span>file, width <span class='operator'>*</span> off, whence<span class='parenthesis'>)</span></span>,
otherwise call
<span class='texttt'>fseek<span class='parenthesis'>(</span>file, <span class='literal'>0</span>, whence<span class='parenthesis'>)</span></span><a class='hidden_link' href='#filebuf.virtuals-13.sentence-4'>.</a></div></div></div></div><div class='para' id='filebuf.virtuals-14'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11518'>#</a></div><div class='texpara'><div id='filebuf.virtuals-14.sentence-1' class='sentence'><i >Returns</i>: A newly constructed
<span class='texttt'>pos_<span class='shy'></span>type</span>
object that stores the resultant
stream position, if possible<a class='hidden_link' href='#filebuf.virtuals-14.sentence-1'>.</a></div> <div id='filebuf.virtuals-14.sentence-2' class='sentence'>If the positioning operation fails, or
if the object cannot represent the resultant stream position,
returns
<span class='texttt'>pos_<span class='shy'></span>type<span class='parenthesis'>(</span>off_<span class='shy'></span>type<span class='parenthesis'>(</span><span class='operator'>-</span><span class='literal'>1</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#filebuf.virtuals-14.sentence-2'>.</a></div></div></div></div><div class='para' id='filebuf.virtuals-15'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11529'>#</a></div><div class='texpara'><div id='filebuf.virtuals-15.sentence-1' class='sentence'><i >Remarks</i>: “The last operation was output” means either
the last virtual operation was overflow or
the put buffer is non-empty<a class='hidden_link' href='#filebuf.virtuals-15.sentence-1'>.</a></div> <div id='filebuf.virtuals-15.sentence-2' class='sentence'>“Write any unshift sequence” means,
if
<span class='texttt'>width</span>
is less than zero then call
<span class='texttt'>a_<span class='shy'></span>codecvt<span class='operator'>.</span>unshift<span class='parenthesis'>(</span>state, xbuf, xbuf<span class='operator'>+</span>XSIZE, xbuf_<span class='shy'></span>end<span class='parenthesis'>)</span></span>
and output the resulting unshift sequence<a class='hidden_link' href='#filebuf.virtuals-15.sentence-2'>.</a></div> <div id='filebuf.virtuals-15.sentence-3' class='sentence'>The function determines one of three values for the
argument <span class='texttt'>whence</span>, of type
<span class='texttt'><span class='keyword'>int</span></span>,
as indicated in Table <a href='#tab:filebuf.seekoff' title='Table 129: seekoff effects'>129</a><a class='hidden_link' href='#filebuf.virtuals-15.sentence-3'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:filebuf.seekoff'>Table <a href='#tab:filebuf.seekoff'>129</a>: <span class='texttt'>seekoff</span> effects&emsp;<a href='./tab:filebuf.seekoff'>[tab:filebuf.seekoff]</a><br><table ><tr id='tab:filebuf.seekoff-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.seekoff-row-1'>🔗</a></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.seekoff-row-1-column-1-sentence-1' class='sentence'><b><span class='texttt'>way</span> Value</b></div></div></td><td class='center'><div class='texpara'><div id='tab:filebuf.seekoff-row-1-column-2-sentence-1' class='sentence'><b><span class='texttt'>stdio</span> Equivalent</b></div></div></td></tr><tr id='tab:filebuf.seekoff-row-2' class='capsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.seekoff-row-2'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:filebuf.seekoff-row-2-column-1-sentence-1' class='sentence'><span class='texttt'>basic_<span class='shy'></span>ios<span class='operator'>&#x200b;::&#x200b;</span>beg</span></div></div></td><td class='left'><div class='texpara'><div id='tab:filebuf.seekoff-row-2-column-2-sentence-1' class='sentence'><span class='texttt'>SEEK_<span class='shy'></span>SET</span></div></div></td></tr><tr id='tab:filebuf.seekoff-row-3'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.seekoff-row-3'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:filebuf.seekoff-row-3-column-1-sentence-1' class='sentence'><span class='texttt'>basic_<span class='shy'></span>ios<span class='operator'>&#x200b;::&#x200b;</span>cur</span></div></div></td><td class='left'><div class='texpara'><div id='tab:filebuf.seekoff-row-3-column-2-sentence-1' class='sentence'><span class='texttt'>SEEK_<span class='shy'></span>CUR</span></div></div></td></tr><tr id='tab:filebuf.seekoff-row-4'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:filebuf.seekoff-row-4'>🔗</a></div></td><td class='left'><div class='texpara'><div id='tab:filebuf.seekoff-row-4-column-1-sentence-1' class='sentence'><span class='texttt'>basic_<span class='shy'></span>ios<span class='operator'>&#x200b;::&#x200b;</span>end</span></div></div></td><td class='left'><div class='texpara'><div id='tab:filebuf.seekoff-row-4-column-2-sentence-1' class='sentence'><span class='texttt'>SEEK_<span class='shy'></span>END</span></div></div></td></tr></table></div></div></div></div><div class='texpara'><div id='lib:basic_filebuf,seekpos'><div id='lib:seekpos,basic_filebuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:seekpos,basic_filebuf'>🔗</a></div><code class='itemdeclcode'>pos_type seekpos<span class='parenthesis'>(</span>pos_type sp,
                 ios_base<span class='operator'>::</span>openmode which
                   <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span> <span class='keyword'>override</span>;
</code></div></div></div></div><div class='para' id='filebuf.virtuals-16'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11561'>#</a></div><div class='texpara'><div id='filebuf.virtuals-16.sentence-1' class='sentence'>Alters the file position, if possible, to correspond to the position
stored in <span class='texttt'>sp</span> (as described below)<a class='hidden_link' href='#filebuf.virtuals-16.sentence-1'>.</a></div> <div id='filebuf.virtuals-16.sentence-2' class='sentence'>Altering the file position performs as follows:
<table class='enumerate'><tr id='filebuf.virtuals-16.1'><td ><a class='enumerated_item_num' href='#filebuf.virtuals-16.1'>1.</a></td><td >if
<span class='texttt'><span class='parenthesis'>(</span>om <span class='operator'>&amp;</span> ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>out<span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>0</span></span>,
then update the output sequence and
write any unshift sequence;</td></tr><tr id='filebuf.virtuals-16.2'><td ><a class='enumerated_item_num' href='#filebuf.virtuals-16.2'>2.</a></td><td >set the file position to <span class='texttt'>sp</span> as if by a call to <span class='texttt'>fsetpos</span>;</td></tr><tr id='filebuf.virtuals-16.3'><td ><a class='enumerated_item_num' href='#filebuf.virtuals-16.3'>3.</a></td><td >if
<span class='texttt'><span class='parenthesis'>(</span>om <span class='operator'>&amp;</span> ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>in<span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>0</span></span>,
then update the input sequence;</td></tr></table>
where <span class='texttt'>om</span> is the open mode passed to the last call to
<span class='texttt'>open<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#filebuf.virtuals-16.sentence-2'>.</a></div> <div id='filebuf.virtuals-16.sentence-3' class='sentence'>The operation fails if
<span class='texttt'>is_<span class='shy'></span>open<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
returns <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#filebuf.virtuals-16.sentence-3'>.</a></div></div></div></div><div class='para' id='filebuf.virtuals-17'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11584'>#</a></div><div class='texpara'><div id='filebuf.virtuals-17.sentence-1' class='sentence'>If <span class='texttt'>sp</span> is an invalid stream position, or if the function positions
neither sequence, the positioning operation fails<a class='hidden_link' href='#filebuf.virtuals-17.sentence-1'>.</a></div> <div id='filebuf.virtuals-17.sentence-2' class='sentence'>If <span class='texttt'>sp</span> has not been obtained by a previous successful call to one of
the positioning functions
(<span class='texttt'>seekoff</span>
or
<span class='texttt'>seekpos</span>)
on the same file the effects are undefined<a class='hidden_link' href='#filebuf.virtuals-17.sentence-2'>.</a></div></div></div></div><div class='para' id='filebuf.virtuals-18'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11594'>#</a></div><div class='texpara'><div id='filebuf.virtuals-18.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>sp</span>
on success<a class='hidden_link' href='#filebuf.virtuals-18.sentence-1'>.</a></div> <div id='filebuf.virtuals-18.sentence-2' class='sentence'>Otherwise returns
<span class='texttt'>pos_<span class='shy'></span>type<span class='parenthesis'>(</span>off_<span class='shy'></span>type<span class='parenthesis'>(</span><span class='operator'>-</span><span class='literal'>1</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#filebuf.virtuals-18.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_filebuf,sync'><div id='lib:sync,basic_filebuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:sync,basic_filebuf'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>int</span> sync<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>override</span>;
</code></div></div></div></div><div class='para' id='filebuf.virtuals-19'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11608'>#</a></div><div class='texpara'><div id='filebuf.virtuals-19.sentence-1' class='sentence'><i >Effects</i>: If a put area exists, calls
<span class='texttt'>filebuf<span class='operator'>&#x200b;::&#x200b;</span>overflow</span>
to write the characters to the file,
then flushes the file as if by calling <span class='texttt'>fflush<span class='parenthesis'>(</span>file<span class='parenthesis'>)</span></span><a class='hidden_link' href='#filebuf.virtuals-19.sentence-1'>.</a></div> <div id='filebuf.virtuals-19.sentence-2' class='sentence'>If a get area exists, the effect is <a class='index' id=':effect_of_calling_basic_filebuf::sync_when_a_get_area_exists'></a>implementation-defined<a class='hidden_link' href='#filebuf.virtuals-19.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_filebuf,imbue'><div id='lib:imbue,basic_filebuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:imbue,basic_filebuf'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> imbue<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc<span class='parenthesis'>)</span> <span class='keyword'>override</span>;
</code></div></div></div></div><div class='para' id='filebuf.virtuals-20'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11624'>#</a></div><div class='texpara'><div id='filebuf.virtuals-20.sentence-1' class='sentence'><i >Preconditions</i>: If the file is not positioned at its beginning and the encoding of the current
locale as determined by
<span class='texttt'>a_<span class='shy'></span>codecvt<span class='operator'>.</span>encoding<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is state-dependent (<a href='locale.codecvt.virtuals' title='30.4.2.5.3&emsp;Virtual functions'>[locale.<span class='shy'></span>codecvt.<span class='shy'></span>virtuals]</a>)
then that facet is the same as
the corresponding facet of <span class='texttt'>loc</span><a class='hidden_link' href='#filebuf.virtuals-20.sentence-1'>.</a></div></div></div></div><div class='para' id='filebuf.virtuals-21'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11633'>#</a></div><div class='texpara'><div id='filebuf.virtuals-21.sentence-1' class='sentence'><i >Effects</i>: Causes characters inserted or extracted after this call
to be converted according to <span class='texttt'>loc</span> until another call of
<span class='texttt'>imbue</span><a class='hidden_link' href='#filebuf.virtuals-21.sentence-1'>.</a></div></div></div></div><div class='para' id='filebuf.virtuals-22'><div class='marginalizedparent'><a class='marginalized' href='#filebuf.virtuals-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11639'>#</a></div><div class='texpara'><div id='filebuf.virtuals-22.sentence-1' class='sentence'><i >Remarks</i>: This may require reconversion of previously converted characters<a class='hidden_link' href='#filebuf.virtuals-22.sentence-1'>.</a></div> <div id='filebuf.virtuals-22.sentence-2' class='sentence'>This in turn may require the implementation to be able to reconstruct
the original contents of the file<a class='hidden_link' href='#filebuf.virtuals-22.sentence-2'>.</a></div></div></div></div></div></div><div id='ifstream' class='section'><h3 ><a class='secnum' href='#ifstream' style='min-width:80pt'>31.10.4</a> Class template <span class='texttt'>basic_<span class='shy'></span>ifstream</span> <a class='abbr_ref' href='ifstream'>[ifstream]</a></h3><div id='ifstream.general' class='section'><h4 ><a class='secnum' href='#ifstream.general' style='min-width:95pt'>31.10.4.1</a> General <a class='abbr_ref' href='ifstream.general'>[ifstream.general]</a></h4><div class='texpara'><span id='lib:basic_ifstream'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_ifstream'>🔗</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits <span class='operator'>=</span> char_traits<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> basic_ifstream <span class='operator'>:</span> <span class='keyword'>public</span> basic_istream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> char_type   <span class='operator'>=</span> charT;
    <span class='keyword'>using</span> int_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>int_type;
    <span class='keyword'>using</span> pos_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>pos_type;
    <span class='keyword'>using</span> off_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>off_type;
    <span class='keyword'>using</span> traits_type <span class='operator'>=</span> traits;
    <span class='keyword'>using</span> native_handle_type <span class='operator'>=</span> <span class='keyword'>typename</span> basic_filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>::</span>native_handle_type;

    <span class='comment'>// <a href='#ifstream.cons' title='31.10.4.2&emsp;Constructors'>[ifstream.<span class='shy'></span>cons]</a>, constructors</span>
    basic_ifstream<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>explicit</span> basic_ifstream<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> s,
                            ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='parenthesis'>)</span>;
    <span class='keyword'>explicit</span> basic_ifstream<span class='parenthesis'>(</span><span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>::</span>value_type<span class='operator'>*</span> s,
                            ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='parenthesis'>)</span>;<span class='comment'>// wide systems only; see <a href='#fstream.syn' title='31.10.1&emsp;Header &lt;fstream&gt; synopsis'>[fstream.<span class='shy'></span>syn]</a></span>
    <span class='keyword'>explicit</span> basic_ifstream<span class='parenthesis'>(</span><span class='keyword'>const</span> string<span class='operator'>&amp;</span> s,
                            ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
      <span class='keyword'>explicit</span> basic_ifstream<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span> s, ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='parenthesis'>)</span>;
    basic_ifstream<span class='parenthesis'>(</span><span class='keyword'>const</span> basic_ifstream<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    basic_ifstream<span class='parenthesis'>(</span>basic_ifstream<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;

    basic_ifstream<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> basic_ifstream<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    basic_ifstream<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>basic_ifstream<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#ifstream.swap' title='31.10.4.3&emsp;Swap'>[ifstream.<span class='shy'></span>swap]</a>, swap</span>
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_ifstream<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#ifstream.members' title='31.10.4.4&emsp;Member functions'>[ifstream.<span class='shy'></span>members]</a>, members</span>
    basic_filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span> rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
    native_handle_type native_handle<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    <span class='keyword'>bool</span> is_open<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
    <span class='keyword'>void</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> s, ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>::</span>value_type<span class='operator'>*</span> s,
              ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='parenthesis'>)</span>;  <span class='comment'>// wide systems only; see <a href='#fstream.syn' title='31.10.1&emsp;Header &lt;fstream&gt; synopsis'>[fstream.<span class='shy'></span>syn]</a></span>
    <span class='keyword'>void</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> string<span class='operator'>&amp;</span> s, ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>&amp;</span> s, ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> close<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

  <span class='keyword'>private</span><span class='operator'>:</span>
    basic_filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span> sb;    <span class='comment'>// <i >exposition only</i></span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></div><div class='para' id='ifstream.general-1'><div class='marginalizedparent'><a class='marginalized' href='#ifstream.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11700'>#</a></div><div class='texpara'><div id='ifstream.general-1.sentence-1' class='sentence'>The class
<span class='texttt'>basic_<span class='shy'></span>ifstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span></span>
supports reading from named files<a class='hidden_link' href='#ifstream.general-1.sentence-1'>.</a></div> <div id='ifstream.general-1.sentence-2' class='sentence'>It uses a
<span class='texttt'>basic_<span class='shy'></span>filebuf<span class='anglebracket'>&lt;</span>&#x200b;charT, traits<span class='anglebracket'>&gt;</span></span>
object to control the associated
sequence<a class='hidden_link' href='#ifstream.general-1.sentence-2'>.</a></div> <div id='ifstream.general-1.sentence-3' class='sentence'>For the sake of exposition, the maintained data is presented here as:
<ul class='itemize'><li id='ifstream.general-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#ifstream.general-1.1'>(1.1)</a></div><span class='texttt'>sb</span>, the <span class='texttt'>filebuf</span> object<a class='hidden_link' href='#ifstream.general-1.sentence-3'>.</a></li></ul></div></div></div></div><div id='ifstream.cons' class='section'><h4 ><a class='secnum' href='#ifstream.cons' style='min-width:95pt'>31.10.4.2</a> Constructors <a class='abbr_ref' href='ifstream.cons'>[ifstream.cons]</a></h4><div class='texpara'><div id='lib:basic_ifstream,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_ifstream,constructor'>🔗</a></div><code class='itemdeclcode'>basic_ifstream<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ifstream.cons-1'><div class='marginalizedparent'><a class='marginalized' href='#ifstream.cons-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11722'>#</a></div><div class='texpara'><div id='ifstream.cons-1.sentence-1' class='sentence'><i >Effects</i>: Initializes the base class with
<span class='texttt'>basic_<span class='shy'></span>istream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> (<a href='istream.cons' title='31.7.5.2.2&emsp;Constructors'>[istream.<span class='shy'></span>cons]</a>)
and <span class='texttt'>sb</span> with
<span class='texttt'>basic_<span class='shy'></span>filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> (<a href='#filebuf.cons' title='31.10.3.2&emsp;Constructors'>[filebuf.<span class='shy'></span>cons]</a>)<a class='hidden_link' href='#ifstream.cons-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ifstream,constructor_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_ifstream,constructor_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> basic_ifstream<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> s,
                        ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='parenthesis'>)</span>;
<span class='keyword'>explicit</span> basic_ifstream<span class='parenthesis'>(</span><span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>::</span>value_type<span class='operator'>*</span> s,
                        ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='parenthesis'>)</span>;  <span class='comment'>// wide systems only; see <a href='#fstream.syn' title='31.10.1&emsp;Header &lt;fstream&gt; synopsis'>[fstream.<span class='shy'></span>syn]</a></span>
</code></div></div></div><div class='para' id='ifstream.cons-2'><div class='marginalizedparent'><a class='marginalized' href='#ifstream.cons-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11739'>#</a></div><div class='texpara'><div id='ifstream.cons-2.sentence-1' class='sentence'><i >Effects</i>: Initializes the base class with
<span class='texttt'>basic_<span class='shy'></span>istream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> (<a href='istream.cons' title='31.7.5.2.2&emsp;Constructors'>[istream.<span class='shy'></span>cons]</a>)
and <span class='texttt'>sb</span> with
<span class='texttt'>basic_<span class='shy'></span>filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> (<a href='#filebuf.cons' title='31.10.3.2&emsp;Constructors'>[filebuf.<span class='shy'></span>cons]</a>),
then calls
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>open<span class='parenthesis'>(</span>s, mode <span class='operator'>|</span> ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>in<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ifstream.cons-2.sentence-1'>.</a></div> <div id='ifstream.cons-2.sentence-2' class='sentence'>If that function returns a null pointer, calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>failbit<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ifstream.cons-2.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ifstream,constructor__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_ifstream,constructor__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> basic_ifstream<span class='parenthesis'>(</span><span class='keyword'>const</span> string<span class='operator'>&amp;</span> s,
                        ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ifstream.cons-3'><div class='marginalizedparent'><a class='marginalized' href='#ifstream.cons-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11758'>#</a></div><div class='texpara'><div id='ifstream.cons-3.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>basic_<span class='shy'></span>ifstream<span class='parenthesis'>(</span>s<span class='operator'>.</span>c_<span class='shy'></span>str<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, mode<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ifstream.cons-3.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ifstream,constructor___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_ifstream,constructor___'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>explicit</span> basic_ifstream<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span> s, ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ifstream.cons-4'><div class='marginalizedparent'><a class='marginalized' href='#ifstream.cons-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11770'>#</a></div><div class='texpara'><div id='ifstream.cons-4.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>same_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T, filesystem<span class='operator'>&#x200b;::&#x200b;</span>path<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ifstream.cons-4.sentence-1'>.</a></div></div></div></div><div class='para' id='ifstream.cons-5'><div class='marginalizedparent'><a class='marginalized' href='#ifstream.cons-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11774'>#</a></div><div class='texpara'><div id='ifstream.cons-5.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>basic_<span class='shy'></span>ifstream<span class='parenthesis'>(</span>s<span class='operator'>.</span>c_<span class='shy'></span>str<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, mode<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ifstream.cons-5.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ifstream,constructor____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_ifstream,constructor____'>🔗</a></div><code class='itemdeclcode'>basic_ifstream<span class='parenthesis'>(</span>basic_ifstream<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ifstream.cons-6'><div class='marginalizedparent'><a class='marginalized' href='#ifstream.cons-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11785'>#</a></div><div class='texpara'><div id='ifstream.cons-6.sentence-1' class='sentence'><i >Effects</i>: Move constructs the base class, and the contained <span class='texttt'>basic_<span class='shy'></span>filebuf</span><a class='hidden_link' href='#ifstream.cons-6.sentence-1'>.</a></div> <div id='ifstream.cons-6.sentence-2' class='sentence'>Then calls <span class='texttt'>basic_<span class='shy'></span>istream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>set_<span class='shy'></span>rdbuf<span class='parenthesis'>(</span>&#x200b;addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
to install the contained <span class='texttt'>basic_<span class='shy'></span>filebuf</span><a class='hidden_link' href='#ifstream.cons-6.sentence-2'>.</a></div></div></div></div></div><div id='ifstream.swap' class='section'><h4 ><a class='secnum' href='#ifstream.swap' style='min-width:95pt'>31.10.4.3</a> Swap <a class='abbr_ref' href='ifstream.swap'>[ifstream.swap]</a></h4><div class='texpara'><div id='lib:basic_ifstream,swap'><div id='lib:swap,basic_ifstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,basic_ifstream'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_ifstream<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='ifstream.swap-1'><div class='marginalizedparent'><a class='marginalized' href='#ifstream.swap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11800'>#</a></div><div class='texpara'><div id='ifstream.swap-1.sentence-1' class='sentence'><i >Effects</i>: Exchanges the state of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>
and <span class='texttt'>rhs</span> by calling
<span class='texttt'>basic_<span class='shy'></span>istream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>swap<span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span></span> and
<span class='texttt'>sb<span class='operator'>.</span>swap<span class='parenthesis'>(</span>rhs<span class='operator'>.</span>sb<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ifstream.swap-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ifstream,swap_'><div id='lib:swap,basic_ifstream_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,basic_ifstream_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_ifstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, basic_ifstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='ifstream.swap-2'><div class='marginalizedparent'><a class='marginalized' href='#ifstream.swap-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11815'>#</a></div><div class='texpara'><div id='ifstream.swap-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>x<span class='operator'>.</span>swap<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ifstream.swap-2.sentence-1'>.</a></div></div></div></div></div><div id='ifstream.members' class='section'><h4 ><a class='secnum' href='#ifstream.members' style='min-width:95pt'>31.10.4.4</a> Member functions <a class='abbr_ref' href='ifstream.members'>[ifstream.members]</a></h4><div class='texpara'><div id='lib:basic_ifstream,rdbuf'><div id='lib:rdbuf,basic_ifstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:rdbuf,basic_ifstream'>🔗</a></div><code class='itemdeclcode'>basic_filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span> rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div><div class='para' id='ifstream.members-1'><div class='marginalizedparent'><a class='marginalized' href='#ifstream.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11828'>#</a></div><div class='texpara'><div id='ifstream.members-1.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span>basic_<span class='shy'></span>filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ifstream.members-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ifstream,native_handle'><div id='lib:native_handle,basic_ifstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:native_handle,basic_ifstream'>🔗</a></div><code class='itemdeclcode'>native_handle_type native_handle<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='ifstream.members-2'><div class='marginalizedparent'><a class='marginalized' href='#ifstream.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11839'>#</a></div><div class='texpara'><div id='ifstream.members-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>native_<span class='shy'></span>handle<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:basic_ifstream,is_open'><div id='lib:is_open,basic_ifstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:is_open,basic_ifstream'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>bool</span> is_open<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div><div class='para' id='ifstream.members-3'><div class='marginalizedparent'><a class='marginalized' href='#ifstream.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11850'>#</a></div><div class='texpara'><div id='ifstream.members-3.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>is_<span class='shy'></span>open<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ifstream.members-3.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ifstream,open'><div id='lib:open,basic_ifstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:open,basic_ifstream'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> s, ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='parenthesis'>)</span>;
<span class='keyword'>void</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>::</span>value_type<span class='operator'>*</span> s,
          ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='parenthesis'>)</span>;  <span class='comment'>// wide systems only; see <a href='#fstream.syn' title='31.10.1&emsp;Header &lt;fstream&gt; synopsis'>[fstream.<span class='shy'></span>syn]</a></span>
</code></div></div></div></div><div class='para' id='ifstream.members-4'><div class='marginalizedparent'><a class='marginalized' href='#ifstream.members-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11863'>#</a></div><div class='texpara'><div id='ifstream.members-4.sentence-1' class='sentence'><i >Effects</i>: Calls
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>open<span class='parenthesis'>(</span>s, mode <span class='operator'>|</span> ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>in<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ifstream.members-4.sentence-1'>.</a></div> <div id='ifstream.members-4.sentence-2' class='sentence'>If that function does not return a null pointer
calls <span class='texttt'>clear<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
otherwise calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>failbit<span class='parenthesis'>)</span></span>
(which may throw
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failure</span>) (<a href='iostate.flags' title='31.5.4.4&emsp;Flags functions'>[iostate.<span class='shy'></span>flags]</a>)<a class='hidden_link' href='#ifstream.members-4.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ifstream,open_'><div id='lib:open,basic_ifstream_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:open,basic_ifstream_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> string<span class='operator'>&amp;</span> s, ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='parenthesis'>)</span>;
<span class='keyword'>void</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>&amp;</span> s, ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='ifstream.members-5'><div class='marginalizedparent'><a class='marginalized' href='#ifstream.members-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11882'>#</a></div><div class='texpara'><div id='ifstream.members-5.sentence-1' class='sentence'><i >Effects</i>: Calls <span class='texttt'>open<span class='parenthesis'>(</span>s<span class='operator'>.</span>c_<span class='shy'></span>str<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, mode<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ifstream.members-5.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ifstream,close'><div id='lib:close,basic_ifstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:close,basic_ifstream'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> close<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='ifstream.members-6'><div class='marginalizedparent'><a class='marginalized' href='#ifstream.members-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11893'>#</a></div><div class='texpara'><div id='ifstream.members-6.sentence-1' class='sentence'><i >Effects</i>: Calls
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>close<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
and, if that function returns
a null pointer,
calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>failbit<span class='parenthesis'>)</span></span>
(which may throw
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failure</span>) (<a href='iostate.flags' title='31.5.4.4&emsp;Flags functions'>[iostate.<span class='shy'></span>flags]</a>)<a class='hidden_link' href='#ifstream.members-6.sentence-1'>.</a></div></div></div></div></div></div><div id='ofstream' class='section'><h3 ><a class='secnum' href='#ofstream' style='min-width:80pt'>31.10.5</a> Class template <span class='texttt'>basic_<span class='shy'></span>ofstream</span> <a class='abbr_ref' href='ofstream'>[ofstream]</a></h3><div id='ofstream.general' class='section'><h4 ><a class='secnum' href='#ofstream.general' style='min-width:95pt'>31.10.5.1</a> General <a class='abbr_ref' href='ofstream.general'>[ofstream.general]</a></h4><div class='texpara'><span id='lib:basic_ofstream'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_ofstream'>🔗</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits <span class='operator'>=</span> char_traits<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> basic_ofstream <span class='operator'>:</span> <span class='keyword'>public</span> basic_ostream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> char_type   <span class='operator'>=</span> charT;
    <span class='keyword'>using</span> int_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>int_type;
    <span class='keyword'>using</span> pos_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>pos_type;
    <span class='keyword'>using</span> off_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>off_type;
    <span class='keyword'>using</span> traits_type <span class='operator'>=</span> traits;
    <span class='keyword'>using</span> native_handle_type <span class='operator'>=</span> <span class='keyword'>typename</span> basic_filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>::</span>native_handle_type;

    <span class='comment'>// <a href='#ofstream.cons' title='31.10.5.2&emsp;Constructors'>[ofstream.<span class='shy'></span>cons]</a>, constructors</span>
    basic_ofstream<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>explicit</span> basic_ofstream<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> s,
                            ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
    <span class='keyword'>explicit</span> basic_ofstream<span class='parenthesis'>(</span><span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>::</span>value_type<span class='operator'>*</span> s,  <span class='comment'>// wide systems only; see <a href='#fstream.syn' title='31.10.1&emsp;Header &lt;fstream&gt; synopsis'>[fstream.<span class='shy'></span>syn]</a></span>
                            ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
    <span class='keyword'>explicit</span> basic_ofstream<span class='parenthesis'>(</span><span class='keyword'>const</span> string<span class='operator'>&amp;</span> s,
                            ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
      <span class='keyword'>explicit</span> basic_ofstream<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span> s, ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
    basic_ofstream<span class='parenthesis'>(</span><span class='keyword'>const</span> basic_ofstream<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    basic_ofstream<span class='parenthesis'>(</span>basic_ofstream<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;

    basic_ofstream<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> basic_ofstream<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    basic_ofstream<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>basic_ofstream<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#ofstream.swap' title='31.10.5.3&emsp;Swap'>[ofstream.<span class='shy'></span>swap]</a>, swap</span>
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_ofstream<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#ofstream.members' title='31.10.5.4&emsp;Member functions'>[ofstream.<span class='shy'></span>members]</a>, members</span>
    basic_filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span> rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
    native_handle_type native_handle<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    <span class='keyword'>bool</span> is_open<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
    <span class='keyword'>void</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> s, ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>::</span>value_type<span class='operator'>*</span> s,
              ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;     <span class='comment'>// wide systems only; see <a href='#fstream.syn' title='31.10.1&emsp;Header &lt;fstream&gt; synopsis'>[fstream.<span class='shy'></span>syn]</a></span>
    <span class='keyword'>void</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> string<span class='operator'>&amp;</span> s, ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>&amp;</span> s, ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> close<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

  <span class='keyword'>private</span><span class='operator'>:</span>
    basic_filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span> sb;    <span class='comment'>// <i >exposition only</i></span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></div><div class='para' id='ofstream.general-1'><div class='marginalizedparent'><a class='marginalized' href='#ofstream.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11959'>#</a></div><div class='texpara'><div id='ofstream.general-1.sentence-1' class='sentence'>The class
<span class='texttt'>basic_<span class='shy'></span>ofstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span></span>
supports writing to named files<a class='hidden_link' href='#ofstream.general-1.sentence-1'>.</a></div> <div id='ofstream.general-1.sentence-2' class='sentence'>It uses a
<span class='texttt'>basic_<span class='shy'></span>filebuf<span class='anglebracket'>&lt;</span>&#x200b;charT, traits<span class='anglebracket'>&gt;</span></span>
object to control the associated
sequence<a class='hidden_link' href='#ofstream.general-1.sentence-2'>.</a></div> <div id='ofstream.general-1.sentence-3' class='sentence'>For the sake of exposition, the maintained data is presented here as:
<ul class='itemize'><li id='ofstream.general-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#ofstream.general-1.1'>(1.1)</a></div><span class='texttt'>sb</span>, the <span class='texttt'>filebuf</span> object<a class='hidden_link' href='#ofstream.general-1.sentence-3'>.</a></li></ul></div></div></div></div><div id='ofstream.cons' class='section'><h4 ><a class='secnum' href='#ofstream.cons' style='min-width:95pt'>31.10.5.2</a> Constructors <a class='abbr_ref' href='ofstream.cons'>[ofstream.cons]</a></h4><div class='texpara'><div id='lib:basic_ofstream,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_ofstream,constructor'>🔗</a></div><code class='itemdeclcode'>basic_ofstream<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ofstream.cons-1'><div class='marginalizedparent'><a class='marginalized' href='#ofstream.cons-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11981'>#</a></div><div class='texpara'><div id='ofstream.cons-1.sentence-1' class='sentence'><i >Effects</i>: Initializes the base class with
<span class='texttt'>basic_<span class='shy'></span>ostream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> (<a href='ostream.cons' title='31.7.6.2.2&emsp;Constructors'>[ostream.<span class='shy'></span>cons]</a>)
and <span class='texttt'>sb</span> with
<span class='texttt'>basic_<span class='shy'></span>filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> (<a href='#filebuf.cons' title='31.10.3.2&emsp;Constructors'>[filebuf.<span class='shy'></span>cons]</a>)<a class='hidden_link' href='#ofstream.cons-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ofstream,constructor_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_ofstream,constructor_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> basic_ofstream<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> s,
                        ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
<span class='keyword'>explicit</span> basic_ofstream<span class='parenthesis'>(</span><span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>::</span>value_type<span class='operator'>*</span> s,
                        ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>; <span class='comment'>// wide systems only; see <a href='#fstream.syn' title='31.10.1&emsp;Header &lt;fstream&gt; synopsis'>[fstream.<span class='shy'></span>syn]</a></span>
</code></div></div></div><div class='para' id='ofstream.cons-2'><div class='marginalizedparent'><a class='marginalized' href='#ofstream.cons-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L11998'>#</a></div><div class='texpara'><div id='ofstream.cons-2.sentence-1' class='sentence'><i >Effects</i>: Initializes the base class with
<span class='texttt'>basic_<span class='shy'></span>ostream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> (<a href='ostream.cons' title='31.7.6.2.2&emsp;Constructors'>[ostream.<span class='shy'></span>cons]</a>)
and <span class='texttt'>sb</span> with
<span class='texttt'>basic_<span class='shy'></span>filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> (<a href='#filebuf.cons' title='31.10.3.2&emsp;Constructors'>[filebuf.<span class='shy'></span>cons]</a>),
then calls
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>open<span class='parenthesis'>(</span>s, mode <span class='operator'>|</span> ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>out<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ofstream.cons-2.sentence-1'>.</a></div> <div id='ofstream.cons-2.sentence-2' class='sentence'>If that function returns a null pointer, calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>&#x200b;failbit<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ofstream.cons-2.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ofstream,constructor__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_ofstream,constructor__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> basic_ofstream<span class='parenthesis'>(</span><span class='keyword'>const</span> string<span class='operator'>&amp;</span> s,
                        ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ofstream.cons-3'><div class='marginalizedparent'><a class='marginalized' href='#ofstream.cons-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12017'>#</a></div><div class='texpara'><div id='ofstream.cons-3.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>basic_<span class='shy'></span>ofstream<span class='parenthesis'>(</span>s<span class='operator'>.</span>c_<span class='shy'></span>str<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, mode<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ofstream.cons-3.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ofstream,constructor___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_ofstream,constructor___'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>explicit</span> basic_ofstream<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span> s, ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ofstream.cons-4'><div class='marginalizedparent'><a class='marginalized' href='#ofstream.cons-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12029'>#</a></div><div class='texpara'><div id='ofstream.cons-4.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>same_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T, filesystem<span class='operator'>&#x200b;::&#x200b;</span>path<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ofstream.cons-4.sentence-1'>.</a></div></div></div></div><div class='para' id='ofstream.cons-5'><div class='marginalizedparent'><a class='marginalized' href='#ofstream.cons-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12033'>#</a></div><div class='texpara'><div id='ofstream.cons-5.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>basic_<span class='shy'></span>ofstream<span class='parenthesis'>(</span>s<span class='operator'>.</span>c_<span class='shy'></span>str<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, mode<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ofstream.cons-5.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ofstream,constructor____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_ofstream,constructor____'>🔗</a></div><code class='itemdeclcode'>basic_ofstream<span class='parenthesis'>(</span>basic_ofstream<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ofstream.cons-6'><div class='marginalizedparent'><a class='marginalized' href='#ofstream.cons-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12044'>#</a></div><div class='texpara'><div id='ofstream.cons-6.sentence-1' class='sentence'><i >Effects</i>: Move constructs the base class, and the contained <span class='texttt'>basic_<span class='shy'></span>filebuf</span><a class='hidden_link' href='#ofstream.cons-6.sentence-1'>.</a></div> <div id='ofstream.cons-6.sentence-2' class='sentence'>Then calls <span class='texttt'>basic_<span class='shy'></span>ostream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>set_<span class='shy'></span>rdbuf<span class='parenthesis'>(</span>&#x200b;addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
to install the contained <span class='texttt'>basic_<span class='shy'></span>filebuf</span><a class='hidden_link' href='#ofstream.cons-6.sentence-2'>.</a></div></div></div></div></div><div id='ofstream.swap' class='section'><h4 ><a class='secnum' href='#ofstream.swap' style='min-width:95pt'>31.10.5.3</a> Swap <a class='abbr_ref' href='ofstream.swap'>[ofstream.swap]</a></h4><div class='texpara'><div id='lib:basic_ofstream,swap'><div id='lib:swap,basic_ofstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,basic_ofstream'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_ofstream<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='ofstream.swap-1'><div class='marginalizedparent'><a class='marginalized' href='#ofstream.swap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12059'>#</a></div><div class='texpara'><div id='ofstream.swap-1.sentence-1' class='sentence'><i >Effects</i>: Exchanges the state of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>
and <span class='texttt'>rhs</span> by calling
<span class='texttt'>basic_<span class='shy'></span>ostream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>swap<span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span></span> and
<span class='texttt'>sb<span class='operator'>.</span>swap<span class='parenthesis'>(</span>rhs<span class='operator'>.</span>sb<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ofstream.swap-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ofstream,swap_'><div id='lib:swap,basic_ofstream_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,basic_ofstream_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_ofstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, basic_ofstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='ofstream.swap-2'><div class='marginalizedparent'><a class='marginalized' href='#ofstream.swap-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12074'>#</a></div><div class='texpara'><div id='ofstream.swap-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>x<span class='operator'>.</span>swap<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ofstream.swap-2.sentence-1'>.</a></div></div></div></div></div><div id='ofstream.members' class='section'><h4 ><a class='secnum' href='#ofstream.members' style='min-width:95pt'>31.10.5.4</a> Member functions <a class='abbr_ref' href='ofstream.members'>[ofstream.members]</a></h4><div class='texpara'><div id='lib:basic_ofstream,rdbuf'><div id='lib:rdbuf,basic_ofstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:rdbuf,basic_ofstream'>🔗</a></div><code class='itemdeclcode'>basic_filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span> rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div><div class='para' id='ofstream.members-1'><div class='marginalizedparent'><a class='marginalized' href='#ofstream.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12087'>#</a></div><div class='texpara'><div id='ofstream.members-1.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span>basic_<span class='shy'></span>filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ofstream.members-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ofstream,native_handle'><div id='lib:native_handle,basic_ofstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:native_handle,basic_ofstream'>🔗</a></div><code class='itemdeclcode'>native_handle_type native_handle<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='ofstream.members-2'><div class='marginalizedparent'><a class='marginalized' href='#ofstream.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12098'>#</a></div><div class='texpara'><div id='ofstream.members-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>native_<span class='shy'></span>handle<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:basic_ofstream,is_open'><div id='lib:is_open,basic_ofstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:is_open,basic_ofstream'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>bool</span> is_open<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div><div class='para' id='ofstream.members-3'><div class='marginalizedparent'><a class='marginalized' href='#ofstream.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12109'>#</a></div><div class='texpara'><div id='ofstream.members-3.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>is_<span class='shy'></span>open<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ofstream.members-3.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ofstream,open'><div id='lib:open,basic_ofstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:open,basic_ofstream'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> s, ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
<span class='keyword'>void</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>::</span>value_type<span class='operator'>*</span> s,
          ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;             <span class='comment'>// wide systems only; see <a href='#fstream.syn' title='31.10.1&emsp;Header &lt;fstream&gt; synopsis'>[fstream.<span class='shy'></span>syn]</a></span>
</code></div></div></div></div><div class='para' id='ofstream.members-4'><div class='marginalizedparent'><a class='marginalized' href='#ofstream.members-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12122'>#</a></div><div class='texpara'><div id='ofstream.members-4.sentence-1' class='sentence'><i >Effects</i>: Calls
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>open<span class='parenthesis'>(</span>s, mode <span class='operator'>|</span> ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>out<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ofstream.members-4.sentence-1'>.</a></div> <div id='ofstream.members-4.sentence-2' class='sentence'>If that function does not return a null pointer
calls <span class='texttt'>clear<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
otherwise calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>&#x200b;failbit<span class='parenthesis'>)</span></span>
(which may throw
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failure</span>) (<a href='iostate.flags' title='31.5.4.4&emsp;Flags functions'>[iostate.<span class='shy'></span>flags]</a>)<a class='hidden_link' href='#ofstream.members-4.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ofstream,close'><div id='lib:close,basic_ofstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:close,basic_ofstream'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> close<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='ofstream.members-5'><div class='marginalizedparent'><a class='marginalized' href='#ofstream.members-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12140'>#</a></div><div class='texpara'><div id='ofstream.members-5.sentence-1' class='sentence'><i >Effects</i>: Calls
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>close<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
and, if that function fails (returns a null pointer), calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>&#x200b;failbit<span class='parenthesis'>)</span></span>
(which may throw
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failure</span>) (<a href='iostate.flags' title='31.5.4.4&emsp;Flags functions'>[iostate.<span class='shy'></span>flags]</a>)<a class='hidden_link' href='#ofstream.members-5.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ofstream,open_'><div id='lib:open,basic_ofstream_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:open,basic_ofstream_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> string<span class='operator'>&amp;</span> s, ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
<span class='keyword'>void</span> open<span class='parenthesis'>(</span><span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>&amp;</span> s, ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='ofstream.members-6'><div class='marginalizedparent'><a class='marginalized' href='#ofstream.members-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12157'>#</a></div><div class='texpara'><div id='ofstream.members-6.sentence-1' class='sentence'><i >Effects</i>: Calls <span class='texttt'>open<span class='parenthesis'>(</span>s<span class='operator'>.</span>c_<span class='shy'></span>str<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, mode<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ofstream.members-6.sentence-1'>.</a></div></div></div></div></div></div><div id='fstream' class='section'><h3 ><a class='secnum' href='#fstream' style='min-width:80pt'>31.10.6</a> Class template <span class='texttt'>basic_<span class='shy'></span>fstream</span> <a class='abbr_ref' href='fstream'>[fstream]</a></h3><div id='fstream.general' class='section'><h4 ><a class='secnum' href='#fstream.general' style='min-width:95pt'>31.10.6.1</a> General <a class='abbr_ref' href='fstream.general'>[fstream.general]</a></h4><div class='texpara'><span id='lib:basic_fstream'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_fstream'>🔗</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits <span class='operator'>=</span> char_traits<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> basic_fstream <span class='operator'>:</span> <span class='keyword'>public</span> basic_iostream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> char_type   <span class='operator'>=</span> charT;
    <span class='keyword'>using</span> int_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>int_type;
    <span class='keyword'>using</span> pos_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>pos_type;
    <span class='keyword'>using</span> off_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>off_type;
    <span class='keyword'>using</span> traits_type <span class='operator'>=</span> traits;
    <span class='keyword'>using</span> native_handle_type <span class='operator'>=</span> <span class='keyword'>typename</span> basic_filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>::</span>native_handle_type;

    <span class='comment'>// <a href='#fstream.cons' title='31.10.6.2&emsp;Constructors'>[fstream.<span class='shy'></span>cons]</a>, constructors</span>
    basic_fstream<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>explicit</span> basic_fstream<span class='parenthesis'>(</span>
      <span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> s,
      ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
    <span class='keyword'>explicit</span> basic_fstream<span class='parenthesis'>(</span>
      <span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>::</span>value_type<span class='operator'>*</span> s,
      ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='operator'>|</span>ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;    <span class='comment'>// wide systems only; see <a href='#fstream.syn' title='31.10.1&emsp;Header &lt;fstream&gt; synopsis'>[fstream.<span class='shy'></span>syn]</a></span>
    <span class='keyword'>explicit</span> basic_fstream<span class='parenthesis'>(</span>
      <span class='keyword'>const</span> string<span class='operator'>&amp;</span> s,
      ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
      <span class='keyword'>explicit</span> basic_fstream<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span> s, ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
    basic_fstream<span class='parenthesis'>(</span><span class='keyword'>const</span> basic_fstream<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    basic_fstream<span class='parenthesis'>(</span>basic_fstream<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;

    basic_fstream<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> basic_fstream<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    basic_fstream<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>basic_fstream<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#fstream.swap' title='31.10.6.3&emsp;Swap'>[fstream.<span class='shy'></span>swap]</a>, swap</span>
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_fstream<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#fstream.members' title='31.10.6.4&emsp;Member functions'>[fstream.<span class='shy'></span>members]</a>, members</span>
    basic_filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span> rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
    native_handle_type native_handle<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    <span class='keyword'>bool</span> is_open<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
    <span class='keyword'>void</span> open<span class='parenthesis'>(</span>
      <span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> s,
      ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> open<span class='parenthesis'>(</span>
      <span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>::</span>value_type<span class='operator'>*</span> s,
      ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='operator'>|</span>ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;    <span class='comment'>// wide systems only; see <a href='#fstream.syn' title='31.10.1&emsp;Header &lt;fstream&gt; synopsis'>[fstream.<span class='shy'></span>syn]</a></span>
    <span class='keyword'>void</span> open<span class='parenthesis'>(</span>
      <span class='keyword'>const</span> string<span class='operator'>&amp;</span> s,
      ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> open<span class='parenthesis'>(</span>
      <span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>&amp;</span> s,
      ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> close<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

  <span class='keyword'>private</span><span class='operator'>:</span>
    basic_filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span> sb;    <span class='comment'>// <i >exposition only</i></span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span></span></div><div class='para' id='fstream.general-1'><div class='marginalizedparent'><a class='marginalized' href='#fstream.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12226'>#</a></div><div class='texpara'><div id='fstream.general-1.sentence-1' class='sentence'>The
class template
<span class='texttt'>basic_<span class='shy'></span>fstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span></span>
supports reading and writing from named files<a class='hidden_link' href='#fstream.general-1.sentence-1'>.</a></div> <div id='fstream.general-1.sentence-2' class='sentence'>It uses a
<span class='texttt'>basic_<span class='shy'></span>filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span></span>
object to control the associated sequences<a class='hidden_link' href='#fstream.general-1.sentence-2'>.</a></div> <div id='fstream.general-1.sentence-3' class='sentence'>For the sake of exposition, the maintained data is presented here as:
<ul class='itemize'><li id='fstream.general-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#fstream.general-1.1'>(1.1)</a></div><span class='texttt'>sb</span>, the <span class='texttt'>basic_<span class='shy'></span>filebuf</span> object<a class='hidden_link' href='#fstream.general-1.sentence-3'>.</a></li></ul></div></div></div></div><div id='fstream.cons' class='section'><h4 ><a class='secnum' href='#fstream.cons' style='min-width:95pt'>31.10.6.2</a> Constructors <a class='abbr_ref' href='fstream.cons'>[fstream.cons]</a></h4><div class='texpara'><div id='lib:basic_fstream,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_fstream,constructor'>🔗</a></div><code class='itemdeclcode'>basic_fstream<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='fstream.cons-1'><div class='marginalizedparent'><a class='marginalized' href='#fstream.cons-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12248'>#</a></div><div class='texpara'><div id='fstream.cons-1.sentence-1' class='sentence'><i >Effects</i>: Initializes the base class with
<span class='texttt'>basic_<span class='shy'></span>iostream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> (<a href='iostream.cons' title='31.7.5.7.2&emsp;Constructors'>[iostream.<span class='shy'></span>cons]</a>)
and
<span class='texttt'>sb</span> with <span class='texttt'>basic_<span class='shy'></span>filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#fstream.cons-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_fstream,constructor_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_fstream,constructor_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> basic_fstream<span class='parenthesis'>(</span>
  <span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> s,
  ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
<span class='keyword'>explicit</span> basic_fstream<span class='parenthesis'>(</span>
  <span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>::</span>value_type<span class='operator'>*</span> s,
  ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;  <span class='comment'>// wide systems only; see <a href='#fstream.syn' title='31.10.1&emsp;Header &lt;fstream&gt; synopsis'>[fstream.<span class='shy'></span>syn]</a></span>
</code></div></div></div><div class='para' id='fstream.cons-2'><div class='marginalizedparent'><a class='marginalized' href='#fstream.cons-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12267'>#</a></div><div class='texpara'><div id='fstream.cons-2.sentence-1' class='sentence'><i >Effects</i>: Initializes the base class with
<span class='texttt'>basic_<span class='shy'></span>iostream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> (<a href='iostream.cons' title='31.7.5.7.2&emsp;Constructors'>[iostream.<span class='shy'></span>cons]</a>)
and
<span class='texttt'>sb</span> with <span class='texttt'>basic_<span class='shy'></span>filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#fstream.cons-2.sentence-1'>.</a></div> <div id='fstream.cons-2.sentence-2' class='sentence'>Then calls
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>open<span class='parenthesis'>(</span>s, mode<span class='parenthesis'>)</span></span><a class='hidden_link' href='#fstream.cons-2.sentence-2'>.</a></div> <div id='fstream.cons-2.sentence-3' class='sentence'>If that function returns a null pointer, calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>failbit<span class='parenthesis'>)</span></span><a class='hidden_link' href='#fstream.cons-2.sentence-3'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_fstream,constructor__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_fstream,constructor__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> basic_fstream<span class='parenthesis'>(</span>
  <span class='keyword'>const</span> string<span class='operator'>&amp;</span> s,
  ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='fstream.cons-3'><div class='marginalizedparent'><a class='marginalized' href='#fstream.cons-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12287'>#</a></div><div class='texpara'><div id='fstream.cons-3.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>basic_<span class='shy'></span>fstream<span class='parenthesis'>(</span>s<span class='operator'>.</span>c_<span class='shy'></span>str<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, mode<span class='parenthesis'>)</span></span><a class='hidden_link' href='#fstream.cons-3.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_fstream,constructor___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_fstream,constructor___'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>explicit</span> basic_fstream<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span> s, ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='fstream.cons-4'><div class='marginalizedparent'><a class='marginalized' href='#fstream.cons-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12299'>#</a></div><div class='texpara'><div id='fstream.cons-4.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>is_<span class='shy'></span>same_<span class='shy'></span>v<span class='anglebracket'>&lt;</span>T, filesystem<span class='operator'>&#x200b;::&#x200b;</span>path<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#fstream.cons-4.sentence-1'>.</a></div></div></div></div><div class='para' id='fstream.cons-5'><div class='marginalizedparent'><a class='marginalized' href='#fstream.cons-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12303'>#</a></div><div class='texpara'><div id='fstream.cons-5.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>basic_<span class='shy'></span>fstream<span class='parenthesis'>(</span>s<span class='operator'>.</span>c_<span class='shy'></span>str<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, mode<span class='parenthesis'>)</span></span><a class='hidden_link' href='#fstream.cons-5.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_fstream,constructor____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_fstream,constructor____'>🔗</a></div><code class='itemdeclcode'>basic_fstream<span class='parenthesis'>(</span>basic_fstream<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='fstream.cons-6'><div class='marginalizedparent'><a class='marginalized' href='#fstream.cons-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12314'>#</a></div><div class='texpara'><div id='fstream.cons-6.sentence-1' class='sentence'><i >Effects</i>: Move constructs the base class, and the contained <span class='texttt'>basic_<span class='shy'></span>filebuf</span><a class='hidden_link' href='#fstream.cons-6.sentence-1'>.</a></div> <div id='fstream.cons-6.sentence-2' class='sentence'>Then calls <span class='texttt'>basic_<span class='shy'></span>istream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>set_<span class='shy'></span>rdbuf<span class='parenthesis'>(</span>&#x200b;addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
to install the contained <span class='texttt'>basic_<span class='shy'></span>filebuf</span><a class='hidden_link' href='#fstream.cons-6.sentence-2'>.</a></div></div></div></div></div><div id='fstream.swap' class='section'><h4 ><a class='secnum' href='#fstream.swap' style='min-width:95pt'>31.10.6.3</a> Swap <a class='abbr_ref' href='fstream.swap'>[fstream.swap]</a></h4><div class='texpara'><div id='lib:basic_fstream,swap'><div id='lib:swap,basic_fstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,basic_fstream'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_fstream<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='fstream.swap-1'><div class='marginalizedparent'><a class='marginalized' href='#fstream.swap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12329'>#</a></div><div class='texpara'><div id='fstream.swap-1.sentence-1' class='sentence'><i >Effects</i>: Exchanges the state of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>
and <span class='texttt'>rhs</span> by calling
<span class='texttt'>basic_<span class='shy'></span>iostream<span class='anglebracket'>&lt;</span>charT,traits<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>swap<span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span></span> and
<span class='texttt'>sb<span class='operator'>.</span>swap<span class='parenthesis'>(</span>rhs<span class='operator'>.</span>sb<span class='parenthesis'>)</span></span><a class='hidden_link' href='#fstream.swap-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_fstream,swap_'><div id='lib:swap,basic_fstream_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,basic_fstream_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_fstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x,
            basic_fstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='fstream.swap-2'><div class='marginalizedparent'><a class='marginalized' href='#fstream.swap-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12345'>#</a></div><div class='texpara'><div id='fstream.swap-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>x<span class='operator'>.</span>swap<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span></span><a class='hidden_link' href='#fstream.swap-2.sentence-1'>.</a></div></div></div></div></div><div id='fstream.members' class='section'><h4 ><a class='secnum' href='#fstream.members' style='min-width:95pt'>31.10.6.4</a> Member functions <a class='abbr_ref' href='fstream.members'>[fstream.members]</a></h4><div class='texpara'><div id='lib:basic_fstream,rdbuf'><div id='lib:rdbuf,basic_fstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:rdbuf,basic_fstream'>🔗</a></div><code class='itemdeclcode'>basic_filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span> rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div><div class='para' id='fstream.members-1'><div class='marginalizedparent'><a class='marginalized' href='#fstream.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12358'>#</a></div><div class='texpara'><div id='fstream.members-1.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'><span class='keyword'>const_<span class='shy'></span>cast</span><span class='anglebracket'>&lt;</span>basic_<span class='shy'></span>filebuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#fstream.members-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_fstream,native_handle'><div id='lib:native_handle,basic_fstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:native_handle,basic_fstream'>🔗</a></div><code class='itemdeclcode'>native_handle_type native_handle<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='fstream.members-2'><div class='marginalizedparent'><a class='marginalized' href='#fstream.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12369'>#</a></div><div class='texpara'><div id='fstream.members-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>native_<span class='shy'></span>handle<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:basic_fstream,is_open'><div id='lib:is_open,basic_fstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:is_open,basic_fstream'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>bool</span> is_open<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div></div></div></div><div class='para' id='fstream.members-3'><div class='marginalizedparent'><a class='marginalized' href='#fstream.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12380'>#</a></div><div class='texpara'><div id='fstream.members-3.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>is_<span class='shy'></span>open<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#fstream.members-3.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_fstream,open'><div id='lib:open,basic_fstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:open,basic_fstream'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> open<span class='parenthesis'>(</span>
  <span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> s,
  ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
<span class='keyword'>void</span> open<span class='parenthesis'>(</span>
  <span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>::</span>value_type<span class='operator'>*</span> s,
  ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;  <span class='comment'>// wide systems only; see <a href='#fstream.syn' title='31.10.1&emsp;Header &lt;fstream&gt; synopsis'>[fstream.<span class='shy'></span>syn]</a></span>
</code></div></div></div></div><div class='para' id='fstream.members-4'><div class='marginalizedparent'><a class='marginalized' href='#fstream.members-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12396'>#</a></div><div class='texpara'><div id='fstream.members-4.sentence-1' class='sentence'><i >Effects</i>: Calls
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>open<span class='parenthesis'>(</span>s, mode<span class='parenthesis'>)</span></span><a class='hidden_link' href='#fstream.members-4.sentence-1'>.</a></div> <div id='fstream.members-4.sentence-2' class='sentence'>If that function does not return a null pointer calls <span class='texttt'>clear<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
otherwise calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>failbit<span class='parenthesis'>)</span></span>
(which may throw
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failure</span>) (<a href='iostate.flags' title='31.5.4.4&emsp;Flags functions'>[iostate.<span class='shy'></span>flags]</a>)<a class='hidden_link' href='#fstream.members-4.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_fstream,open_'><div id='lib:open,basic_fstream_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:open,basic_fstream_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> open<span class='parenthesis'>(</span>
  <span class='keyword'>const</span> string<span class='operator'>&amp;</span> s,
  ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
<span class='keyword'>void</span> open<span class='parenthesis'>(</span>
  <span class='keyword'>const</span> filesystem<span class='operator'>::</span>path<span class='operator'>&amp;</span> s,
  ios_base<span class='operator'>::</span>openmode mode <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='fstream.members-5'><div class='marginalizedparent'><a class='marginalized' href='#fstream.members-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12418'>#</a></div><div class='texpara'><div id='fstream.members-5.sentence-1' class='sentence'><i >Effects</i>: Calls <span class='texttt'>open<span class='parenthesis'>(</span>s<span class='operator'>.</span>c_<span class='shy'></span>str<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, mode<span class='parenthesis'>)</span></span><a class='hidden_link' href='#fstream.members-5.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_fstream,close'><div id='lib:close,basic_fstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:close,basic_fstream'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> close<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='fstream.members-6'><div class='marginalizedparent'><a class='marginalized' href='#fstream.members-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/8238252bcec14f76e97133db32721beaec5c749b/source/iostreams.tex#L12429'>#</a></div><div class='texpara'><div id='fstream.members-6.sentence-1' class='sentence'><i >Effects</i>: Calls
<span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>close<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
and, if that function
returns a null pointer,
calls
<span class='texttt'>setstate<span class='parenthesis'>(</span>failbit<span class='parenthesis'>)</span></span>
(which may throw
<span class='texttt'>ios_<span class='shy'></span>base<span class='operator'>&#x200b;::&#x200b;</span>failure</span>) (<a href='iostate.flags' title='31.5.4.4&emsp;Flags functions'>[iostate.<span class='shy'></span>flags]</a>)<a class='hidden_link' href='#fstream.members-6.sentence-1'>.</a></div></div></div></div></div></div></div></body></html>