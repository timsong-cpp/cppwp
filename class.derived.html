<!DOCTYPE html><html lang='en'><head><title>[class.derived]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>11</a> Classes <a class='abbr_ref' href='./#class'>[class]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>11.6</a> Derived classes <a class='abbr_ref'>[class.derived]</a></h2><span class='indexparent'><a class='index' id=':derived_class'></a></span>

<div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3406'>#</a></div><div id='1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':base_class'></a></span><span class='indexparent'><a class='index' id=':inheritance'></a></span><span class='indexparent'><a class='index' id=':multiple_inheritance'></a></span>A list of base classes can be specified in a class definition using
the notation:</div><pre class='bnf'><a class='nontermdef' href='#nt:base-clause' id='nt:base-clause'>base-clause:</a>
&#9;<span class='terminal'><span class='operator'>:</span></span> <i ><a href='#nt:base-specifier-list'>base-specifier-list</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:base-specifier-list' id='nt:base-specifier-list'>base-specifier-list:</a>
&#9;<i ><a href='#nt:base-specifier'>base-specifier</a></i> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='#nt:base-specifier-list'>base-specifier-list</a></i> <span class='terminal'>,</span> <i ><a href='#nt:base-specifier'>base-specifier</a></i> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:base-specifier' id='nt:base-specifier'>base-specifier:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='#nt:class-or-decltype'>class-or-decltype</a></i>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='texttt'><span class='keyword'>virtual</span></span><span class='indexparent'><a class='index' id=':virtual'></a></span> <i ><a href='#nt:access-specifier'>access-specifier</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='#nt:class-or-decltype'>class-or-decltype</a></i>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='#nt:access-specifier'>access-specifier</a></i> <span class='texttt'><span class='keyword'>virtual</span></span><span class='indexparent'><a class='index' id=':virtual_'></a></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='#nt:class-or-decltype'>class-or-decltype</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:class-or-decltype' id='nt:class-or-decltype'>class-or-decltype:</a>
&#9;<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i>
&#9;<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> <span class='texttt'><span class='keyword'>template</span></span><span class='indexparent'><a class='index' id=':template'></a></span> <i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i>
&#9;<i ><a href='dcl.type.decltype#nt:decltype-specifier'>decltype-specifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:access-specifier' id='nt:access-specifier'>access-specifier:</a>
&#9;<span class='texttt'><span class='keyword'>private</span></span><span class='indexparent'><a class='index' id=':private'></a></span>
&#9;<span class='texttt'><span class='keyword'>protected</span></span><span class='indexparent'><a class='index' id=':protected'></a></span>
&#9;<span class='texttt'><span class='keyword'>public</span></span><span class='indexparent'><a class='index' id=':public'></a></span>
</pre><div id='1.sentence-2' class='sentence'>The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> appertains to the <i ><a href='#nt:base-specifier'>base-specifier</a></i><a class='hidden_link' href='#1.sentence-2'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3450'>#</a></div><div id='2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type,incomplete'></a></span>A <i ><a href='#nt:class-or-decltype'>class-or-decltype</a></i> shall denote
a (possibly cv-qualified) class type that is not
an incompletely defined class (<a href='class.mem'>[class.mem]</a>);
any cv-qualifiers are ignored<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>The class denoted by the <i ><a href='#nt:class-or-decltype'>class-or-decltype</a></i> of
a <i ><a href='#nt:base-specifier'>base-specifier</a></i> is called a
<a class='hidden_link' href='#def:base_class,direct' id='def:base_class,direct'><i >direct base class</i></a>
for the class being defined<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'><span class='indexparent'><a class='index' id=':base_class_'></a></span>During the lookup for a base class name, non-type names are
ignored (<a href='basic.scope.hiding'>[basic.scope.hiding]</a>)<a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='2.sentence-4' class='sentence'>A class <span class='texttt'>B</span> is a
base class of a class <span class='texttt'>D</span> if it is a direct base class of
<span class='texttt'>D</span> or a direct base class of one of <span class='texttt'>D</span>'s base classes<a class='hidden_link' href='#2.sentence-4'>.</a></div> <div id='2.sentence-5' class='sentence'>A class is an <a class='hidden_link' href='#def:base_class,indirect' id='def:base_class,indirect'><i >indirect base class</i></a> of another if it is a base
class but not a direct base class<a class='hidden_link' href='#2.sentence-5'>.</a></div> <div id='2.sentence-6' class='sentence'>A class is said to be (directly or
indirectly) <a class='hidden_link' href='#def:derived' id='def:derived'><i>derived</i></a> from its (direct or indirect) base
classes<a class='hidden_link' href='#2.sentence-6'>.</a></div> <div id='2.note-1' class='note'>[&nbsp;<a class='note_link' href='#2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-7' class='sentence'>See <a href='class.access'>[class.access]</a> for the meaning of
<i ><a href='#nt:access-specifier'>access-specifier</a></i><a class='hidden_link' href='#2.sentence-7'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='2.sentence-8' class='sentence'><span class='indexparent'><a class='index' id=':access_control,base_class_member'></a></span>Unless redeclared in the derived class, members of a base class are also
considered to be members of the derived class<a class='hidden_link' href='#2.sentence-8'>.</a></div> <div id='2.sentence-9' class='sentence'>Members of a base class other than constructors are said to be
<a class='hidden_link' href='#def:inheritance' id='def:inheritance'><i >inherited</i></a>
by the derived class<a class='hidden_link' href='#2.sentence-9'>.</a></div> <div id='2.sentence-10' class='sentence'>Constructors of a base class
can also be inherited as described in <a href='namespace.udecl'>[namespace.udecl]</a><a class='hidden_link' href='#2.sentence-10'>.</a></div> <div id='2.sentence-11' class='sentence'>Inherited members can be referred to in
expressions in the same manner as other members of the derived class,
unless their names are hidden or ambiguous (<a href='class.member.lookup'>[class.member.lookup]</a>)<a class='hidden_link' href='#2.sentence-11'>.</a></div> <span class='indexparent'><a class='index' id=':operator,scope_resolution'></a></span><div id='2.note-2' class='note'>[&nbsp;<a class='note_link' href='#2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-12' class='sentence'>The scope resolution operator <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> (<a href='expr.prim.id.qual'>[expr.prim.id.qual]</a>) can be used
to refer to a direct or indirect base member explicitly<a class='hidden_link' href='#2.sentence-12'>.</a></div> <div id='2.sentence-13' class='sentence'>This allows
access to a name that has been redeclared in the derived class<a class='hidden_link' href='#2.sentence-13'>.</a></div> <div id='2.sentence-14' class='sentence'>A
derived class can itself serve as a base class subject to access
control; see <a href='class.access.base'>[class.access.base]</a><a class='hidden_link' href='#2.sentence-14'>.</a></div> <div id='2.sentence-15' class='sentence'>A pointer to a derived class can be
implicitly converted to a pointer to an accessible unambiguous base
class (<a href='conv.ptr'>[conv.ptr]</a>)<a class='hidden_link' href='#2.sentence-15'>.</a></div> <div id='2.sentence-16' class='sentence'>An lvalue of a derived class type can be bound
to a reference to an accessible unambiguous base
class (<a href='dcl.init.ref'>[dcl.init.ref]</a>)<a class='hidden_link' href='#2.sentence-16'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3498'>#</a></div><div id='3.sentence-1' class='sentence'>The <i ><a href='#nt:base-specifier-list'>base-specifier-list</a></i> specifies the type of the
<a class='hidden_link' href='#def:base_class_subobjects' id='def:base_class_subobjects'><i>base class subobjects</i></a> contained in an
object of the derived class type<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.example-1' class='example'>[&nbsp;<a class='example_link' href='#3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> Base <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a, b, c;
<span class='curlybracket'>}</span>;
</pre><pre class='codeblock'>
<span class='keyword'>struct</span> Derived <span class='operator'>:</span> Base <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> b;
<span class='curlybracket'>}</span>;
</pre><pre class='codeblock'>
<span class='keyword'>struct</span> Derived2 <span class='operator'>:</span> Derived <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> c;
<span class='curlybracket'>}</span>;
</pre><div id='3.sentence-2' class='sentence'>Here, an object of class <span class='texttt'>Derived2</span> will have a subobject of class
<span class='texttt'>Derived</span> which in turn will have a subobject of class
<span class='texttt'>Base</span><a class='hidden_link' href='#3.sentence-2'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3526'>#</a></div><div id='4.sentence-1' class='sentence'>A <i ><a href='#nt:base-specifier'>base-specifier</a></i> followed by an ellipsis is a pack
expansion (<a href='temp.variadic'>[temp.variadic]</a>)<a class='hidden_link' href='#4.sentence-1'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3530'>#</a></div><div id='5.sentence-1' class='sentence'>The order in which the base class subobjects are allocated in the most
derived object (<a href='intro.object'>[intro.object]</a>) is unspecified<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.note-1' class='note'>[&nbsp;<a class='note_link' href='#5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='5.sentence-2' class='sentence'>A derived class and its base class subobjects can be represented by a
directed acyclic graph (DAG) where an arrow means “directly derived
from”<a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'>An arrow need not have a physical representation in memory<a class='hidden_link' href='#5.sentence-3'>.</a></div> <div id='5.sentence-4' class='sentence'>A DAG of subobjects is often referred to as a “subobject lattice”<a class='hidden_link' href='#5.sentence-4'>.</a></div><div class='figure' id='fig:class.dag'><svg width="75pt" height="146pt"
 viewBox="0.00 0.00 75.00 146.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g class="graph" transform="scale(1 1) rotate(0) translate(4 142)">
<title>dag</title>
<!-- Base -->
<g class="node">
<title>Base</title>
<text text-anchor="middle" x="33.5" y="-123.6" font-family="Times,serif" font-size="13.00" fill="#000000">Base</text>
</g>
<!-- Derived1 -->
<g class="node">
<title>Derived1</title>
<text text-anchor="middle" x="33.5" y="-65.6" font-family="Times,serif" font-size="13.00" fill="#000000">Derived1</text>
</g>
<!-- Derived1&#45;&gt;Base -->
<g class="edge">
<title>Derived1&#45;&gt;Base</title>
<path fill="none" stroke="#000000" d="M33.5,-80.183C33.5,-87.4044 33.5,-97.0324 33.5,-105.679"/>
<polygon fill="#000000" stroke="#000000" points="30.0001,-105.8513 33.5,-115.8513 37.0001,-105.8514 30.0001,-105.8513"/>
</g>
<!-- Derived2 -->
<g class="node">
<title>Derived2</title>
<text text-anchor="middle" x="33.5" y="-7.6" font-family="Times,serif" font-size="13.00" fill="#000000">Derived2</text>
</g>
<!-- Derived2&#45;&gt;Derived1 -->
<g class="edge">
<title>Derived2&#45;&gt;Derived1</title>
<path fill="none" stroke="#000000" d="M33.5,-22.183C33.5,-29.4044 33.5,-39.0324 33.5,-47.679"/>
<polygon fill="#000000" stroke="#000000" points="30.0001,-47.8513 33.5,-57.8513 37.0001,-47.8514 30.0001,-47.8513"/>
</g>
</g>
</svg>
<br>Figure <a href='#fig:class.dag'>2</a>: Directed acyclic graph&emsp;&ensp;[fig:class.dag]</div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3548'>#</a></div><div id='6.note-1' class='note'>[&nbsp;<a class='note_link' href='#6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='6.sentence-1' class='sentence'>Initialization of objects representing base classes can be specified in
constructors; see <a href='class.base.init'>[class.base.init]</a><a class='hidden_link' href='#6.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3554'>#</a></div><div id='7.note-1' class='note'>[&nbsp;<a class='note_link' href='#7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='7.sentence-1' class='sentence'>A base class subobject might have a layout (<a href='basic.stc'>[basic.stc]</a>) different
from the layout of a most derived object of the same type<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>A base class
subobject might have a polymorphic behavior (<a href='class.cdtor'>[class.cdtor]</a>)
different from the polymorphic behavior of a most derived object of the
same type<a class='hidden_link' href='#7.sentence-2'>.</a></div> <div id='7.sentence-3' class='sentence'>A base class subobject may be of zero size (<a href='class'>[class]</a>);
however, two subobjects that have the same class type and that belong to
the same most derived object must not be allocated at the same
address (<a href='expr.eq'>[expr.eq]</a>)<a class='hidden_link' href='#7.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div id='class.mi' class='section'><h3 ><a class='secnum' href='#class.mi' style='min-width:103pt'>11.6.1</a> Multiple base classes <a class='abbr_ref' href='class.mi'>[class.mi]</a></h3><span class='indexparent'><a class='index' id=':multiple_inheritance_'></a></span><span class='indexparent'><a class='index' id=':base_class__'></a></span><div class='para' id='class.mi-1'><div class='marginalizedparent'><a class='marginalized' href='#class.mi-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3570'>#</a></div><div id='class.mi-1.sentence-1' class='sentence'>A class can be derived from any number of base classes<a class='hidden_link' href='#class.mi-1.sentence-1'>.</a></div> <div id='class.mi-1.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.mi-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.mi-1.sentence-2' class='sentence'>The use of more than one direct base class is often called multiple inheritance<a class='hidden_link' href='#class.mi-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.mi-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.mi-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> A <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> C <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> D <span class='operator'>:</span> <span class='keyword'>public</span> A, <span class='keyword'>public</span> B, <span class='keyword'>public</span> C <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.mi-2'><div class='marginalizedparent'><a class='marginalized' href='#class.mi-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3584'>#</a></div><span class='indexparent'><a class='index' id=':layout,class_object'></a></span><span class='indexparent'><a class='index' id=':initialization,order_of'></a></span><div id='class.mi-2.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.mi-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.mi-2.sentence-1' class='sentence'>The order of derivation is not significant except as specified by the
semantics of initialization by constructor (<a href='class.base.init'>[class.base.init]</a>),
cleanup (<a href='class.dtor'>[class.dtor]</a>), and storage
layout (<a href='class.mem'>[class.mem]</a>, <a href='class.access.spec'>[class.access.spec]</a>)<a class='hidden_link' href='#class.mi-2.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.mi-3'><div class='marginalizedparent'><a class='marginalized' href='#class.mi-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3594'>#</a></div><div id='class.mi-3.sentence-1' class='sentence'>A class shall not be specified as a direct base class of a derived class
more than once<a class='hidden_link' href='#class.mi-3.sentence-1'>.</a></div> <div id='class.mi-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.mi-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.mi-3.sentence-2' class='sentence'>A class can be an indirect base class more than once and can be a direct
and an indirect base class<a class='hidden_link' href='#class.mi-3.sentence-2'>.</a></div> <div id='class.mi-3.sentence-3' class='sentence'>There are limited things that can be done
with such a class<a class='hidden_link' href='#class.mi-3.sentence-3'>.</a></div> <div id='class.mi-3.sentence-4' class='sentence'>The non-static data members and member functions of
the direct base class cannot be referred to in the scope of the derived
class<a class='hidden_link' href='#class.mi-3.sentence-4'>.</a></div> <div id='class.mi-3.sentence-5' class='sentence'>However, the static members, enumerations and types can be
unambiguously referred to<a class='hidden_link' href='#class.mi-3.sentence-5'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.mi-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.mi-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> X <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> Y <span class='operator'>:</span> <span class='keyword'>public</span> X, <span class='keyword'>public</span> X <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;             <span class='comment'>// ill-formed</span>

</pre>
<pre class='codeblock'>
<span class='keyword'>class</span> L <span class='curlybracket'>{</span> <span class='keyword'>public</span><span class='operator'>:</span> <span class='keyword'>int</span> next;  <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> A <span class='operator'>:</span> <span class='keyword'>public</span> L <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> B <span class='operator'>:</span> <span class='keyword'>public</span> L <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> C <span class='operator'>:</span> <span class='keyword'>public</span> A, <span class='keyword'>public</span> B <span class='curlybracket'>{</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;   <span class='comment'>// well-formed</span>
<span class='keyword'>class</span> D <span class='operator'>:</span> <span class='keyword'>public</span> A, <span class='keyword'>public</span> L <span class='curlybracket'>{</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;   <span class='comment'>// well-formed</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.mi-4'><div class='marginalizedparent'><a class='marginalized' href='#class.mi-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3620'>#</a></div><div id='class.mi-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':base_class,virtual'></a></span>A base class specifier that does not contain the keyword
<span class='texttt'><span class='keyword'>virtual</span></span> specifies a <a class='hidden_link' href='#def:base_class,non-virtual' id='def:base_class,non-virtual'><i >non-virtual base class</i></a><a class='hidden_link' href='#class.mi-4.sentence-1'>.</a></div> <div id='class.mi-4.sentence-2' class='sentence'>A base
class specifier that contains the keyword <span class='texttt'><span class='keyword'>virtual</span></span> specifies a
<a class='hidden_link' href='#def:base_class,virtual' id='def:base_class,virtual'><i >virtual base class</i></a><a class='hidden_link' href='#class.mi-4.sentence-2'>.</a></div> <div id='class.mi-4.sentence-3' class='sentence'>For each distinct occurrence of a
non-virtual base class in the class lattice of the most derived class,
the most derived object (<a href='intro.object'>[intro.object]</a>) shall contain a
corresponding distinct base class subobject of that type<a class='hidden_link' href='#class.mi-4.sentence-3'>.</a></div> <div id='class.mi-4.sentence-4' class='sentence'>For each
distinct base class that is specified virtual, the most derived object
shall contain a single base class subobject of that type<a class='hidden_link' href='#class.mi-4.sentence-4'>.</a></div></div><div class='para' id='class.mi-5'><div class='marginalizedparent'><a class='marginalized' href='#class.mi-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3632'>#</a></div><div id='class.mi-5.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.mi-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.mi-5.sentence-1' class='sentence'>For an object of class type <span class='texttt'>C</span>, each distinct occurrence of a
(non-virtual) base class <span class='texttt'>L</span> in the class lattice of <span class='texttt'>C</span>
corresponds one-to-one with a distinct <span class='texttt'>L</span> subobject within the
object of type <span class='texttt'>C</span><a class='hidden_link' href='#class.mi-5.sentence-1'>.</a></div> <div id='class.mi-5.sentence-2' class='sentence'>Given the class <span class='texttt'>C</span> defined above, an
object of class <span class='texttt'>C</span> will have two subobjects of class <span class='texttt'>L</span> as
shown in <a href='#fig:class.nonvirt'>Figure 3</a><a class='hidden_link' href='#class.mi-5.sentence-2'>.</a></div><div class='figure' id='fig:class.nonvirt'><svg width="224pt" height="146pt"
 viewBox="0.00 0.00 224.00 146.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g class="graph" transform="scale(1 1) rotate(0) translate(4 142)">
<title>nonvirt</title>
<!-- L1 -->
<g class="node">
<title>L1</title>
<text text-anchor="middle" x="27" y="-123.6" font-family="Times,serif" font-size="13.00" fill="#000000">L</text>
</g>
<!-- L2 -->
<g class="node">
<title>L2</title>
<text text-anchor="middle" x="189" y="-123.6" font-family="Times,serif" font-size="13.00" fill="#000000">L</text>
</g>
<!-- A -->
<g class="node">
<title>A</title>
<text text-anchor="middle" x="27" y="-65.6" font-family="Times,serif" font-size="13.00" fill="#000000">A</text>
</g>
<!-- A&#45;&gt;L1 -->
<g class="edge">
<title>A&#45;&gt;L1</title>
<path fill="none" stroke="#000000" d="M27,-80.183C27,-87.4044 27,-97.0324 27,-105.679"/>
<polygon fill="#000000" stroke="#000000" points="23.5001,-105.8513 27,-115.8513 30.5001,-105.8514 23.5001,-105.8513"/>
</g>
<!-- B -->
<g class="node">
<title>B</title>
<text text-anchor="middle" x="189" y="-65.6" font-family="Times,serif" font-size="13.00" fill="#000000">B</text>
</g>
<!-- B&#45;&gt;L2 -->
<g class="edge">
<title>B&#45;&gt;L2</title>
<path fill="none" stroke="#000000" d="M189,-80.183C189,-87.4044 189,-97.0324 189,-105.679"/>
<polygon fill="#000000" stroke="#000000" points="185.5001,-105.8513 189,-115.8513 192.5001,-105.8514 185.5001,-105.8513"/>
</g>
<!-- C -->
<g class="node">
<title>C</title>
<text text-anchor="middle" x="108" y="-7.6" font-family="Times,serif" font-size="13.00" fill="#000000">C</text>
</g>
<!-- C&#45;&gt;A -->
<g class="edge">
<title>C&#45;&gt;A</title>
<path fill="none" stroke="#000000" d="M92.3824,-22.183C80.6164,-30.608 64.2759,-42.3086 50.8744,-51.9048"/>
<polygon fill="#000000" stroke="#000000" points="48.6626,-49.1837 42.5697,-57.8513 52.7379,-54.8751 48.6626,-49.1837"/>
</g>
<!-- C&#45;&gt;B -->
<g class="edge">
<title>C&#45;&gt;B</title>
<path fill="none" stroke="#000000" d="M123.6176,-22.183C135.3836,-30.608 151.7241,-42.3086 165.1256,-51.9048"/>
<polygon fill="#000000" stroke="#000000" points="163.2621,-54.8751 173.4303,-57.8513 167.3374,-49.1837 163.2621,-54.8751"/>
</g>
</g>
</svg>
<br>Figure <a href='#fig:class.nonvirt'>3</a>: Non-virtual base&emsp;&ensp;[fig:class.nonvirt]</div><div id='class.mi-5.sentence-3' class='sentence'>In such lattices, explicit qualification can be used to specify which
subobject is meant<a class='hidden_link' href='#class.mi-5.sentence-3'>.</a></div> <div id='class.mi-5.sentence-4' class='sentence'>The body of function <span class='texttt'>C<span class='operator'>&#x200b;::&#x200b;</span>f</span> could refer to the
member <span class='texttt'>next</span> of each <span class='texttt'>L</span> subobject:
<pre class='codeblock'>
<span class='keyword'>void</span> C<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> A<span class='operator'>::</span>next <span class='operator'>=</span> B<span class='operator'>::</span>next; <span class='curlybracket'>}</span>      <span class='comment'>// well-formed</span>
</pre></div> <div id='class.mi-5.sentence-5' class='sentence'>
Without the <span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span></span> or <span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span></span> qualifiers, the definition of
<span class='texttt'>C<span class='operator'>&#x200b;::&#x200b;</span>f</span> above would be ill-formed because of
ambiguity (<a href='class.member.lookup'>[class.member.lookup]</a>)<a class='hidden_link' href='#class.mi-5.sentence-5'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.mi-6'><div class='marginalizedparent'><a class='marginalized' href='#class.mi-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3658'>#</a></div><div id='class.mi-6.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.mi-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.mi-6.sentence-1' class='sentence'>In contrast, consider the case with a virtual base class:
<pre class='codeblock'>
<span class='keyword'>class</span> V <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> A <span class='operator'>:</span> <span class='keyword'>virtual</span> <span class='keyword'>public</span> V <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> B <span class='operator'>:</span> <span class='keyword'>virtual</span> <span class='keyword'>public</span> V <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> C <span class='operator'>:</span> <span class='keyword'>public</span> A, <span class='keyword'>public</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
</pre>
<div class='figure' id='fig:class.virt'><svg width="224pt" height="146pt"
 viewBox="0.00 0.00 224.00 146.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g class="graph" transform="scale(1 1) rotate(0) translate(4 142)">
<title>virt</title>
<!-- V -->
<g class="node">
<title>V</title>
<text text-anchor="middle" x="108" y="-123.6" font-family="Times,serif" font-size="13.00" fill="#000000">V</text>
</g>
<!-- A -->
<g class="node">
<title>A</title>
<text text-anchor="middle" x="27" y="-65.6" font-family="Times,serif" font-size="13.00" fill="#000000">A</text>
</g>
<!-- A&#45;&gt;V -->
<g class="edge">
<title>A&#45;&gt;V</title>
<path fill="none" stroke="#000000" d="M42.6176,-80.183C54.3836,-88.608 70.7241,-100.3086 84.1256,-109.9048"/>
<polygon fill="#000000" stroke="#000000" points="82.2621,-112.8751 92.4303,-115.8513 86.3374,-107.1837 82.2621,-112.8751"/>
</g>
<!-- B -->
<g class="node">
<title>B</title>
<text text-anchor="middle" x="189" y="-65.6" font-family="Times,serif" font-size="13.00" fill="#000000">B</text>
</g>
<!-- B&#45;&gt;V -->
<g class="edge">
<title>B&#45;&gt;V</title>
<path fill="none" stroke="#000000" d="M173.3824,-80.183C161.6164,-88.608 145.2759,-100.3086 131.8744,-109.9048"/>
<polygon fill="#000000" stroke="#000000" points="129.6626,-107.1837 123.5697,-115.8513 133.7379,-112.8751 129.6626,-107.1837"/>
</g>
<!-- C -->
<g class="node">
<title>C</title>
<text text-anchor="middle" x="108" y="-7.6" font-family="Times,serif" font-size="13.00" fill="#000000">C</text>
</g>
<!-- C&#45;&gt;A -->
<g class="edge">
<title>C&#45;&gt;A</title>
<path fill="none" stroke="#000000" d="M92.3824,-22.183C80.6164,-30.608 64.2759,-42.3086 50.8744,-51.9048"/>
<polygon fill="#000000" stroke="#000000" points="48.6626,-49.1837 42.5697,-57.8513 52.7379,-54.8751 48.6626,-49.1837"/>
</g>
<!-- C&#45;&gt;B -->
<g class="edge">
<title>C&#45;&gt;B</title>
<path fill="none" stroke="#000000" d="M123.6176,-22.183C135.3836,-30.608 151.7241,-42.3086 165.1256,-51.9048"/>
<polygon fill="#000000" stroke="#000000" points="163.2621,-54.8751 173.4303,-57.8513 167.3374,-49.1837 163.2621,-54.8751"/>
</g>
</g>
</svg>
<br>Figure <a href='#fig:class.virt'>4</a>: Virtual base&emsp;&ensp;[fig:class.virt]</div>
For an object <span class='texttt'>c</span> of class type <span class='texttt'>C</span>, a single subobject of
type <span class='texttt'>V</span> is shared by every base class subobject of <span class='texttt'>c</span> that has a
<span class='texttt'><span class='keyword'>virtual</span></span> base class of type <span class='texttt'>V</span><a class='hidden_link' href='#class.mi-6.sentence-1'>.</a></div> <div id='class.mi-6.sentence-2' class='sentence'>Given the class <span class='texttt'>C</span>
defined above, an object of class <span class='texttt'>C</span> will have one subobject of
class <span class='texttt'>V</span>, as shown in <a href='#fig:class.virt'>Figure 4</a><a class='hidden_link' href='#class.mi-6.sentence-2'>.</a></div> <span class='indexparent'><a class='index' id=':DAG,multiple_inheritance'></a></span><span class='indexparent'><a class='index' id=':DAG,virtual_base_class'></a></span> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.mi-7'><div class='marginalizedparent'><a class='marginalized' href='#class.mi-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3681'>#</a></div><div id='class.mi-7.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.mi-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.mi-7.sentence-1' class='sentence'>A class can have both virtual and non-virtual base classes of a given
type<a class='hidden_link' href='#class.mi-7.sentence-1'>.</a></div> <pre class='codeblock'>
<span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> X <span class='operator'>:</span> <span class='keyword'>virtual</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> Y <span class='operator'>:</span> <span class='keyword'>virtual</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> Z <span class='operator'>:</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> AA <span class='operator'>:</span> <span class='keyword'>public</span> X, <span class='keyword'>public</span> Y, <span class='keyword'>public</span> Z <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
</pre> <div id='class.mi-7.sentence-2' class='sentence'>
For an object of class <span class='texttt'>AA</span>, all <span class='texttt'><span class='keyword'>virtual</span></span> occurrences of
base class <span class='texttt'>B</span> in the class lattice of <span class='texttt'>AA</span> correspond to a
single <span class='texttt'>B</span> subobject within the object of type <span class='texttt'>AA</span>, and
every other occurrence of a (non-virtual) base class <span class='texttt'>B</span> in the
class lattice of <span class='texttt'>AA</span> corresponds one-to-one with a distinct
<span class='texttt'>B</span> subobject within the object of type <span class='texttt'>AA</span><a class='hidden_link' href='#class.mi-7.sentence-2'>.</a></div> <div id='class.mi-7.sentence-3' class='sentence'>Given the
class <span class='texttt'>AA</span> defined above, class <span class='texttt'>AA</span> has two subobjects of
class <span class='texttt'>B</span>: <span class='texttt'>Z</span>'s <span class='texttt'>B</span> and the virtual <span class='texttt'>B</span> shared
by <span class='texttt'>X</span> and <span class='texttt'>Y</span>, as shown in <a href='#fig:class.virtnonvirt'>Figure 5</a><a class='hidden_link' href='#class.mi-7.sentence-3'>.</a></div><span class='indexparent'><a class='index' id=':DAG,virtual_base_class_'></a></span><span class='indexparent'><a class='index' id=':DAG,non-virtual_base_class'></a></span><span class='indexparent'><a class='index' id=':DAG,multiple_inheritance_'></a></span><div class='figure' id='fig:class.virtnonvirt'><svg width="386pt" height="146pt"
 viewBox="0.00 0.00 386.00 146.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g class="graph" transform="scale(1 1) rotate(0) translate(4 142)">
<title>virtnonvirt</title>
<!-- B1 -->
<g class="node">
<title>B1</title>
<text text-anchor="middle" x="108" y="-123.6" font-family="Times,serif" font-size="13.00" fill="#000000">B</text>
</g>
<!-- B2 -->
<g class="node">
<title>B2</title>
<text text-anchor="middle" x="351" y="-123.6" font-family="Times,serif" font-size="13.00" fill="#000000">B</text>
</g>
<!-- AA -->
<g class="node">
<title>AA</title>
<text text-anchor="middle" x="108" y="-7.6" font-family="Times,serif" font-size="13.00" fill="#000000">AA</text>
</g>
<!-- X -->
<g class="node">
<title>X</title>
<text text-anchor="middle" x="27" y="-65.6" font-family="Times,serif" font-size="13.00" fill="#000000">X</text>
</g>
<!-- AA&#45;&gt;X -->
<g class="edge">
<title>AA&#45;&gt;X</title>
<path fill="none" stroke="#000000" d="M92.3824,-22.183C80.6164,-30.608 64.2759,-42.3086 50.8744,-51.9048"/>
<polygon fill="#000000" stroke="#000000" points="48.6626,-49.1837 42.5697,-57.8513 52.7379,-54.8751 48.6626,-49.1837"/>
</g>
<!-- Y -->
<g class="node">
<title>Y</title>
<text text-anchor="middle" x="189" y="-65.6" font-family="Times,serif" font-size="13.00" fill="#000000">Y</text>
</g>
<!-- AA&#45;&gt;Y -->
<g class="edge">
<title>AA&#45;&gt;Y</title>
<path fill="none" stroke="#000000" d="M123.6176,-22.183C135.3836,-30.608 151.7241,-42.3086 165.1256,-51.9048"/>
<polygon fill="#000000" stroke="#000000" points="163.2621,-54.8751 173.4303,-57.8513 167.3374,-49.1837 163.2621,-54.8751"/>
</g>
<!-- Z -->
<g class="node">
<title>Z</title>
<text text-anchor="middle" x="351" y="-65.6" font-family="Times,serif" font-size="13.00" fill="#000000">Z</text>
</g>
<!-- AA&#45;&gt;Z -->
<g class="edge">
<title>AA&#45;&gt;Z</title>
<path fill="none" stroke="#000000" d="M135.4028,-17.5406C179.0896,-27.9679 264.596,-48.3768 313.7812,-60.1165"/>
<polygon fill="#000000" stroke="#000000" points="313.1579,-63.566 323.6973,-62.4833 314.7831,-56.7572 313.1579,-63.566"/>
</g>
<!-- X&#45;&gt;B1 -->
<g class="edge">
<title>X&#45;&gt;B1</title>
<path fill="none" stroke="#000000" d="M42.6176,-80.183C54.3836,-88.608 70.7241,-100.3086 84.1256,-109.9048"/>
<polygon fill="#000000" stroke="#000000" points="82.2621,-112.8751 92.4303,-115.8513 86.3374,-107.1837 82.2621,-112.8751"/>
</g>
<!-- Y&#45;&gt;B1 -->
<g class="edge">
<title>Y&#45;&gt;B1</title>
<path fill="none" stroke="#000000" d="M173.3824,-80.183C161.6164,-88.608 145.2759,-100.3086 131.8744,-109.9048"/>
<polygon fill="#000000" stroke="#000000" points="129.6626,-107.1837 123.5697,-115.8513 133.7379,-112.8751 129.6626,-107.1837"/>
</g>
<!-- Z&#45;&gt;B2 -->
<g class="edge">
<title>Z&#45;&gt;B2</title>
<path fill="none" stroke="#000000" d="M351,-80.183C351,-87.4044 351,-97.0324 351,-105.679"/>
<polygon fill="#000000" stroke="#000000" points="347.5001,-105.8513 351,-115.8513 354.5001,-105.8514 347.5001,-105.8513"/>
</g>
</g>
</svg>
<br>Figure <a href='#fig:class.virtnonvirt'>5</a>: Virtual and non-virtual base&emsp;&ensp;[fig:class.virtnonvirt]</div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><div id='class.virtual' class='section'><h3 ><a class='secnum' href='#class.virtual' style='min-width:103pt'>11.6.2</a> Virtual functions <a class='abbr_ref' href='class.virtual'>[class.virtual]</a></h3><span class='indexparent'><a class='index' id=':function,virtual'></a></span><span class='indexparent'><a class='index' id=':type,polymorphic'></a></span><div class='para' id='class.virtual-1'><div class='marginalizedparent'><a class='marginalized' href='#class.virtual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3716'>#</a></div><div id='class.virtual-1.sentence-1' class='sentence'>A non-static member function is a <a class='hidden_link' href='#def:function,virtual' id='def:function,virtual'><i >virtual function</i></a>
if it is first declared with the keyword <span class='texttt'><span class='keyword'>virtual</span></span> or
if it overrides a virtual member function declared in a base class
(see below)<a class='hidden_link' href='#class.virtual-1.sentence-1'>.</a><a class='footnotenum' href='#footnote-108' id='footnoteref-108'>108</a></div> <div id='class.virtual-1.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.virtual-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.virtual-1.sentence-2' class='sentence'>Virtual functions support dynamic binding and object-oriented
programming<a class='hidden_link' href='#class.virtual-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.virtual-1.sentence-3' class='sentence'> A class that declares or inherits a virtual function is
called a <a class='hidden_link' href='#def:class,polymorphic' id='def:class,polymorphic'><i >polymorphic class</i></a><a class='hidden_link' href='#class.virtual-1.sentence-3'>.</a><a class='footnotenum' href='#footnote-109' id='footnoteref-109'>109</a></div></div><div class='para' id='class.virtual-2'><div class='marginalizedparent'><a class='marginalized' href='#class.virtual-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3732'>#</a></div><div id='class.virtual-2.sentence-1' class='sentence'>If a virtual member function <span class='texttt'>vf</span> is declared in a class
<span class='texttt'>Base</span> and in a class <span class='texttt'>Derived</span>, derived directly or
indirectly from <span class='texttt'>Base</span>, a member function <span class='texttt'>vf</span> with the same
name, parameter-type-list (<a href='dcl.fct'>[dcl.fct]</a>), cv-qualification, and ref-qualifier
(or absence of same) as <span class='texttt'>Base<span class='operator'>&#x200b;::&#x200b;</span>vf</span> is declared,
then <span class='texttt'>Derived<span class='operator'>&#x200b;::&#x200b;</span>vf</span> <a class='hidden_link' href='#def:overrides' id='def:overrides'><i>overrides</i></a><a class='footnotenum' href='#footnote-110' id='footnoteref-110'>110</a>
<span class='texttt'>Base<span class='operator'>&#x200b;::&#x200b;</span>vf</span><a class='hidden_link' href='#class.virtual-2.sentence-1'>.</a></div> <div id='class.virtual-2.sentence-2' class='sentence'>For convenience we say that any virtual function
overrides itself<a class='hidden_link' href='#class.virtual-2.sentence-2'>.</a></div> <div id='class.virtual-2.sentence-3' class='sentence'><span class='indexparent'><a class='index' id=':overrider,final'></a></span>A virtual member function <span class='texttt'>C<span class='operator'>&#x200b;::&#x200b;</span>vf</span> of a class object <span class='texttt'>S</span> is a <a class='hidden_link' href='#def:final_overrider' id='def:final_overrider'><i >final
overrider</i></a> unless the most derived class (<a href='intro.object'>[intro.object]</a>) of which <span class='texttt'>S</span> is a
base class subobject (if any) declares or inherits another member function that overrides
<span class='texttt'>vf</span><a class='hidden_link' href='#class.virtual-2.sentence-3'>.</a></div> <div id='class.virtual-2.sentence-4' class='sentence'>In a derived class, if a virtual member function of a base class subobject
has more than one final overrider the program is ill-formed<a class='hidden_link' href='#class.virtual-2.sentence-4'>.</a></div> <div id='class.virtual-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.virtual-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> <span class='keyword'>virtual</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='operator'>:</span> B , <span class='keyword'>virtual</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> A<span class='operator'>::</span>f;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> foo<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  C c;
  c<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f</span>, the final overrider</span>
  c<span class='operator'>.</span>C<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;           <span class='comment'>// calls <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span> because of the using-declaration</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> <div id='class.virtual-2.example-2' class='example'>[&nbsp;<a class='example_link' href='#class.virtual-2.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='operator'>:</span> A <span class='curlybracket'>{</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> B, C <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;  <span class='comment'>// OK: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span> and <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f</span> are the final overriders</span>
                      <span class='comment'>// for the <span class='tcode_in_codeblock'>B</span> and <span class='tcode_in_codeblock'>C</span> subobjects, respectively</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.virtual-3'><div class='marginalizedparent'><a class='marginalized' href='#class.virtual-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3781'>#</a></div><div id='class.virtual-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.virtual-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.virtual-3.sentence-1' class='sentence'>A virtual member function does not have to be visible to be overridden,
for example,
<pre class='codeblock'>
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D2 <span class='operator'>:</span> D <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
</pre>
the function <span class='texttt'>f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span></span> in class <span class='texttt'>D</span> hides the virtual
function <span class='texttt'>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> in its base class <span class='texttt'>B</span>; <span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span></span> is
not a virtual function<a class='hidden_link' href='#class.virtual-3.sentence-1'>.</a></div> <div id='class.virtual-3.sentence-2' class='sentence'>However, <span class='texttt'>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> declared in class
<span class='texttt'>D2</span> has the same name and the same parameter list as
<span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, and therefore is a virtual function that overrides the
function <span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> even though <span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is not visible in
class <span class='texttt'>D2</span><a class='hidden_link' href='#class.virtual-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.virtual-4'><div class='marginalizedparent'><a class='marginalized' href='#class.virtual-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3805'>#</a></div><div id='class.virtual-4.sentence-1' class='sentence'>If a virtual function <span class='texttt'>f</span> in some class <span class='texttt'>B</span> is marked with the
<i ><a href='class.mem#nt:virt-specifier'>virt-specifier</a></i> <span class='texttt'><span class='keyword'>final</span></span> and in a class <span class='texttt'>D</span> derived from <span class='texttt'>B</span>
a function <span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f</span> overrides <span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span>f</span>, the program is ill-formed<a class='hidden_link' href='#class.virtual-4.sentence-1'>.</a></div> <div id='class.virtual-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.virtual-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>final</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;     <span class='comment'>// error: <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;f</span> attempts to override <span class='tcode_in_codeblock'>final</span> <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f</span></span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.virtual-5'><div class='marginalizedparent'><a class='marginalized' href='#class.virtual-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3820'>#</a></div><div id='class.virtual-5.sentence-1' class='sentence'>If a virtual function is marked with the <i ><a href='class.mem#nt:virt-specifier'>virt-specifier</a></i> <span class='texttt'><span class='keyword'>override</span></span> and
does not override a member function of a base class, the program is ill-formed<a class='hidden_link' href='#class.virtual-5.sentence-1'>.</a></div> <div id='class.virtual-5.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.virtual-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>long</span><span class='parenthesis'>)</span> <span class='keyword'>override</span>;  <span class='comment'>// error: wrong signature overriding <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f</span></span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='keyword'>override</span>;   <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.virtual-6'><div class='marginalizedparent'><a class='marginalized' href='#class.virtual-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3835'>#</a></div><div id='class.virtual-6.sentence-1' class='sentence'>A virtual function shall not have a trailing <i ><a href='temp#nt:requires-clause'>requires-clause</a></i> (<a href='dcl.decl'>[dcl.decl]</a>)<a class='hidden_link' href='#class.virtual-6.sentence-1'>.</a></div> <div id='class.virtual-6.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.virtual-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> <span class='literal'>true</span>; <span class='comment'>// error: virtual function cannot be constrained (<a href='temp.constr.decl'>[temp.constr.decl]</a>)</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.virtual-7'><div class='marginalizedparent'><a class='marginalized' href='#class.virtual-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3845'>#</a></div><div id='class.virtual-7.sentence-1' class='sentence'>Even though destructors are not inherited, a destructor in a derived
class overrides a base class destructor declared virtual;
see <a href='class.dtor'>[class.dtor]</a> and <a href='class.free'>[class.free]</a><a class='hidden_link' href='#class.virtual-7.sentence-1'>.</a></div></div><div class='para' id='class.virtual-8'><div class='marginalizedparent'><a class='marginalized' href='#class.virtual-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3850'>#</a></div><div id='class.virtual-8.sentence-1' class='sentence'>The return type of an overriding function shall be either identical to
the return type of the overridden function or <a class='hidden_link' href='#def:return_type,covariant' id='def:return_type,covariant'><i >covariant</i></a> with
the classes of the functions<a class='hidden_link' href='#class.virtual-8.sentence-1'>.</a></div> <div id='class.virtual-8.sentence-2' class='sentence'>If a function <span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f</span> overrides a
function <span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span>f</span>, the return types of the functions are covariant
if they satisfy the following criteria:
<ul class='itemize'><li id='class.virtual-8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.virtual-8.1'>(8.1)</a></div>both are pointers to classes, both are lvalue references to
classes, or both are rvalue references to classes<a class='footnotenum' href='#footnote-111' id='footnoteref-111'>111</a></li><li id='class.virtual-8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.virtual-8.2'>(8.2)</a></div>the class in the return type of <span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span>f</span> is the same class as
the class in the return type of <span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f</span>, or is an unambiguous and
accessible direct or indirect base class of the class in the return type
of <span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f</span></li><li id='class.virtual-8.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.virtual-8.3'>(8.3)</a></div>both pointers or references have the same cv-qualification and the
class type in the return type of <span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f</span> has the same
cv-qualification as or less cv-qualification than the class type in the
return type of <span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span>f</span><a class='hidden_link' href='#class.virtual-8.sentence-2'>.</a></li></ul></div></div><div class='para' id='class.virtual-9'><div class='marginalizedparent'><a class='marginalized' href='#class.virtual-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3873'>#</a></div><div id='class.virtual-9.sentence-1' class='sentence'>If the class type in the covariant return type of <span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f</span> differs from that of
<span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span>f</span>, the class type in the return type of <span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f</span> shall be
complete at the point of declaration of <span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f</span> or shall be the
class type <span class='texttt'>D</span><a class='hidden_link' href='#class.virtual-9.sentence-1'>.</a></div> <div id='class.virtual-9.sentence-2' class='sentence'>When the overriding function is called as the
final overrider of the overridden function, its result is converted to
the type returned by the (statically chosen) overridden
function (<a href='expr.call'>[expr.call]</a>)<a class='hidden_link' href='#class.virtual-9.sentence-2'>.</a></div> <div id='class.virtual-9.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.virtual-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> D <span class='operator'>:</span> <span class='keyword'>private</span> B <span class='curlybracket'>{</span> <span class='keyword'>friend</span> <span class='keyword'>class</span> Derived; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Base <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> vf1<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> vf2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> vf3<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>virtual</span> B<span class='operator'>*</span>   vf4<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>virtual</span> B<span class='operator'>*</span>   vf5<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> No_good <span class='operator'>:</span> <span class='keyword'>public</span> Base <span class='curlybracket'>{</span>
  D<span class='operator'>*</span>  vf4<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>B</span> (base class of <span class='tcode_in_codeblock'>D</span>) inaccessible</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> A;
<span class='keyword'>struct</span> Derived <span class='operator'>:</span> <span class='keyword'>public</span> Base <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> vf1<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// virtual and overrides <span class='tcode_in_codeblock'>Base&#x200b;::&#x200b;vf1()</span></span>
    <span class='keyword'>void</span> vf2<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;  <span class='comment'>// not virtual, hides <span class='tcode_in_codeblock'>Base&#x200b;::&#x200b;vf2()</span></span>
    <span class='keyword'>char</span> vf3<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// error: invalid difference in return type only</span>
    D<span class='operator'>*</span>   vf4<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// OK: returns pointer to derived class</span>
    A<span class='operator'>*</span>   vf5<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// error: returns pointer to incomplete class</span>
    <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  Derived d;
  Base<span class='operator'>*</span> bp <span class='operator'>=</span> <span class='operator'>&amp;</span>d;                <span class='comment'>// standard conversion:</span>
                                <span class='comment'>// <span class='tcode_in_codeblock'>Derived*</span> to <span class='tcode_in_codeblock'>Base*</span></span>
  bp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>vf1<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                    <span class='comment'>// calls <span class='tcode_in_codeblock'>Derived&#x200b;::&#x200b;vf1()</span></span>
  bp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>vf2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                    <span class='comment'>// calls <span class='tcode_in_codeblock'>Base&#x200b;::&#x200b;vf2()</span></span>
  bp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                      <span class='comment'>// calls <span class='tcode_in_codeblock'>Base&#x200b;::&#x200b;f()</span> (not virtual)</span>
  B<span class='operator'>*</span>  p <span class='operator'>=</span> bp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>vf4<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;            <span class='comment'>// calls <span class='tcode_in_codeblock'>Derived&#x200b;::&#x200b;vf4()</span> and converts the</span>
                                <span class='comment'>// result to <span class='tcode_in_codeblock'>B*</span></span>
  Derived<span class='operator'>*</span>  dp <span class='operator'>=</span> <span class='operator'>&amp;</span>d;
  D<span class='operator'>*</span>  q <span class='operator'>=</span> dp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>vf4<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;            <span class='comment'>// calls <span class='tcode_in_codeblock'>Derived&#x200b;::&#x200b;vf4()</span> and does not</span>
                                <span class='comment'>// convert the result to <span class='tcode_in_codeblock'>B*</span></span>
  dp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>vf2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                    <span class='comment'>// ill-formed: argument mismatch</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.virtual-10'><div class='marginalizedparent'><a class='marginalized' href='#class.virtual-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3925'>#</a></div><div id='class.virtual-10.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.virtual-10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.virtual-10.sentence-1' class='sentence'>The interpretation of the call of a virtual function depends on the type
of the object for which it is called (the dynamic type), whereas the
interpretation of a call of a non-virtual member function depends only
on the type of the pointer or reference denoting that object (the static
type) (<a href='expr.call'>[expr.call]</a>)<a class='hidden_link' href='#class.virtual-10.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.virtual-11'><div class='marginalizedparent'><a class='marginalized' href='#class.virtual-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3934'>#</a></div><div id='class.virtual-11.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.virtual-11.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.virtual-11.sentence-1' class='sentence'>The <span class='texttt'><span class='keyword'>virtual</span></span> specifier implies membership, so a virtual function
cannot be a non-member (<a href='dcl.fct.spec'>[dcl.fct.spec]</a>) function<a class='hidden_link' href='#class.virtual-11.sentence-1'>.</a></div> <div id='class.virtual-11.sentence-2' class='sentence'>Nor can a virtual
function be a static member, since a virtual function call relies on a
specific object for determining which function to invoke<a class='hidden_link' href='#class.virtual-11.sentence-2'>.</a></div> <div id='class.virtual-11.sentence-3' class='sentence'>A virtual
function declared in one class can be declared a friend (<a href='class.friend'>[class.friend]</a>) in
another class<a class='hidden_link' href='#class.virtual-11.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.virtual-12'><div class='marginalizedparent'><a class='marginalized' href='#class.virtual-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3944'>#</a></div><div id='class.virtual-12.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':definition,virtual_function'></a></span>A virtual function declared in a class shall be defined, or declared
pure (<a href='#class.abstract'>[class.abstract]</a>) in that class, or both; no diagnostic is
required (<a href='basic.def.odr'>[basic.def.odr]</a>)<a class='hidden_link' href='#class.virtual-12.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id=':friend,virtual_and'></a></span></div><div class='para' id='class.virtual-13'><div class='marginalizedparent'><a class='marginalized' href='#class.virtual-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3951'>#</a></div><span class='indexparent'><a class='index' id=':multiple_inheritance,virtual_and'></a></span><div id='class.virtual-13.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.virtual-13.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='class.virtual-13.sentence-1' class='sentence'>Here are some uses of virtual functions with multiple base classes:
<pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> B1 <span class='operator'>:</span> A <span class='curlybracket'>{</span>                 <span class='comment'>// note non-virtual derivation</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> B2 <span class='operator'>:</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D <span class='operator'>:</span> B1, B2 <span class='curlybracket'>{</span>             <span class='comment'>// <span class='tcode_in_codeblock'>D</span> has two separate <span class='tcode_in_codeblock'>A</span> subobjects</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> foo<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  D   d;
<span class='comment'>//<span class='tcode_in_codeblock'>   A*  ap = &amp;d;</span>                  // would be ill-formed: ambiguous</span>
  B1<span class='operator'>*</span>  b1p <span class='operator'>=</span> <span class='operator'>&amp;</span>d;
  A<span class='operator'>*</span>   ap <span class='operator'>=</span> b1p;
  D<span class='operator'>*</span>   dp <span class='operator'>=</span> <span class='operator'>&amp;</span>d;
  ap<span class='operator'>-</span><span class='anglebracket'>&gt;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                      <span class='comment'>// calls <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;B1&#x200b;::&#x200b;f</span></span>
  dp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                      <span class='comment'>// ill-formed: ambiguous</span>
<span class='curlybracket'>}</span>
</pre></div> <div id='class.virtual-13.sentence-2' class='sentence'>
In class <span class='texttt'>D</span> above there are two occurrences of class <span class='texttt'>A</span>
and hence two occurrences of the virtual member function <span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>f</span><a class='hidden_link' href='#class.virtual-13.sentence-2'>.</a></div> <div id='class.virtual-13.sentence-3' class='sentence'>The final overrider of <span class='texttt'>B1<span class='operator'>&#x200b;::&#x200b;</span>A<span class='operator'>&#x200b;::&#x200b;</span>f</span> is <span class='texttt'>B1<span class='operator'>&#x200b;::&#x200b;</span>f</span> and the final
overrider of <span class='texttt'>B2<span class='operator'>&#x200b;::&#x200b;</span>A<span class='operator'>&#x200b;::&#x200b;</span>f</span> is <span class='texttt'>B2<span class='operator'>&#x200b;::&#x200b;</span>f</span><a class='hidden_link' href='#class.virtual-13.sentence-3'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.virtual-14'><div class='marginalizedparent'><a class='marginalized' href='#class.virtual-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L3987'>#</a></div><div id='class.virtual-14.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.virtual-14.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='class.virtual-14.sentence-1' class='sentence'>The following example shows a function that does not have a unique final
overrider:
<pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> VB1 <span class='operator'>:</span> <span class='keyword'>virtual</span> A <span class='curlybracket'>{</span>        <span class='comment'>// note virtual derivation</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> VB2 <span class='operator'>:</span> <span class='keyword'>virtual</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Error <span class='operator'>:</span> VB1, VB2 <span class='curlybracket'>{</span>       <span class='comment'>// ill-formed</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Okay <span class='operator'>:</span> VB1, VB2 <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
</pre></div> <div id='class.virtual-14.sentence-2' class='sentence'>
Both <span class='texttt'>VB1<span class='operator'>&#x200b;::&#x200b;</span>f</span> and <span class='texttt'>VB2<span class='operator'>&#x200b;::&#x200b;</span>f</span> override <span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>f</span> but there
is no overrider of both of them in class <span class='texttt'>Error</span><a class='hidden_link' href='#class.virtual-14.sentence-2'>.</a></div> <div id='class.virtual-14.sentence-3' class='sentence'>This example is
therefore ill-formed<a class='hidden_link' href='#class.virtual-14.sentence-3'>.</a></div> <div id='class.virtual-14.sentence-4' class='sentence'>Class <span class='texttt'>Okay</span> is well-formed, however,
because <span class='texttt'>Okay<span class='operator'>&#x200b;::&#x200b;</span>f</span> is a final overrider<a class='hidden_link' href='#class.virtual-14.sentence-4'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.virtual-15'><div class='marginalizedparent'><a class='marginalized' href='#class.virtual-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L4017'>#</a></div><div id='class.virtual-15.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.virtual-15.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='class.virtual-15.sentence-1' class='sentence'>The following example uses the well-formed classes from above<a class='hidden_link' href='#class.virtual-15.sentence-1'>.</a></div> <pre class='codeblock'>
<span class='keyword'>struct</span> VB1a <span class='operator'>:</span> <span class='keyword'>virtual</span> A <span class='curlybracket'>{</span>       <span class='comment'>// does not declare <span class='tcode_in_codeblock'>f</span></span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Da <span class='operator'>:</span> VB1a, VB2 <span class='curlybracket'>{</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> foe<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  VB1a<span class='operator'>*</span>  vb1ap <span class='operator'>=</span> <span class='keyword'>new</span> Da;
  vb1ap<span class='operator'>-</span><span class='anglebracket'>&gt;</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                   <span class='comment'>// calls <span class='tcode_in_codeblock'>VB2&#x200b;::&#x200b;f</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.virtual-16'><div class='marginalizedparent'><a class='marginalized' href='#class.virtual-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L4034'>#</a></div><div id='class.virtual-16.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':operator,scope_resolution_'></a></span><span class='indexparent'><a class='index' id=':virtual_function_call'></a></span>Explicit qualification with the scope operator (<a href='expr.prim.id.qual'>[expr.prim.id.qual]</a>)
suppresses the virtual call mechanism<a class='hidden_link' href='#class.virtual-16.sentence-1'>.</a></div> <div id='class.virtual-16.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.virtual-16.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='keyword'>public</span><span class='operator'>:</span> <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> D <span class='operator'>:</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span> <span class='keyword'>public</span><span class='operator'>:</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

<span class='keyword'>void</span> D<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> B<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>
</pre><div id='class.virtual-16.sentence-2' class='sentence'>Here, the function call in
<span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f</span>
really does call
<span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span>f</span>
and not
<span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f</span><a class='hidden_link' href='#class.virtual-16.sentence-2'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.virtual-17'><div class='marginalizedparent'><a class='marginalized' href='#class.virtual-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L4055'>#</a></div><div id='class.virtual-17.sentence-1' class='sentence'>A function with a deleted definition (<a href='dcl.fct.def'>[dcl.fct.def]</a>) shall
not override a function that does not have a deleted definition<a class='hidden_link' href='#class.virtual-17.sentence-1'>.</a></div> <div id='class.virtual-17.sentence-2' class='sentence'>Likewise,
a function that does not have a deleted definition shall not override a
function with a deleted definition<a class='hidden_link' href='#class.virtual-17.sentence-2'>.</a></div> </div><div class='para' id='class.virtual-18'><div class='marginalizedparent'><a class='marginalized' href='#class.virtual-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L4062'>#</a></div><div id='class.virtual-18.sentence-1' class='sentence'>A <span class='texttt'><span class='keyword'>consteval</span></span> virtual function shall not override
a virtual function that is not <span class='texttt'><span class='keyword'>consteval</span></span><a class='hidden_link' href='#class.virtual-18.sentence-1'>.</a></div> <div id='class.virtual-18.sentence-2' class='sentence'>A <span class='texttt'><span class='keyword'>consteval</span></span> virtual function shall not be overridden by
a virtual function that is not <span class='texttt'><span class='keyword'>consteval</span></span><a class='hidden_link' href='#class.virtual-18.sentence-2'>.</a></div></div><div class='footnote' id='footnote-108'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-108'>108)</a></div><div id='footnote-108.sentence-1' class='sentence'>The use of the <span class='texttt'><span class='keyword'>virtual</span></span> specifier in the
declaration of an overriding function is valid but redundant (has empty
semantics)<a class='hidden_link' href='#footnote-108.sentence-1'>.</a></div> <a href='#footnoteref-108'>⮥</a></div><div class='footnote' id='footnote-109'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-109'>109)</a></div><div id='footnote-109.sentence-1' class='sentence'>If
all virtual functions are immediate functions,
the class is still polymorphic even though
its internal representation might not otherwise require
any additions for that polymorphic behavior<a class='hidden_link' href='#footnote-109.sentence-1'>.</a></div> <a href='#footnoteref-109'>⮥</a></div><div class='footnote' id='footnote-110'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-110'>110)</a></div><div id='footnote-110.sentence-1' class='sentence'>A function
with the same name but a different parameter list (<a href='over'>[over]</a>)
as a virtual function is not necessarily virtual and
does not override<a class='hidden_link' href='#footnote-110.sentence-1'>.</a></div> <div id='footnote-110.sentence-2' class='sentence'>Access control (<a href='class.access'>[class.access]</a>) is not considered in
determining overriding<a class='hidden_link' href='#footnote-110.sentence-2'>.</a></div> <a href='#footnoteref-110'>⮥</a></div><div class='footnote' id='footnote-111'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-111'>111)</a></div><div id='footnote-111.sentence-1' class='sentence'>Multi-level pointers to classes or references to multi-level pointers to
classes are not allowed<a class='hidden_link' href='#footnote-111.sentence-1'>.</a></div> <a href='#footnoteref-111'>⮥</a></div></div><div id='class.abstract' class='section'><h3 ><a class='secnum' href='#class.abstract' style='min-width:103pt'>11.6.3</a> Abstract classes <a class='abbr_ref' href='class.abstract'>[class.abstract]</a></h3><div class='para' id='class.abstract-1'><div class='marginalizedparent'><a class='marginalized' href='#class.abstract-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L4070'>#</a></div><div id='class.abstract-1.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.abstract-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.abstract-1.sentence-1' class='sentence'>The abstract class mechanism supports the notion of a general concept,
such as a <span class='texttt'>shape</span>, of which only more concrete variants, such as
<span class='texttt'>circle</span> and <span class='texttt'>square</span>, can actually be used<a class='hidden_link' href='#class.abstract-1.sentence-1'>.</a></div> <div id='class.abstract-1.sentence-2' class='sentence'>An abstract
class can also be used to define an interface for which derived classes
provide a variety of implementations<a class='hidden_link' href='#class.abstract-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.abstract-2'><div class='marginalizedparent'><a class='marginalized' href='#class.abstract-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L4079'>#</a></div><div id='class.abstract-2.sentence-1' class='sentence'>A virtual function is specified as
a <a class='hidden_link' href='#def:function,virtual,pure' id='def:function,virtual,pure'><i >pure virtual function</i></a> by using a
<i ><a href='class.mem#nt:pure-specifier'>pure-specifier</a></i> (<a href='class.mem'>[class.mem]</a>) in the function declaration
in the class definition<a class='hidden_link' href='#class.abstract-2.sentence-1'>.</a></div> <div id='class.abstract-2.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.abstract-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.abstract-2.sentence-2' class='sentence'>Such a function might be inherited: see below<a class='hidden_link' href='#class.abstract-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.abstract-2.sentence-3' class='sentence'>
A class is an <a class='hidden_link' href='#def:class,abstract' id='def:class,abstract'><i >abstract class</i></a>
if it has at least one pure virtual function<a class='hidden_link' href='#class.abstract-2.sentence-3'>.</a></div> <div id='class.abstract-2.note-2' class='note'>[&nbsp;<a class='note_link' href='#class.abstract-2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.abstract-2.sentence-4' class='sentence'>An abstract class can be used only as a base class of some other class;
no objects of an abstract class can be created
except as subobjects of a class
derived from it (<a href='basic.def'>[basic.def]</a>, <a href='class.mem'>[class.mem]</a>)<a class='hidden_link' href='#class.abstract-2.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.abstract-2.sentence-5' class='sentence'><span class='indexparent'><a class='index' id=':definition,pure_virtual_function'></a></span>A pure virtual function need be defined only if called with, or as if
with (<a href='class.dtor'>[class.dtor]</a>), the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i>
syntax (<a href='expr.prim.id.qual'>[expr.prim.id.qual]</a>)<a class='hidden_link' href='#class.abstract-2.sentence-5'>.</a></div> <div id='class.abstract-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.abstract-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> point <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> shape <span class='curlybracket'>{</span>                   <span class='comment'>// abstract class</span>
  point center;
<span class='keyword'>public</span><span class='operator'>:</span>
  point where<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> center; <span class='curlybracket'>}</span>
  <span class='keyword'>void</span> move<span class='parenthesis'>(</span>point p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> center<span class='operator'>=</span>p; draw<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> rotate<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='literal'>0</span>; <span class='comment'>// pure virtual</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> draw<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='literal'>0</span>;      <span class='comment'>// pure virtual</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='class.abstract-2.note-3' class='note'>[&nbsp;<a class='note_link' href='#class.abstract-2.note-3'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.abstract-2.sentence-6' class='sentence'>A function declaration cannot provide both a <i ><a href='class.mem#nt:pure-specifier'>pure-specifier</a></i>
and a definition</div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.abstract-2.example-2' class='example'>[&nbsp;<a class='example_link' href='#class.abstract-2.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='literal'>0</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;     <span class='comment'>// ill-formed</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.abstract-3'><div class='marginalizedparent'><a class='marginalized' href='#class.abstract-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L4124'>#</a></div><div id='class.abstract-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.abstract-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.abstract-3.sentence-1' class='sentence'>An abstract class type cannot be used
as a parameter or return type of
a function being defined (<a href='dcl.fct'>[dcl.fct]</a>) or called (<a href='expr.call'>[expr.call]</a>),
except as specified in <a href='dcl.type.simple'>[dcl.type.simple]</a><a class='hidden_link' href='#class.abstract-3.sentence-1'>.</a></div> <div id='class.abstract-3.sentence-2' class='sentence'>Further, an abstract class type cannot be used as
the type of an explicit type conversion (<a href='expr.static.cast'>[expr.static.cast]</a>,
<a href='expr.reinterpret.cast'>[expr.reinterpret.cast]</a>, <a href='expr.const.cast'>[expr.const.cast]</a>),
because the resulting prvalue would be of abstract class type (<a href='basic.lval'>[basic.lval]</a>)<a class='hidden_link' href='#class.abstract-3.sentence-2'>.</a></div> <div id='class.abstract-3.sentence-3' class='sentence'>However, pointers and references to abstract class types
can appear in such contexts<a class='hidden_link' href='#class.abstract-3.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.abstract-4'><div class='marginalizedparent'><a class='marginalized' href='#class.abstract-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L4138'>#</a></div><div id='class.abstract-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':function,virtual,pure'></a></span>A class is abstract if it contains or inherits at least one pure virtual
function for which the final overrider is pure virtual<a class='hidden_link' href='#class.abstract-4.sentence-1'>.</a></div> <div id='class.abstract-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.abstract-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> ab_circle <span class='operator'>:</span> <span class='keyword'>public</span> shape <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> radius;
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>void</span> rotate<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
  <span class='comment'>// <span class='tcode_in_codeblock'>ab_&shy;circle&#x200b;::&#x200b;draw()</span> is a pure virtual</span>
<span class='curlybracket'>}</span>;
</pre><div id='class.abstract-4.sentence-2' class='sentence'>Since <span class='texttt'>shape<span class='operator'>&#x200b;::&#x200b;</span>draw<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is a pure virtual function
<span class='texttt'>ab_&shy;circle<span class='operator'>&#x200b;::&#x200b;</span>draw<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is a pure virtual by default<a class='hidden_link' href='#class.abstract-4.sentence-2'>.</a></div> <div id='class.abstract-4.sentence-3' class='sentence'>The alternative
declaration,
<pre class='codeblock'>
<span class='keyword'>class</span> circle <span class='operator'>:</span> <span class='keyword'>public</span> shape <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> radius;
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>void</span> rotate<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
  <span class='keyword'>void</span> draw<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                  <span class='comment'>// a definition is required somewhere</span>
<span class='curlybracket'>}</span>;
</pre>
would make class <span class='texttt'>circle</span> non-abstract and a definition of
<span class='texttt'>circle<span class='operator'>&#x200b;::&#x200b;</span>draw<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> must be provided<a class='hidden_link' href='#class.abstract-4.sentence-3'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.abstract-5'><div class='marginalizedparent'><a class='marginalized' href='#class.abstract-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L4167'>#</a></div><div id='class.abstract-5.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.abstract-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.abstract-5.sentence-1' class='sentence'>An abstract class can be derived from a class that is not abstract, and
a pure virtual function may override a virtual function which is not
pure<a class='hidden_link' href='#class.abstract-5.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.abstract-6'><div class='marginalizedparent'><a class='marginalized' href='#class.abstract-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be443affbf06bfb14c2295311ed469896ae39d6c/source/classes.tex#L4174'>#</a></div><div id='class.abstract-6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':class,constructor_and_abstract'></a></span>Member functions can be called from a constructor (or destructor) of an
abstract class;
<span class='indexparent'><a class='index' id=':virtual_function_call,undefined_pure'></a></span>the effect of making a virtual call (<a href='#class.virtual'>[class.virtual]</a>) to a pure
virtual function directly or indirectly for the object being created (or
destroyed) from such a constructor (or destructor) is undefined<a class='hidden_link' href='#class.abstract-6.sentence-1'>.</a></div> </div></div></div></body></html>